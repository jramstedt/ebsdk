File: (none)
                  [000000]     1  is_hal = 1
                  [000000]     1  .SHOW MEB
File: ev6_defs.mar
                  [000000]     1  ;; Alpha assembly macro (-m) output created by DEFNR
                  [000000]     2  
                  [000000]     3  EV6__DTBM_DOUBLE_3_ENTRY = ^x100	
                  [000000]     4  EV6__DTBM_DOUBLE_4_ENTRY = ^x180	
                  [000000]     5  EV6__FEN_ENTRY = ^x200	
                  [000000]     6  EV6__UNALIGN_ENTRY = ^x280	
                  [000000]     7  EV6__DTBM_SINGLE_ENTRY = ^x300	
                  [000000]     8  EV6__DFAULT_ENTRY = ^x380	
                  [000000]     9  EV6__OPCDEC_ENTRY = ^x400	
                  [000000]    10  EV6__IACV_ENTRY = ^x480	
                  [000000]    11  EV6__MCHK_ENTRY = ^x500	
                  [000000]    12  EV6__ITB_MISS_ENTRY = ^x580	
                  [000000]    13  EV6__ARITH_ENTRY = ^x600	
                  [000000]    14  EV6__INTERRUPT_ENTRY = ^x680	
                  [000000]    15  EV6__MT_FPCR_ENTRY = ^x700	
                  [000000]    16  EV6__RESET_ENTRY = ^x780	
                  [000000]    17  EV6__CHIP_ID_EV6_PASS1 = ^x0	
                  [000000]    18  EV6__CHIP_ID_EV6_PASS2 = ^x1	
                  [000000]    19  EV6__CHIP_ID_EV6_PASS2_2 = ^x2	
                  [000000]    20  EV6__CHIP_ID_EV6_PASS2_3 = ^x3	
                  [000000]    21  EV6__CHIP_ID_EV6_PASS3 = ^x4	
                  [000000]    22  EV6__CHIP_ID_EV67_PASS1 = ^x8	
                  [000000]    23  EV6__CHIP_ID_EV68_PASS1 = ^x10	
                  [000000]    24  EV6__CHIP_ID_EV7_PASS1 = ^x18	
                  [000000]    25  EV6__HALT_ENTRY = ^x2000	
                  [000000]    26  EV6__CALL_PAL_00_ENTRY = ^x2000	
                  [000000]    27  EV6__CALL_PAL_01_ENTRY = ^x2040	
                  [000000]    28  EV6__CALL_PAL_02_ENTRY = ^x2080	
                  [000000]    29  EV6__CALL_PAL_03_ENTRY = ^x20c0	
                  [000000]    30  EV6__CALL_PAL_04_ENTRY = ^x2100	
                  [000000]    31  EV6__CALL_PAL_05_ENTRY = ^x2140	
                  [000000]    32  EV6__CALL_PAL_06_ENTRY = ^x2180	
                  [000000]    33  EV6__CALL_PAL_07_ENTRY = ^x21c0	
                  [000000]    34  EV6__CALL_PAL_08_ENTRY = ^x2200	
                  [000000]    35  EV6__CALL_PAL_09_ENTRY = ^x2240	
                  [000000]    36  EV6__CALL_PAL_0A_ENTRY = ^x2280	
                  [000000]    37  EV6__CALL_PAL_0B_ENTRY = ^x22c0	
                  [000000]    38  EV6__CALL_PAL_0C_ENTRY = ^x2300	
                  [000000]    39  EV6__CALL_PAL_0D_ENTRY = ^x2340	
                  [000000]    40  EV6__CALL_PAL_0E_ENTRY = ^x2380	
                  [000000]    41  EV6__CALL_PAL_0F_ENTRY = ^x23c0	
                  [000000]    42  EV6__CALL_PAL_10_ENTRY = ^x2400	
                  [000000]    43  EV6__CALL_PAL_11_ENTRY = ^x2440	
                  [000000]    44  EV6__CALL_PAL_12_ENTRY = ^x2480	
                  [000000]    45  EV6__CALL_PAL_13_ENTRY = ^x24c0	
                  [000000]    46  EV6__CALL_PAL_14_ENTRY = ^x2500	
                  [000000]    47  EV6__CALL_PAL_15_ENTRY = ^x2540	
                  [000000]    48  EV6__CALL_PAL_16_ENTRY = ^x2580	
                  [000000]    49  EV6__CALL_PAL_17_ENTRY = ^x25c0	
                  [000000]    50  EV6__CALL_PAL_18_ENTRY = ^x2600	
                  [000000]    51  EV6__CALL_PAL_19_ENTRY = ^x2640	
                  [000000]    52  EV6__CALL_PAL_1A_ENTRY = ^x2680	
                  [000000]    53  EV6__CALL_PAL_1B_ENTRY = ^x26c0	
                  [000000]    54  EV6__CALL_PAL_1C_ENTRY = ^x2700	
                  [000000]    55  EV6__CALL_PAL_1D_ENTRY = ^x2740	
                  [000000]    56  EV6__CALL_PAL_1E_ENTRY = ^x2780	
                  [000000]    57  EV6__CALL_PAL_1F_ENTRY = ^x27c0	
                  [000000]    58  EV6__CALL_PAL_20_ENTRY = ^x2800	
                  [000000]    59  EV6__CALL_PAL_21_ENTRY = ^x2840	
                  [000000]    60  EV6__CALL_PAL_22_ENTRY = ^x2880	
                  [000000]    61  EV6__CALL_PAL_23_ENTRY = ^x28c0	
                  [000000]    62  EV6__CALL_PAL_24_ENTRY = ^x2900	
                  [000000]    63  EV6__CALL_PAL_25_ENTRY = ^x2940	
                  [000000]    64  EV6__CALL_PAL_26_ENTRY = ^x2980	
                  [000000]    65  EV6__CALL_PAL_27_ENTRY = ^x29c0	
                  [000000]    66  EV6__CALL_PAL_28_ENTRY = ^x2a00	
                  [000000]    67  EV6__CALL_PAL_29_ENTRY = ^x2a40	
                  [000000]    68  EV6__CALL_PAL_2A_ENTRY = ^x2a80	
                  [000000]    69  EV6__CALL_PAL_2B_ENTRY = ^x2ac0	
                  [000000]    70  EV6__CALL_PAL_2C_ENTRY = ^x2b00	
                  [000000]    71  EV6__CALL_PAL_2D_ENTRY = ^x2b40	
                  [000000]    72  EV6__CALL_PAL_2E_ENTRY = ^x2b80	
                  [000000]    73  EV6__CALL_PAL_2F_ENTRY = ^x2bc0	
                  [000000]    74  EV6__CALL_PAL_30_ENTRY = ^x2c00	
                  [000000]    75  EV6__CALL_PAL_31_ENTRY = ^x2c40	
                  [000000]    76  EV6__CALL_PAL_32_ENTRY = ^x2c80	
                  [000000]    77  EV6__CALL_PAL_33_ENTRY = ^x2cc0	
                  [000000]    78  EV6__CALL_PAL_34_ENTRY = ^x2d00	
                  [000000]    79  EV6__CALL_PAL_35_ENTRY = ^x2d40	
                  [000000]    80  EV6__CALL_PAL_36_ENTRY = ^x2d80	
                  [000000]    81  EV6__CALL_PAL_37_ENTRY = ^x2dc0	
                  [000000]    82  EV6__CALL_PAL_38_ENTRY = ^x2e00	
                  [000000]    83  EV6__CALL_PAL_39_ENTRY = ^x2e40	
                  [000000]    84  EV6__CALL_PAL_3A_ENTRY = ^x2e80	
                  [000000]    85  EV6__CALL_PAL_3B_ENTRY = ^x2ec0	
                  [000000]    86  EV6__CALL_PAL_3C_ENTRY = ^x2f00	
                  [000000]    87  EV6__CALL_PAL_3D_ENTRY = ^x2f40	
                  [000000]    88  EV6__CALL_PAL_3E_ENTRY = ^x2f80	
                  [000000]    89  EV6__CALL_PAL_3F_ENTRY = ^x2fc0	
                  [000000]    90  EV6__CALL_PAL_80_ENTRY = ^x3000	
                  [000000]    91  EV6__CALL_PAL_81_ENTRY = ^x3040	
                  [000000]    92  EV6__CALL_PAL_82_ENTRY = ^x3080	
                  [000000]    93  EV6__CALL_PAL_83_ENTRY = ^x30c0	
                  [000000]    94  EV6__CALL_PAL_84_ENTRY = ^x3100	
                  [000000]    95  EV6__CALL_PAL_85_ENTRY = ^x3140	
                  [000000]    96  EV6__CALL_PAL_86_ENTRY = ^x3180	
                  [000000]    97  EV6__CALL_PAL_87_ENTRY = ^x31c0	
                  [000000]    98  EV6__CALL_PAL_88_ENTRY = ^x3200	
                  [000000]    99  EV6__CALL_PAL_89_ENTRY = ^x3240	
                  [000000]   100  EV6__CALL_PAL_8A_ENTRY = ^x3280	
                  [000000]   101  EV6__CALL_PAL_8B_ENTRY = ^x32c0	
                  [000000]   102  EV6__CALL_PAL_8C_ENTRY = ^x3300	
                  [000000]   103  EV6__CALL_PAL_8D_ENTRY = ^x3340	
                  [000000]   104  EV6__CALL_PAL_8E_ENTRY = ^x3380	
                  [000000]   105  EV6__CALL_PAL_8F_ENTRY = ^x33c0	
                  [000000]   106  EV6__CALL_PAL_90_ENTRY = ^x3400	
                  [000000]   107  EV6__CALL_PAL_91_ENTRY = ^x3440	
                  [000000]   108  EV6__CALL_PAL_92_ENTRY = ^x3480	
                  [000000]   109  EV6__CALL_PAL_93_ENTRY = ^x34c0	
                  [000000]   110  EV6__CALL_PAL_94_ENTRY = ^x3500	
                  [000000]   111  EV6__CALL_PAL_95_ENTRY = ^x3540	
                  [000000]   112  EV6__CALL_PAL_96_ENTRY = ^x3580	
                  [000000]   113  EV6__CALL_PAL_97_ENTRY = ^x35c0	
                  [000000]   114  EV6__CALL_PAL_98_ENTRY = ^x3600	
                  [000000]   115  EV6__CALL_PAL_99_ENTRY = ^x3640	
                  [000000]   116  EV6__CALL_PAL_9A_ENTRY = ^x3680	
                  [000000]   117  EV6__CALL_PAL_9B_ENTRY = ^x36c0	
                  [000000]   118  EV6__CALL_PAL_9C_ENTRY = ^x3700	
                  [000000]   119  EV6__CALL_PAL_9D_ENTRY = ^x3740	
                  [000000]   120  EV6__CALL_PAL_9E_ENTRY = ^x3780	
                  [000000]   121  EV6__CALL_PAL_9F_ENTRY = ^x37c0	
                  [000000]   122  EV6__CALL_PAL_A0_ENTRY = ^x3800	
                  [000000]   123  EV6__CALL_PAL_A1_ENTRY = ^x3840	
                  [000000]   124  EV6__CALL_PAL_A2_ENTRY = ^x3880	
                  [000000]   125  EV6__CALL_PAL_A3_ENTRY = ^x38c0	
                  [000000]   126  EV6__CALL_PAL_A4_ENTRY = ^x3900	
                  [000000]   127  EV6__CALL_PAL_A5_ENTRY = ^x3940	
                  [000000]   128  EV6__CALL_PAL_A6_ENTRY = ^x3980	
                  [000000]   129  EV6__CALL_PAL_A7_ENTRY = ^x39c0	
                  [000000]   130  EV6__CALL_PAL_A8_ENTRY = ^x3a00	
                  [000000]   131  EV6__CALL_PAL_A9_ENTRY = ^x3a40	
                  [000000]   132  EV6__CALL_PAL_AA_ENTRY = ^x3a80	
                  [000000]   133  EV6__CALL_PAL_AB_ENTRY = ^x3ac0	
                  [000000]   134  EV6__CALL_PAL_AC_ENTRY = ^x3b00	
                  [000000]   135  EV6__CALL_PAL_AD_ENTRY = ^x3b40	
                  [000000]   136  EV6__CALL_PAL_AE_ENTRY = ^x3b80	
                  [000000]   137  EV6__CALL_PAL_AF_ENTRY = ^x3bc0	
                  [000000]   138  EV6__CALL_PAL_B0_ENTRY = ^x3c00	
                  [000000]   139  EV6__CALL_PAL_B1_ENTRY = ^x3c40	
                  [000000]   140  EV6__CALL_PAL_B2_ENTRY = ^x3c80	
                  [000000]   141  EV6__CALL_PAL_B3_ENTRY = ^x3cc0	
                  [000000]   142  EV6__CALL_PAL_B4_ENTRY = ^x3d00	
                  [000000]   143  EV6__CALL_PAL_B5_ENTRY = ^x3d40	
                  [000000]   144  EV6__CALL_PAL_B6_ENTRY = ^x3d80	
                  [000000]   145  EV6__CALL_PAL_B7_ENTRY = ^x3dc0	
                  [000000]   146  EV6__CALL_PAL_B8_ENTRY = ^x3e00	
                  [000000]   147  EV6__CALL_PAL_B9_ENTRY = ^x3e40	
                  [000000]   148  EV6__CALL_PAL_BA_ENTRY = ^x3e80	
                  [000000]   149  EV6__CALL_PAL_BB_ENTRY = ^x3ec0	
                  [000000]   150  EV6__CALL_PAL_BC_ENTRY = ^x3f00	
                  [000000]   151  EV6__CALL_PAL_BD_ENTRY = ^x3f40	
                  [000000]   152  EV6__CALL_PAL_BE_ENTRY = ^x3f80	
                  [000000]   153  EV6__CALL_PAL_BF_ENTRY = ^x3fc0	
                  [000000]   154  
                  [000000]   155  EV6__CC = ^xc0	
                  [000000]   156  EV6__CC__COUNTER_BOT__S = ^x0	
                  [000000]   157  EV6__CC__COUNTER_BOT__V = ^x4	
                  [000000]   158  EV6__CC__COUNTER_BOT__M = ^xf	
                  [000000]   159  EV6__CC__COUNTER__S = ^x4	
                  [000000]   160  EV6__CC__COUNTER__V = ^x1c	
                  [000000]   161  EV6__CC__COUNTER__M = ^xfffffff	
                  [000000]   162  EV6__CC__OFFSET__S = ^x20	
                  [000000]   163  EV6__CC__OFFSET__V = ^x20	
                  [000000]   164  EV6__CC__OFFSET__M = ^xffffffff	
                  [000000]   165  
                  [000000]   166  EV6__CC_CTL = ^xc1	
                  [000000]   167  EV6__CC_CTL__RSV1__S = ^x0	
                  [000000]   168  EV6__CC_CTL__RSV1__V = ^x4	
                  [000000]   169  EV6__CC_CTL__RSV1__M = ^xf	
                  [000000]   170  EV6__CC_CTL__COUNTER__S = ^x4	
                  [000000]   171  EV6__CC_CTL__COUNTER__V = ^x1c	
                  [000000]   172  EV6__CC_CTL__COUNTER__M = ^xfffffff	
                  [000000]   173  EV6__CC_CTL__CC_ENA__S = ^x20	
                  [000000]   174  EV6__CC_CTL__CC_ENA__V = ^x1	
                  [000000]   175  EV6__CC_CTL__CC_ENA__M = ^x1	
                  [000000]   176  EV6__CC_CTL__RSV2__S = ^x21	
                  [000000]   177  EV6__CC_CTL__RSV2__V = ^x1f	
                  [000000]   178  EV6__CC_CTL__RSV2__M = ^x7fffffff	
                  [000000]   179  
                  [000000]   180  EV6__VA = ^xc2	
                  [000000]   181  EV6__VA__ADDR__S = ^x0	
                  [000000]   182  EV6__VA__ADDR__V = ^x40	
                  [000000]   183  EV6__VA__ADDR__M = ^xffffffffffffffff	
                  [000000]   184  
                  [000000]   185  EV6__VA_FORM = ^xc3	
                  [000000]   186  EV6__VA_FORM__RSV1__S = ^x0	
                  [000000]   187  EV6__VA_FORM__RSV1__V = ^x3	
                  [000000]   188  EV6__VA_FORM__RSV1__M = ^x7	
                  [000000]   189  EV6__VA_FORM__VA__S = ^x3	
                  [000000]   190  EV6__VA_FORM__VA__V = ^x1e	
                  [000000]   191  EV6__VA_FORM__VA__M = ^x3fffffff	
                  [000000]   192  EV6__VA_FORM__VPTB__S = ^x21	
                  [000000]   193  EV6__VA_FORM__VPTB__V = ^x1f	
                  [000000]   194  EV6__VA_FORM__VPTB__M = ^x7fffffff	
                  [000000]   195  
                  [000000]   196  EV6__VA_FORM_48 = ^xc3	
                  [000000]   197  EV6__VA_FORM_48__RSV1__S = ^x0	
                  [000000]   198  EV6__VA_FORM_48__RSV1__V = ^x3	
                  [000000]   199  EV6__VA_FORM_48__RSV1__M = ^x7	
                  [000000]   200  EV6__VA_FORM_48__VA__S = ^x3	
                  [000000]   201  EV6__VA_FORM_48__VA__V = ^x23	
                  [000000]   202  EV6__VA_FORM_48__VA__M = ^x7ffffffff	
                  [000000]   203  EV6__VA_FORM_48__VA_SEXT0__S = ^x26	
                  [000000]   204  EV6__VA_FORM_48__VA_SEXT0__V = ^x1	
                  [000000]   205  EV6__VA_FORM_48__VA_SEXT0__M = ^x1	
                  [000000]   206  EV6__VA_FORM_48__VA_SEXT1__S = ^x27	
                  [000000]   207  EV6__VA_FORM_48__VA_SEXT1__V = ^x1	
                  [000000]   208  EV6__VA_FORM_48__VA_SEXT1__M = ^x1	
                  [000000]   209  EV6__VA_FORM_48__VA_SEXT2__S = ^x28	
                  [000000]   210  EV6__VA_FORM_48__VA_SEXT2__V = ^x1	
                  [000000]   211  EV6__VA_FORM_48__VA_SEXT2__M = ^x1	
                  [000000]   212  EV6__VA_FORM_48__VA_SEXT3__S = ^x29	
                  [000000]   213  EV6__VA_FORM_48__VA_SEXT3__V = ^x1	
                  [000000]   214  EV6__VA_FORM_48__VA_SEXT3__M = ^x1	
                  [000000]   215  EV6__VA_FORM_48__VA_SEXT4__S = ^x2a	
                  [000000]   216  EV6__VA_FORM_48__VA_SEXT4__V = ^x1	
                  [000000]   217  EV6__VA_FORM_48__VA_SEXT4__M = ^x1	
                  [000000]   218  EV6__VA_FORM_48__VPTB__S = ^x2b	
                  [000000]   219  EV6__VA_FORM_48__VPTB__V = ^x15	
                  [000000]   220  EV6__VA_FORM_48__VPTB__M = ^x1fffff	
                  [000000]   221  
                  [000000]   222  EV6__VA_FORM_32 = ^xc3	
                  [000000]   223  EV6__VA_FORM_32__RSV1__S = ^x0	
                  [000000]   224  EV6__VA_FORM_32__RSV1__V = ^x3	
                  [000000]   225  EV6__VA_FORM_32__RSV1__M = ^x7	
                  [000000]   226  EV6__VA_FORM_32__VA__S = ^x3	
                  [000000]   227  EV6__VA_FORM_32__VA__V = ^x13	
                  [000000]   228  EV6__VA_FORM_32__VA__M = ^x7ffff	
                  [000000]   229  EV6__VA_FORM_32__RSV2__S = ^x16	
                  [000000]   230  EV6__VA_FORM_32__RSV2__V = ^x8	
                  [000000]   231  EV6__VA_FORM_32__RSV2__M = ^xff	
                  [000000]   232  EV6__VA_FORM_32__VPTB__S = ^x1e	
                  [000000]   233  EV6__VA_FORM_32__VPTB__V = ^x22	
                  [000000]   234  EV6__VA_FORM_32__VPTB__M = ^x3ffffffff	
                  [000000]   235  
                  [000000]   236  EV6__VA_CTL = ^xc4	
                  [000000]   237  EV6__VA_CTL__B_ENDIAN__S = ^x0	
                  [000000]   238  EV6__VA_CTL__B_ENDIAN__V = ^x1	
                  [000000]   239  EV6__VA_CTL__B_ENDIAN__M = ^x1	
                  [000000]   240  EV6__VA_CTL__VA_48__S = ^x1	
                  [000000]   241  EV6__VA_CTL__VA_48__V = ^x1	
                  [000000]   242  EV6__VA_CTL__VA_48__M = ^x1	
                  [000000]   243  EV6__VA_CTL__VA_FORM_32__S = ^x2	
                  [000000]   244  EV6__VA_CTL__VA_FORM_32__V = ^x1	
                  [000000]   245  EV6__VA_CTL__VA_FORM_32__M = ^x1	
                  [000000]   246  EV6__VA_CTL__RSV1__S = ^x3	
                  [000000]   247  EV6__VA_CTL__RSV1__V = ^x1b	
                  [000000]   248  EV6__VA_CTL__RSV1__M = ^x7ffffff	
                  [000000]   249  EV6__VA_CTL__VPTB__S = ^x1e	
                  [000000]   250  EV6__VA_CTL__VPTB__V = ^x22	
                  [000000]   251  EV6__VA_CTL__VPTB__M = ^x3ffffffff	
                  [000000]   252  
                  [000000]   253  EV6__ITB_TAG = ^x0	
                  [000000]   254  EV6__ITB_TAG__RSV1__S = ^x0	
                  [000000]   255  EV6__ITB_TAG__RSV1__V = ^xd	
                  [000000]   256  EV6__ITB_TAG__RSV1__M = ^x1fff	
                  [000000]   257  EV6__ITB_TAG__VA__S = ^xd	
                  [000000]   258  EV6__ITB_TAG__VA__V = ^x23	
                  [000000]   259  EV6__ITB_TAG__VA__M = ^x7ffffffff	
                  [000000]   260  EV6__ITB_TAG__RSV2__S = ^x30	
                  [000000]   261  EV6__ITB_TAG__RSV2__V = ^x10	
                  [000000]   262  EV6__ITB_TAG__RSV2__M = ^xffff	
                  [000000]   263  
                  [000000]   264  EV6__ITB_PTE = ^x1	
                  [000000]   265  EV6__ITB_PTE__RSV1__S = ^x0	
                  [000000]   266  EV6__ITB_PTE__RSV1__V = ^x4	
                  [000000]   267  EV6__ITB_PTE__RSV1__M = ^xf	
                  [000000]   268  EV6__ITB_PTE__ASM__S = ^x4	
                  [000000]   269  EV6__ITB_PTE__ASM__V = ^x1	
                  [000000]   270  EV6__ITB_PTE__ASM__M = ^x1	
                  [000000]   271  EV6__ITB_PTE__GH__S = ^x5	
                  [000000]   272  EV6__ITB_PTE__GH__V = ^x2	
                  [000000]   273  EV6__ITB_PTE__GH__M = ^x3	
                  [000000]   274  EV6__ITB_PTE__RSV2__S = ^x7	
                  [000000]   275  EV6__ITB_PTE__RSV2__V = ^x1	
                  [000000]   276  EV6__ITB_PTE__RSV2__M = ^x1	
                  [000000]   277  EV6__ITB_PTE__KRE__S = ^x8	
                  [000000]   278  EV6__ITB_PTE__KRE__V = ^x1	
                  [000000]   279  EV6__ITB_PTE__KRE__M = ^x1	
                  [000000]   280  EV6__ITB_PTE__ERE__S = ^x9	
                  [000000]   281  EV6__ITB_PTE__ERE__V = ^x1	
                  [000000]   282  EV6__ITB_PTE__ERE__M = ^x1	
                  [000000]   283  EV6__ITB_PTE__SRE__S = ^xa	
                  [000000]   284  EV6__ITB_PTE__SRE__V = ^x1	
                  [000000]   285  EV6__ITB_PTE__SRE__M = ^x1	
                  [000000]   286  EV6__ITB_PTE__URE__S = ^xb	
                  [000000]   287  EV6__ITB_PTE__URE__V = ^x1	
                  [000000]   288  EV6__ITB_PTE__URE__M = ^x1	
                  [000000]   289  EV6__ITB_PTE__RSV3__S = ^xc	
                  [000000]   290  EV6__ITB_PTE__RSV3__V = ^x1	
                  [000000]   291  EV6__ITB_PTE__RSV3__M = ^x1	
                  [000000]   292  EV6__ITB_PTE__PFN__S = ^xd	
                  [000000]   293  EV6__ITB_PTE__PFN__V = ^x1f	
                  [000000]   294  EV6__ITB_PTE__PFN__M = ^x7fffffff	
                  [000000]   295  EV6__ITB_PTE__RSV4__S = ^x2c	
                  [000000]   296  EV6__ITB_PTE__RSV4__V = ^x14	
                  [000000]   297  EV6__ITB_PTE__RSV4__M = ^xfffff	
                  [000000]   298  
                  [000000]   299  EV6__ITB_IAP = ^x2	
                  [000000]   300  EV6__ITB_IAP__RSV__S = ^x0	
                  [000000]   301  EV6__ITB_IAP__RSV__V = ^x40	
                  [000000]   302  EV6__ITB_IAP__RSV__M = ^xffffffffffffffff	
                  [000000]   303  
                  [000000]   304  EV6__ITB_IA = ^x3	
                  [000000]   305  EV6__ITB_IA__RSV__S = ^x0	
                  [000000]   306  EV6__ITB_IA__RSV__V = ^x40	
                  [000000]   307  EV6__ITB_IA__RSV__M = ^xffffffffffffffff	
                  [000000]   308  
                  [000000]   309  EV6__ITB_IS = ^x4	
                  [000000]   310  EV6__ITB_IS__RSV1__S = ^x0	
                  [000000]   311  EV6__ITB_IS__RSV1__V = ^xd	
                  [000000]   312  EV6__ITB_IS__RSV1__M = ^x1fff	
                  [000000]   313  EV6__ITB_IS__VA__S = ^xd	
                  [000000]   314  EV6__ITB_IS__VA__V = ^x23	
                  [000000]   315  EV6__ITB_IS__VA__M = ^x7ffffffff	
                  [000000]   316  EV6__ITB_IS__RSV2__S = ^x30	
                  [000000]   317  EV6__ITB_IS__RSV2__V = ^x10	
                  [000000]   318  EV6__ITB_IS__RSV2__M = ^xffff	
                  [000000]   319  
                  [000000]   320  EV6__EXC_ADDR = ^x6	
                  [000000]   321  EV6__EXC_ADDR__PAL__S = ^x0	
                  [000000]   322  EV6__EXC_ADDR__PAL__V = ^x1	
                  [000000]   323  EV6__EXC_ADDR__PAL__M = ^x1	
                  [000000]   324  EV6__EXC_ADDR__RSV__S = ^x1	
                  [000000]   325  EV6__EXC_ADDR__RSV__V = ^x1	
                  [000000]   326  EV6__EXC_ADDR__RSV__M = ^x1	
                  [000000]   327  EV6__EXC_ADDR__PC__S = ^x2	
                  [000000]   328  EV6__EXC_ADDR__PC__V = ^x2e	
                  [000000]   329  EV6__EXC_ADDR__PC__M = ^x3fffffffffff	
                  [000000]   330  EV6__EXC_ADDR__PC_SEXT0__S = ^x30	
                  [000000]   331  EV6__EXC_ADDR__PC_SEXT0__V = ^x1	
                  [000000]   332  EV6__EXC_ADDR__PC_SEXT0__M = ^x1	
                  [000000]   333  EV6__EXC_ADDR__PC_SEXT1__S = ^x31	
                  [000000]   334  EV6__EXC_ADDR__PC_SEXT1__V = ^x1	
                  [000000]   335  EV6__EXC_ADDR__PC_SEXT1__M = ^x1	
                  [000000]   336  EV6__EXC_ADDR__PC_SEXT2__S = ^x32	
                  [000000]   337  EV6__EXC_ADDR__PC_SEXT2__V = ^x1	
                  [000000]   338  EV6__EXC_ADDR__PC_SEXT2__M = ^x1	
                  [000000]   339  EV6__EXC_ADDR__PC_SEXT3__S = ^x33	
                  [000000]   340  EV6__EXC_ADDR__PC_SEXT3__V = ^x1	
                  [000000]   341  EV6__EXC_ADDR__PC_SEXT3__M = ^x1	
                  [000000]   342  EV6__EXC_ADDR__PC_SEXT4__S = ^x34	
                  [000000]   343  EV6__EXC_ADDR__PC_SEXT4__V = ^x1	
                  [000000]   344  EV6__EXC_ADDR__PC_SEXT4__M = ^x1	
                  [000000]   345  EV6__EXC_ADDR__PC_SEXT5__S = ^x35	
                  [000000]   346  EV6__EXC_ADDR__PC_SEXT5__V = ^x1	
                  [000000]   347  EV6__EXC_ADDR__PC_SEXT5__M = ^x1	
                  [000000]   348  EV6__EXC_ADDR__PC_SEXT6__S = ^x36	
                  [000000]   349  EV6__EXC_ADDR__PC_SEXT6__V = ^x1	
                  [000000]   350  EV6__EXC_ADDR__PC_SEXT6__M = ^x1	
                  [000000]   351  EV6__EXC_ADDR__PC_SEXT7__S = ^x37	
                  [000000]   352  EV6__EXC_ADDR__PC_SEXT7__V = ^x1	
                  [000000]   353  EV6__EXC_ADDR__PC_SEXT7__M = ^x1	
                  [000000]   354  EV6__EXC_ADDR__PC_SEXT8__S = ^x38	
                  [000000]   355  EV6__EXC_ADDR__PC_SEXT8__V = ^x1	
                  [000000]   356  EV6__EXC_ADDR__PC_SEXT8__M = ^x1	
                  [000000]   357  EV6__EXC_ADDR__PC_SEXT9__S = ^x39	
                  [000000]   358  EV6__EXC_ADDR__PC_SEXT9__V = ^x1	
                  [000000]   359  EV6__EXC_ADDR__PC_SEXT9__M = ^x1	
                  [000000]   360  EV6__EXC_ADDR__PC_SEXT10__S = ^x3a	
                  [000000]   361  EV6__EXC_ADDR__PC_SEXT10__V = ^x1	
                  [000000]   362  EV6__EXC_ADDR__PC_SEXT10__M = ^x1	
                  [000000]   363  EV6__EXC_ADDR__PC_SEXT11__S = ^x3b	
                  [000000]   364  EV6__EXC_ADDR__PC_SEXT11__V = ^x1	
                  [000000]   365  EV6__EXC_ADDR__PC_SEXT11__M = ^x1	
                  [000000]   366  EV6__EXC_ADDR__PC_SEXT12__S = ^x3c	
                  [000000]   367  EV6__EXC_ADDR__PC_SEXT12__V = ^x1	
                  [000000]   368  EV6__EXC_ADDR__PC_SEXT12__M = ^x1	
                  [000000]   369  EV6__EXC_ADDR__PC_SEXT13__S = ^x3d	
                  [000000]   370  EV6__EXC_ADDR__PC_SEXT13__V = ^x1	
                  [000000]   371  EV6__EXC_ADDR__PC_SEXT13__M = ^x1	
                  [000000]   372  EV6__EXC_ADDR__PC_SEXT14__S = ^x3e	
                  [000000]   373  EV6__EXC_ADDR__PC_SEXT14__V = ^x1	
                  [000000]   374  EV6__EXC_ADDR__PC_SEXT14__M = ^x1	
                  [000000]   375  EV6__EXC_ADDR__PC_SEXT15__S = ^x3f	
                  [000000]   376  EV6__EXC_ADDR__PC_SEXT15__V = ^x1	
                  [000000]   377  EV6__EXC_ADDR__PC_SEXT15__M = ^x1	
                  [000000]   378  
                  [000000]   379  EV6__IVA_FORM = ^x7	
                  [000000]   380  EV6__IVA_FORM__RSV1__S = ^x0	
                  [000000]   381  EV6__IVA_FORM__RSV1__V = ^x3	
                  [000000]   382  EV6__IVA_FORM__RSV1__M = ^x7	
                  [000000]   383  EV6__IVA_FORM__VA__S = ^x3	
                  [000000]   384  EV6__IVA_FORM__VA__V = ^x1e	
                  [000000]   385  EV6__IVA_FORM__VA__M = ^x3fffffff	
                  [000000]   386  EV6__IVA_FORM__VPTB__S = ^x21	
                  [000000]   387  EV6__IVA_FORM__VPTB__V = ^x1f	
                  [000000]   388  EV6__IVA_FORM__VPTB__M = ^x7fffffff	
                  [000000]   389  
                  [000000]   390  EV6__IVA_FORM_48 = ^x7	
                  [000000]   391  EV6__IVA_FORM_48__RSV1__S = ^x0	
                  [000000]   392  EV6__IVA_FORM_48__RSV1__V = ^x3	
                  [000000]   393  EV6__IVA_FORM_48__RSV1__M = ^x7	
                  [000000]   394  EV6__IVA_FORM_48__VA__S = ^x3	
                  [000000]   395  EV6__IVA_FORM_48__VA__V = ^x23	
                  [000000]   396  EV6__IVA_FORM_48__VA__M = ^x7ffffffff	
                  [000000]   397  EV6__IVA_FORM_48__VA_SEXT0__S = ^x26	
                  [000000]   398  EV6__IVA_FORM_48__VA_SEXT0__V = ^x1	
                  [000000]   399  EV6__IVA_FORM_48__VA_SEXT0__M = ^x1	
                  [000000]   400  EV6__IVA_FORM_48__VA_SEXT1__S = ^x27	
                  [000000]   401  EV6__IVA_FORM_48__VA_SEXT1__V = ^x1	
                  [000000]   402  EV6__IVA_FORM_48__VA_SEXT1__M = ^x1	
                  [000000]   403  EV6__IVA_FORM_48__VA_SEXT2__S = ^x28	
                  [000000]   404  EV6__IVA_FORM_48__VA_SEXT2__V = ^x1	
                  [000000]   405  EV6__IVA_FORM_48__VA_SEXT2__M = ^x1	
                  [000000]   406  EV6__IVA_FORM_48__VA_SEXT3__S = ^x29	
                  [000000]   407  EV6__IVA_FORM_48__VA_SEXT3__V = ^x1	
                  [000000]   408  EV6__IVA_FORM_48__VA_SEXT3__M = ^x1	
                  [000000]   409  EV6__IVA_FORM_48__VA_SEXT4__S = ^x2a	
                  [000000]   410  EV6__IVA_FORM_48__VA_SEXT4__V = ^x1	
                  [000000]   411  EV6__IVA_FORM_48__VA_SEXT4__M = ^x1	
                  [000000]   412  EV6__IVA_FORM_48__VPTB__S = ^x2b	
                  [000000]   413  EV6__IVA_FORM_48__VPTB__V = ^x15	
                  [000000]   414  EV6__IVA_FORM_48__VPTB__M = ^x1fffff	
                  [000000]   415  
                  [000000]   416  EV6__IVA_FORM_32 = ^x7	
                  [000000]   417  EV6__IVA_FORM_32__RSV1__S = ^x0	
                  [000000]   418  EV6__IVA_FORM_32__RSV1__V = ^x3	
                  [000000]   419  EV6__IVA_FORM_32__RSV1__M = ^x7	
                  [000000]   420  EV6__IVA_FORM_32__VA__S = ^x3	
                  [000000]   421  EV6__IVA_FORM_32__VA__V = ^x13	
                  [000000]   422  EV6__IVA_FORM_32__VA__M = ^x7ffff	
                  [000000]   423  EV6__IVA_FORM_32__RSV2__S = ^x16	
                  [000000]   424  EV6__IVA_FORM_32__RSV2__V = ^x8	
                  [000000]   425  EV6__IVA_FORM_32__RSV2__M = ^xff	
                  [000000]   426  EV6__IVA_FORM_32__VPTB__S = ^x1e	
                  [000000]   427  EV6__IVA_FORM_32__VPTB__V = ^x22	
                  [000000]   428  EV6__IVA_FORM_32__VPTB__M = ^x3ffffffff	
                  [000000]   429  
                  [000000]   430  EV6__PS = ^x9	
                  [000000]   431  EV6__PS__RSV0__S = ^x0	
                  [000000]   432  EV6__PS__RSV0__V = ^x3	
                  [000000]   433  EV6__PS__RSV0__M = ^x7	
                  [000000]   434  EV6__PS__CM__S = ^x3	
                  [000000]   435  EV6__PS__CM__V = ^x2	
                  [000000]   436  EV6__PS__CM__M = ^x3	
                  [000000]   437  EV6__PS__RSV1__S = ^x5	
                  [000000]   438  EV6__PS__RSV1__V = ^x8	
                  [000000]   439  EV6__PS__RSV1__M = ^xff	
                  [000000]   440  EV6__PS__ASTEN__S = ^xd	
                  [000000]   441  EV6__PS__ASTEN__V = ^x1	
                  [000000]   442  EV6__PS__ASTEN__M = ^x1	
                  [000000]   443  EV6__PS__SIEN__S = ^xe	
                  [000000]   444  EV6__PS__SIEN__V = ^xf	
                  [000000]   445  EV6__PS__SIEN__M = ^x7fff	
                  [000000]   446  EV6__PS__PCEN__S = ^x1d	
                  [000000]   447  EV6__PS__PCEN__V = ^x2	
                  [000000]   448  EV6__PS__PCEN__M = ^x3	
                  [000000]   449  EV6__PS__CREN__S = ^x1f	
                  [000000]   450  EV6__PS__CREN__V = ^x1	
                  [000000]   451  EV6__PS__CREN__M = ^x1	
                  [000000]   452  EV6__PS__SLEN__S = ^x20	
                  [000000]   453  EV6__PS__SLEN__V = ^x1	
                  [000000]   454  EV6__PS__SLEN__M = ^x1	
                  [000000]   455  EV6__PS__EIEN__S = ^x21	
                  [000000]   456  EV6__PS__EIEN__V = ^x6	
                  [000000]   457  EV6__PS__EIEN__M = ^x3f	
                  [000000]   458  EV6__PS__RSV2__S = ^x27	
                  [000000]   459  EV6__PS__RSV2__V = ^x19	
                  [000000]   460  EV6__PS__RSV2__M = ^x1ffffff	
                  [000000]   461  
                  [000000]   462  EV6__IER = ^xa	
                  [000000]   463  EV6__IER__RSV0__S = ^x0	
                  [000000]   464  EV6__IER__RSV0__V = ^x3	
                  [000000]   465  EV6__IER__RSV0__M = ^x7	
                  [000000]   466  EV6__IER__CM__S = ^x3	
                  [000000]   467  EV6__IER__CM__V = ^x2	
                  [000000]   468  EV6__IER__CM__M = ^x3	
                  [000000]   469  EV6__IER__RSV1__S = ^x5	
                  [000000]   470  EV6__IER__RSV1__V = ^x8	
                  [000000]   471  EV6__IER__RSV1__M = ^xff	
                  [000000]   472  EV6__IER__ASTEN__S = ^xd	
                  [000000]   473  EV6__IER__ASTEN__V = ^x1	
                  [000000]   474  EV6__IER__ASTEN__M = ^x1	
                  [000000]   475  EV6__IER__SIEN__S = ^xe	
                  [000000]   476  EV6__IER__SIEN__V = ^xf	
                  [000000]   477  EV6__IER__SIEN__M = ^x7fff	
                  [000000]   478  EV6__IER__PCEN__S = ^x1d	
                  [000000]   479  EV6__IER__PCEN__V = ^x2	
                  [000000]   480  EV6__IER__PCEN__M = ^x3	
                  [000000]   481  EV6__IER__CREN__S = ^x1f	
                  [000000]   482  EV6__IER__CREN__V = ^x1	
                  [000000]   483  EV6__IER__CREN__M = ^x1	
                  [000000]   484  EV6__IER__SLEN__S = ^x20	
                  [000000]   485  EV6__IER__SLEN__V = ^x1	
                  [000000]   486  EV6__IER__SLEN__M = ^x1	
                  [000000]   487  EV6__IER__EIEN__S = ^x21	
                  [000000]   488  EV6__IER__EIEN__V = ^x6	
                  [000000]   489  EV6__IER__EIEN__M = ^x3f	
                  [000000]   490  EV6__IER__RSV2__S = ^x27	
                  [000000]   491  EV6__IER__RSV2__V = ^x19	
                  [000000]   492  EV6__IER__RSV2__M = ^x1ffffff	
                  [000000]   493  
                  [000000]   494  EV6__IER_CM = ^xb	
                  [000000]   495  EV6__IER_CM__RSV0__S = ^x0	
                  [000000]   496  EV6__IER_CM__RSV0__V = ^x3	
                  [000000]   497  EV6__IER_CM__RSV0__M = ^x7	
                  [000000]   498  EV6__IER_CM__CM__S = ^x3	
                  [000000]   499  EV6__IER_CM__CM__V = ^x2	
                  [000000]   500  EV6__IER_CM__CM__M = ^x3	
                  [000000]   501  EV6__IER_CM__RSV1__S = ^x5	
                  [000000]   502  EV6__IER_CM__RSV1__V = ^x8	
                  [000000]   503  EV6__IER_CM__RSV1__M = ^xff	
                  [000000]   504  EV6__IER_CM__ASTEN__S = ^xd	
                  [000000]   505  EV6__IER_CM__ASTEN__V = ^x1	
                  [000000]   506  EV6__IER_CM__ASTEN__M = ^x1	
                  [000000]   507  EV6__IER_CM__SIEN__S = ^xe	
                  [000000]   508  EV6__IER_CM__SIEN__V = ^xf	
                  [000000]   509  EV6__IER_CM__SIEN__M = ^x7fff	
                  [000000]   510  EV6__IER_CM__PCEN__S = ^x1d	
                  [000000]   511  EV6__IER_CM__PCEN__V = ^x2	
                  [000000]   512  EV6__IER_CM__PCEN__M = ^x3	
                  [000000]   513  EV6__IER_CM__CREN__S = ^x1f	
                  [000000]   514  EV6__IER_CM__CREN__V = ^x1	
                  [000000]   515  EV6__IER_CM__CREN__M = ^x1	
                  [000000]   516  EV6__IER_CM__SLEN__S = ^x20	
                  [000000]   517  EV6__IER_CM__SLEN__V = ^x1	
                  [000000]   518  EV6__IER_CM__SLEN__M = ^x1	
                  [000000]   519  EV6__IER_CM__EIEN__S = ^x21	
                  [000000]   520  EV6__IER_CM__EIEN__V = ^x6	
                  [000000]   521  EV6__IER_CM__EIEN__M = ^x3f	
                  [000000]   522  EV6__IER_CM__RSV2__S = ^x27	
                  [000000]   523  EV6__IER_CM__RSV2__V = ^x19	
                  [000000]   524  EV6__IER_CM__RSV2__M = ^x1ffffff	
                  [000000]   525  
                  [000000]   526  EV6__SIRR = ^xc	
                  [000000]   527  EV6__SIRR__RSV1__S = ^x0	
                  [000000]   528  EV6__SIRR__RSV1__V = ^xe	
                  [000000]   529  EV6__SIRR__RSV1__M = ^x3fff	
                  [000000]   530  EV6__SIRR__SIR__S = ^xe	
                  [000000]   531  EV6__SIRR__SIR__V = ^xf	
                  [000000]   532  EV6__SIRR__SIR__M = ^x7fff	
                  [000000]   533  EV6__SIRR__RSV2__S = ^x1d	
                  [000000]   534  EV6__SIRR__RSV2__V = ^x23	
                  [000000]   535  EV6__SIRR__RSV2__M = ^x7ffffffff	
                  [000000]   536  
                  [000000]   537  EV6__ISUM = ^xd	
                  [000000]   538  EV6__ISUM__RSV0__S = ^x0	
                  [000000]   539  EV6__ISUM__RSV0__V = ^x3	
                  [000000]   540  EV6__ISUM__RSV0__M = ^x7	
                  [000000]   541  EV6__ISUM__ASTK__S = ^x3	
                  [000000]   542  EV6__ISUM__ASTK__V = ^x1	
                  [000000]   543  EV6__ISUM__ASTK__M = ^x1	
                  [000000]   544  EV6__ISUM__ASTE__S = ^x4	
                  [000000]   545  EV6__ISUM__ASTE__V = ^x1	
                  [000000]   546  EV6__ISUM__ASTE__M = ^x1	
                  [000000]   547  EV6__ISUM__RSV1__S = ^x5	
                  [000000]   548  EV6__ISUM__RSV1__V = ^x4	
                  [000000]   549  EV6__ISUM__RSV1__M = ^xf	
                  [000000]   550  EV6__ISUM__ASTS__S = ^x9	
                  [000000]   551  EV6__ISUM__ASTS__V = ^x1	
                  [000000]   552  EV6__ISUM__ASTS__M = ^x1	
                  [000000]   553  EV6__ISUM__ASTU__S = ^xa	
                  [000000]   554  EV6__ISUM__ASTU__V = ^x1	
                  [000000]   555  EV6__ISUM__ASTU__M = ^x1	
                  [000000]   556  EV6__ISUM__RSV2__S = ^xb	
                  [000000]   557  EV6__ISUM__RSV2__V = ^x3	
                  [000000]   558  EV6__ISUM__RSV2__M = ^x7	
                  [000000]   559  EV6__ISUM__SI__S = ^xe	
                  [000000]   560  EV6__ISUM__SI__V = ^xf	
                  [000000]   561  EV6__ISUM__SI__M = ^x7fff	
                  [000000]   562  EV6__ISUM__PC__S = ^x1d	
                  [000000]   563  EV6__ISUM__PC__V = ^x2	
                  [000000]   564  EV6__ISUM__PC__M = ^x3	
                  [000000]   565  EV6__ISUM__CR__S = ^x1f	
                  [000000]   566  EV6__ISUM__CR__V = ^x1	
                  [000000]   567  EV6__ISUM__CR__M = ^x1	
                  [000000]   568  EV6__ISUM__SL__S = ^x20	
                  [000000]   569  EV6__ISUM__SL__V = ^x1	
                  [000000]   570  EV6__ISUM__SL__M = ^x1	
                  [000000]   571  EV6__ISUM__EI__S = ^x21	
                  [000000]   572  EV6__ISUM__EI__V = ^x6	
                  [000000]   573  EV6__ISUM__EI__M = ^x3f	
                  [000000]   574  EV6__ISUM__RSV3__S = ^x27	
                  [000000]   575  EV6__ISUM__RSV3__V = ^x19	
                  [000000]   576  EV6__ISUM__RSV3__M = ^x1ffffff	
                  [000000]   577  
                  [000000]   578  EV6__HW_INT_CLR = ^xe	
                  [000000]   579  EV6__HW_INT_CLR__RSV1__S = ^x0	
                  [000000]   580  EV6__HW_INT_CLR__RSV1__V = ^x1a	
                  [000000]   581  EV6__HW_INT_CLR__RSV1__M = ^x3ffffff	
                  [000000]   582  EV6__HW_INT_CLR__FBTP__S = ^x1a	
                  [000000]   583  EV6__HW_INT_CLR__FBTP__V = ^x1	
                  [000000]   584  EV6__HW_INT_CLR__FBTP__M = ^x1	
                  [000000]   585  EV6__HW_INT_CLR__FBDP__S = ^x1b	
                  [000000]   586  EV6__HW_INT_CLR__FBDP__V = ^x1	
                  [000000]   587  EV6__HW_INT_CLR__FBDP__M = ^x1	
                  [000000]   588  EV6__HW_INT_CLR__MCHK_D__S = ^x1c	
                  [000000]   589  EV6__HW_INT_CLR__MCHK_D__V = ^x1	
                  [000000]   590  EV6__HW_INT_CLR__MCHK_D__M = ^x1	
                  [000000]   591  EV6__HW_INT_CLR__PC__S = ^x1d	
                  [000000]   592  EV6__HW_INT_CLR__PC__V = ^x2	
                  [000000]   593  EV6__HW_INT_CLR__PC__M = ^x3	
                  [000000]   594  EV6__HW_INT_CLR__CR__S = ^x1f	
                  [000000]   595  EV6__HW_INT_CLR__CR__V = ^x1	
                  [000000]   596  EV6__HW_INT_CLR__CR__M = ^x1	
                  [000000]   597  EV6__HW_INT_CLR__SL__S = ^x20	
                  [000000]   598  EV6__HW_INT_CLR__SL__V = ^x1	
                  [000000]   599  EV6__HW_INT_CLR__SL__M = ^x1	
                  [000000]   600  EV6__HW_INT_CLR__RSV2__S = ^x21	
                  [000000]   601  EV6__HW_INT_CLR__RSV2__V = ^x1f	
                  [000000]   602  EV6__HW_INT_CLR__RSV2__M = ^x7fffffff	
                  [000000]   603  
                  [000000]   604  EV6__EXC_SUM = ^xf	
                  [000000]   605  EV6__EXC_SUM__SWC__S = ^x0	
                  [000000]   606  EV6__EXC_SUM__SWC__V = ^x1	
                  [000000]   607  EV6__EXC_SUM__SWC__M = ^x1	
                  [000000]   608  EV6__EXC_SUM__INV__S = ^x1	
                  [000000]   609  EV6__EXC_SUM__INV__V = ^x1	
                  [000000]   610  EV6__EXC_SUM__INV__M = ^x1	
                  [000000]   611  EV6__EXC_SUM__DZE__S = ^x2	
                  [000000]   612  EV6__EXC_SUM__DZE__V = ^x1	
                  [000000]   613  EV6__EXC_SUM__DZE__M = ^x1	
                  [000000]   614  EV6__EXC_SUM__FOV__S = ^x3	
                  [000000]   615  EV6__EXC_SUM__FOV__V = ^x1	
                  [000000]   616  EV6__EXC_SUM__FOV__M = ^x1	
                  [000000]   617  EV6__EXC_SUM__UNF__S = ^x4	
                  [000000]   618  EV6__EXC_SUM__UNF__V = ^x1	
                  [000000]   619  EV6__EXC_SUM__UNF__M = ^x1	
                  [000000]   620  EV6__EXC_SUM__INE__S = ^x5	
                  [000000]   621  EV6__EXC_SUM__INE__V = ^x1	
                  [000000]   622  EV6__EXC_SUM__INE__M = ^x1	
                  [000000]   623  EV6__EXC_SUM__IOV__S = ^x6	
                  [000000]   624  EV6__EXC_SUM__IOV__V = ^x1	
                  [000000]   625  EV6__EXC_SUM__IOV__M = ^x1	
                  [000000]   626  EV6__EXC_SUM__INT__S = ^x7	
                  [000000]   627  EV6__EXC_SUM__INT__V = ^x1	
                  [000000]   628  EV6__EXC_SUM__INT__M = ^x1	
                  [000000]   629  EV6__EXC_SUM__REG__S = ^x8	
                  [000000]   630  EV6__EXC_SUM__REG__V = ^x5	
                  [000000]   631  EV6__EXC_SUM__REG__M = ^x1f	
                  [000000]   632  EV6__EXC_SUM__BAD_IVA__S = ^xd	
                  [000000]   633  EV6__EXC_SUM__BAD_IVA__V = ^x1	
                  [000000]   634  EV6__EXC_SUM__BAD_IVA__M = ^x1	
                  [000000]   635  EV6__EXC_SUM__RSV1__S = ^xe	
                  [000000]   636  EV6__EXC_SUM__RSV1__V = ^x1b	
                  [000000]   637  EV6__EXC_SUM__RSV1__M = ^x7ffffff	
                  [000000]   638  EV6__EXC_SUM__PC_OVFL__S = ^x29	
                  [000000]   639  EV6__EXC_SUM__PC_OVFL__V = ^x1	
                  [000000]   640  EV6__EXC_SUM__PC_OVFL__M = ^x1	
                  [000000]   641  EV6__EXC_SUM__SET_INV__S = ^x2a	
                  [000000]   642  EV6__EXC_SUM__SET_INV__V = ^x1	
                  [000000]   643  EV6__EXC_SUM__SET_INV__M = ^x1	
                  [000000]   644  EV6__EXC_SUM__SET_DZE__S = ^x2b	
                  [000000]   645  EV6__EXC_SUM__SET_DZE__V = ^x1	
                  [000000]   646  EV6__EXC_SUM__SET_DZE__M = ^x1	
                  [000000]   647  EV6__EXC_SUM__SET_FOV__S = ^x2c	
                  [000000]   648  EV6__EXC_SUM__SET_FOV__V = ^x1	
                  [000000]   649  EV6__EXC_SUM__SET_FOV__M = ^x1	
                  [000000]   650  EV6__EXC_SUM__SET_UNF__S = ^x2d	
                  [000000]   651  EV6__EXC_SUM__SET_UNF__V = ^x1	
                  [000000]   652  EV6__EXC_SUM__SET_UNF__M = ^x1	
                  [000000]   653  EV6__EXC_SUM__SET_INE__S = ^x2e	
                  [000000]   654  EV6__EXC_SUM__SET_INE__V = ^x1	
                  [000000]   655  EV6__EXC_SUM__SET_INE__M = ^x1	
                  [000000]   656  EV6__EXC_SUM__SET_IOV__S = ^x2f	
                  [000000]   657  EV6__EXC_SUM__SET_IOV__V = ^x1	
                  [000000]   658  EV6__EXC_SUM__SET_IOV__M = ^x1	
                  [000000]   659  EV6__EXC_SUM__SEXT0__S = ^x30	
                  [000000]   660  EV6__EXC_SUM__SEXT0__V = ^x1	
                  [000000]   661  EV6__EXC_SUM__SEXT0__M = ^x1	
                  [000000]   662  EV6__EXC_SUM__SEXT1__S = ^x31	
                  [000000]   663  EV6__EXC_SUM__SEXT1__V = ^x1	
                  [000000]   664  EV6__EXC_SUM__SEXT1__M = ^x1	
                  [000000]   665  EV6__EXC_SUM__SEXT2__S = ^x32	
                  [000000]   666  EV6__EXC_SUM__SEXT2__V = ^x1	
                  [000000]   667  EV6__EXC_SUM__SEXT2__M = ^x1	
                  [000000]   668  EV6__EXC_SUM__SEXT3__S = ^x33	
                  [000000]   669  EV6__EXC_SUM__SEXT3__V = ^x1	
                  [000000]   670  EV6__EXC_SUM__SEXT3__M = ^x1	
                  [000000]   671  EV6__EXC_SUM__SEXT4__S = ^x34	
                  [000000]   672  EV6__EXC_SUM__SEXT4__V = ^x1	
                  [000000]   673  EV6__EXC_SUM__SEXT4__M = ^x1	
                  [000000]   674  EV6__EXC_SUM__SEXT5__S = ^x35	
                  [000000]   675  EV6__EXC_SUM__SEXT5__V = ^x1	
                  [000000]   676  EV6__EXC_SUM__SEXT5__M = ^x1	
                  [000000]   677  EV6__EXC_SUM__SEXT6__S = ^x36	
                  [000000]   678  EV6__EXC_SUM__SEXT6__V = ^x1	
                  [000000]   679  EV6__EXC_SUM__SEXT6__M = ^x1	
                  [000000]   680  EV6__EXC_SUM__SEXT7__S = ^x37	
                  [000000]   681  EV6__EXC_SUM__SEXT7__V = ^x1	
                  [000000]   682  EV6__EXC_SUM__SEXT7__M = ^x1	
                  [000000]   683  EV6__EXC_SUM__SEXT8__S = ^x38	
                  [000000]   684  EV6__EXC_SUM__SEXT8__V = ^x1	
                  [000000]   685  EV6__EXC_SUM__SEXT8__M = ^x1	
                  [000000]   686  EV6__EXC_SUM__SEXT9__S = ^x39	
                  [000000]   687  EV6__EXC_SUM__SEXT9__V = ^x1	
                  [000000]   688  EV6__EXC_SUM__SEXT9__M = ^x1	
                  [000000]   689  EV6__EXC_SUM__SEXT10__S = ^x3a	
                  [000000]   690  EV6__EXC_SUM__SEXT10__V = ^x1	
                  [000000]   691  EV6__EXC_SUM__SEXT10__M = ^x1	
                  [000000]   692  EV6__EXC_SUM__SEXT11__S = ^x3b	
                  [000000]   693  EV6__EXC_SUM__SEXT11__V = ^x1	
                  [000000]   694  EV6__EXC_SUM__SEXT11__M = ^x1	
                  [000000]   695  EV6__EXC_SUM__SEXT12__S = ^x3c	
                  [000000]   696  EV6__EXC_SUM__SEXT12__V = ^x1	
                  [000000]   697  EV6__EXC_SUM__SEXT12__M = ^x1	
                  [000000]   698  EV6__EXC_SUM__SEXT13__S = ^x3d	
                  [000000]   699  EV6__EXC_SUM__SEXT13__V = ^x1	
                  [000000]   700  EV6__EXC_SUM__SEXT13__M = ^x1	
                  [000000]   701  EV6__EXC_SUM__SEXT14__S = ^x3e	
                  [000000]   702  EV6__EXC_SUM__SEXT14__V = ^x1	
                  [000000]   703  EV6__EXC_SUM__SEXT14__M = ^x1	
                  [000000]   704  EV6__EXC_SUM__SEXT15__S = ^x3f	
                  [000000]   705  EV6__EXC_SUM__SEXT15__V = ^x1	
                  [000000]   706  EV6__EXC_SUM__SEXT15__M = ^x1	
                  [000000]   707  
                  [000000]   708  EV6__PAL_BASE = ^x10	
                  [000000]   709  EV6__PAL_BASE__RSV1__S = ^x0	
                  [000000]   710  EV6__PAL_BASE__RSV1__V = ^xf	
                  [000000]   711  EV6__PAL_BASE__RSV1__M = ^x7fff	
                  [000000]   712  EV6__PAL_BASE__PAL_BASE__S = ^xf	
                  [000000]   713  EV6__PAL_BASE__PAL_BASE__V = ^x1d	
                  [000000]   714  EV6__PAL_BASE__PAL_BASE__M = ^x1fffffff	
                  [000000]   715  EV6__PAL_BASE__RSV2__S = ^x2c	
                  [000000]   716  EV6__PAL_BASE__RSV2__V = ^x14	
                  [000000]   717  EV6__PAL_BASE__RSV2__M = ^xfffff	
                  [000000]   718  
                  [000000]   719  EV6__I_CTL = ^x11	
                  [000000]   720  EV6__I_CTL__SPCE__S = ^x0	
                  [000000]   721  EV6__I_CTL__SPCE__V = ^x1	
                  [000000]   722  EV6__I_CTL__SPCE__M = ^x1	
                  [000000]   723  EV6__I_CTL__IC_EN__S = ^x1	
                  [000000]   724  EV6__I_CTL__IC_EN__V = ^x2	
                  [000000]   725  EV6__I_CTL__IC_EN__M = ^x3	
                  [000000]   726  EV6__I_CTL__SPE__S = ^x3	
                  [000000]   727  EV6__I_CTL__SPE__V = ^x3	
                  [000000]   728  EV6__I_CTL__SPE__M = ^x7	
                  [000000]   729  EV6__I_CTL__SDE__S = ^x6	
                  [000000]   730  EV6__I_CTL__SDE__V = ^x2	
                  [000000]   731  EV6__I_CTL__SDE__M = ^x3	
                  [000000]   732  EV6__I_CTL__SBE__S = ^x8	
                  [000000]   733  EV6__I_CTL__SBE__V = ^x2	
                  [000000]   734  EV6__I_CTL__SBE__M = ^x3	
                  [000000]   735  EV6__I_CTL__BP_MODE__S = ^xa	
                  [000000]   736  EV6__I_CTL__BP_MODE__V = ^x2	
                  [000000]   737  EV6__I_CTL__BP_MODE__M = ^x3	
                  [000000]   738  EV6__I_CTL__HWE__S = ^xc	
                  [000000]   739  EV6__I_CTL__HWE__V = ^x1	
                  [000000]   740  EV6__I_CTL__HWE__M = ^x1	
                  [000000]   741  EV6__I_CTL__SL_XMIT__S = ^xd	
                  [000000]   742  EV6__I_CTL__SL_XMIT__V = ^x1	
                  [000000]   743  EV6__I_CTL__SL_XMIT__M = ^x1	
                  [000000]   744  EV6__I_CTL__SL_RCV__S = ^xe	
                  [000000]   745  EV6__I_CTL__SL_RCV__V = ^x1	
                  [000000]   746  EV6__I_CTL__SL_RCV__M = ^x1	
                  [000000]   747  EV6__I_CTL__VA_48__S = ^xf	
                  [000000]   748  EV6__I_CTL__VA_48__V = ^x1	
                  [000000]   749  EV6__I_CTL__VA_48__M = ^x1	
                  [000000]   750  EV6__I_CTL__VA_FORM_32__S = ^x10	
                  [000000]   751  EV6__I_CTL__VA_FORM_32__V = ^x1	
                  [000000]   752  EV6__I_CTL__VA_FORM_32__M = ^x1	
                  [000000]   753  EV6__I_CTL__SINGLE_ISSUE__S = ^x11	
                  [000000]   754  EV6__I_CTL__SINGLE_ISSUE__V = ^x1	
                  [000000]   755  EV6__I_CTL__SINGLE_ISSUE__M = ^x1	
                  [000000]   756  EV6__I_CTL__PCT0_EN__S = ^x12	
                  [000000]   757  EV6__I_CTL__PCT0_EN__V = ^x1	
                  [000000]   758  EV6__I_CTL__PCT0_EN__M = ^x1	
                  [000000]   759  EV6__I_CTL__PCT1_EN__S = ^x13	
                  [000000]   760  EV6__I_CTL__PCT1_EN__V = ^x1	
                  [000000]   761  EV6__I_CTL__PCT1_EN__M = ^x1	
                  [000000]   762  EV6__I_CTL__CALL_PAL_R23__S = ^x14	
                  [000000]   763  EV6__I_CTL__CALL_PAL_R23__V = ^x1	
                  [000000]   764  EV6__I_CTL__CALL_PAL_R23__M = ^x1	
                  [000000]   765  EV6__I_CTL__MCHK_EN__S = ^x15	
                  [000000]   766  EV6__I_CTL__MCHK_EN__V = ^x1	
                  [000000]   767  EV6__I_CTL__MCHK_EN__M = ^x1	
                  [000000]   768  EV6__I_CTL__TB_MB_EN__S = ^x16	
                  [000000]   769  EV6__I_CTL__TB_MB_EN__V = ^x1	
                  [000000]   770  EV6__I_CTL__TB_MB_EN__M = ^x1	
                  [000000]   771  EV6__I_CTL__BIST_FAIL__S = ^x17	
                  [000000]   772  EV6__I_CTL__BIST_FAIL__V = ^x1	
                  [000000]   773  EV6__I_CTL__BIST_FAIL__M = ^x1	
                  [000000]   774  EV6__I_CTL__CHIP_ID__S = ^x18	
                  [000000]   775  EV6__I_CTL__CHIP_ID__V = ^x6	
                  [000000]   776  EV6__I_CTL__CHIP_ID__M = ^x3f	
                  [000000]   777  EV6__I_CTL__VPTB__S = ^x1e	
                  [000000]   778  EV6__I_CTL__VPTB__V = ^x12	
                  [000000]   779  EV6__I_CTL__VPTB__M = ^x3ffff	
                  [000000]   780  EV6__I_CTL__VPTB_SEXT0__S = ^x30	
                  [000000]   781  EV6__I_CTL__VPTB_SEXT0__V = ^x1	
                  [000000]   782  EV6__I_CTL__VPTB_SEXT0__M = ^x1	
                  [000000]   783  EV6__I_CTL__VPTB_SEXT1__S = ^x31	
                  [000000]   784  EV6__I_CTL__VPTB_SEXT1__V = ^x1	
                  [000000]   785  EV6__I_CTL__VPTB_SEXT1__M = ^x1	
                  [000000]   786  EV6__I_CTL__VPTB_SEXT2__S = ^x32	
                  [000000]   787  EV6__I_CTL__VPTB_SEXT2__V = ^x1	
                  [000000]   788  EV6__I_CTL__VPTB_SEXT2__M = ^x1	
                  [000000]   789  EV6__I_CTL__VPTB_SEXT3__S = ^x33	
                  [000000]   790  EV6__I_CTL__VPTB_SEXT3__V = ^x1	
                  [000000]   791  EV6__I_CTL__VPTB_SEXT3__M = ^x1	
                  [000000]   792  EV6__I_CTL__VPTB_SEXT4__S = ^x34	
                  [000000]   793  EV6__I_CTL__VPTB_SEXT4__V = ^x1	
                  [000000]   794  EV6__I_CTL__VPTB_SEXT4__M = ^x1	
                  [000000]   795  EV6__I_CTL__VPTB_SEXT5__S = ^x35	
                  [000000]   796  EV6__I_CTL__VPTB_SEXT5__V = ^x1	
                  [000000]   797  EV6__I_CTL__VPTB_SEXT5__M = ^x1	
                  [000000]   798  EV6__I_CTL__VPTB_SEXT6__S = ^x36	
                  [000000]   799  EV6__I_CTL__VPTB_SEXT6__V = ^x1	
                  [000000]   800  EV6__I_CTL__VPTB_SEXT6__M = ^x1	
                  [000000]   801  EV6__I_CTL__VPTB_SEXT7__S = ^x37	
                  [000000]   802  EV6__I_CTL__VPTB_SEXT7__V = ^x1	
                  [000000]   803  EV6__I_CTL__VPTB_SEXT7__M = ^x1	
                  [000000]   804  EV6__I_CTL__VPTB_SEXT8__S = ^x38	
                  [000000]   805  EV6__I_CTL__VPTB_SEXT8__V = ^x1	
                  [000000]   806  EV6__I_CTL__VPTB_SEXT8__M = ^x1	
                  [000000]   807  EV6__I_CTL__VPTB_SEXT9__S = ^x39	
                  [000000]   808  EV6__I_CTL__VPTB_SEXT9__V = ^x1	
                  [000000]   809  EV6__I_CTL__VPTB_SEXT9__M = ^x1	
                  [000000]   810  EV6__I_CTL__VPTB_SEXT10__S = ^x3a	
                  [000000]   811  EV6__I_CTL__VPTB_SEXT10__V = ^x1	
                  [000000]   812  EV6__I_CTL__VPTB_SEXT10__M = ^x1	
                  [000000]   813  EV6__I_CTL__VPTB_SEXT11__S = ^x3b	
                  [000000]   814  EV6__I_CTL__VPTB_SEXT11__V = ^x1	
                  [000000]   815  EV6__I_CTL__VPTB_SEXT11__M = ^x1	
                  [000000]   816  EV6__I_CTL__VPTB_SEXT12__S = ^x3c	
                  [000000]   817  EV6__I_CTL__VPTB_SEXT12__V = ^x1	
                  [000000]   818  EV6__I_CTL__VPTB_SEXT12__M = ^x1	
                  [000000]   819  EV6__I_CTL__VPTB_SEXT13__S = ^x3d	
                  [000000]   820  EV6__I_CTL__VPTB_SEXT13__V = ^x1	
                  [000000]   821  EV6__I_CTL__VPTB_SEXT13__M = ^x1	
                  [000000]   822  EV6__I_CTL__VPTB_SEXT14__S = ^x3e	
                  [000000]   823  EV6__I_CTL__VPTB_SEXT14__V = ^x1	
                  [000000]   824  EV6__I_CTL__VPTB_SEXT14__M = ^x1	
                  [000000]   825  EV6__I_CTL__VPTB_SEXT15__S = ^x3f	
                  [000000]   826  EV6__I_CTL__VPTB_SEXT15__V = ^x1	
                  [000000]   827  EV6__I_CTL__VPTB_SEXT15__M = ^x1	
                  [000000]   828  
                  [000000]   829  EV6__IC_FLUSH_ASM = ^x12	
                  [000000]   830  EV6__IC_FLUSH_ASM__RSV__S = ^x0	
                  [000000]   831  EV6__IC_FLUSH_ASM__RSV__V = ^x40	
                  [000000]   832  EV6__IC_FLUSH_ASM__RSV__M = ^xffffffffffffffff	
                  [000000]   833  
                  [000000]   834  EV6__IC_FLUSH = ^x13	
                  [000000]   835  EV6__IC_FLUSH__RSV__S = ^x0	
                  [000000]   836  EV6__IC_FLUSH__RSV__V = ^x40	
                  [000000]   837  EV6__IC_FLUSH__RSV__M = ^xffffffffffffffff	
                  [000000]   838  
                  [000000]   839  EV6__PCTR_CTL = ^x14	
                  [000000]   840  EV6__PCTR_CTL__TAK__S = ^x0	
                  [000000]   841  EV6__PCTR_CTL__TAK__V = ^x1	
                  [000000]   842  EV6__PCTR_CTL__TAK__M = ^x1	
                  [000000]   843  EV6__PCTR_CTL__VAL__S = ^x1	
                  [000000]   844  EV6__PCTR_CTL__VAL__V = ^x1	
                  [000000]   845  EV6__PCTR_CTL__VAL__M = ^x1	
                  [000000]   846  EV6__PCTR_CTL__SL1__S = ^x2	
                  [000000]   847  EV6__PCTR_CTL__SL1__V = ^x2	
                  [000000]   848  EV6__PCTR_CTL__SL1__M = ^x3	
                  [000000]   849  EV6__PCTR_CTL__SL0__S = ^x4	
                  [000000]   850  EV6__PCTR_CTL__SL0__V = ^x1	
                  [000000]   851  EV6__PCTR_CTL__SL0__M = ^x1	
                  [000000]   852  EV6__PCTR_CTL__RSV1__S = ^x5	
                  [000000]   853  EV6__PCTR_CTL__RSV1__V = ^x1	
                  [000000]   854  EV6__PCTR_CTL__RSV1__M = ^x1	
                  [000000]   855  EV6__PCTR_CTL__PCTR1__S = ^x6	
                  [000000]   856  EV6__PCTR_CTL__PCTR1__V = ^x14	
                  [000000]   857  EV6__PCTR_CTL__PCTR1__M = ^xfffff	
                  [000000]   858  EV6__PCTR_CTL__RSV2__S = ^x1a	
                  [000000]   859  EV6__PCTR_CTL__RSV2__V = ^x2	
                  [000000]   860  EV6__PCTR_CTL__RSV2__M = ^x3	
                  [000000]   861  EV6__PCTR_CTL__PCTR0__S = ^x1c	
                  [000000]   862  EV6__PCTR_CTL__PCTR0__V = ^x14	
                  [000000]   863  EV6__PCTR_CTL__PCTR0__M = ^xfffff	
                  [000000]   864  EV6__PCTR_CTL__RSV3__S = ^x30	
                  [000000]   865  EV6__PCTR_CTL__RSV3__V = ^x10	
                  [000000]   866  EV6__PCTR_CTL__RSV3__M = ^xffff	
                  [000000]   867  
                  [000000]   868  EV6__CLR_MAP = ^x15	
                  [000000]   869  EV6__CLR_MAP__RSV__S = ^x0	
                  [000000]   870  EV6__CLR_MAP__RSV__V = ^x40	
                  [000000]   871  EV6__CLR_MAP__RSV__M = ^xffffffffffffffff	
                  [000000]   872  
                  [000000]   873  EV6__I_STAT = ^x16	
                  [000000]   874  EV6__I_STAT__RSV1__S = ^x0	
                  [000000]   875  EV6__I_STAT__RSV1__V = ^x1d	
                  [000000]   876  EV6__I_STAT__RSV1__M = ^x1fffffff	
                  [000000]   877  EV6__I_STAT__PAR__S = ^x1d	
                  [000000]   878  EV6__I_STAT__PAR__V = ^x1	
                  [000000]   879  EV6__I_STAT__PAR__M = ^x1	
                  [000000]   880  EV6__I_STAT__OVR__S = ^x1e	
                  [000000]   881  EV6__I_STAT__OVR__V = ^x3	
                  [000000]   882  EV6__I_STAT__OVR__M = ^x7	
                  [000000]   883  EV6__I_STAT__ICM__S = ^x21	
                  [000000]   884  EV6__I_STAT__ICM__V = ^x1	
                  [000000]   885  EV6__I_STAT__ICM__M = ^x1	
                  [000000]   886  EV6__I_STAT__TRAP_TYPE__S = ^x22	
                  [000000]   887  EV6__I_STAT__TRAP_TYPE__V = ^x4	
                  [000000]   888  EV6__I_STAT__TRAP_TYPE__M = ^xf	
                  [000000]   889  EV6__I_STAT__LS0__S = ^x26	
                  [000000]   890  EV6__I_STAT__LS0__V = ^x1	
                  [000000]   891  EV6__I_STAT__LS0__M = ^x1	
                  [000000]   892  EV6__I_STAT__TRP__S = ^x27	
                  [000000]   893  EV6__I_STAT__TRP__V = ^x1	
                  [000000]   894  EV6__I_STAT__TRP__M = ^x1	
                  [000000]   895  EV6__I_STAT__MIS__S = ^x28	
                  [000000]   896  EV6__I_STAT__MIS__V = ^x1	
                  [000000]   897  EV6__I_STAT__MIS__M = ^x1	
                  [000000]   898  EV6__I_STAT__RSV2__S = ^x29	
                  [000000]   899  EV6__I_STAT__RSV2__V = ^x17	
                  [000000]   900  EV6__I_STAT__RSV2__M = ^x7fffff	
                  [000000]   901  
                  [000000]   902  EV6__SLEEP = ^x17	
                  [000000]   903  EV6__SLEEP__RSV__S = ^x0	
                  [000000]   904  EV6__SLEEP__RSV__V = ^x40	
                  [000000]   905  EV6__SLEEP__RSV__M = ^xffffffffffffffff	
                  [000000]   906  
                  [000000]   907  EV6__ASN = ^x41	
                  [000000]   908  EV6__ASN__RSV0__S = ^x0	
                  [000000]   909  EV6__ASN__RSV0__V = ^x1	
                  [000000]   910  EV6__ASN__RSV0__M = ^x1	
                  [000000]   911  EV6__ASN__PPCE__S = ^x1	
                  [000000]   912  EV6__ASN__PPCE__V = ^x1	
                  [000000]   913  EV6__ASN__PPCE__M = ^x1	
                  [000000]   914  EV6__ASN__FPE__S = ^x2	
                  [000000]   915  EV6__ASN__FPE__V = ^x1	
                  [000000]   916  EV6__ASN__FPE__M = ^x1	
                  [000000]   917  EV6__ASN__RSV1__S = ^x3	
                  [000000]   918  EV6__ASN__RSV1__V = ^x2	
                  [000000]   919  EV6__ASN__RSV1__M = ^x3	
                  [000000]   920  EV6__ASN__ASTER__S = ^x5	
                  [000000]   921  EV6__ASN__ASTER__V = ^x4	
                  [000000]   922  EV6__ASN__ASTER__M = ^xf	
                  [000000]   923  EV6__ASN__ASTRR__S = ^x9	
                  [000000]   924  EV6__ASN__ASTRR__V = ^x4	
                  [000000]   925  EV6__ASN__ASTRR__M = ^xf	
                  [000000]   926  EV6__ASN__RSV2__S = ^xd	
                  [000000]   927  EV6__ASN__RSV2__V = ^x1a	
                  [000000]   928  EV6__ASN__RSV2__M = ^x3ffffff	
                  [000000]   929  EV6__ASN__ASN__S = ^x27	
                  [000000]   930  EV6__ASN__ASN__V = ^x8	
                  [000000]   931  EV6__ASN__ASN__M = ^xff	
                  [000000]   932  EV6__ASN__RSV3__S = ^x2f	
                  [000000]   933  EV6__ASN__RSV3__V = ^x11	
                  [000000]   934  EV6__ASN__RSV3__M = ^x1ffff	
                  [000000]   935  
                  [000000]   936  EV6__ASTER = ^x42	
                  [000000]   937  EV6__ASTER__RSV0__S = ^x0	
                  [000000]   938  EV6__ASTER__RSV0__V = ^x1	
                  [000000]   939  EV6__ASTER__RSV0__M = ^x1	
                  [000000]   940  EV6__ASTER__PPCE__S = ^x1	
                  [000000]   941  EV6__ASTER__PPCE__V = ^x1	
                  [000000]   942  EV6__ASTER__PPCE__M = ^x1	
                  [000000]   943  EV6__ASTER__FPE__S = ^x2	
                  [000000]   944  EV6__ASTER__FPE__V = ^x1	
                  [000000]   945  EV6__ASTER__FPE__M = ^x1	
                  [000000]   946  EV6__ASTER__RSV1__S = ^x3	
                  [000000]   947  EV6__ASTER__RSV1__V = ^x2	
                  [000000]   948  EV6__ASTER__RSV1__M = ^x3	
                  [000000]   949  EV6__ASTER__ASTER__S = ^x5	
                  [000000]   950  EV6__ASTER__ASTER__V = ^x4	
                  [000000]   951  EV6__ASTER__ASTER__M = ^xf	
                  [000000]   952  EV6__ASTER__ASTRR__S = ^x9	
                  [000000]   953  EV6__ASTER__ASTRR__V = ^x4	
                  [000000]   954  EV6__ASTER__ASTRR__M = ^xf	
                  [000000]   955  EV6__ASTER__RSV2__S = ^xd	
                  [000000]   956  EV6__ASTER__RSV2__V = ^x1a	
                  [000000]   957  EV6__ASTER__RSV2__M = ^x3ffffff	
                  [000000]   958  EV6__ASTER__ASN__S = ^x27	
                  [000000]   959  EV6__ASTER__ASN__V = ^x8	
                  [000000]   960  EV6__ASTER__ASN__M = ^xff	
                  [000000]   961  EV6__ASTER__RSV3__S = ^x2f	
                  [000000]   962  EV6__ASTER__RSV3__V = ^x11	
                  [000000]   963  EV6__ASTER__RSV3__M = ^x1ffff	
                  [000000]   964  
                  [000000]   965  EV6__ASTRR = ^x44	
                  [000000]   966  EV6__ASTRR__RSV0__S = ^x0	
                  [000000]   967  EV6__ASTRR__RSV0__V = ^x1	
                  [000000]   968  EV6__ASTRR__RSV0__M = ^x1	
                  [000000]   969  EV6__ASTRR__PPCE__S = ^x1	
                  [000000]   970  EV6__ASTRR__PPCE__V = ^x1	
                  [000000]   971  EV6__ASTRR__PPCE__M = ^x1	
                  [000000]   972  EV6__ASTRR__FPE__S = ^x2	
                  [000000]   973  EV6__ASTRR__FPE__V = ^x1	
                  [000000]   974  EV6__ASTRR__FPE__M = ^x1	
                  [000000]   975  EV6__ASTRR__RSV1__S = ^x3	
                  [000000]   976  EV6__ASTRR__RSV1__V = ^x2	
                  [000000]   977  EV6__ASTRR__RSV1__M = ^x3	
                  [000000]   978  EV6__ASTRR__ASTER__S = ^x5	
                  [000000]   979  EV6__ASTRR__ASTER__V = ^x4	
                  [000000]   980  EV6__ASTRR__ASTER__M = ^xf	
                  [000000]   981  EV6__ASTRR__ASTRR__S = ^x9	
                  [000000]   982  EV6__ASTRR__ASTRR__V = ^x4	
                  [000000]   983  EV6__ASTRR__ASTRR__M = ^xf	
                  [000000]   984  EV6__ASTRR__RSV2__S = ^xd	
                  [000000]   985  EV6__ASTRR__RSV2__V = ^x1a	
                  [000000]   986  EV6__ASTRR__RSV2__M = ^x3ffffff	
                  [000000]   987  EV6__ASTRR__ASN__S = ^x27	
                  [000000]   988  EV6__ASTRR__ASN__V = ^x8	
                  [000000]   989  EV6__ASTRR__ASN__M = ^xff	
                  [000000]   990  EV6__ASTRR__RSV3__S = ^x2f	
                  [000000]   991  EV6__ASTRR__RSV3__V = ^x11	
                  [000000]   992  EV6__ASTRR__RSV3__M = ^x1ffff	
                  [000000]   993  
                  [000000]   994  EV6__PPCE = ^x48	
                  [000000]   995  EV6__PPCE__RSV0__S = ^x0	
                  [000000]   996  EV6__PPCE__RSV0__V = ^x1	
                  [000000]   997  EV6__PPCE__RSV0__M = ^x1	
                  [000000]   998  EV6__PPCE__PPCE__S = ^x1	
                  [000000]   999  EV6__PPCE__PPCE__V = ^x1	
                  [000000]  1000  EV6__PPCE__PPCE__M = ^x1	
                  [000000]  1001  EV6__PPCE__FPE__S = ^x2	
                  [000000]  1002  EV6__PPCE__FPE__V = ^x1	
                  [000000]  1003  EV6__PPCE__FPE__M = ^x1	
                  [000000]  1004  EV6__PPCE__RSV1__S = ^x3	
                  [000000]  1005  EV6__PPCE__RSV1__V = ^x2	
                  [000000]  1006  EV6__PPCE__RSV1__M = ^x3	
                  [000000]  1007  EV6__PPCE__ASTER__S = ^x5	
                  [000000]  1008  EV6__PPCE__ASTER__V = ^x4	
                  [000000]  1009  EV6__PPCE__ASTER__M = ^xf	
                  [000000]  1010  EV6__PPCE__ASTRR__S = ^x9	
                  [000000]  1011  EV6__PPCE__ASTRR__V = ^x4	
                  [000000]  1012  EV6__PPCE__ASTRR__M = ^xf	
                  [000000]  1013  EV6__PPCE__RSV2__S = ^xd	
                  [000000]  1014  EV6__PPCE__RSV2__V = ^x1a	
                  [000000]  1015  EV6__PPCE__RSV2__M = ^x3ffffff	
                  [000000]  1016  EV6__PPCE__ASN__S = ^x27	
                  [000000]  1017  EV6__PPCE__ASN__V = ^x8	
                  [000000]  1018  EV6__PPCE__ASN__M = ^xff	
                  [000000]  1019  EV6__PPCE__RSV3__S = ^x2f	
                  [000000]  1020  EV6__PPCE__RSV3__V = ^x11	
                  [000000]  1021  EV6__PPCE__RSV3__M = ^x1ffff	
                  [000000]  1022  
                  [000000]  1023  EV6__FPE = ^x50	
                  [000000]  1024  EV6__FPE__RSV0__S = ^x0	
                  [000000]  1025  EV6__FPE__RSV0__V = ^x1	
                  [000000]  1026  EV6__FPE__RSV0__M = ^x1	
                  [000000]  1027  EV6__FPE__PPCE__S = ^x1	
                  [000000]  1028  EV6__FPE__PPCE__V = ^x1	
                  [000000]  1029  EV6__FPE__PPCE__M = ^x1	
                  [000000]  1030  EV6__FPE__FPE__S = ^x2	
                  [000000]  1031  EV6__FPE__FPE__V = ^x1	
                  [000000]  1032  EV6__FPE__FPE__M = ^x1	
                  [000000]  1033  EV6__FPE__RSV1__S = ^x3	
                  [000000]  1034  EV6__FPE__RSV1__V = ^x2	
                  [000000]  1035  EV6__FPE__RSV1__M = ^x3	
                  [000000]  1036  EV6__FPE__ASTER__S = ^x5	
                  [000000]  1037  EV6__FPE__ASTER__V = ^x4	
                  [000000]  1038  EV6__FPE__ASTER__M = ^xf	
                  [000000]  1039  EV6__FPE__ASTRR__S = ^x9	
                  [000000]  1040  EV6__FPE__ASTRR__V = ^x4	
                  [000000]  1041  EV6__FPE__ASTRR__M = ^xf	
                  [000000]  1042  EV6__FPE__RSV2__S = ^xd	
                  [000000]  1043  EV6__FPE__RSV2__V = ^x1a	
                  [000000]  1044  EV6__FPE__RSV2__M = ^x3ffffff	
                  [000000]  1045  EV6__FPE__ASN__S = ^x27	
                  [000000]  1046  EV6__FPE__ASN__V = ^x8	
                  [000000]  1047  EV6__FPE__ASN__M = ^xff	
                  [000000]  1048  EV6__FPE__RSV3__S = ^x2f	
                  [000000]  1049  EV6__FPE__RSV3__V = ^x11	
                  [000000]  1050  EV6__FPE__RSV3__M = ^x1ffff	
                  [000000]  1051  
                  [000000]  1052  EV6__ASN_ASTER = ^x43	
                  [000000]  1053  EV6__ASN_ASTER__RSV0__S = ^x0	
                  [000000]  1054  EV6__ASN_ASTER__RSV0__V = ^x1	
                  [000000]  1055  EV6__ASN_ASTER__RSV0__M = ^x1	
                  [000000]  1056  EV6__ASN_ASTER__PPCE__S = ^x1	
                  [000000]  1057  EV6__ASN_ASTER__PPCE__V = ^x1	
                  [000000]  1058  EV6__ASN_ASTER__PPCE__M = ^x1	
                  [000000]  1059  EV6__ASN_ASTER__FPE__S = ^x2	
                  [000000]  1060  EV6__ASN_ASTER__FPE__V = ^x1	
                  [000000]  1061  EV6__ASN_ASTER__FPE__M = ^x1	
                  [000000]  1062  EV6__ASN_ASTER__RSV1__S = ^x3	
                  [000000]  1063  EV6__ASN_ASTER__RSV1__V = ^x2	
                  [000000]  1064  EV6__ASN_ASTER__RSV1__M = ^x3	
                  [000000]  1065  EV6__ASN_ASTER__ASTER__S = ^x5	
                  [000000]  1066  EV6__ASN_ASTER__ASTER__V = ^x4	
                  [000000]  1067  EV6__ASN_ASTER__ASTER__M = ^xf	
                  [000000]  1068  EV6__ASN_ASTER__ASTRR__S = ^x9	
                  [000000]  1069  EV6__ASN_ASTER__ASTRR__V = ^x4	
                  [000000]  1070  EV6__ASN_ASTER__ASTRR__M = ^xf	
                  [000000]  1071  EV6__ASN_ASTER__RSV2__S = ^xd	
                  [000000]  1072  EV6__ASN_ASTER__RSV2__V = ^x1a	
                  [000000]  1073  EV6__ASN_ASTER__RSV2__M = ^x3ffffff	
                  [000000]  1074  EV6__ASN_ASTER__ASN__S = ^x27	
                  [000000]  1075  EV6__ASN_ASTER__ASN__V = ^x8	
                  [000000]  1076  EV6__ASN_ASTER__ASN__M = ^xff	
                  [000000]  1077  EV6__ASN_ASTER__RSV3__S = ^x2f	
                  [000000]  1078  EV6__ASN_ASTER__RSV3__V = ^x11	
                  [000000]  1079  EV6__ASN_ASTER__RSV3__M = ^x1ffff	
                  [000000]  1080  
                  [000000]  1081  EV6__ASN_ASTRR = ^x45	
                  [000000]  1082  EV6__ASN_ASTRR__RSV0__S = ^x0	
                  [000000]  1083  EV6__ASN_ASTRR__RSV0__V = ^x1	
                  [000000]  1084  EV6__ASN_ASTRR__RSV0__M = ^x1	
                  [000000]  1085  EV6__ASN_ASTRR__PPCE__S = ^x1	
                  [000000]  1086  EV6__ASN_ASTRR__PPCE__V = ^x1	
                  [000000]  1087  EV6__ASN_ASTRR__PPCE__M = ^x1	
                  [000000]  1088  EV6__ASN_ASTRR__FPE__S = ^x2	
                  [000000]  1089  EV6__ASN_ASTRR__FPE__V = ^x1	
                  [000000]  1090  EV6__ASN_ASTRR__FPE__M = ^x1	
                  [000000]  1091  EV6__ASN_ASTRR__RSV1__S = ^x3	
                  [000000]  1092  EV6__ASN_ASTRR__RSV1__V = ^x2	
                  [000000]  1093  EV6__ASN_ASTRR__RSV1__M = ^x3	
                  [000000]  1094  EV6__ASN_ASTRR__ASTER__S = ^x5	
                  [000000]  1095  EV6__ASN_ASTRR__ASTER__V = ^x4	
                  [000000]  1096  EV6__ASN_ASTRR__ASTER__M = ^xf	
                  [000000]  1097  EV6__ASN_ASTRR__ASTRR__S = ^x9	
                  [000000]  1098  EV6__ASN_ASTRR__ASTRR__V = ^x4	
                  [000000]  1099  EV6__ASN_ASTRR__ASTRR__M = ^xf	
                  [000000]  1100  EV6__ASN_ASTRR__RSV2__S = ^xd	
                  [000000]  1101  EV6__ASN_ASTRR__RSV2__V = ^x1a	
                  [000000]  1102  EV6__ASN_ASTRR__RSV2__M = ^x3ffffff	
                  [000000]  1103  EV6__ASN_ASTRR__ASN__S = ^x27	
                  [000000]  1104  EV6__ASN_ASTRR__ASN__V = ^x8	
                  [000000]  1105  EV6__ASN_ASTRR__ASN__M = ^xff	
                  [000000]  1106  EV6__ASN_ASTRR__RSV3__S = ^x2f	
                  [000000]  1107  EV6__ASN_ASTRR__RSV3__V = ^x11	
                  [000000]  1108  EV6__ASN_ASTRR__RSV3__M = ^x1ffff	
                  [000000]  1109  
                  [000000]  1110  EV6__ASN_PPCE = ^x49	
                  [000000]  1111  EV6__ASN_PPCE__RSV0__S = ^x0	
                  [000000]  1112  EV6__ASN_PPCE__RSV0__V = ^x1	
                  [000000]  1113  EV6__ASN_PPCE__RSV0__M = ^x1	
                  [000000]  1114  EV6__ASN_PPCE__PPCE__S = ^x1	
                  [000000]  1115  EV6__ASN_PPCE__PPCE__V = ^x1	
                  [000000]  1116  EV6__ASN_PPCE__PPCE__M = ^x1	
                  [000000]  1117  EV6__ASN_PPCE__FPE__S = ^x2	
                  [000000]  1118  EV6__ASN_PPCE__FPE__V = ^x1	
                  [000000]  1119  EV6__ASN_PPCE__FPE__M = ^x1	
                  [000000]  1120  EV6__ASN_PPCE__RSV1__S = ^x3	
                  [000000]  1121  EV6__ASN_PPCE__RSV1__V = ^x2	
                  [000000]  1122  EV6__ASN_PPCE__RSV1__M = ^x3	
                  [000000]  1123  EV6__ASN_PPCE__ASTER__S = ^x5	
                  [000000]  1124  EV6__ASN_PPCE__ASTER__V = ^x4	
                  [000000]  1125  EV6__ASN_PPCE__ASTER__M = ^xf	
                  [000000]  1126  EV6__ASN_PPCE__ASTRR__S = ^x9	
                  [000000]  1127  EV6__ASN_PPCE__ASTRR__V = ^x4	
                  [000000]  1128  EV6__ASN_PPCE__ASTRR__M = ^xf	
                  [000000]  1129  EV6__ASN_PPCE__RSV2__S = ^xd	
                  [000000]  1130  EV6__ASN_PPCE__RSV2__V = ^x1a	
                  [000000]  1131  EV6__ASN_PPCE__RSV2__M = ^x3ffffff	
                  [000000]  1132  EV6__ASN_PPCE__ASN__S = ^x27	
                  [000000]  1133  EV6__ASN_PPCE__ASN__V = ^x8	
                  [000000]  1134  EV6__ASN_PPCE__ASN__M = ^xff	
                  [000000]  1135  EV6__ASN_PPCE__RSV3__S = ^x2f	
                  [000000]  1136  EV6__ASN_PPCE__RSV3__V = ^x11	
                  [000000]  1137  EV6__ASN_PPCE__RSV3__M = ^x1ffff	
                  [000000]  1138  
                  [000000]  1139  EV6__ASN_FPE = ^x51	
                  [000000]  1140  EV6__ASN_FPE__RSV0__S = ^x0	
                  [000000]  1141  EV6__ASN_FPE__RSV0__V = ^x1	
                  [000000]  1142  EV6__ASN_FPE__RSV0__M = ^x1	
                  [000000]  1143  EV6__ASN_FPE__PPCE__S = ^x1	
                  [000000]  1144  EV6__ASN_FPE__PPCE__V = ^x1	
                  [000000]  1145  EV6__ASN_FPE__PPCE__M = ^x1	
                  [000000]  1146  EV6__ASN_FPE__FPE__S = ^x2	
                  [000000]  1147  EV6__ASN_FPE__FPE__V = ^x1	
                  [000000]  1148  EV6__ASN_FPE__FPE__M = ^x1	
                  [000000]  1149  EV6__ASN_FPE__RSV1__S = ^x3	
                  [000000]  1150  EV6__ASN_FPE__RSV1__V = ^x2	
                  [000000]  1151  EV6__ASN_FPE__RSV1__M = ^x3	
                  [000000]  1152  EV6__ASN_FPE__ASTER__S = ^x5	
                  [000000]  1153  EV6__ASN_FPE__ASTER__V = ^x4	
                  [000000]  1154  EV6__ASN_FPE__ASTER__M = ^xf	
                  [000000]  1155  EV6__ASN_FPE__ASTRR__S = ^x9	
                  [000000]  1156  EV6__ASN_FPE__ASTRR__V = ^x4	
                  [000000]  1157  EV6__ASN_FPE__ASTRR__M = ^xf	
                  [000000]  1158  EV6__ASN_FPE__RSV2__S = ^xd	
                  [000000]  1159  EV6__ASN_FPE__RSV2__V = ^x1a	
                  [000000]  1160  EV6__ASN_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1161  EV6__ASN_FPE__ASN__S = ^x27	
                  [000000]  1162  EV6__ASN_FPE__ASN__V = ^x8	
                  [000000]  1163  EV6__ASN_FPE__ASN__M = ^xff	
                  [000000]  1164  EV6__ASN_FPE__RSV3__S = ^x2f	
                  [000000]  1165  EV6__ASN_FPE__RSV3__V = ^x11	
                  [000000]  1166  EV6__ASN_FPE__RSV3__M = ^x1ffff	
                  [000000]  1167  
                  [000000]  1168  EV6__ASTER_ASTRR = ^x46	
                  [000000]  1169  EV6__ASTER_ASTRR__RSV0__S = ^x0	
                  [000000]  1170  EV6__ASTER_ASTRR__RSV0__V = ^x1	
                  [000000]  1171  EV6__ASTER_ASTRR__RSV0__M = ^x1	
                  [000000]  1172  EV6__ASTER_ASTRR__PPCE__S = ^x1	
                  [000000]  1173  EV6__ASTER_ASTRR__PPCE__V = ^x1	
                  [000000]  1174  EV6__ASTER_ASTRR__PPCE__M = ^x1	
                  [000000]  1175  EV6__ASTER_ASTRR__FPE__S = ^x2	
                  [000000]  1176  EV6__ASTER_ASTRR__FPE__V = ^x1	
                  [000000]  1177  EV6__ASTER_ASTRR__FPE__M = ^x1	
                  [000000]  1178  EV6__ASTER_ASTRR__RSV1__S = ^x3	
                  [000000]  1179  EV6__ASTER_ASTRR__RSV1__V = ^x2	
                  [000000]  1180  EV6__ASTER_ASTRR__RSV1__M = ^x3	
                  [000000]  1181  EV6__ASTER_ASTRR__ASTER__S = ^x5	
                  [000000]  1182  EV6__ASTER_ASTRR__ASTER__V = ^x4	
                  [000000]  1183  EV6__ASTER_ASTRR__ASTER__M = ^xf	
                  [000000]  1184  EV6__ASTER_ASTRR__ASTRR__S = ^x9	
                  [000000]  1185  EV6__ASTER_ASTRR__ASTRR__V = ^x4	
                  [000000]  1186  EV6__ASTER_ASTRR__ASTRR__M = ^xf	
                  [000000]  1187  EV6__ASTER_ASTRR__RSV2__S = ^xd	
                  [000000]  1188  EV6__ASTER_ASTRR__RSV2__V = ^x1a	
                  [000000]  1189  EV6__ASTER_ASTRR__RSV2__M = ^x3ffffff	
                  [000000]  1190  EV6__ASTER_ASTRR__ASN__S = ^x27	
                  [000000]  1191  EV6__ASTER_ASTRR__ASN__V = ^x8	
                  [000000]  1192  EV6__ASTER_ASTRR__ASN__M = ^xff	
                  [000000]  1193  EV6__ASTER_ASTRR__RSV3__S = ^x2f	
                  [000000]  1194  EV6__ASTER_ASTRR__RSV3__V = ^x11	
                  [000000]  1195  EV6__ASTER_ASTRR__RSV3__M = ^x1ffff	
                  [000000]  1196  
                  [000000]  1197  EV6__ASTER_PPCE = ^x4a	
                  [000000]  1198  EV6__ASTER_PPCE__RSV0__S = ^x0	
                  [000000]  1199  EV6__ASTER_PPCE__RSV0__V = ^x1	
                  [000000]  1200  EV6__ASTER_PPCE__RSV0__M = ^x1	
                  [000000]  1201  EV6__ASTER_PPCE__PPCE__S = ^x1	
                  [000000]  1202  EV6__ASTER_PPCE__PPCE__V = ^x1	
                  [000000]  1203  EV6__ASTER_PPCE__PPCE__M = ^x1	
                  [000000]  1204  EV6__ASTER_PPCE__FPE__S = ^x2	
                  [000000]  1205  EV6__ASTER_PPCE__FPE__V = ^x1	
                  [000000]  1206  EV6__ASTER_PPCE__FPE__M = ^x1	
                  [000000]  1207  EV6__ASTER_PPCE__RSV1__S = ^x3	
                  [000000]  1208  EV6__ASTER_PPCE__RSV1__V = ^x2	
                  [000000]  1209  EV6__ASTER_PPCE__RSV1__M = ^x3	
                  [000000]  1210  EV6__ASTER_PPCE__ASTER__S = ^x5	
                  [000000]  1211  EV6__ASTER_PPCE__ASTER__V = ^x4	
                  [000000]  1212  EV6__ASTER_PPCE__ASTER__M = ^xf	
                  [000000]  1213  EV6__ASTER_PPCE__ASTRR__S = ^x9	
                  [000000]  1214  EV6__ASTER_PPCE__ASTRR__V = ^x4	
                  [000000]  1215  EV6__ASTER_PPCE__ASTRR__M = ^xf	
                  [000000]  1216  EV6__ASTER_PPCE__RSV2__S = ^xd	
                  [000000]  1217  EV6__ASTER_PPCE__RSV2__V = ^x1a	
                  [000000]  1218  EV6__ASTER_PPCE__RSV2__M = ^x3ffffff	
                  [000000]  1219  EV6__ASTER_PPCE__ASN__S = ^x27	
                  [000000]  1220  EV6__ASTER_PPCE__ASN__V = ^x8	
                  [000000]  1221  EV6__ASTER_PPCE__ASN__M = ^xff	
                  [000000]  1222  EV6__ASTER_PPCE__RSV3__S = ^x2f	
                  [000000]  1223  EV6__ASTER_PPCE__RSV3__V = ^x11	
                  [000000]  1224  EV6__ASTER_PPCE__RSV3__M = ^x1ffff	
                  [000000]  1225  
                  [000000]  1226  EV6__ASTER_FPE = ^x52	
                  [000000]  1227  EV6__ASTER_FPE__RSV0__S = ^x0	
                  [000000]  1228  EV6__ASTER_FPE__RSV0__V = ^x1	
                  [000000]  1229  EV6__ASTER_FPE__RSV0__M = ^x1	
                  [000000]  1230  EV6__ASTER_FPE__PPCE__S = ^x1	
                  [000000]  1231  EV6__ASTER_FPE__PPCE__V = ^x1	
                  [000000]  1232  EV6__ASTER_FPE__PPCE__M = ^x1	
                  [000000]  1233  EV6__ASTER_FPE__FPE__S = ^x2	
                  [000000]  1234  EV6__ASTER_FPE__FPE__V = ^x1	
                  [000000]  1235  EV6__ASTER_FPE__FPE__M = ^x1	
                  [000000]  1236  EV6__ASTER_FPE__RSV1__S = ^x3	
                  [000000]  1237  EV6__ASTER_FPE__RSV1__V = ^x2	
                  [000000]  1238  EV6__ASTER_FPE__RSV1__M = ^x3	
                  [000000]  1239  EV6__ASTER_FPE__ASTER__S = ^x5	
                  [000000]  1240  EV6__ASTER_FPE__ASTER__V = ^x4	
                  [000000]  1241  EV6__ASTER_FPE__ASTER__M = ^xf	
                  [000000]  1242  EV6__ASTER_FPE__ASTRR__S = ^x9	
                  [000000]  1243  EV6__ASTER_FPE__ASTRR__V = ^x4	
                  [000000]  1244  EV6__ASTER_FPE__ASTRR__M = ^xf	
                  [000000]  1245  EV6__ASTER_FPE__RSV2__S = ^xd	
                  [000000]  1246  EV6__ASTER_FPE__RSV2__V = ^x1a	
                  [000000]  1247  EV6__ASTER_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1248  EV6__ASTER_FPE__ASN__S = ^x27	
                  [000000]  1249  EV6__ASTER_FPE__ASN__V = ^x8	
                  [000000]  1250  EV6__ASTER_FPE__ASN__M = ^xff	
                  [000000]  1251  EV6__ASTER_FPE__RSV3__S = ^x2f	
                  [000000]  1252  EV6__ASTER_FPE__RSV3__V = ^x11	
                  [000000]  1253  EV6__ASTER_FPE__RSV3__M = ^x1ffff	
                  [000000]  1254  
                  [000000]  1255  EV6__ASTRR_PPCE = ^x4c	
                  [000000]  1256  EV6__ASTRR_PPCE__RSV0__S = ^x0	
                  [000000]  1257  EV6__ASTRR_PPCE__RSV0__V = ^x1	
                  [000000]  1258  EV6__ASTRR_PPCE__RSV0__M = ^x1	
                  [000000]  1259  EV6__ASTRR_PPCE__PPCE__S = ^x1	
                  [000000]  1260  EV6__ASTRR_PPCE__PPCE__V = ^x1	
                  [000000]  1261  EV6__ASTRR_PPCE__PPCE__M = ^x1	
                  [000000]  1262  EV6__ASTRR_PPCE__FPE__S = ^x2	
                  [000000]  1263  EV6__ASTRR_PPCE__FPE__V = ^x1	
                  [000000]  1264  EV6__ASTRR_PPCE__FPE__M = ^x1	
                  [000000]  1265  EV6__ASTRR_PPCE__RSV1__S = ^x3	
                  [000000]  1266  EV6__ASTRR_PPCE__RSV1__V = ^x2	
                  [000000]  1267  EV6__ASTRR_PPCE__RSV1__M = ^x3	
                  [000000]  1268  EV6__ASTRR_PPCE__ASTER__S = ^x5	
                  [000000]  1269  EV6__ASTRR_PPCE__ASTER__V = ^x4	
                  [000000]  1270  EV6__ASTRR_PPCE__ASTER__M = ^xf	
                  [000000]  1271  EV6__ASTRR_PPCE__ASTRR__S = ^x9	
                  [000000]  1272  EV6__ASTRR_PPCE__ASTRR__V = ^x4	
                  [000000]  1273  EV6__ASTRR_PPCE__ASTRR__M = ^xf	
                  [000000]  1274  EV6__ASTRR_PPCE__RSV2__S = ^xd	
                  [000000]  1275  EV6__ASTRR_PPCE__RSV2__V = ^x1a	
                  [000000]  1276  EV6__ASTRR_PPCE__RSV2__M = ^x3ffffff	
                  [000000]  1277  EV6__ASTRR_PPCE__ASN__S = ^x27	
                  [000000]  1278  EV6__ASTRR_PPCE__ASN__V = ^x8	
                  [000000]  1279  EV6__ASTRR_PPCE__ASN__M = ^xff	
                  [000000]  1280  EV6__ASTRR_PPCE__RSV3__S = ^x2f	
                  [000000]  1281  EV6__ASTRR_PPCE__RSV3__V = ^x11	
                  [000000]  1282  EV6__ASTRR_PPCE__RSV3__M = ^x1ffff	
                  [000000]  1283  
                  [000000]  1284  EV6__ASTRR_FPE = ^x54	
                  [000000]  1285  EV6__ASTRR_FPE__RSV0__S = ^x0	
                  [000000]  1286  EV6__ASTRR_FPE__RSV0__V = ^x1	
                  [000000]  1287  EV6__ASTRR_FPE__RSV0__M = ^x1	
                  [000000]  1288  EV6__ASTRR_FPE__PPCE__S = ^x1	
                  [000000]  1289  EV6__ASTRR_FPE__PPCE__V = ^x1	
                  [000000]  1290  EV6__ASTRR_FPE__PPCE__M = ^x1	
                  [000000]  1291  EV6__ASTRR_FPE__FPE__S = ^x2	
                  [000000]  1292  EV6__ASTRR_FPE__FPE__V = ^x1	
                  [000000]  1293  EV6__ASTRR_FPE__FPE__M = ^x1	
                  [000000]  1294  EV6__ASTRR_FPE__RSV1__S = ^x3	
                  [000000]  1295  EV6__ASTRR_FPE__RSV1__V = ^x2	
                  [000000]  1296  EV6__ASTRR_FPE__RSV1__M = ^x3	
                  [000000]  1297  EV6__ASTRR_FPE__ASTER__S = ^x5	
                  [000000]  1298  EV6__ASTRR_FPE__ASTER__V = ^x4	
                  [000000]  1299  EV6__ASTRR_FPE__ASTER__M = ^xf	
                  [000000]  1300  EV6__ASTRR_FPE__ASTRR__S = ^x9	
                  [000000]  1301  EV6__ASTRR_FPE__ASTRR__V = ^x4	
                  [000000]  1302  EV6__ASTRR_FPE__ASTRR__M = ^xf	
                  [000000]  1303  EV6__ASTRR_FPE__RSV2__S = ^xd	
                  [000000]  1304  EV6__ASTRR_FPE__RSV2__V = ^x1a	
                  [000000]  1305  EV6__ASTRR_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1306  EV6__ASTRR_FPE__ASN__S = ^x27	
                  [000000]  1307  EV6__ASTRR_FPE__ASN__V = ^x8	
                  [000000]  1308  EV6__ASTRR_FPE__ASN__M = ^xff	
                  [000000]  1309  EV6__ASTRR_FPE__RSV3__S = ^x2f	
                  [000000]  1310  EV6__ASTRR_FPE__RSV3__V = ^x11	
                  [000000]  1311  EV6__ASTRR_FPE__RSV3__M = ^x1ffff	
                  [000000]  1312  
                  [000000]  1313  EV6__PPCE_FPE = ^x58	
                  [000000]  1314  EV6__PPCE_FPE__RSV0__S = ^x0	
                  [000000]  1315  EV6__PPCE_FPE__RSV0__V = ^x1	
                  [000000]  1316  EV6__PPCE_FPE__RSV0__M = ^x1	
                  [000000]  1317  EV6__PPCE_FPE__PPCE__S = ^x1	
                  [000000]  1318  EV6__PPCE_FPE__PPCE__V = ^x1	
                  [000000]  1319  EV6__PPCE_FPE__PPCE__M = ^x1	
                  [000000]  1320  EV6__PPCE_FPE__FPE__S = ^x2	
                  [000000]  1321  EV6__PPCE_FPE__FPE__V = ^x1	
                  [000000]  1322  EV6__PPCE_FPE__FPE__M = ^x1	
                  [000000]  1323  EV6__PPCE_FPE__RSV1__S = ^x3	
                  [000000]  1324  EV6__PPCE_FPE__RSV1__V = ^x2	
                  [000000]  1325  EV6__PPCE_FPE__RSV1__M = ^x3	
                  [000000]  1326  EV6__PPCE_FPE__ASTER__S = ^x5	
                  [000000]  1327  EV6__PPCE_FPE__ASTER__V = ^x4	
                  [000000]  1328  EV6__PPCE_FPE__ASTER__M = ^xf	
                  [000000]  1329  EV6__PPCE_FPE__ASTRR__S = ^x9	
                  [000000]  1330  EV6__PPCE_FPE__ASTRR__V = ^x4	
                  [000000]  1331  EV6__PPCE_FPE__ASTRR__M = ^xf	
                  [000000]  1332  EV6__PPCE_FPE__RSV2__S = ^xd	
                  [000000]  1333  EV6__PPCE_FPE__RSV2__V = ^x1a	
                  [000000]  1334  EV6__PPCE_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1335  EV6__PPCE_FPE__ASN__S = ^x27	
                  [000000]  1336  EV6__PPCE_FPE__ASN__V = ^x8	
                  [000000]  1337  EV6__PPCE_FPE__ASN__M = ^xff	
                  [000000]  1338  EV6__PPCE_FPE__RSV3__S = ^x2f	
                  [000000]  1339  EV6__PPCE_FPE__RSV3__V = ^x11	
                  [000000]  1340  EV6__PPCE_FPE__RSV3__M = ^x1ffff	
                  [000000]  1341  
                  [000000]  1342  EV6__ASN_ASTER_ASTRR = ^x47	
                  [000000]  1343  EV6__ASN_ASTER_ASTRR__RSV0__S = ^x0	
                  [000000]  1344  EV6__ASN_ASTER_ASTRR__RSV0__V = ^x1	
                  [000000]  1345  EV6__ASN_ASTER_ASTRR__RSV0__M = ^x1	
                  [000000]  1346  EV6__ASN_ASTER_ASTRR__PPCE__S = ^x1	
                  [000000]  1347  EV6__ASN_ASTER_ASTRR__PPCE__V = ^x1	
                  [000000]  1348  EV6__ASN_ASTER_ASTRR__PPCE__M = ^x1	
                  [000000]  1349  EV6__ASN_ASTER_ASTRR__FPE__S = ^x2	
                  [000000]  1350  EV6__ASN_ASTER_ASTRR__FPE__V = ^x1	
                  [000000]  1351  EV6__ASN_ASTER_ASTRR__FPE__M = ^x1	
                  [000000]  1352  EV6__ASN_ASTER_ASTRR__RSV1__S = ^x3	
                  [000000]  1353  EV6__ASN_ASTER_ASTRR__RSV1__V = ^x2	
                  [000000]  1354  EV6__ASN_ASTER_ASTRR__RSV1__M = ^x3	
                  [000000]  1355  EV6__ASN_ASTER_ASTRR__ASTER__S = ^x5	
                  [000000]  1356  EV6__ASN_ASTER_ASTRR__ASTER__V = ^x4	
                  [000000]  1357  EV6__ASN_ASTER_ASTRR__ASTER__M = ^xf	
                  [000000]  1358  EV6__ASN_ASTER_ASTRR__ASTRR__S = ^x9	
                  [000000]  1359  EV6__ASN_ASTER_ASTRR__ASTRR__V = ^x4	
                  [000000]  1360  EV6__ASN_ASTER_ASTRR__ASTRR__M = ^xf	
                  [000000]  1361  EV6__ASN_ASTER_ASTRR__RSV2__S = ^xd	
                  [000000]  1362  EV6__ASN_ASTER_ASTRR__RSV2__V = ^x1a	
                  [000000]  1363  EV6__ASN_ASTER_ASTRR__RSV2__M = ^x3ffffff	
                  [000000]  1364  EV6__ASN_ASTER_ASTRR__ASN__S = ^x27	
                  [000000]  1365  EV6__ASN_ASTER_ASTRR__ASN__V = ^x8	
                  [000000]  1366  EV6__ASN_ASTER_ASTRR__ASN__M = ^xff	
                  [000000]  1367  EV6__ASN_ASTER_ASTRR__RSV3__S = ^x2f	
                  [000000]  1368  EV6__ASN_ASTER_ASTRR__RSV3__V = ^x11	
                  [000000]  1369  EV6__ASN_ASTER_ASTRR__RSV3__M = ^x1ffff	
                  [000000]  1370  
                  [000000]  1371  EV6__ASN_ASTER_PPCE = ^x4b	
                  [000000]  1372  EV6__ASN_ASTER_PPCE__RSV0__S = ^x0	
                  [000000]  1373  EV6__ASN_ASTER_PPCE__RSV0__V = ^x1	
                  [000000]  1374  EV6__ASN_ASTER_PPCE__RSV0__M = ^x1	
                  [000000]  1375  EV6__ASN_ASTER_PPCE__PPCE__S = ^x1	
                  [000000]  1376  EV6__ASN_ASTER_PPCE__PPCE__V = ^x1	
                  [000000]  1377  EV6__ASN_ASTER_PPCE__PPCE__M = ^x1	
                  [000000]  1378  EV6__ASN_ASTER_PPCE__FPE__S = ^x2	
                  [000000]  1379  EV6__ASN_ASTER_PPCE__FPE__V = ^x1	
                  [000000]  1380  EV6__ASN_ASTER_PPCE__FPE__M = ^x1	
                  [000000]  1381  EV6__ASN_ASTER_PPCE__RSV1__S = ^x3	
                  [000000]  1382  EV6__ASN_ASTER_PPCE__RSV1__V = ^x2	
                  [000000]  1383  EV6__ASN_ASTER_PPCE__RSV1__M = ^x3	
                  [000000]  1384  EV6__ASN_ASTER_PPCE__ASTER__S = ^x5	
                  [000000]  1385  EV6__ASN_ASTER_PPCE__ASTER__V = ^x4	
                  [000000]  1386  EV6__ASN_ASTER_PPCE__ASTER__M = ^xf	
                  [000000]  1387  EV6__ASN_ASTER_PPCE__ASTRR__S = ^x9	
                  [000000]  1388  EV6__ASN_ASTER_PPCE__ASTRR__V = ^x4	
                  [000000]  1389  EV6__ASN_ASTER_PPCE__ASTRR__M = ^xf	
                  [000000]  1390  EV6__ASN_ASTER_PPCE__RSV2__S = ^xd	
                  [000000]  1391  EV6__ASN_ASTER_PPCE__RSV2__V = ^x1a	
                  [000000]  1392  EV6__ASN_ASTER_PPCE__RSV2__M = ^x3ffffff	
                  [000000]  1393  EV6__ASN_ASTER_PPCE__ASN__S = ^x27	
                  [000000]  1394  EV6__ASN_ASTER_PPCE__ASN__V = ^x8	
                  [000000]  1395  EV6__ASN_ASTER_PPCE__ASN__M = ^xff	
                  [000000]  1396  EV6__ASN_ASTER_PPCE__RSV3__S = ^x2f	
                  [000000]  1397  EV6__ASN_ASTER_PPCE__RSV3__V = ^x11	
                  [000000]  1398  EV6__ASN_ASTER_PPCE__RSV3__M = ^x1ffff	
                  [000000]  1399  
                  [000000]  1400  EV6__ASN_ASTER_FPE = ^x53	
                  [000000]  1401  EV6__ASN_ASTER_FPE__RSV0__S = ^x0	
                  [000000]  1402  EV6__ASN_ASTER_FPE__RSV0__V = ^x1	
                  [000000]  1403  EV6__ASN_ASTER_FPE__RSV0__M = ^x1	
                  [000000]  1404  EV6__ASN_ASTER_FPE__PPCE__S = ^x1	
                  [000000]  1405  EV6__ASN_ASTER_FPE__PPCE__V = ^x1	
                  [000000]  1406  EV6__ASN_ASTER_FPE__PPCE__M = ^x1	
                  [000000]  1407  EV6__ASN_ASTER_FPE__FPE__S = ^x2	
                  [000000]  1408  EV6__ASN_ASTER_FPE__FPE__V = ^x1	
                  [000000]  1409  EV6__ASN_ASTER_FPE__FPE__M = ^x1	
                  [000000]  1410  EV6__ASN_ASTER_FPE__RSV1__S = ^x3	
                  [000000]  1411  EV6__ASN_ASTER_FPE__RSV1__V = ^x2	
                  [000000]  1412  EV6__ASN_ASTER_FPE__RSV1__M = ^x3	
                  [000000]  1413  EV6__ASN_ASTER_FPE__ASTER__S = ^x5	
                  [000000]  1414  EV6__ASN_ASTER_FPE__ASTER__V = ^x4	
                  [000000]  1415  EV6__ASN_ASTER_FPE__ASTER__M = ^xf	
                  [000000]  1416  EV6__ASN_ASTER_FPE__ASTRR__S = ^x9	
                  [000000]  1417  EV6__ASN_ASTER_FPE__ASTRR__V = ^x4	
                  [000000]  1418  EV6__ASN_ASTER_FPE__ASTRR__M = ^xf	
                  [000000]  1419  EV6__ASN_ASTER_FPE__RSV2__S = ^xd	
                  [000000]  1420  EV6__ASN_ASTER_FPE__RSV2__V = ^x1a	
                  [000000]  1421  EV6__ASN_ASTER_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1422  EV6__ASN_ASTER_FPE__ASN__S = ^x27	
                  [000000]  1423  EV6__ASN_ASTER_FPE__ASN__V = ^x8	
                  [000000]  1424  EV6__ASN_ASTER_FPE__ASN__M = ^xff	
                  [000000]  1425  EV6__ASN_ASTER_FPE__RSV3__S = ^x2f	
                  [000000]  1426  EV6__ASN_ASTER_FPE__RSV3__V = ^x11	
                  [000000]  1427  EV6__ASN_ASTER_FPE__RSV3__M = ^x1ffff	
                  [000000]  1428  
                  [000000]  1429  EV6__ASN_ASTRR_PPCE = ^x4d	
                  [000000]  1430  EV6__ASN_ASTRR_PPCE__RSV0__S = ^x0	
                  [000000]  1431  EV6__ASN_ASTRR_PPCE__RSV0__V = ^x1	
                  [000000]  1432  EV6__ASN_ASTRR_PPCE__RSV0__M = ^x1	
                  [000000]  1433  EV6__ASN_ASTRR_PPCE__PPCE__S = ^x1	
                  [000000]  1434  EV6__ASN_ASTRR_PPCE__PPCE__V = ^x1	
                  [000000]  1435  EV6__ASN_ASTRR_PPCE__PPCE__M = ^x1	
                  [000000]  1436  EV6__ASN_ASTRR_PPCE__FPE__S = ^x2	
                  [000000]  1437  EV6__ASN_ASTRR_PPCE__FPE__V = ^x1	
                  [000000]  1438  EV6__ASN_ASTRR_PPCE__FPE__M = ^x1	
                  [000000]  1439  EV6__ASN_ASTRR_PPCE__RSV1__S = ^x3	
                  [000000]  1440  EV6__ASN_ASTRR_PPCE__RSV1__V = ^x2	
                  [000000]  1441  EV6__ASN_ASTRR_PPCE__RSV1__M = ^x3	
                  [000000]  1442  EV6__ASN_ASTRR_PPCE__ASTER__S = ^x5	
                  [000000]  1443  EV6__ASN_ASTRR_PPCE__ASTER__V = ^x4	
                  [000000]  1444  EV6__ASN_ASTRR_PPCE__ASTER__M = ^xf	
                  [000000]  1445  EV6__ASN_ASTRR_PPCE__ASTRR__S = ^x9	
                  [000000]  1446  EV6__ASN_ASTRR_PPCE__ASTRR__V = ^x4	
                  [000000]  1447  EV6__ASN_ASTRR_PPCE__ASTRR__M = ^xf	
                  [000000]  1448  EV6__ASN_ASTRR_PPCE__RSV2__S = ^xd	
                  [000000]  1449  EV6__ASN_ASTRR_PPCE__RSV2__V = ^x1a	
                  [000000]  1450  EV6__ASN_ASTRR_PPCE__RSV2__M = ^x3ffffff	
                  [000000]  1451  EV6__ASN_ASTRR_PPCE__ASN__S = ^x27	
                  [000000]  1452  EV6__ASN_ASTRR_PPCE__ASN__V = ^x8	
                  [000000]  1453  EV6__ASN_ASTRR_PPCE__ASN__M = ^xff	
                  [000000]  1454  EV6__ASN_ASTRR_PPCE__RSV3__S = ^x2f	
                  [000000]  1455  EV6__ASN_ASTRR_PPCE__RSV3__V = ^x11	
                  [000000]  1456  EV6__ASN_ASTRR_PPCE__RSV3__M = ^x1ffff	
                  [000000]  1457  
                  [000000]  1458  EV6__ASN_ASTRR_FPE = ^x55	
                  [000000]  1459  EV6__ASN_ASTRR_FPE__RSV0__S = ^x0	
                  [000000]  1460  EV6__ASN_ASTRR_FPE__RSV0__V = ^x1	
                  [000000]  1461  EV6__ASN_ASTRR_FPE__RSV0__M = ^x1	
                  [000000]  1462  EV6__ASN_ASTRR_FPE__PPCE__S = ^x1	
                  [000000]  1463  EV6__ASN_ASTRR_FPE__PPCE__V = ^x1	
                  [000000]  1464  EV6__ASN_ASTRR_FPE__PPCE__M = ^x1	
                  [000000]  1465  EV6__ASN_ASTRR_FPE__FPE__S = ^x2	
                  [000000]  1466  EV6__ASN_ASTRR_FPE__FPE__V = ^x1	
                  [000000]  1467  EV6__ASN_ASTRR_FPE__FPE__M = ^x1	
                  [000000]  1468  EV6__ASN_ASTRR_FPE__RSV1__S = ^x3	
                  [000000]  1469  EV6__ASN_ASTRR_FPE__RSV1__V = ^x2	
                  [000000]  1470  EV6__ASN_ASTRR_FPE__RSV1__M = ^x3	
                  [000000]  1471  EV6__ASN_ASTRR_FPE__ASTER__S = ^x5	
                  [000000]  1472  EV6__ASN_ASTRR_FPE__ASTER__V = ^x4	
                  [000000]  1473  EV6__ASN_ASTRR_FPE__ASTER__M = ^xf	
                  [000000]  1474  EV6__ASN_ASTRR_FPE__ASTRR__S = ^x9	
                  [000000]  1475  EV6__ASN_ASTRR_FPE__ASTRR__V = ^x4	
                  [000000]  1476  EV6__ASN_ASTRR_FPE__ASTRR__M = ^xf	
                  [000000]  1477  EV6__ASN_ASTRR_FPE__RSV2__S = ^xd	
                  [000000]  1478  EV6__ASN_ASTRR_FPE__RSV2__V = ^x1a	
                  [000000]  1479  EV6__ASN_ASTRR_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1480  EV6__ASN_ASTRR_FPE__ASN__S = ^x27	
                  [000000]  1481  EV6__ASN_ASTRR_FPE__ASN__V = ^x8	
                  [000000]  1482  EV6__ASN_ASTRR_FPE__ASN__M = ^xff	
                  [000000]  1483  EV6__ASN_ASTRR_FPE__RSV3__S = ^x2f	
                  [000000]  1484  EV6__ASN_ASTRR_FPE__RSV3__V = ^x11	
                  [000000]  1485  EV6__ASN_ASTRR_FPE__RSV3__M = ^x1ffff	
                  [000000]  1486  
                  [000000]  1487  EV6__ASN_PPCE_FPE = ^x59	
                  [000000]  1488  EV6__ASN_PPCE_FPE__RSV0__S = ^x0	
                  [000000]  1489  EV6__ASN_PPCE_FPE__RSV0__V = ^x1	
                  [000000]  1490  EV6__ASN_PPCE_FPE__RSV0__M = ^x1	
                  [000000]  1491  EV6__ASN_PPCE_FPE__PPCE__S = ^x1	
                  [000000]  1492  EV6__ASN_PPCE_FPE__PPCE__V = ^x1	
                  [000000]  1493  EV6__ASN_PPCE_FPE__PPCE__M = ^x1	
                  [000000]  1494  EV6__ASN_PPCE_FPE__FPE__S = ^x2	
                  [000000]  1495  EV6__ASN_PPCE_FPE__FPE__V = ^x1	
                  [000000]  1496  EV6__ASN_PPCE_FPE__FPE__M = ^x1	
                  [000000]  1497  EV6__ASN_PPCE_FPE__RSV1__S = ^x3	
                  [000000]  1498  EV6__ASN_PPCE_FPE__RSV1__V = ^x2	
                  [000000]  1499  EV6__ASN_PPCE_FPE__RSV1__M = ^x3	
                  [000000]  1500  EV6__ASN_PPCE_FPE__ASTER__S = ^x5	
                  [000000]  1501  EV6__ASN_PPCE_FPE__ASTER__V = ^x4	
                  [000000]  1502  EV6__ASN_PPCE_FPE__ASTER__M = ^xf	
                  [000000]  1503  EV6__ASN_PPCE_FPE__ASTRR__S = ^x9	
                  [000000]  1504  EV6__ASN_PPCE_FPE__ASTRR__V = ^x4	
                  [000000]  1505  EV6__ASN_PPCE_FPE__ASTRR__M = ^xf	
                  [000000]  1506  EV6__ASN_PPCE_FPE__RSV2__S = ^xd	
                  [000000]  1507  EV6__ASN_PPCE_FPE__RSV2__V = ^x1a	
                  [000000]  1508  EV6__ASN_PPCE_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1509  EV6__ASN_PPCE_FPE__ASN__S = ^x27	
                  [000000]  1510  EV6__ASN_PPCE_FPE__ASN__V = ^x8	
                  [000000]  1511  EV6__ASN_PPCE_FPE__ASN__M = ^xff	
                  [000000]  1512  EV6__ASN_PPCE_FPE__RSV3__S = ^x2f	
                  [000000]  1513  EV6__ASN_PPCE_FPE__RSV3__V = ^x11	
                  [000000]  1514  EV6__ASN_PPCE_FPE__RSV3__M = ^x1ffff	
                  [000000]  1515  
                  [000000]  1516  EV6__ASTER_ASTRR_PPCE = ^x4e	
                  [000000]  1517  EV6__ASTER_ASTRR_PPCE__RSV0__S = ^x0	
                  [000000]  1518  EV6__ASTER_ASTRR_PPCE__RSV0__V = ^x1	
                  [000000]  1519  EV6__ASTER_ASTRR_PPCE__RSV0__M = ^x1	
                  [000000]  1520  EV6__ASTER_ASTRR_PPCE__PPCE__S = ^x1	
                  [000000]  1521  EV6__ASTER_ASTRR_PPCE__PPCE__V = ^x1	
                  [000000]  1522  EV6__ASTER_ASTRR_PPCE__PPCE__M = ^x1	
                  [000000]  1523  EV6__ASTER_ASTRR_PPCE__FPE__S = ^x2	
                  [000000]  1524  EV6__ASTER_ASTRR_PPCE__FPE__V = ^x1	
                  [000000]  1525  EV6__ASTER_ASTRR_PPCE__FPE__M = ^x1	
                  [000000]  1526  EV6__ASTER_ASTRR_PPCE__RSV1__S = ^x3	
                  [000000]  1527  EV6__ASTER_ASTRR_PPCE__RSV1__V = ^x2	
                  [000000]  1528  EV6__ASTER_ASTRR_PPCE__RSV1__M = ^x3	
                  [000000]  1529  EV6__ASTER_ASTRR_PPCE__ASTER__S = ^x5	
                  [000000]  1530  EV6__ASTER_ASTRR_PPCE__ASTER__V = ^x4	
                  [000000]  1531  EV6__ASTER_ASTRR_PPCE__ASTER__M = ^xf	
                  [000000]  1532  EV6__ASTER_ASTRR_PPCE__ASTRR__S = ^x9	
                  [000000]  1533  EV6__ASTER_ASTRR_PPCE__ASTRR__V = ^x4	
                  [000000]  1534  EV6__ASTER_ASTRR_PPCE__ASTRR__M = ^xf	
                  [000000]  1535  EV6__ASTER_ASTRR_PPCE__RSV2__S = ^xd	
                  [000000]  1536  EV6__ASTER_ASTRR_PPCE__RSV2__V = ^x1a	
                  [000000]  1537  EV6__ASTER_ASTRR_PPCE__RSV2__M = ^x3ffffff	
                  [000000]  1538  EV6__ASTER_ASTRR_PPCE__ASN__S = ^x27	
                  [000000]  1539  EV6__ASTER_ASTRR_PPCE__ASN__V = ^x8	
                  [000000]  1540  EV6__ASTER_ASTRR_PPCE__ASN__M = ^xff	
                  [000000]  1541  EV6__ASTER_ASTRR_PPCE__RSV3__S = ^x2f	
                  [000000]  1542  EV6__ASTER_ASTRR_PPCE__RSV3__V = ^x11	
                  [000000]  1543  EV6__ASTER_ASTRR_PPCE__RSV3__M = ^x1ffff	
                  [000000]  1544  
                  [000000]  1545  EV6__ASTER_ASTRR_FPE = ^x56	
                  [000000]  1546  EV6__ASTER_ASTRR_FPE__RSV0__S = ^x0	
                  [000000]  1547  EV6__ASTER_ASTRR_FPE__RSV0__V = ^x1	
                  [000000]  1548  EV6__ASTER_ASTRR_FPE__RSV0__M = ^x1	
                  [000000]  1549  EV6__ASTER_ASTRR_FPE__PPCE__S = ^x1	
                  [000000]  1550  EV6__ASTER_ASTRR_FPE__PPCE__V = ^x1	
                  [000000]  1551  EV6__ASTER_ASTRR_FPE__PPCE__M = ^x1	
                  [000000]  1552  EV6__ASTER_ASTRR_FPE__FPE__S = ^x2	
                  [000000]  1553  EV6__ASTER_ASTRR_FPE__FPE__V = ^x1	
                  [000000]  1554  EV6__ASTER_ASTRR_FPE__FPE__M = ^x1	
                  [000000]  1555  EV6__ASTER_ASTRR_FPE__RSV1__S = ^x3	
                  [000000]  1556  EV6__ASTER_ASTRR_FPE__RSV1__V = ^x2	
                  [000000]  1557  EV6__ASTER_ASTRR_FPE__RSV1__M = ^x3	
                  [000000]  1558  EV6__ASTER_ASTRR_FPE__ASTER__S = ^x5	
                  [000000]  1559  EV6__ASTER_ASTRR_FPE__ASTER__V = ^x4	
                  [000000]  1560  EV6__ASTER_ASTRR_FPE__ASTER__M = ^xf	
                  [000000]  1561  EV6__ASTER_ASTRR_FPE__ASTRR__S = ^x9	
                  [000000]  1562  EV6__ASTER_ASTRR_FPE__ASTRR__V = ^x4	
                  [000000]  1563  EV6__ASTER_ASTRR_FPE__ASTRR__M = ^xf	
                  [000000]  1564  EV6__ASTER_ASTRR_FPE__RSV2__S = ^xd	
                  [000000]  1565  EV6__ASTER_ASTRR_FPE__RSV2__V = ^x1a	
                  [000000]  1566  EV6__ASTER_ASTRR_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1567  EV6__ASTER_ASTRR_FPE__ASN__S = ^x27	
                  [000000]  1568  EV6__ASTER_ASTRR_FPE__ASN__V = ^x8	
                  [000000]  1569  EV6__ASTER_ASTRR_FPE__ASN__M = ^xff	
                  [000000]  1570  EV6__ASTER_ASTRR_FPE__RSV3__S = ^x2f	
                  [000000]  1571  EV6__ASTER_ASTRR_FPE__RSV3__V = ^x11	
                  [000000]  1572  EV6__ASTER_ASTRR_FPE__RSV3__M = ^x1ffff	
                  [000000]  1573  
                  [000000]  1574  EV6__ASTER_PPCE_FPE = ^x5a	
                  [000000]  1575  EV6__ASTER_PPCE_FPE__RSV0__S = ^x0	
                  [000000]  1576  EV6__ASTER_PPCE_FPE__RSV0__V = ^x1	
                  [000000]  1577  EV6__ASTER_PPCE_FPE__RSV0__M = ^x1	
                  [000000]  1578  EV6__ASTER_PPCE_FPE__PPCE__S = ^x1	
                  [000000]  1579  EV6__ASTER_PPCE_FPE__PPCE__V = ^x1	
                  [000000]  1580  EV6__ASTER_PPCE_FPE__PPCE__M = ^x1	
                  [000000]  1581  EV6__ASTER_PPCE_FPE__FPE__S = ^x2	
                  [000000]  1582  EV6__ASTER_PPCE_FPE__FPE__V = ^x1	
                  [000000]  1583  EV6__ASTER_PPCE_FPE__FPE__M = ^x1	
                  [000000]  1584  EV6__ASTER_PPCE_FPE__RSV1__S = ^x3	
                  [000000]  1585  EV6__ASTER_PPCE_FPE__RSV1__V = ^x2	
                  [000000]  1586  EV6__ASTER_PPCE_FPE__RSV1__M = ^x3	
                  [000000]  1587  EV6__ASTER_PPCE_FPE__ASTER__S = ^x5	
                  [000000]  1588  EV6__ASTER_PPCE_FPE__ASTER__V = ^x4	
                  [000000]  1589  EV6__ASTER_PPCE_FPE__ASTER__M = ^xf	
                  [000000]  1590  EV6__ASTER_PPCE_FPE__ASTRR__S = ^x9	
                  [000000]  1591  EV6__ASTER_PPCE_FPE__ASTRR__V = ^x4	
                  [000000]  1592  EV6__ASTER_PPCE_FPE__ASTRR__M = ^xf	
                  [000000]  1593  EV6__ASTER_PPCE_FPE__RSV2__S = ^xd	
                  [000000]  1594  EV6__ASTER_PPCE_FPE__RSV2__V = ^x1a	
                  [000000]  1595  EV6__ASTER_PPCE_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1596  EV6__ASTER_PPCE_FPE__ASN__S = ^x27	
                  [000000]  1597  EV6__ASTER_PPCE_FPE__ASN__V = ^x8	
                  [000000]  1598  EV6__ASTER_PPCE_FPE__ASN__M = ^xff	
                  [000000]  1599  EV6__ASTER_PPCE_FPE__RSV3__S = ^x2f	
                  [000000]  1600  EV6__ASTER_PPCE_FPE__RSV3__V = ^x11	
                  [000000]  1601  EV6__ASTER_PPCE_FPE__RSV3__M = ^x1ffff	
                  [000000]  1602  
                  [000000]  1603  EV6__ASTRR_PPCE_FPE = ^x5c	
                  [000000]  1604  EV6__ASTRR_PPCE_FPE__RSV0__S = ^x0	
                  [000000]  1605  EV6__ASTRR_PPCE_FPE__RSV0__V = ^x1	
                  [000000]  1606  EV6__ASTRR_PPCE_FPE__RSV0__M = ^x1	
                  [000000]  1607  EV6__ASTRR_PPCE_FPE__PPCE__S = ^x1	
                  [000000]  1608  EV6__ASTRR_PPCE_FPE__PPCE__V = ^x1	
                  [000000]  1609  EV6__ASTRR_PPCE_FPE__PPCE__M = ^x1	
                  [000000]  1610  EV6__ASTRR_PPCE_FPE__FPE__S = ^x2	
                  [000000]  1611  EV6__ASTRR_PPCE_FPE__FPE__V = ^x1	
                  [000000]  1612  EV6__ASTRR_PPCE_FPE__FPE__M = ^x1	
                  [000000]  1613  EV6__ASTRR_PPCE_FPE__RSV1__S = ^x3	
                  [000000]  1614  EV6__ASTRR_PPCE_FPE__RSV1__V = ^x2	
                  [000000]  1615  EV6__ASTRR_PPCE_FPE__RSV1__M = ^x3	
                  [000000]  1616  EV6__ASTRR_PPCE_FPE__ASTER__S = ^x5	
                  [000000]  1617  EV6__ASTRR_PPCE_FPE__ASTER__V = ^x4	
                  [000000]  1618  EV6__ASTRR_PPCE_FPE__ASTER__M = ^xf	
                  [000000]  1619  EV6__ASTRR_PPCE_FPE__ASTRR__S = ^x9	
                  [000000]  1620  EV6__ASTRR_PPCE_FPE__ASTRR__V = ^x4	
                  [000000]  1621  EV6__ASTRR_PPCE_FPE__ASTRR__M = ^xf	
                  [000000]  1622  EV6__ASTRR_PPCE_FPE__RSV2__S = ^xd	
                  [000000]  1623  EV6__ASTRR_PPCE_FPE__RSV2__V = ^x1a	
                  [000000]  1624  EV6__ASTRR_PPCE_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1625  EV6__ASTRR_PPCE_FPE__ASN__S = ^x27	
                  [000000]  1626  EV6__ASTRR_PPCE_FPE__ASN__V = ^x8	
                  [000000]  1627  EV6__ASTRR_PPCE_FPE__ASN__M = ^xff	
                  [000000]  1628  EV6__ASTRR_PPCE_FPE__RSV3__S = ^x2f	
                  [000000]  1629  EV6__ASTRR_PPCE_FPE__RSV3__V = ^x11	
                  [000000]  1630  EV6__ASTRR_PPCE_FPE__RSV3__M = ^x1ffff	
                  [000000]  1631  
                  [000000]  1632  EV6__ASN_ASTER_ASTRR_PPCE = ^x4f	
                  [000000]  1633  EV6__ASN_ASTER_ASTRR_PPCE__RSV0__S = ^x0	
                  [000000]  1634  EV6__ASN_ASTER_ASTRR_PPCE__RSV0__V = ^x1	
                  [000000]  1635  EV6__ASN_ASTER_ASTRR_PPCE__RSV0__M = ^x1	
                  [000000]  1636  EV6__ASN_ASTER_ASTRR_PPCE__PPCE__S = ^x1	
                  [000000]  1637  EV6__ASN_ASTER_ASTRR_PPCE__PPCE__V = ^x1	
                  [000000]  1638  EV6__ASN_ASTER_ASTRR_PPCE__PPCE__M = ^x1	
                  [000000]  1639  EV6__ASN_ASTER_ASTRR_PPCE__FPE__S = ^x2	
                  [000000]  1640  EV6__ASN_ASTER_ASTRR_PPCE__FPE__V = ^x1	
                  [000000]  1641  EV6__ASN_ASTER_ASTRR_PPCE__FPE__M = ^x1	
                  [000000]  1642  EV6__ASN_ASTER_ASTRR_PPCE__RSV1__S = ^x3	
                  [000000]  1643  EV6__ASN_ASTER_ASTRR_PPCE__RSV1__V = ^x2	
                  [000000]  1644  EV6__ASN_ASTER_ASTRR_PPCE__RSV1__M = ^x3	
                  [000000]  1645  EV6__ASN_ASTER_ASTRR_PPCE__ASTER__S = ^x5	
                  [000000]  1646  EV6__ASN_ASTER_ASTRR_PPCE__ASTER__V = ^x4	
                  [000000]  1647  EV6__ASN_ASTER_ASTRR_PPCE__ASTER__M = ^xf	
                  [000000]  1648  EV6__ASN_ASTER_ASTRR_PPCE__ASTRR__S = ^x9	
                  [000000]  1649  EV6__ASN_ASTER_ASTRR_PPCE__ASTRR__V = ^x4	
                  [000000]  1650  EV6__ASN_ASTER_ASTRR_PPCE__ASTRR__M = ^xf	
                  [000000]  1651  EV6__ASN_ASTER_ASTRR_PPCE__RSV2__S = ^xd	
                  [000000]  1652  EV6__ASN_ASTER_ASTRR_PPCE__RSV2__V = ^x1a	
                  [000000]  1653  EV6__ASN_ASTER_ASTRR_PPCE__RSV2__M = ^x3ffffff	
                  [000000]  1654  EV6__ASN_ASTER_ASTRR_PPCE__ASN__S = ^x27	
                  [000000]  1655  EV6__ASN_ASTER_ASTRR_PPCE__ASN__V = ^x8	
                  [000000]  1656  EV6__ASN_ASTER_ASTRR_PPCE__ASN__M = ^xff	
                  [000000]  1657  EV6__ASN_ASTER_ASTRR_PPCE__RSV3__S = ^x2f	
                  [000000]  1658  EV6__ASN_ASTER_ASTRR_PPCE__RSV3__V = ^x11	
                  [000000]  1659  EV6__ASN_ASTER_ASTRR_PPCE__RSV3__M = ^x1ffff	
                  [000000]  1660  
                  [000000]  1661  EV6__ASN_ASTER_ASTRR_FPE = ^x57	
                  [000000]  1662  EV6__ASN_ASTER_ASTRR_FPE__RSV0__S = ^x0	
                  [000000]  1663  EV6__ASN_ASTER_ASTRR_FPE__RSV0__V = ^x1	
                  [000000]  1664  EV6__ASN_ASTER_ASTRR_FPE__RSV0__M = ^x1	
                  [000000]  1665  EV6__ASN_ASTER_ASTRR_FPE__PPCE__S = ^x1	
                  [000000]  1666  EV6__ASN_ASTER_ASTRR_FPE__PPCE__V = ^x1	
                  [000000]  1667  EV6__ASN_ASTER_ASTRR_FPE__PPCE__M = ^x1	
                  [000000]  1668  EV6__ASN_ASTER_ASTRR_FPE__FPE__S = ^x2	
                  [000000]  1669  EV6__ASN_ASTER_ASTRR_FPE__FPE__V = ^x1	
                  [000000]  1670  EV6__ASN_ASTER_ASTRR_FPE__FPE__M = ^x1	
                  [000000]  1671  EV6__ASN_ASTER_ASTRR_FPE__RSV1__S = ^x3	
                  [000000]  1672  EV6__ASN_ASTER_ASTRR_FPE__RSV1__V = ^x2	
                  [000000]  1673  EV6__ASN_ASTER_ASTRR_FPE__RSV1__M = ^x3	
                  [000000]  1674  EV6__ASN_ASTER_ASTRR_FPE__ASTER__S = ^x5	
                  [000000]  1675  EV6__ASN_ASTER_ASTRR_FPE__ASTER__V = ^x4	
                  [000000]  1676  EV6__ASN_ASTER_ASTRR_FPE__ASTER__M = ^xf	
                  [000000]  1677  EV6__ASN_ASTER_ASTRR_FPE__ASTRR__S = ^x9	
                  [000000]  1678  EV6__ASN_ASTER_ASTRR_FPE__ASTRR__V = ^x4	
                  [000000]  1679  EV6__ASN_ASTER_ASTRR_FPE__ASTRR__M = ^xf	
                  [000000]  1680  EV6__ASN_ASTER_ASTRR_FPE__RSV2__S = ^xd	
                  [000000]  1681  EV6__ASN_ASTER_ASTRR_FPE__RSV2__V = ^x1a	
                  [000000]  1682  EV6__ASN_ASTER_ASTRR_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1683  EV6__ASN_ASTER_ASTRR_FPE__ASN__S = ^x27	
                  [000000]  1684  EV6__ASN_ASTER_ASTRR_FPE__ASN__V = ^x8	
                  [000000]  1685  EV6__ASN_ASTER_ASTRR_FPE__ASN__M = ^xff	
                  [000000]  1686  EV6__ASN_ASTER_ASTRR_FPE__RSV3__S = ^x2f	
                  [000000]  1687  EV6__ASN_ASTER_ASTRR_FPE__RSV3__V = ^x11	
                  [000000]  1688  EV6__ASN_ASTER_ASTRR_FPE__RSV3__M = ^x1ffff	
                  [000000]  1689  
                  [000000]  1690  EV6__ASN_ASTER_PPCE_FPE = ^x5b	
                  [000000]  1691  EV6__ASN_ASTER_PPCE_FPE__RSV0__S = ^x0	
                  [000000]  1692  EV6__ASN_ASTER_PPCE_FPE__RSV0__V = ^x1	
                  [000000]  1693  EV6__ASN_ASTER_PPCE_FPE__RSV0__M = ^x1	
                  [000000]  1694  EV6__ASN_ASTER_PPCE_FPE__PPCE__S = ^x1	
                  [000000]  1695  EV6__ASN_ASTER_PPCE_FPE__PPCE__V = ^x1	
                  [000000]  1696  EV6__ASN_ASTER_PPCE_FPE__PPCE__M = ^x1	
                  [000000]  1697  EV6__ASN_ASTER_PPCE_FPE__FPE__S = ^x2	
                  [000000]  1698  EV6__ASN_ASTER_PPCE_FPE__FPE__V = ^x1	
                  [000000]  1699  EV6__ASN_ASTER_PPCE_FPE__FPE__M = ^x1	
                  [000000]  1700  EV6__ASN_ASTER_PPCE_FPE__RSV1__S = ^x3	
                  [000000]  1701  EV6__ASN_ASTER_PPCE_FPE__RSV1__V = ^x2	
                  [000000]  1702  EV6__ASN_ASTER_PPCE_FPE__RSV1__M = ^x3	
                  [000000]  1703  EV6__ASN_ASTER_PPCE_FPE__ASTER__S = ^x5	
                  [000000]  1704  EV6__ASN_ASTER_PPCE_FPE__ASTER__V = ^x4	
                  [000000]  1705  EV6__ASN_ASTER_PPCE_FPE__ASTER__M = ^xf	
                  [000000]  1706  EV6__ASN_ASTER_PPCE_FPE__ASTRR__S = ^x9	
                  [000000]  1707  EV6__ASN_ASTER_PPCE_FPE__ASTRR__V = ^x4	
                  [000000]  1708  EV6__ASN_ASTER_PPCE_FPE__ASTRR__M = ^xf	
                  [000000]  1709  EV6__ASN_ASTER_PPCE_FPE__RSV2__S = ^xd	
                  [000000]  1710  EV6__ASN_ASTER_PPCE_FPE__RSV2__V = ^x1a	
                  [000000]  1711  EV6__ASN_ASTER_PPCE_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1712  EV6__ASN_ASTER_PPCE_FPE__ASN__S = ^x27	
                  [000000]  1713  EV6__ASN_ASTER_PPCE_FPE__ASN__V = ^x8	
                  [000000]  1714  EV6__ASN_ASTER_PPCE_FPE__ASN__M = ^xff	
                  [000000]  1715  EV6__ASN_ASTER_PPCE_FPE__RSV3__S = ^x2f	
                  [000000]  1716  EV6__ASN_ASTER_PPCE_FPE__RSV3__V = ^x11	
                  [000000]  1717  EV6__ASN_ASTER_PPCE_FPE__RSV3__M = ^x1ffff	
                  [000000]  1718  
                  [000000]  1719  EV6__ASN_ASTRR_PPCE_FPE = ^x5d	
                  [000000]  1720  EV6__ASN_ASTRR_PPCE_FPE__RSV0__S = ^x0	
                  [000000]  1721  EV6__ASN_ASTRR_PPCE_FPE__RSV0__V = ^x1	
                  [000000]  1722  EV6__ASN_ASTRR_PPCE_FPE__RSV0__M = ^x1	
                  [000000]  1723  EV6__ASN_ASTRR_PPCE_FPE__PPCE__S = ^x1	
                  [000000]  1724  EV6__ASN_ASTRR_PPCE_FPE__PPCE__V = ^x1	
                  [000000]  1725  EV6__ASN_ASTRR_PPCE_FPE__PPCE__M = ^x1	
                  [000000]  1726  EV6__ASN_ASTRR_PPCE_FPE__FPE__S = ^x2	
                  [000000]  1727  EV6__ASN_ASTRR_PPCE_FPE__FPE__V = ^x1	
                  [000000]  1728  EV6__ASN_ASTRR_PPCE_FPE__FPE__M = ^x1	
                  [000000]  1729  EV6__ASN_ASTRR_PPCE_FPE__RSV1__S = ^x3	
                  [000000]  1730  EV6__ASN_ASTRR_PPCE_FPE__RSV1__V = ^x2	
                  [000000]  1731  EV6__ASN_ASTRR_PPCE_FPE__RSV1__M = ^x3	
                  [000000]  1732  EV6__ASN_ASTRR_PPCE_FPE__ASTER__S = ^x5	
                  [000000]  1733  EV6__ASN_ASTRR_PPCE_FPE__ASTER__V = ^x4	
                  [000000]  1734  EV6__ASN_ASTRR_PPCE_FPE__ASTER__M = ^xf	
                  [000000]  1735  EV6__ASN_ASTRR_PPCE_FPE__ASTRR__S = ^x9	
                  [000000]  1736  EV6__ASN_ASTRR_PPCE_FPE__ASTRR__V = ^x4	
                  [000000]  1737  EV6__ASN_ASTRR_PPCE_FPE__ASTRR__M = ^xf	
                  [000000]  1738  EV6__ASN_ASTRR_PPCE_FPE__RSV2__S = ^xd	
                  [000000]  1739  EV6__ASN_ASTRR_PPCE_FPE__RSV2__V = ^x1a	
                  [000000]  1740  EV6__ASN_ASTRR_PPCE_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1741  EV6__ASN_ASTRR_PPCE_FPE__ASN__S = ^x27	
                  [000000]  1742  EV6__ASN_ASTRR_PPCE_FPE__ASN__V = ^x8	
                  [000000]  1743  EV6__ASN_ASTRR_PPCE_FPE__ASN__M = ^xff	
                  [000000]  1744  EV6__ASN_ASTRR_PPCE_FPE__RSV3__S = ^x2f	
                  [000000]  1745  EV6__ASN_ASTRR_PPCE_FPE__RSV3__V = ^x11	
                  [000000]  1746  EV6__ASN_ASTRR_PPCE_FPE__RSV3__M = ^x1ffff	
                  [000000]  1747  
                  [000000]  1748  EV6__ASTER_ASTRR_PPCE_FPE = ^x5e	
                  [000000]  1749  EV6__ASTER_ASTRR_PPCE_FPE__RSV0__S = ^x0	
                  [000000]  1750  EV6__ASTER_ASTRR_PPCE_FPE__RSV0__V = ^x1	
                  [000000]  1751  EV6__ASTER_ASTRR_PPCE_FPE__RSV0__M = ^x1	
                  [000000]  1752  EV6__ASTER_ASTRR_PPCE_FPE__PPCE__S = ^x1	
                  [000000]  1753  EV6__ASTER_ASTRR_PPCE_FPE__PPCE__V = ^x1	
                  [000000]  1754  EV6__ASTER_ASTRR_PPCE_FPE__PPCE__M = ^x1	
                  [000000]  1755  EV6__ASTER_ASTRR_PPCE_FPE__FPE__S = ^x2	
                  [000000]  1756  EV6__ASTER_ASTRR_PPCE_FPE__FPE__V = ^x1	
                  [000000]  1757  EV6__ASTER_ASTRR_PPCE_FPE__FPE__M = ^x1	
                  [000000]  1758  EV6__ASTER_ASTRR_PPCE_FPE__RSV1__S = ^x3	
                  [000000]  1759  EV6__ASTER_ASTRR_PPCE_FPE__RSV1__V = ^x2	
                  [000000]  1760  EV6__ASTER_ASTRR_PPCE_FPE__RSV1__M = ^x3	
                  [000000]  1761  EV6__ASTER_ASTRR_PPCE_FPE__ASTER__S = ^x5	
                  [000000]  1762  EV6__ASTER_ASTRR_PPCE_FPE__ASTER__V = ^x4	
                  [000000]  1763  EV6__ASTER_ASTRR_PPCE_FPE__ASTER__M = ^xf	
                  [000000]  1764  EV6__ASTER_ASTRR_PPCE_FPE__ASTRR__S = ^x9	
                  [000000]  1765  EV6__ASTER_ASTRR_PPCE_FPE__ASTRR__V = ^x4	
                  [000000]  1766  EV6__ASTER_ASTRR_PPCE_FPE__ASTRR__M = ^xf	
                  [000000]  1767  EV6__ASTER_ASTRR_PPCE_FPE__RSV2__S = ^xd	
                  [000000]  1768  EV6__ASTER_ASTRR_PPCE_FPE__RSV2__V = ^x1a	
                  [000000]  1769  EV6__ASTER_ASTRR_PPCE_FPE__RSV2__M = ^x3ffffff	
                  [000000]  1770  EV6__ASTER_ASTRR_PPCE_FPE__ASN__S = ^x27	
                  [000000]  1771  EV6__ASTER_ASTRR_PPCE_FPE__ASN__V = ^x8	
                  [000000]  1772  EV6__ASTER_ASTRR_PPCE_FPE__ASN__M = ^xff	
                  [000000]  1773  EV6__ASTER_ASTRR_PPCE_FPE__RSV3__S = ^x2f	
                  [000000]  1774  EV6__ASTER_ASTRR_PPCE_FPE__RSV3__V = ^x11	
                  [000000]  1775  EV6__ASTER_ASTRR_PPCE_FPE__RSV3__M = ^x1ffff	
                  [000000]  1776  
                  [000000]  1777  EV6__PROCESS_CONTEXT = ^x5f	
                  [000000]  1778  EV6__PROCESS_CONTEXT__RSV0__S = ^x0	
                  [000000]  1779  EV6__PROCESS_CONTEXT__RSV0__V = ^x1	
                  [000000]  1780  EV6__PROCESS_CONTEXT__RSV0__M = ^x1	
                  [000000]  1781  EV6__PROCESS_CONTEXT__PPCE__S = ^x1	
                  [000000]  1782  EV6__PROCESS_CONTEXT__PPCE__V = ^x1	
                  [000000]  1783  EV6__PROCESS_CONTEXT__PPCE__M = ^x1	
                  [000000]  1784  EV6__PROCESS_CONTEXT__FPE__S = ^x2	
                  [000000]  1785  EV6__PROCESS_CONTEXT__FPE__V = ^x1	
                  [000000]  1786  EV6__PROCESS_CONTEXT__FPE__M = ^x1	
                  [000000]  1787  EV6__PROCESS_CONTEXT__RSV1__S = ^x3	
                  [000000]  1788  EV6__PROCESS_CONTEXT__RSV1__V = ^x2	
                  [000000]  1789  EV6__PROCESS_CONTEXT__RSV1__M = ^x3	
                  [000000]  1790  EV6__PROCESS_CONTEXT__ASTER__S = ^x5	
                  [000000]  1791  EV6__PROCESS_CONTEXT__ASTER__V = ^x4	
                  [000000]  1792  EV6__PROCESS_CONTEXT__ASTER__M = ^xf	
                  [000000]  1793  EV6__PROCESS_CONTEXT__ASTRR__S = ^x9	
                  [000000]  1794  EV6__PROCESS_CONTEXT__ASTRR__V = ^x4	
                  [000000]  1795  EV6__PROCESS_CONTEXT__ASTRR__M = ^xf	
                  [000000]  1796  EV6__PROCESS_CONTEXT__RSV2__S = ^xd	
                  [000000]  1797  EV6__PROCESS_CONTEXT__RSV2__V = ^x1a	
                  [000000]  1798  EV6__PROCESS_CONTEXT__RSV2__M = ^x3ffffff	
                  [000000]  1799  EV6__PROCESS_CONTEXT__ASN__S = ^x27	
                  [000000]  1800  EV6__PROCESS_CONTEXT__ASN__V = ^x8	
                  [000000]  1801  EV6__PROCESS_CONTEXT__ASN__M = ^xff	
                  [000000]  1802  EV6__PROCESS_CONTEXT__RSV3__S = ^x2f	
                  [000000]  1803  EV6__PROCESS_CONTEXT__RSV3__V = ^x11	
                  [000000]  1804  EV6__PROCESS_CONTEXT__RSV3__M = ^x1ffff	
                  [000000]  1805  
                  [000000]  1806  EV6__DTB_TAG0 = ^x20	
                  [000000]  1807  EV6__DTB_TAG0__RSV1__S = ^x0	
                  [000000]  1808  EV6__DTB_TAG0__RSV1__V = ^xd	
                  [000000]  1809  EV6__DTB_TAG0__RSV1__M = ^x1fff	
                  [000000]  1810  EV6__DTB_TAG0__VA__S = ^xd	
                  [000000]  1811  EV6__DTB_TAG0__VA__V = ^x23	
                  [000000]  1812  EV6__DTB_TAG0__VA__M = ^x7ffffffff	
                  [000000]  1813  EV6__DTB_TAG0__RSV2__S = ^x30	
                  [000000]  1814  EV6__DTB_TAG0__RSV2__V = ^x10	
                  [000000]  1815  EV6__DTB_TAG0__RSV2__M = ^xffff	
                  [000000]  1816  
                  [000000]  1817  EV6__DTB_TAG1 = ^xa0	
                  [000000]  1818  EV6__DTB_TAG1__RSV1__S = ^x0	
                  [000000]  1819  EV6__DTB_TAG1__RSV1__V = ^xd	
                  [000000]  1820  EV6__DTB_TAG1__RSV1__M = ^x1fff	
                  [000000]  1821  EV6__DTB_TAG1__VA__S = ^xd	
                  [000000]  1822  EV6__DTB_TAG1__VA__V = ^x23	
                  [000000]  1823  EV6__DTB_TAG1__VA__M = ^x7ffffffff	
                  [000000]  1824  EV6__DTB_TAG1__RSV2__S = ^x30	
                  [000000]  1825  EV6__DTB_TAG1__RSV2__V = ^x10	
                  [000000]  1826  EV6__DTB_TAG1__RSV2__M = ^xffff	
                  [000000]  1827  
                  [000000]  1828  EV6__DTB_PTE0 = ^x21	
                  [000000]  1829  EV6__DTB_PTE0__RSV1__S = ^x0	
                  [000000]  1830  EV6__DTB_PTE0__RSV1__V = ^x1	
                  [000000]  1831  EV6__DTB_PTE0__RSV1__M = ^x1	
                  [000000]  1832  EV6__DTB_PTE0__FOR__S = ^x1	
                  [000000]  1833  EV6__DTB_PTE0__FOR__V = ^x1	
                  [000000]  1834  EV6__DTB_PTE0__FOR__M = ^x1	
                  [000000]  1835  EV6__DTB_PTE0__FOW__S = ^x2	
                  [000000]  1836  EV6__DTB_PTE0__FOW__V = ^x1	
                  [000000]  1837  EV6__DTB_PTE0__FOW__M = ^x1	
                  [000000]  1838  EV6__DTB_PTE0__RSV2__S = ^x3	
                  [000000]  1839  EV6__DTB_PTE0__RSV2__V = ^x1	
                  [000000]  1840  EV6__DTB_PTE0__RSV2__M = ^x1	
                  [000000]  1841  EV6__DTB_PTE0__ASM__S = ^x4	
                  [000000]  1842  EV6__DTB_PTE0__ASM__V = ^x1	
                  [000000]  1843  EV6__DTB_PTE0__ASM__M = ^x1	
                  [000000]  1844  EV6__DTB_PTE0__GH__S = ^x5	
                  [000000]  1845  EV6__DTB_PTE0__GH__V = ^x2	
                  [000000]  1846  EV6__DTB_PTE0__GH__M = ^x3	
                  [000000]  1847  EV6__DTB_PTE0__RSV3__S = ^x7	
                  [000000]  1848  EV6__DTB_PTE0__RSV3__V = ^x1	
                  [000000]  1849  EV6__DTB_PTE0__RSV3__M = ^x1	
                  [000000]  1850  EV6__DTB_PTE0__KRE__S = ^x8	
                  [000000]  1851  EV6__DTB_PTE0__KRE__V = ^x1	
                  [000000]  1852  EV6__DTB_PTE0__KRE__M = ^x1	
                  [000000]  1853  EV6__DTB_PTE0__ERE__S = ^x9	
                  [000000]  1854  EV6__DTB_PTE0__ERE__V = ^x1	
                  [000000]  1855  EV6__DTB_PTE0__ERE__M = ^x1	
                  [000000]  1856  EV6__DTB_PTE0__SRE__S = ^xa	
                  [000000]  1857  EV6__DTB_PTE0__SRE__V = ^x1	
                  [000000]  1858  EV6__DTB_PTE0__SRE__M = ^x1	
                  [000000]  1859  EV6__DTB_PTE0__URE__S = ^xb	
                  [000000]  1860  EV6__DTB_PTE0__URE__V = ^x1	
                  [000000]  1861  EV6__DTB_PTE0__URE__M = ^x1	
                  [000000]  1862  EV6__DTB_PTE0__KWE__S = ^xc	
                  [000000]  1863  EV6__DTB_PTE0__KWE__V = ^x1	
                  [000000]  1864  EV6__DTB_PTE0__KWE__M = ^x1	
                  [000000]  1865  EV6__DTB_PTE0__EWE__S = ^xd	
                  [000000]  1866  EV6__DTB_PTE0__EWE__V = ^x1	
                  [000000]  1867  EV6__DTB_PTE0__EWE__M = ^x1	
                  [000000]  1868  EV6__DTB_PTE0__SWE__S = ^xe	
                  [000000]  1869  EV6__DTB_PTE0__SWE__V = ^x1	
                  [000000]  1870  EV6__DTB_PTE0__SWE__M = ^x1	
                  [000000]  1871  EV6__DTB_PTE0__UWE__S = ^xf	
                  [000000]  1872  EV6__DTB_PTE0__UWE__V = ^x1	
                  [000000]  1873  EV6__DTB_PTE0__UWE__M = ^x1	
                  [000000]  1874  EV6__DTB_PTE0__RSV4__S = ^x10	
                  [000000]  1875  EV6__DTB_PTE0__RSV4__V = ^x10	
                  [000000]  1876  EV6__DTB_PTE0__RSV4__M = ^xffff	
                  [000000]  1877  EV6__DTB_PTE0__PFN__S = ^x20	
                  [000000]  1878  EV6__DTB_PTE0__PFN__V = ^x1f	
                  [000000]  1879  EV6__DTB_PTE0__PFN__M = ^x7fffffff	
                  [000000]  1880  EV6__DTB_PTE0__RSV5__S = ^x3f	
                  [000000]  1881  EV6__DTB_PTE0__RSV5__V = ^x1	
                  [000000]  1882  EV6__DTB_PTE0__RSV5__M = ^x1	
                  [000000]  1883  
                  [000000]  1884  EV6__DTB_PTE1 = ^xa1	
                  [000000]  1885  EV6__DTB_PTE1__RSV1__S = ^x0	
                  [000000]  1886  EV6__DTB_PTE1__RSV1__V = ^x1	
                  [000000]  1887  EV6__DTB_PTE1__RSV1__M = ^x1	
                  [000000]  1888  EV6__DTB_PTE1__FOR__S = ^x1	
                  [000000]  1889  EV6__DTB_PTE1__FOR__V = ^x1	
                  [000000]  1890  EV6__DTB_PTE1__FOR__M = ^x1	
                  [000000]  1891  EV6__DTB_PTE1__FOW__S = ^x2	
                  [000000]  1892  EV6__DTB_PTE1__FOW__V = ^x1	
                  [000000]  1893  EV6__DTB_PTE1__FOW__M = ^x1	
                  [000000]  1894  EV6__DTB_PTE1__RSV2__S = ^x3	
                  [000000]  1895  EV6__DTB_PTE1__RSV2__V = ^x1	
                  [000000]  1896  EV6__DTB_PTE1__RSV2__M = ^x1	
                  [000000]  1897  EV6__DTB_PTE1__ASM__S = ^x4	
                  [000000]  1898  EV6__DTB_PTE1__ASM__V = ^x1	
                  [000000]  1899  EV6__DTB_PTE1__ASM__M = ^x1	
                  [000000]  1900  EV6__DTB_PTE1__GH__S = ^x5	
                  [000000]  1901  EV6__DTB_PTE1__GH__V = ^x2	
                  [000000]  1902  EV6__DTB_PTE1__GH__M = ^x3	
                  [000000]  1903  EV6__DTB_PTE1__RSV3__S = ^x7	
                  [000000]  1904  EV6__DTB_PTE1__RSV3__V = ^x1	
                  [000000]  1905  EV6__DTB_PTE1__RSV3__M = ^x1	
                  [000000]  1906  EV6__DTB_PTE1__KRE__S = ^x8	
                  [000000]  1907  EV6__DTB_PTE1__KRE__V = ^x1	
                  [000000]  1908  EV6__DTB_PTE1__KRE__M = ^x1	
                  [000000]  1909  EV6__DTB_PTE1__ERE__S = ^x9	
                  [000000]  1910  EV6__DTB_PTE1__ERE__V = ^x1	
                  [000000]  1911  EV6__DTB_PTE1__ERE__M = ^x1	
                  [000000]  1912  EV6__DTB_PTE1__SRE__S = ^xa	
                  [000000]  1913  EV6__DTB_PTE1__SRE__V = ^x1	
                  [000000]  1914  EV6__DTB_PTE1__SRE__M = ^x1	
                  [000000]  1915  EV6__DTB_PTE1__URE__S = ^xb	
                  [000000]  1916  EV6__DTB_PTE1__URE__V = ^x1	
                  [000000]  1917  EV6__DTB_PTE1__URE__M = ^x1	
                  [000000]  1918  EV6__DTB_PTE1__KWE__S = ^xc	
                  [000000]  1919  EV6__DTB_PTE1__KWE__V = ^x1	
                  [000000]  1920  EV6__DTB_PTE1__KWE__M = ^x1	
                  [000000]  1921  EV6__DTB_PTE1__EWE__S = ^xd	
                  [000000]  1922  EV6__DTB_PTE1__EWE__V = ^x1	
                  [000000]  1923  EV6__DTB_PTE1__EWE__M = ^x1	
                  [000000]  1924  EV6__DTB_PTE1__SWE__S = ^xe	
                  [000000]  1925  EV6__DTB_PTE1__SWE__V = ^x1	
                  [000000]  1926  EV6__DTB_PTE1__SWE__M = ^x1	
                  [000000]  1927  EV6__DTB_PTE1__UWE__S = ^xf	
                  [000000]  1928  EV6__DTB_PTE1__UWE__V = ^x1	
                  [000000]  1929  EV6__DTB_PTE1__UWE__M = ^x1	
                  [000000]  1930  EV6__DTB_PTE1__RSV4__S = ^x10	
                  [000000]  1931  EV6__DTB_PTE1__RSV4__V = ^x10	
                  [000000]  1932  EV6__DTB_PTE1__RSV4__M = ^xffff	
                  [000000]  1933  EV6__DTB_PTE1__PFN__S = ^x20	
                  [000000]  1934  EV6__DTB_PTE1__PFN__V = ^x1f	
                  [000000]  1935  EV6__DTB_PTE1__PFN__M = ^x7fffffff	
                  [000000]  1936  EV6__DTB_PTE1__RSV5__S = ^x3f	
                  [000000]  1937  EV6__DTB_PTE1__RSV5__V = ^x1	
                  [000000]  1938  EV6__DTB_PTE1__RSV5__M = ^x1	
                  [000000]  1939  
                  [000000]  1940  EV6__DTB_IAP = ^xa2	
                  [000000]  1941  EV6__DTB_IAP__RSV__S = ^x0	
                  [000000]  1942  EV6__DTB_IAP__RSV__V = ^x40	
                  [000000]  1943  EV6__DTB_IAP__RSV__M = ^xffffffffffffffff	
                  [000000]  1944  
                  [000000]  1945  EV6__DTB_IA = ^xa3	
                  [000000]  1946  EV6__DTB_IA__RSV__S = ^x0	
                  [000000]  1947  EV6__DTB_IA__RSV__V = ^x40	
                  [000000]  1948  EV6__DTB_IA__RSV__M = ^xffffffffffffffff	
                  [000000]  1949  
                  [000000]  1950  EV6__DTB_IS0 = ^x24	
                  [000000]  1951  EV6__DTB_IS0__RSV1__S = ^x0	
                  [000000]  1952  EV6__DTB_IS0__RSV1__V = ^xd	
                  [000000]  1953  EV6__DTB_IS0__RSV1__M = ^x1fff	
                  [000000]  1954  EV6__DTB_IS0__VA__S = ^xd	
                  [000000]  1955  EV6__DTB_IS0__VA__V = ^x23	
                  [000000]  1956  EV6__DTB_IS0__VA__M = ^x7ffffffff	
                  [000000]  1957  EV6__DTB_IS0__RSV2__S = ^x30	
                  [000000]  1958  EV6__DTB_IS0__RSV2__V = ^x10	
                  [000000]  1959  EV6__DTB_IS0__RSV2__M = ^xffff	
                  [000000]  1960  
                  [000000]  1961  EV6__DTB_IS1 = ^xa4	
                  [000000]  1962  EV6__DTB_IS1__RSV1__S = ^x0	
                  [000000]  1963  EV6__DTB_IS1__RSV1__V = ^xd	
                  [000000]  1964  EV6__DTB_IS1__RSV1__M = ^x1fff	
                  [000000]  1965  EV6__DTB_IS1__VA__S = ^xd	
                  [000000]  1966  EV6__DTB_IS1__VA__V = ^x23	
                  [000000]  1967  EV6__DTB_IS1__VA__M = ^x7ffffffff	
                  [000000]  1968  EV6__DTB_IS1__RSV2__S = ^x30	
                  [000000]  1969  EV6__DTB_IS1__RSV2__V = ^x10	
                  [000000]  1970  EV6__DTB_IS1__RSV2__M = ^xffff	
                  [000000]  1971  
                  [000000]  1972  EV6__DTB_ASN0 = ^x25	
                  [000000]  1973  EV6__DTB_ASN0__RSV__S = ^x0	
                  [000000]  1974  EV6__DTB_ASN0__RSV__V = ^x38	
                  [000000]  1975  EV6__DTB_ASN0__RSV__M = ^xffffffffffffff	
                  [000000]  1976  EV6__DTB_ASN0__ASN__S = ^x38	
                  [000000]  1977  EV6__DTB_ASN0__ASN__V = ^x8	
                  [000000]  1978  EV6__DTB_ASN0__ASN__M = ^xff	
                  [000000]  1979  
                  [000000]  1980  EV6__DTB_ASN1 = ^xa5	
                  [000000]  1981  EV6__DTB_ASN1__RSV__S = ^x0	
                  [000000]  1982  EV6__DTB_ASN1__RSV__V = ^x38	
                  [000000]  1983  EV6__DTB_ASN1__RSV__M = ^xffffffffffffff	
                  [000000]  1984  EV6__DTB_ASN1__ASN__S = ^x38	
                  [000000]  1985  EV6__DTB_ASN1__ASN__V = ^x8	
                  [000000]  1986  EV6__DTB_ASN1__ASN__M = ^xff	
                  [000000]  1987  
                  [000000]  1988  EV6__DTB_ALT_MODE = ^x26	
                  [000000]  1989  EV6__DTB_ALT_MODE__MODE__S = ^x0	
                  [000000]  1990  EV6__DTB_ALT_MODE__MODE__V = ^x2	
                  [000000]  1991  EV6__DTB_ALT_MODE__MODE__M = ^x3	
                  [000000]  1992  EV6__DTB_ALT_MODE__RSV1__S = ^x2	
                  [000000]  1993  EV6__DTB_ALT_MODE__RSV1__V = ^x3e	
                  [000000]  1994  EV6__DTB_ALT_MODE__RSV1__M = ^x3fffffffffffffff	
                  [000000]  1995  
                  [000000]  1996  EV6__MM_STAT = ^x27	
                  [000000]  1997  EV6__MM_STAT__WR__S = ^x0	
                  [000000]  1998  EV6__MM_STAT__WR__V = ^x1	
                  [000000]  1999  EV6__MM_STAT__WR__M = ^x1	
                  [000000]  2000  EV6__MM_STAT__ACV__S = ^x1	
                  [000000]  2001  EV6__MM_STAT__ACV__V = ^x1	
                  [000000]  2002  EV6__MM_STAT__ACV__M = ^x1	
                  [000000]  2003  EV6__MM_STAT__FOR__S = ^x2	
                  [000000]  2004  EV6__MM_STAT__FOR__V = ^x1	
                  [000000]  2005  EV6__MM_STAT__FOR__M = ^x1	
                  [000000]  2006  EV6__MM_STAT__FOW__S = ^x3	
                  [000000]  2007  EV6__MM_STAT__FOW__V = ^x1	
                  [000000]  2008  EV6__MM_STAT__FOW__M = ^x1	
                  [000000]  2009  EV6__MM_STAT__OPCODE__S = ^x4	
                  [000000]  2010  EV6__MM_STAT__OPCODE__V = ^x6	
                  [000000]  2011  EV6__MM_STAT__OPCODE__M = ^x3f	
                  [000000]  2012  EV6__MM_STAT__DC_TAG_PERR__S = ^xa	
                  [000000]  2013  EV6__MM_STAT__DC_TAG_PERR__V = ^x1	
                  [000000]  2014  EV6__MM_STAT__DC_TAG_PERR__M = ^x1	
                  [000000]  2015  EV6__MM_STAT__RSV1__S = ^xb	
                  [000000]  2016  EV6__MM_STAT__RSV1__V = ^x35	
                  [000000]  2017  EV6__MM_STAT__RSV1__M = ^x1fffffffffffff	
                  [000000]  2018  
                  [000000]  2019  EV6__M_CTL = ^x28	
                  [000000]  2020  EV6__M_CTL__RSV1__S = ^x0	
                  [000000]  2021  EV6__M_CTL__RSV1__V = ^x1	
                  [000000]  2022  EV6__M_CTL__RSV1__M = ^x1	
                  [000000]  2023  EV6__M_CTL__SPE__S = ^x1	
                  [000000]  2024  EV6__M_CTL__SPE__V = ^x3	
                  [000000]  2025  EV6__M_CTL__SPE__M = ^x7	
                  [000000]  2026  EV6__M_CTL__SPEC_ST_CONS__S = ^x4	
                  [000000]  2027  EV6__M_CTL__SPEC_ST_CONS__V = ^x2	
                  [000000]  2028  EV6__M_CTL__SPEC_ST_CONS__M = ^x3	
                  [000000]  2029  EV6__M_CTL__RSV2__S = ^x6	
                  [000000]  2030  EV6__M_CTL__RSV2__V = ^x3a	
                  [000000]  2031  EV6__M_CTL__RSV2__M = ^x3ffffffffffffff	
                  [000000]  2032  
                  [000000]  2033  EV6__DC_CTL = ^x29	
                  [000000]  2034  EV6__DC_CTL__SET_EN__S = ^x0	
                  [000000]  2035  EV6__DC_CTL__SET_EN__V = ^x2	
                  [000000]  2036  EV6__DC_CTL__SET_EN__M = ^x3	
                  [000000]  2037  EV6__DC_CTL__F_HIT__S = ^x2	
                  [000000]  2038  EV6__DC_CTL__F_HIT__V = ^x1	
                  [000000]  2039  EV6__DC_CTL__F_HIT__M = ^x1	
                  [000000]  2040  EV6__DC_CTL__FLUSH__S = ^x3	
                  [000000]  2041  EV6__DC_CTL__FLUSH__V = ^x1	
                  [000000]  2042  EV6__DC_CTL__FLUSH__M = ^x1	
                  [000000]  2043  EV6__DC_CTL__F_BAD_TPAR__S = ^x4	
                  [000000]  2044  EV6__DC_CTL__F_BAD_TPAR__V = ^x1	
                  [000000]  2045  EV6__DC_CTL__F_BAD_TPAR__M = ^x1	
                  [000000]  2046  EV6__DC_CTL__F_BAD_DECC__S = ^x5	
                  [000000]  2047  EV6__DC_CTL__F_BAD_DECC__V = ^x1	
                  [000000]  2048  EV6__DC_CTL__F_BAD_DECC__M = ^x1	
                  [000000]  2049  EV6__DC_CTL__DCTAG_PAR_EN__S = ^x6	
                  [000000]  2050  EV6__DC_CTL__DCTAG_PAR_EN__V = ^x1	
                  [000000]  2051  EV6__DC_CTL__DCTAG_PAR_EN__M = ^x1	
                  [000000]  2052  EV6__DC_CTL__DCDAT_ERR_EN__S = ^x7	
                  [000000]  2053  EV6__DC_CTL__DCDAT_ERR_EN__V = ^x1	
                  [000000]  2054  EV6__DC_CTL__DCDAT_ERR_EN__M = ^x1	
                  [000000]  2055  EV6__DC_CTL__RSV1__S = ^x8	
                  [000000]  2056  EV6__DC_CTL__RSV1__V = ^x38	
                  [000000]  2057  EV6__DC_CTL__RSV1__M = ^xffffffffffffff	
                  [000000]  2058  
                  [000000]  2059  EV6__DC_STAT = ^x2a	
                  [000000]  2060  EV6__DC_STAT__TPERR_P0__S = ^x0	
                  [000000]  2061  EV6__DC_STAT__TPERR_P0__V = ^x1	
                  [000000]  2062  EV6__DC_STAT__TPERR_P0__M = ^x1	
                  [000000]  2063  EV6__DC_STAT__TPERR_P1__S = ^x1	
                  [000000]  2064  EV6__DC_STAT__TPERR_P1__V = ^x1	
                  [000000]  2065  EV6__DC_STAT__TPERR_P1__M = ^x1	
                  [000000]  2066  EV6__DC_STAT__ECC_ERR_ST__S = ^x2	
                  [000000]  2067  EV6__DC_STAT__ECC_ERR_ST__V = ^x1	
                  [000000]  2068  EV6__DC_STAT__ECC_ERR_ST__M = ^x1	
                  [000000]  2069  EV6__DC_STAT__ECC_ERR_LD__S = ^x3	
                  [000000]  2070  EV6__DC_STAT__ECC_ERR_LD__V = ^x1	
                  [000000]  2071  EV6__DC_STAT__ECC_ERR_LD__M = ^x1	
                  [000000]  2072  EV6__DC_STAT__SEO__S = ^x4	
                  [000000]  2073  EV6__DC_STAT__SEO__V = ^x1	
                  [000000]  2074  EV6__DC_STAT__SEO__M = ^x1	
                  [000000]  2075  EV6__DC_STAT__RSV1__S = ^x5	
                  [000000]  2076  EV6__DC_STAT__RSV1__V = ^x3b	
                  [000000]  2077  EV6__DC_STAT__RSV1__M = ^x7ffffffffffffff	
                  [000000]  2078  
                  [000000]  2079  EV6__DATA = ^x2b	
                  [000000]  2080  EV6__DATA__C_DATA__S = ^x0	
                  [000000]  2081  EV6__DATA__C_DATA__V = ^x6	
                  [000000]  2082  EV6__DATA__C_DATA__M = ^x3f	
                  [000000]  2083  EV6__DATA__RSV1__S = ^x6	
                  [000000]  2084  EV6__DATA__RSV1__V = ^x3a	
                  [000000]  2085  EV6__DATA__RSV1__M = ^x3ffffffffffffff	
                  [000000]  2086  
                  [000000]  2087  EV6__SHIFT_CONTROL = ^x2c	
                  [000000]  2088  EV6__SHIFT_CONTROL__C_SHIFT__S = ^x0	
                  [000000]  2089  EV6__SHIFT_CONTROL__C_SHIFT__V = ^x1	
                  [000000]  2090  EV6__SHIFT_CONTROL__C_SHIFT__M = ^x1	
                  [000000]  2091  EV6__SHIFT_CONTROL__RSV1__S = ^x1	
                  [000000]  2092  EV6__SHIFT_CONTROL__RSV1__V = ^x3f	
                  [000000]  2093  EV6__SHIFT_CONTROL__RSV1__M = ^x7fffffffffffffff	
                  [000000]  2094  
                  [000000]  2095  EV6__FEN = ^x10000	
                  [000000]  2096  EV6__FEN__FEN__S = ^x0	
                  [000000]  2097  EV6__FEN__FEN__V = ^x1	
                  [000000]  2098  EV6__FEN__FEN__M = ^x1	
                  [000000]  2099  EV6__FEN__RSV2__S = ^x1	
                  [000000]  2100  EV6__FEN__RSV2__V = ^x3f	
                  [000000]  2101  EV6__FEN__RSV2__M = ^x7fffffffffffffff	
                  [000000]  2102  
                  [000000]  2103  EV6__FPCR = ^x10001	
                  [000000]  2104  EV6__FPCR__RSV1__S = ^x0	
                  [000000]  2105  EV6__FPCR__RSV1__V = ^x30	
                  [000000]  2106  EV6__FPCR__RSV1__M = ^xffffffffffff	
                  [000000]  2107  EV6__FPCR__DNZ__S = ^x30	
                  [000000]  2108  EV6__FPCR__DNZ__V = ^x1	
                  [000000]  2109  EV6__FPCR__DNZ__M = ^x1	
                  [000000]  2110  EV6__FPCR__INVD__S = ^x31	
                  [000000]  2111  EV6__FPCR__INVD__V = ^x1	
                  [000000]  2112  EV6__FPCR__INVD__M = ^x1	
                  [000000]  2113  EV6__FPCR__DZED__S = ^x32	
                  [000000]  2114  EV6__FPCR__DZED__V = ^x1	
                  [000000]  2115  EV6__FPCR__DZED__M = ^x1	
                  [000000]  2116  EV6__FPCR__OVFD__S = ^x33	
                  [000000]  2117  EV6__FPCR__OVFD__V = ^x1	
                  [000000]  2118  EV6__FPCR__OVFD__M = ^x1	
                  [000000]  2119  EV6__FPCR__INV__S = ^x34	
                  [000000]  2120  EV6__FPCR__INV__V = ^x1	
                  [000000]  2121  EV6__FPCR__INV__M = ^x1	
                  [000000]  2122  EV6__FPCR__DZE__S = ^x35	
                  [000000]  2123  EV6__FPCR__DZE__V = ^x1	
                  [000000]  2124  EV6__FPCR__DZE__M = ^x1	
                  [000000]  2125  EV6__FPCR__OVF__S = ^x36	
                  [000000]  2126  EV6__FPCR__OVF__V = ^x1	
                  [000000]  2127  EV6__FPCR__OVF__M = ^x1	
                  [000000]  2128  EV6__FPCR__UNF__S = ^x37	
                  [000000]  2129  EV6__FPCR__UNF__V = ^x1	
                  [000000]  2130  EV6__FPCR__UNF__M = ^x1	
                  [000000]  2131  EV6__FPCR__INE__S = ^x38	
                  [000000]  2132  EV6__FPCR__INE__V = ^x1	
                  [000000]  2133  EV6__FPCR__INE__M = ^x1	
                  [000000]  2134  EV6__FPCR__IOV__S = ^x39	
                  [000000]  2135  EV6__FPCR__IOV__V = ^x1	
                  [000000]  2136  EV6__FPCR__IOV__M = ^x1	
                  [000000]  2137  EV6__FPCR__DYN__S = ^x3a	
                  [000000]  2138  EV6__FPCR__DYN__V = ^x2	
                  [000000]  2139  EV6__FPCR__DYN__M = ^x3	
                  [000000]  2140  EV6__FPCR__UNDZ__S = ^x3c	
                  [000000]  2141  EV6__FPCR__UNDZ__V = ^x1	
                  [000000]  2142  EV6__FPCR__UNDZ__M = ^x1	
                  [000000]  2143  EV6__FPCR__UNFD__S = ^x3d	
                  [000000]  2144  EV6__FPCR__UNFD__V = ^x1	
                  [000000]  2145  EV6__FPCR__UNFD__M = ^x1	
                  [000000]  2146  EV6__FPCR__INED__S = ^x3e	
                  [000000]  2147  EV6__FPCR__INED__V = ^x1	
                  [000000]  2148  EV6__FPCR__INED__M = ^x1	
                  [000000]  2149  EV6__FPCR__SUM__S = ^x3f	
                  [000000]  2150  EV6__FPCR__SUM__V = ^x1	
                  [000000]  2151  EV6__FPCR__SUM__M = ^x1	
                  [000000]  2152  
                  [000000]  2153  EV6__HW_INT_REG = ^x1000e	
                  [000000]  2154  EV6__HW_INT_REG__RSV1__S = ^x0	
                  [000000]  2155  EV6__HW_INT_REG__RSV1__V = ^x1a	
                  [000000]  2156  EV6__HW_INT_REG__RSV1__M = ^x3ffffff	
                  [000000]  2157  EV6__HW_INT_REG__FBTP__S = ^x1a	
                  [000000]  2158  EV6__HW_INT_REG__FBTP__V = ^x1	
                  [000000]  2159  EV6__HW_INT_REG__FBTP__M = ^x1	
                  [000000]  2160  EV6__HW_INT_REG__FBDP__S = ^x1b	
                  [000000]  2161  EV6__HW_INT_REG__FBDP__V = ^x1	
                  [000000]  2162  EV6__HW_INT_REG__FBDP__M = ^x1	
                  [000000]  2163  EV6__HW_INT_REG__MCHK_D__S = ^x1c	
                  [000000]  2164  EV6__HW_INT_REG__MCHK_D__V = ^x1	
                  [000000]  2165  EV6__HW_INT_REG__MCHK_D__M = ^x1	
                  [000000]  2166  EV6__HW_INT_REG__PC__S = ^x1d	
                  [000000]  2167  EV6__HW_INT_REG__PC__V = ^x2	
                  [000000]  2168  EV6__HW_INT_REG__PC__M = ^x3	
                  [000000]  2169  EV6__HW_INT_REG__CR__S = ^x1f	
                  [000000]  2170  EV6__HW_INT_REG__CR__V = ^x1	
                  [000000]  2171  EV6__HW_INT_REG__CR__M = ^x1	
                  [000000]  2172  EV6__HW_INT_REG__SL__S = ^x20	
                  [000000]  2173  EV6__HW_INT_REG__SL__V = ^x1	
                  [000000]  2174  EV6__HW_INT_REG__SL__M = ^x1	
                  [000000]  2175  EV6__HW_INT_REG__RSV2__S = ^x21	
                  [000000]  2176  EV6__HW_INT_REG__RSV2__V = ^x1f	
                  [000000]  2177  EV6__HW_INT_REG__RSV2__M = ^x7fffffff	
                  [000000]  2178  
                  [000000]  2179  EV6__PMPC = ^x5	
                  [000000]  2180  EV6__PMPC__PAL__S = ^x0	
                  [000000]  2181  EV6__PMPC__PAL__V = ^x1	
                  [000000]  2182  EV6__PMPC__PAL__M = ^x1	
                  [000000]  2183  EV6__PMPC__RSV__S = ^x1	
                  [000000]  2184  EV6__PMPC__RSV__V = ^x1	
                  [000000]  2185  EV6__PMPC__RSV__M = ^x1	
                  [000000]  2186  EV6__PMPC__PC__S = ^x2	
                  [000000]  2187  EV6__PMPC__PC__V = ^x3e	
                  [000000]  2188  EV6__PMPC__PC__M = ^x3fffffffffffffff	
                  [000000]  2189  
                  [000000]  2190  EV6_SCB__CC = ^x20	
                  [000000]  2191  EV6_SCB__CC_CTL = ^x20	
                  [000000]  2192  EV6_SCB__VA = ^xf0	
                  [000000]  2193  EV6_SCB__VA_FORM = ^xf0	
                  [000000]  2194  EV6_SCB__VA_CTL = ^x20	
                  [000000]  2195  EV6_SCB__ITB_TAG = ^x40	
                  [000000]  2196  EV6_SCB__ITB_PTE = ^x11	
                  [000000]  2197  EV6_SCB__ITB_IAP = ^x10	
                  [000000]  2198  EV6_SCB__ITB_IA = ^x10	
                  [000000]  2199  EV6_SCB__ITB_IS = ^x50	
                  [000000]  2200  EV6_SCB__PMPC = ^x10	
                  [000000]  2201  EV6_SCB__EXC_ADDR = ^x0	
                  [000000]  2202  EV6_SCB__IVA_FORM = ^x10	
                  [000000]  2203  EV6_SCB__PS = ^x10	
                  [000000]  2204  EV6_SCB__IER = ^x10	
                  [000000]  2205  EV6_SCB__IER_CM = ^x10	
                  [000000]  2206  EV6_SCB__SIRR = ^x10	
                  [000000]  2207  EV6_SCB__ISUM = ^x0	
                  [000000]  2208  EV6_SCB__HW_INT_CLR = ^x10	
                  [000000]  2209  EV6_SCB__EXC_SUM = ^x0	
                  [000000]  2210  EV6_SCB__PAL_BASE = ^x10	
                  [000000]  2211  EV6_SCB__I_CTL = ^x10	
                  [000000]  2212  EV6_SCB__IC_FLUSH = ^x10	
                  [000000]  2213  EV6_SCB__IC_FLUSH_ASM = ^x10	
                  [000000]  2214  EV6_SCB__PCTR_CTL = ^x10	
                  [000000]  2215  EV6_SCB__CLR_MAP = ^xf0	
                  [000000]  2216  EV6_SCB__I_STAT = ^x10	
                  [000000]  2217  EV6_SCB__ASN = ^x10	
                  [000000]  2218  EV6_SCB__ASTER = ^x10	
                  [000000]  2219  EV6_SCB__ASTRR = ^x10	
                  [000000]  2220  EV6_SCB__PPCE = ^x10	
                  [000000]  2221  EV6_SCB__FPE = ^x10	
                  [000000]  2222  EV6_SCB__PROCESS_CONTEXT = ^x10	
                  [000000]  2223  EV6_SCB__DTB_TAG0 = ^x44	
                  [000000]  2224  EV6_SCB__DTB_TAG1 = ^x22	
                  [000000]  2225  EV6_SCB__DTB_PTE0 = ^x11	
                  [000000]  2226  EV6_SCB__DTB_PTE1 = ^x88	
                  [000000]  2227  EV6_SCB__DTB_IAP = ^x80	
                  [000000]  2228  EV6_SCB__DTB_IA = ^x80	
                  [000000]  2229  EV6_SCB__DTB_IS0 = ^x40	
                  [000000]  2230  EV6_SCB__DTB_IS1 = ^x80	
                  [000000]  2231  EV6_SCB__DTB_ASN0 = ^x10	
                  [000000]  2232  EV6_SCB__DTB_ASN1 = ^x80	
                  [000000]  2233  EV6_SCB__DTB_ALT_MODE = ^x40	
                  [000000]  2234  EV6_SCB__MM_STAT = ^x0	
                  [000000]  2235  EV6_SCB__M_CTL = ^x40	
                  [000000]  2236  EV6_SCB__DC_CTL = ^x40	
                  [000000]  2237  EV6_SCB__DC_STAT = ^x40	
                  [000000]  2238  EV6_SCB__DATA = ^x40	
                  [000000]  2239  EV6_SCB__SHIFT_CONTROL = ^x40	
                  [000000]  2240  EV6_SCB__SLEEP = ^xf0	
                  [000000]  2241  
File: ev6_redefine_defs.mar
                  [000000]     0   EV6__CC = <EV6__CC @ 8> ! EV6_SCB__CC
                  [000000]     1   EV6__CC_CTL = <EV6__CC_CTL @ 8> ! EV6_SCB__CC_CTL
                  [000000]     2   EV6__VA = <EV6__VA @ 8> ! EV6_SCB__VA
                  [000000]     3   EV6__VA_FORM = <EV6__VA_FORM @ 8> ! EV6_SCB__VA_FORM
                  [000000]     4   EV6__VA_FORM_48 = <EV6__VA_FORM @ 8> ! EV6_SCB__VA_FORM
                  [000000]     5   EV6__VA_FORM_32 = <EV6__VA_FORM @ 8> ! EV6_SCB__VA_FORM
                  [000000]     6   EV6__VA_CTL = <EV6__VA_CTL @ 8> ! EV6_SCB__VA_CTL
                  [000000]     7   EV6__ITB_TAG = <EV6__ITB_TAG @ 8> ! EV6_SCB__ITB_TAG
                  [000000]     8   EV6__ITB_PTE = <EV6__ITB_PTE @ 8> ! EV6_SCB__ITB_PTE
                  [000000]     9   EV6__ITB_IAP = <EV6__ITB_IAP @ 8> ! EV6_SCB__ITB_IAP
                  [000000]    10   EV6__ITB_IA = <EV6__ITB_IA @ 8> ! EV6_SCB__ITB_IA
                  [000000]    11   EV6__ITB_IS = <EV6__ITB_IS @ 8> ! EV6_SCB__ITB_IS
                  [000000]    12   EV6__PMPC = <EV6__PMPC @ 8> ! EV6_SCB__PMPC
                  [000000]    13   EV6__EXC_ADDR = <EV6__EXC_ADDR @ 8> ! EV6_SCB__EXC_ADDR
                  [000000]    14   EV6__IVA_FORM = <EV6__IVA_FORM @ 8> ! EV6_SCB__IVA_FORM
                  [000000]    15   EV6__IVA_FORM_48 = <EV6__IVA_FORM @ 8> ! EV6_SCB__IVA_FORM
                  [000000]    16   EV6__IVA_FORM_32 = <EV6__IVA_FORM @ 8> ! EV6_SCB__IVA_FORM
                  [000000]    17   EV6__PS = <EV6__PS @ 8> ! EV6_SCB__PS
                  [000000]    18   EV6__IER = <EV6__IER @ 8> ! EV6_SCB__IER
                  [000000]    19   EV6__IER_CM = <EV6__IER_CM @ 8> ! EV6_SCB__IER_CM
                  [000000]    20   EV6__SIRR = <EV6__SIRR @ 8> ! EV6_SCB__SIRR
                  [000000]    21   EV6__ISUM = <EV6__ISUM @ 8> ! EV6_SCB__ISUM
                  [000000]    22   EV6__HW_INT_CLR = <EV6__HW_INT_CLR @ 8> ! EV6_SCB__HW_INT_CLR
                  [000000]    23   EV6__EXC_SUM = <EV6__EXC_SUM @ 8> ! EV6_SCB__EXC_SUM
                  [000000]    24   EV6__PAL_BASE = <EV6__PAL_BASE @ 8> ! EV6_SCB__PAL_BASE
                  [000000]    25   EV6__I_CTL = <EV6__I_CTL @ 8> ! EV6_SCB__I_CTL
                  [000000]    26   EV6__IC_FLUSH = <EV6__IC_FLUSH @ 8> ! EV6_SCB__IC_FLUSH
                  [000000]    27   EV6__IC_FLUSH_ASM = <EV6__IC_FLUSH_ASM @ 8> ! EV6_SCB__IC_FLUSH_ASM
                  [000000]    28   EV6__PCTR_CTL = <EV6__PCTR_CTL @ 8> ! EV6_SCB__PCTR_CTL
                  [000000]    29   EV6__CLR_MAP = <EV6__CLR_MAP @ 8> ! EV6_SCB__CLR_MAP
                  [000000]    30   EV6__I_STAT = <EV6__I_STAT @ 8> ! EV6_SCB__I_STAT
                  [000000]    31   EV6__ASN = <EV6__ASN @ 8> ! EV6_SCB__ASN
                  [000000]    32   EV6__ASTER = <EV6__ASTER @ 8> ! EV6_SCB__ASTER
                  [000000]    33   EV6__ASTRR = <EV6__ASTRR @ 8> ! EV6_SCB__ASTRR
                  [000000]    34   EV6__PPCE = <EV6__PPCE @ 8> ! EV6_SCB__PPCE
                  [000000]    35   EV6__FPE = <EV6__FPE @ 8> ! EV6_SCB__FPE
                  [000000]    36   EV6__ASN_ASTER = <EV6__ASN_ASTER @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    37   EV6__ASN_ASTRR = <EV6__ASN_ASTRR @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    38   EV6__ASN_PPCE = <EV6__ASN_PPCE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    39   EV6__ASN_FPE = <EV6__ASN_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    40   EV6__ASTER_ASTRR = <EV6__ASTER_ASTRR @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    41   EV6__ASTER_PPCE = <EV6__ASTER_PPCE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    42   EV6__ASTER_FPE = <EV6__ASTER_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    43   EV6__ASTRR_PPCE = <EV6__ASTRR_PPCE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    44   EV6__ASTRR_FPE  = <EV6__ASTRR_FPE  @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    45   EV6__PPCE_FPE = <EV6__PPCE_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    46   EV6__ASN_ASTER_ASTRR = <EV6__ASN_ASTER_ASTRR @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    47   EV6__ASN_ASTER_PPCE = <EV6__ASN_ASTER_PPCE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    48   EV6__ASN_ASTER_FPE = <EV6__ASN_ASTER_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    49   EV6__ASN_ASTRR_PPCE = <EV6__ASN_ASTRR_PPCE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    50   EV6__ASN_ASTRR_FPE = <EV6__ASN_ASTRR_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    51   EV6__ASN_PPCE_FPE  = <EV6__ASN_PPCE_FPE  @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    52   EV6__ASTER_ASTRR_PPCE = <EV6__ASTER_ASTRR_PPCE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    53   EV6__ASTER_ASTRR_FPE = <EV6__ASTER_ASTRR_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    54   EV6__ASTER_PPCE_FPE  = <EV6__ASTER_PPCE_FPE  @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    55   EV6__ASTRR_PPCE_FPE = <EV6__ASTRR_PPCE_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    56   EV6__ASN_ASTER_ASTRR_PPCE = <EV6__ASN_ASTER_ASTRR_PPCE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    57   EV6__ASN_ASTER_ASTRR_FPE = <EV6__ASN_ASTER_ASTRR_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    58   EV6__ASN_ASTER_PPCE_FPE = <EV6__ASN_ASTER_PPCE_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    59   EV6__ASN_ASTRR_PPCE_FPE = <EV6__ASN_ASTRR_PPCE_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    60   EV6__ASTER_ASTRR_PPCE_FPE = <EV6__ASTER_ASTRR_PPCE_FPE @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    61   EV6__PROCESS_CONTEXT = <EV6__PROCESS_CONTEXT @ 8> ! EV6_SCB__PROCESS_CONTEXT
                  [000000]    62   EV6__DTB_TAG0 = <EV6__DTB_TAG0 @ 8> ! EV6_SCB__DTB_TAG0
                  [000000]    63   EV6__DTB_TAG1 = <EV6__DTB_TAG1 @ 8> ! EV6_SCB__DTB_TAG1
                  [000000]    64   EV6__DTB_PTE0 = <EV6__DTB_PTE0 @ 8> ! EV6_SCB__DTB_PTE0
                  [000000]    65   EV6__DTB_PTE1 = <EV6__DTB_PTE1 @ 8> ! EV6_SCB__DTB_PTE1
                  [000000]    66   EV6__DTB_IAP = <EV6__DTB_IAP @ 8> ! EV6_SCB__DTB_IAP
                  [000000]    67   EV6__DTB_IA = <EV6__DTB_IA @ 8> ! EV6_SCB__DTB_IA
                  [000000]    68   EV6__DTB_IS0 = <EV6__DTB_IS0 @ 8> ! EV6_SCB__DTB_IS0
                  [000000]    69   EV6__DTB_IS1 = <EV6__DTB_IS1 @ 8> ! EV6_SCB__DTB_IS1
                  [000000]    70   EV6__DTB_ASN0 = <EV6__DTB_ASN0 @ 8> ! EV6_SCB__DTB_ASN0
                  [000000]    71   EV6__DTB_ASN1 = <EV6__DTB_ASN1 @ 8> ! EV6_SCB__DTB_ASN1
                  [000000]    72   EV6__DTB_ALT_MODE = <EV6__DTB_ALT_MODE @ 8> ! EV6_SCB__DTB_ALT_MODE
                  [000000]    73   EV6__MM_STAT = <EV6__MM_STAT @ 8> ! EV6_SCB__MM_STAT
                  [000000]    74   EV6__M_CTL = <EV6__M_CTL @ 8> ! EV6_SCB__M_CTL
                  [000000]    75   EV6__DC_CTL = <EV6__DC_CTL @ 8> ! EV6_SCB__DC_CTL
                  [000000]    76   EV6__DC_STAT = <EV6__DC_STAT @ 8> ! EV6_SCB__DC_STAT
                  [000000]    77   EV6__DATA = <EV6__DATA @ 8> ! EV6_SCB__DATA
                  [000000]    78   EV6__SHIFT_CONTROL = <EV6__SHIFT_CONTROL @ 8> ! EV6_SCB__SHIFT_CONTROL
                  [000000]    79   EV6__SLEEP = <EV6__SLEEP @ 8> ! EV6_SCB__SLEEP
                  [000000]    80  
File: ledcodes.mar
                  [000000]     0  ;
                  [000000]     1  ;        Copyright (c) 1999, Alpha Processor, Inc.
                  [000000]     2  ; 
                  [000000]     3  ;                         All Rights Reserved
                  [000000]     4  ; 
                  [000000]     5  ; Permission to use, copy, modify, and distribute this software 
                  [000000]     6  ; and its documentation for any purpose and without fee is 
                  [000000]     7  ; hereby granted, provided that the copyright notice and this 
                  [000000]     8  ; permission notice appear in all copies of software and 
                  [000000]     9  ; supporting documentation, and that the name of Alpha 
                  [000000]    10  ; Processor not be used in advertising or publicity pertaining 
                  [000000]    11  ; to distribution of the software without specific, written 
                  [000000]    12  ; prior permission. Alpha Processor grants this permission 
                  [000000]    13  ; provided that you prominently mark, as not part of the original, any
                  [000000]    14  ; modifications made to this software or documentation.
                  [000000]    15  ; 
                  [000000]    16  ; Alpha Processor disclaims all warranties and/or guarantees 
                  [000000]    17  ; with regard to this software, including all implied 
                  [000000]    18  ; warranties of fitness for a particular purpose and 
                  [000000]    19  ; merchantability, and makes no representations
                  [000000]    20  ; regarding the use of, or the results of the use of, the 
                  [000000]    21  ; software and documentation in terms of correctness, accuracy, 
                  [000000]    22  ; reliability, currentness or otherwise; and you rely on the 
                  [000000]    23  ; software, documentation and results solely at your own risk.
                  [000000]    24  ;
                  [000000]    25  ; Begun 29 June 1999 by Stig Telfer, Alpha Processor Inc.
                  [000000]    26  
                  [000000]    27  ; This file contains some standard LED code numbers for PALcode debug.
                  [000000]    28  ; Actually, it isn't really for LEDs since I pass code by variations in 
                  [000000]    29  ; the addresses in high I/O space and just track the addresses written
                  [000000]    30  ; to using a PCI bus analyser.  The result is that I can see a sequence
                  [000000]    31  ; of addresses (each with a different meaning) and a sequence of data,
                  [000000]    32  ; which can be passed out as 32-bit quantities.
                  [000000]    33  
                  [000000]    34  
                  [000000]    35  ; initialisation and power-up signals 
                  [000000]    36  
                  [000000]    37  	LED__INIT0	= ^x6000
                  [000000]    38  	LED__INIT1	= ^x6008
                  [000000]    39  	LED__INIT2	= ^x6010
                  [000000]    40  
                  [000000]    41  ; hot-switch of PALcode
                  [000000]    42  
                  [000000]    43  	LED__SWITCH0	= ^x6100
                  [000000]    44  	LED__SWITCH1	= ^x6108
                  [000000]    45  	LED__SWITCH2	= ^x6110
                  [000000]    46  	LED__SWITCH_ERR	= ^x6118
                  [000000]    47  
                  [000000]    48  ; software errors
                  [000000]    49  
                  [000000]    50  	LED__ERR_KSP	= ^x6200	; kernel stack pointer was invalid
                  [000000]    51  	LED__ERR_DFLT	= ^x6208	; data fault occurred while in PAL
                  [000000]    52  	LED__ERR_IACV	= ^x6210	; I-stream access violation
                  [000000]    53  	LED__ERR_FOE	= ^x6218	; Fault-on-execute triggered
                  [000000]    54  	LED__ERR_UPAH	= ^x6220	; Update PCB and halt: game over man
                  [000000]    55  	LED__ERR_HLT	= ^x6228	; Halt called, perhaps executing zeros?
                  [000000]    56  	LED__ERR_CONS	= ^x6230	; Entering console
                  [000000]    57  	LED__ERR_OPCDEC = ^x6238	; Illegal instruction - opcode exception
                  [000000]    58  	LED__ERR_UNA	= ^x6240	; unaligned access
                  [000000]    59  
                  [000000]    60  ; hardware errors (machine checks)
                  [000000]    61  
                  [000000]    62  	LED__MCHK	= ^x6300
                  [000000]    63  	LED__MCHK_CRD	= ^x6308
                  [000000]    64  	LED__MCHK_DBL	= ^x6310
                  [000000]    65  	LED__MCHK_NMI	= ^x6318	; System machine check via EI/NMI
                  [000000]    66  
                  [000000]    67  	LED__MCHK_POST	= ^x6380
                  [000000]    68  
                  [000000]    69  ; interrupts (also system errors)
                  [000000]    70  
                  [000000]    71  	LED__INT	= ^x6400
                  [000000]    72  	LED__INT_SL	= ^x6408
                  [000000]    73  	LED__INT_HLT	= ^x6410	; UP2000 HW halt assertion
                  [000000]    74  	LED__INT_CLK	= ^x6420
                  [000000]    75  	LED__INT_CLK_USR= ^x6428	; clock interrupt occurred in user mode
                  [000000]    76  
                  [000000]    77  	LED__INT_POST	= ^x6480	; interrupt is being posted
                  [000000]    78  
                  [000000]    79  ; VM D-stream faults and misses
                  [000000]    80  
                  [000000]    81  	LED__DMISS	= ^x6500	; d-stream miss
                  [000000]    82  	LED__DMISS1TO1	= ^x6508	; 1-1 miss recognised
                  [000000]    83  	LED__DMISSPC	= ^x6510	; 1-1 miss offending PC
                  [000000]    84  	LED__DMISS_POST = ^x6520	; on posting invalid DPTE to OS
                  [000000]    85  	LED__DMISS_DBL	= ^x6528
                  [000000]    86  
                  [000000]    87  ; VM I-stream faults and misses
                  [000000]    88  
                  [000000]    89  	LED__IMISS1	= ^x6600	; 1-1 miss
                  [000000]    90  	LED__IMISS1TO1	= ^x6608	; 1-1 miss recognised
                  [000000]    91  	LED__ERR_IPTE	= ^x6610	; Invalid IPTE
                  [000000]    92  	LED__IMISS_FOE	= ^x6618
                  [000000]    93  
                  [000000]    94  
                  [000000]    95  ; IPL change debug
                  [000000]    96  
                  [000000]    97  	LED__DBG_IPL	= ^x6700	; change of IPL: show old, new, PC
                  [000000]    98  
                  [000000]    99  ; SWPPAL debug
                  [000000]   100  
                  [000000]   101  	LED__DBG_SWPPAL	= ^x6800
                  [000000]   102  
                  [000000]   103  ; SWPCXT debug
                  [000000]   104  
                  [000000]   105  	LED__SWPCTX	= ^x6900
File: platform_swordfish.mar
                  [000000]     0  ;+
                  [000000]     1  ; platform_swordfish_defs.mar - platform switches for API Swordfish platform
                  [000000]     2  ;-
                  [000000]     3  
                  [000000]     4  ;+
                  [000000]     5  ; Begun June 1999 by Stig Telfer, Alpha Processor Inc.
                  [000000]     6  ;-
                  [000000]     7  
                  [000000]     8  	swordfish_platform = 1
                  [000000]     9  	smp_platform = 1
                  [000000]    10  	smi_platform = 0
                  [000000]    11          check_interrupt_pending = 1	; Tsunami DEVSUP business
                  [000000]    12  
                  [000000]    13  	tb_mb_en = 0			; SMP - memory barrier on tb miss?
                  [000000]    14  
                  [000000]    15  	crd_en = 1			; always report CRD errors
                  [000000]    16          mchk_en = 1
                  [000000]    17  
                  [000000]    18          i_ctl__sbe = 3			; no prefetching of instructions
                  [000000]    19          i_ctl__sglissue = 0		; issue only from bottom of queue
                  [000000]    20  
                  [000000]    21  
                  [000000]    22  ; External Interrupt routings for Swordfish:
                  [000000]    23  ; These numbers are positions within EV6__ISUM__IE field
                  [000000]    24  
                  [000000]    25  ;       IRQ<0> = Pchip errors           ipl 7
                  [000000]    26  ;       IRQ<1> = device                 ipl 4
                  [000000]    27  ;       IRQ<2> = clock                  ipl 5
                  [000000]    28  ;       IRQ<3> = interprocessor         ipl 5
                  [000000]    29  ;       IRQ<4> = halt
                  [000000]    30  ;       IRQ<5> = unused
                  [000000]    31  
                  [000000]    32  IRQ_ERR = ^x01
                  [000000]    33  IRQ_DEV = ^x02
                  [000000]    34  IRQ_CLK = ^x04
                  [000000]    35  IRQ_IP  = ^x08
                  [000000]    36  IRQ_HLT = ^x10		; halt switch directly connected to this EI
                  [000000]    37  
                  [000000]    38  IRQ_MASK= < IRQ_ERR ! IRQ_DEV ! IRQ_CLK ! IRQ_IP ! IRQ_HLT >
                  [000000]    39  
File: target_osf.mar
                  [000000]     0  ;+
                  [000000]     1  ; target_osf.mar - predicate rules for building OSF PALcode
                  [000000]     2  ;-
                  [000000]     3  
                  [000000]     4  ;+
                  [000000]     5  ; Last Edit:	26-Oct-98
                  [000000]     6  ;-
                  [000000]     7  	osfpal = 1
                  [000000]     8  	beh_model = 0			; behavioural model?
                  [000000]     9  	focus = 0
                  [000000]    10  	srom = 1
                  [000000]    11  	srm_console = 0
                  [000000]    12  	kseg_hack = 0
                  [000000]    13  	force_path2 = 1			; EV6 bug fixup
                  [000000]    14  	va_48 = 0
                  [000000]    15  
                  [000000]    16  
                  [000000]    17  	srom_serial_io = 0		; palcode debug
                  [000000]    18  	srom_serial_irq = 0		;
                  [000000]    19  	serial_irq_debug_mchk = 0	;
                  [000000]    20  	pci_debug_io = 0		; data dumped to addresses in PCI-IO
                  [000000]    21  	srom_debug_io = 0		; strings and numbers on SROM UART
                  [000000]    22  
                  [000000]    23  
                  [000000]    24  ; STIG - additional predicates for debugging
                  [000000]    25  	debug_init = 0
                  [000000]    26  	debug_dmiss = 0		; setting this makes an unbootable config
                  [000000]    27  	debug_imiss = 0		; setting this makes an unbootable config
                  [000000]    28  	debug_ints = 0		; setting this makes an unbootable config
                  [000000]    29  	debug_mchk = 0
                  [000000]    30  	debug_ipl = 0		; setting this makes an unbootable config
                  [000000]    31  	debug_err = 0
                  [000000]    32  	debug_swap = 0
                  [000000]    33  	debug_ipi = 0
                  [000000]    34  
File: ev6_pal_temps.mar
                  [000000]     0  ; Alpha assembly macro (-m) output created by DEFNR
                  [000000]     1  ;   
                  [000000]     2  ;  EV6_PAL_TEMPS.DNR  
                  [000000]     3  ;   
                  [000000]     4  ;   
                  [000000]     5  ;  LAST EDIT:	13-OCT-98  
                  [000000]     6  ;   
                  [000000]     7  ;  EDIT HISTORY  
                  [000000]     8  ;  WHO	WHEN		WHAT  
                  [000000]     9  ;  ---	----		----  
                  [000000]    10  ;  ES	19-SEP-96	JUST HAVE M_CTL AND DC_CTL IN IMPURE ONLY.  
                  [000000]    11  ;  ES	18-JUN-97	ADD P_MISC.  
                  [000000]    12  ;  ES	01-AUG-97	PUT M_CTL BACK INTO PAL_TEMPS AND IMPURE.  
                  [000000]    13  ;  ES	24-SEP-97	ADD A RESERVE LOCATION FOR DEBUGGING, ETC.  
                  [000000]    14  ;  ES	29-JUN-98	ADDED PT__SYS_EVENT  
                  [000000]    15  ;  ES	06-OCT-98	FOR SPINLOCK HACK, ADDED  
                  [000000]    16  ; 				PT__PCTR_SAVE  
                  [000000]    17  ; 				PT__PCTR_FLAG  
                  [000000]    18  ; 				PT__PCTR_R4  
                  [000000]    19  ; 				PT__PCTR_PEND  
                  [000000]    20  ; 				PT__PCTR_VMS  
                  [000000]    21  ;   
                  [000000]    22  ;   
                  [000000]    23  ;  DEFINE PREFIX AS PT  
                  [000000]    24  ;   
                  [000000]    25  ;   
                  [000000]    26  ;  DEFINE OFFSETS  
                  [000000]    27  ;   
                  [000000]    28  
                  [000000]    29  PT__VPTB = ^x000
                  [000000]    30  PT__PTBR = ^x008
                  [000000]    31  PT__PCBB = ^x010
                  [000000]    32  PT__KSP = ^x018
                  [000000]    33  PT__USP = ^x020
                  [000000]    34  PT__KGP = ^x028
                  [000000]    35  PT__PRBR = ^x030
                  [000000]    36  PT__TRAP = ^x038
                  [000000]    37  PT__ENT_ARITH = ^x040
                  [000000]    38  PT__ENT_IF = ^x048
                  [000000]    39  PT__ENT_MM = ^x050
                  [000000]    40  PT__ENT_SYS = ^x058
                  [000000]    41  PT__ENT_UNA = ^x060
                  [000000]    42  
                  [000000]    43  ; API experiment - more diversity in kernel interrupt entry points
                  [000000]    44  ; PT__ENT_INT now points to a code fragement for setting up kernel environment
                  [000000]    45  
                  [000000]    46  PT__ENT_INT = ^x068
                  [000000]    47  PT__ENTINT_DEV = ^x070
                  [000000]    48  PT__ENTINT_RTC = ^x078
                  [000000]    49  PT__ENTINT_IPI = ^x080
                  [000000]    50  PT__ENTINT_MCHK = ^x088
                  [000000]    51  PT__ENTINT_PERF = ^x090
                  [000000]    52  
                  [000000]    53  PT__STACK_PC = ^x098
                  [000000]    54  PT__NEW_A0 = ^x0A0
                  [000000]    55  PT__NEW_A1 = ^x0A8
                  [000000]    56  PT__NEW_A2 = ^x0B0
                  [000000]    57  PT__SYSVAL = ^x0B8
                  [000000]    58  PT__IMPURE = ^x0C0
                  [000000]    59  PT__P_MISC = ^x0C8
                  [000000]    60  PT__WHAMI = ^x0D0
                  [000000]    61  PT__SCC = ^x0D8
                  [000000]    62  PT__VA_CTL = ^x0E0
                  [000000]    63  PT__M_CTL = ^x0E8
                  [000000]    64  PT__HALT_CODE = ^x0F0
                  [000000]    65  PT__R0 = ^x0F8
                  [000000]    66  PT__R1 = ^x100
                  [000000]    67  PT__R2 = ^x108
                  [000000]    68  PT__R3 = ^x110
                  [000000]    69  PT__R8 = ^x118
                  [000000]    70  PT__R9 = ^x120
                  [000000]    71  PT__R25 = ^x128
                  [000000]    72  PT__R26 = ^x130
                  [000000]    73  PT__DTB_ALT_MODE = ^x138
                  [000000]    74  PT__FAULT_PC = ^x140
                  [000000]    75  PT__SCBB = ^x148
                  [000000]    76  PT__RSV_FOR_PAL = ^x150
                  [000000]    77  PT__I_STAT_MASK = ^x158
                  [000000]    78  
                  [000000]    79  ; API extension: debug macro scratch registers
                  [000000]    80  
                  [000000]    81  PT__DBG0 = ^x160
                  [000000]    82  PT__DBG1 = ^x168
                  [000000]    83  PT__DBG2 = ^x170
                  [000000]    84  PT__DBG3 = ^x178
                  [000000]    85  PT__DBG4 = ^x180
                  [000000]    86  PT__DBG5 = ^x188
                  [000000]    87  PT__DBG6 = ^x190
                  [000000]    88  PT__DBG7 = ^x198
                  [000000]    89  
                  [000000]    90  
File: ev6_alpha_defs.mar
                  [000000]     0  ;+
                  [000000]     1  ; ev6_alpha_defs.mar
                  [000000]     2  ;
                  [000000]     3  ; This file is for ev6 specific definitions not covered by
                  [000000]     4  ; ev6_defs.mar and ev6_redefine_defs.mar
                  [000000]     5  ;-
                  [000000]     6  
                  [000000]     7  ;+
                  [000000]     8  ; Last Edit:	21-Oct-98
                  [000000]     9  ;
                  [000000]    10  ; Edit History
                  [000000]    11  ;
                  [000000]    12  ; Who	Rev	When		What
                  [000000]    13  ; ---	---	----		----
                  [000000]    14  ; ES		12-Sep-96	Added 'jump through 0' halt code
                  [000000]    15  ; ES		21-Nov-96	Took out cbox shift chain values
                  [000000]    16  ; ES		10-Apr-97	Redefined cbox status register
                  [000000]    17  ; ES		31-Oct-97	Add HALT__DC_TAG_PERR_FROM_PAL
                  [000000]    18  ;				Fixed machine check codes
                  [000000]    19  ; ES		03-Feb-98	Added C_STAT bit
                  [000000]    20  ; ES		19-Mar-98	Added MCHK__SYS_CORR_ECC
                  [000000]    21  ; ES		29-Jun-98	Added HALT__LFU_START and
                  [000000]    22  ;					MCHK__SYS_EVENT
                  [000000]    23  ; ES		21-Oct-98	Added MCHK__ISTREAM_CMOV,
                  [000000]    24  ;					MCHK__ISTREAM_CMOV_FAULT
                  [000000]    25  ;-
                  [000000]    26  
                  [000000]    27  ;
                  [000000]    28  ; PAL_SHADOW_DEF
                  [000000]    29  ;
                  [000000]    30  .macro	PAL_SHADOW_DEFS
                  [000000]    31  	p4	=   4
                  [000000]    32  	p5	=   5
                  [000000]    33  	p6	=   6
                  [000000]    34  	p7	=   7
                  [000000]    35  	p20	=  20
                  [000000]    36  	p21	=  21
                  [000000]    37  	p_temp	=  21
                  [000000]    38  	p22	=  22
                  [000000]    39  	p_misc	=  22
                  [000000]    40  	p23	=  23
                  [000000]    41  .endm	PAL_SHADOW_DEFS
                  [000000]    42  
                  [000000]    43  ;
                  [000000]    44  ; Machine Check Error Summary Register Defintion
                  [000000]    45  ;
                  [000000]    46  .macro	MCES_DEFS
                  [000000]    47  	MCES__MCHK__S	= 0
                  [000000]    48  	MCES__SCE__S	= 1
                  [000000]    49  	MCES__PCE__S	= 2
                  [000000]    50  	MCES__DPC__S	= 3
                  [000000]    51  	MCES__DSC__S	= 4
                  [000000]    52  .endm	MCES_DEFS
                  [000000]    53  
                  [000000]    54  ;
                  [000000]    55  ; Halt codes
                  [000000]    56  ;
                  [000000]    57  .macro	HALT_DEFS
                  [000000]    58  	HALT__RESET		= 0	; bootstrap
                  [000000]    59  	HALT__HW_HALT		= 1	; console requested halt
                  [000000]    60  	HALT__KSP_INVAL		= 2	; kernel stack not valid
                  [000000]    61  	HALT__SCBB_INVAL	= 3	; invalid SCBB	
                  [000000]    62  	HALT__PTBR_INVAL	= 4	; invalid PTBR or other page table err
                  [000000]    63  	HALT__SW_HALT		= 5	; CALL_PAL HALT executed
                  [000000]    64  	HALT__DBL_MCHK		= 6	; double error abort
                  [000000]    65  	HALT__MCHK_FROM_PAL	= 7	; machine check while in PALmode
                  [000000]    66  	HALT__DC_TAG_PERR_FROM_PAL = 8	; dc_tag_perr while in PALmode
                  [000000]    67  
                  [000000]    68  	HALT__START		= ^x20
                  [000000]    69  	HALT__CALLBACK		= ^x21
                  [000000]    70  	HALT__MPSTART		= ^x22
                  [000000]    71  	HALT__LFU_START		= ^x23
                  [000000]    72  
                  [000000]    73  	HALT__JUMP0		= ^x40	; jump through 0
                  [000000]    74  
                  [000000]    75  .endm	HALT_DEFS
                  [000000]    76  
                  [000000]    77  ;
                  [000000]    78  ; Machine Check codes
                  [000000]    79  ;
                  [000000]    80  .macro	MCHK_DEFS
                  [000000]    81  	MCHK__CORR_ECC		= 67@1		; catch-all corrected mchk/crd
                  [000000]    82  	MCHK__UNKNOWN		= 69@1
                  [000000]    83  	MCHK__BUGCHECK		= 71@1
                  [000000]    84  	MCHK__OS_BUGCHECK	= 72@1
                  [000000]    85  	MCHK__PROC_HRD_ERR	= 76@1		; catch-all uncorrected mchk
                  [000000]    86  	MCHK__DC_TAG_PERR	= 79@1		; corrected dc_tag_perr
                  [000000]    87  	MCHK__ISTREAM_CMOV	= 80@1		; cmov at pc-4 on istream mchk
                  [000000]    88  	MCHK__ISTREAM_CMOV_FAULT= 81@1		; unable to get instruction
                  [000000]    89  						;	at pc-4 on istream mchk
                  [000000]    90  
                  [000000]    91  	MCHK__SYS_HRD_ERR	= 257@1
                  [000000]    92  	MCHK__SYS_CORR_ECC	= 258@1
                  [000000]    93  	MCHK__SYS_EVENT		= 259@1
                  [000000]    94  
                  [000000]    95  .endm	MCHK_DEFS
                  [000000]    96  
                  [000000]    97  ;
                  [000000]    98  ; Memory Management sizes
                  [000000]    99  ;
                  [000000]   100  .macro	MM_DEFS
                  [000000]   101  	level_bits		= 10
                  [000000]   102  	page_offset_size_bits	= 13
                  [000000]   103  	page_size_bytes		= 8192
                  [000000]   104  	va_bits_3		= 43
                  [000000]   105  	va_bits_4		= 48
                  [000000]   106  	pa_bits			= 44
                  [000000]   107  .endm	MM_DEFS
                  [000000]   108  
                  [000000]   109  ;
                  [000000]   110  ; MM_STAT_DEFS
                  [000000]   111  ;	MM_STAT will contain munged opcodes for HW_LD and HW_ST.
                  [000000]   112  ;	These codes are unique from all other opcodes, so we
                  [000000]   113  ;	can distinguish these from any others.
                  [000000]   114  ;
                  [000000]   115  .macro	MM_STAT_DEFS
                  [000000]   116  	OPCODE__HW_LD		= ^X3
                  [000000]   117  	OPCODE__HW_ST		= ^X7
                  [000000]   118  .endm	MM_STAT_DEFS
                  [000000]   119  
                  [000000]   120  ;
                  [000000]   121  ; CBOX_IPR_DEFS
                  [000000]   122  ;
                  [000000]   123  .macro	CBOX_IPR_DEFS
                  [000000]   124  ;
                  [000000]   125  ; ERR_CODE bit definitions
                  [000000]   126  ;
                  [000000]   127  	EV6__C_STAT__TYPE__S	= 0
                  [000000]   128  	EV6__C_STAT__TYPE__M	= ^x7
                  [000000]   129  	EV6__C_STAT__ISTREAM__S	= 3
                  [000000]   130  	EV6__C_STAT__ISTREAM__M	= ^x1
                  [000000]   131  	EV6__C_STAT__DOUBLE__S 	= 4
                  [000000]   132  	EV6__C_STAT__DOUBLE__M 	= ^x1
                  [000000]   133  
                  [000000]   134  .endm	CBOX_IPR_DEFS
                  [000000]   135  
                  [000000]   136  
                  [000000]   137  
                  [000000]   138  
                  [000000]   139  
                  [000000]   140  
                  [000000]   141  
                  [000000]   142  
                  [000000]   143  
                  [000000]   144  
                  [000000]   145  
                  [000000]   146  
                  [000000]   147  
File: ev6_osf_pal_defs.mar
                  [000000]     0  ;+
                  [000000]     1  ; ev6_osf_pal_defs.mar
                  [000000]     2  ;
                  [000000]     3  ; This file is for osf definitions
                  [000000]     4  ;-
                  [000000]     5  
                  [000000]     6  ;+
                  [000000]     7  ; Last Edit:	29-Jun-98
                  [000000]     8  ;
                  [000000]     9  ; Edit History
                  [000000]    10  ; Who	When		What
                  [000000]    11  ; ---	----		----
                  [000000]    12  ; ES	25-Sep-96	Added a0 interrupt values to OSF_A0_DEFS.
                  [000000]    13  ;			Added IPL definitions
                  [000000]    14  ; ES	01-Aug-97	Added OSF_IPL__DEV5 and OSF_IPL__DEV6.
                  [000000]    15  ; ES	18-May-98	Added OSFPAL_FUNC__WTINT
                  [000000]    16  ; ES	29-Jun-98	Added SCB__SYS_EVENT
                  [000000]    17  ;-
                  [000000]    18  
                  [000000]    19  
                  [000000]    20  ;- STIG UART DEBUG - added here to enable UART operations in OSF PALcode
                  [000000]    21  ;
                  [000000]    22  ; FOR DP264 DEBUG MONITOR
                  [000000]    23  ;
                  [000000]    24  CSERVE__JTOPAL = ^x9
                  [000000]    25  CSERVE__RD_IMPURE = ^xb
                  [000000]    26  CSERVE_K_SROM_INIT      = ^x18
                  [000000]    27  CSERVE_K_SROM_PUTC      = ^x19
                  [000000]    28  CSERVE_K_SROM_GETC      = ^x20
                  [000000]    29  
                  [000000]    30  CSERVE_K_SROM_PUTSTR	= ^x30	; write an 8-character string passed in r16
                  [000000]    31  CSERVE_K_SROM_PUTNUM	= ^x31	; write a 64-bit hex number passed in r16
                  [000000]    32  
                  [000000]    33  ;+
                  [000000]    34  ; CALL_PAL functions
                  [000000]    35  ;-
                  [000000]    36  .macro	OSFPAL_FUNC_DEFS
                  [000000]    37  	OSFPAL_FUNC__BPT	= ^x80
                  [000000]    38  	OSFPAL_FUNC__BUGCHK	= ^x81
                  [000000]    39  	OSFPAL_FUNC__CALLSYS	= ^x83
                  [000000]    40  	OSFPAL_FUNC__IMB	= ^x86
                  [000000]    41  	OSFPAL_FUNC__URTI	= ^x92
                  [000000]    42  	OSFPAL_FUNC__RDUNIQUE	= ^x9E
                  [000000]    43  	OSFPAL_FUNC__WRUNIQUE	= ^x9F
                  [000000]    44  	OSFPAL_FUNC__GENTRAP	= ^XAA
                  [000000]    45  	OSFPAL_FUNC__CLRFEN	= ^xAE
                  [000000]    46  
                  [000000]    47  	OSFPAL_FUNC__HALT	= ^x00
                  [000000]    48  	OSFPAL_FUNC__CFLUSH	= ^x01
                  [000000]    49  	OSFPAL_FUNC__DRAINA	= ^x02
                  [000000]    50  	OSFPAL_FUNC__CSERVE	= ^x09
                  [000000]    51  	OSFPAL_FUNC__SWPPAL	= ^x0A
                  [000000]    52  	OSFPAL_FUNC__WRIPIR	= ^x0D
                  [000000]    53  	OSFPAL_FUNC__RDMCES	= ^x10
                  [000000]    54  	OSFPAL_FUNC__WRMCES	= ^x11
                  [000000]    55  	OSFPAL_FUNC__WRFEN	= ^x2B
                  [000000]    56  	OSFPAL_FUNC__WRVPTPTR	= ^x2D
                  [000000]    57  	OSFPAL_FUNC__SWPCTX	= ^x30
                  [000000]    58  	OSFPAL_FUNC__WRVAL	= ^x31
                  [000000]    59  	OSFPAL_FUNC__RDVAL	= ^x32
                  [000000]    60  	OSFPAL_FUNC__TBI	= ^x33
                  [000000]    61  	OSFPAL_FUNC__WRENT	= ^x34
                  [000000]    62  	OSFPAL_FUNC__SWPIPL	= ^x35
                  [000000]    63  	OSFPAL_FUNC__RDPS	= ^x36
                  [000000]    64  	OSFPAL_FUNC__WRKGP	= ^x37
                  [000000]    65  	OSFPAL_FUNC__WRUSP	= ^x38
                  [000000]    66  	OSFPAL_FUNC__WRPERFMON	= ^x39
                  [000000]    67  	OSFPAL_FUNC__RDUSP	= ^x3A
                  [000000]    68  	OSFPAL_FUNC__WHAMI	= ^x3C
                  [000000]    69  	OSFPAL_FUNC__RETSYS	= ^x3D
                  [000000]    70  	OSFPAL_FUNC__WTINT	= ^x3E
                  [000000]    71  	OSFPAL_FUNC__RTI	= ^x3F
                  [000000]    72  .endm	OSFPAL_FUNC_DEFS
                  [000000]    73  
                  [000000]    74  
                  [000000]    75  ;+
                  [000000]    76  ; OSF_P_MISC definition
                  [000000]    77  ;-
                  [000000]    78  .macro	OSF_P_MISC_DEFS
                  [000000]    79  	OSF_P_MISC__IPL__S		= 0
                  [000000]    80  	OSF_P_MISC__IPL__M		= ^x7
                  [000000]    81  	OSF_P_MISC__CM__S		= 3
                  [000000]    82  	OSF_P_MISC__CM__M		= ^x1
                  [000000]    83  	OSF_P_MISC__RSV__S		= 4
                  [000000]    84  	OSF_P_MISC__RSV__M		= ^xFFF
                  [000000]    85  
                  [000000]    86  	OSF_P_MISC__PS__S		= 0
                  [000000]    87  	OSF_P_MISC__PS__M		= ^xF
                  [000000]    88  
                  [000000]    89  	OSF_P_MISC__MCES__MCHK__S	= 16
                  [000000]    90  	OSF_P_MISC__MCES__SCE__S	= 17
                  [000000]    91  	OSF_P_MISC__MCES__PCE__S	= 18
                  [000000]    92  	OSF_P_MISC__MCES__DPC__S	= 19
                  [000000]    93  	OSF_P_MISC__MCES__DSC__S	= 20
                  [000000]    94  	OSF_P_MISC__MCES__RSV__S	= 21
                  [000000]    95  	OSF_P_MISC__MCES__RSV__M	= ^x7
                  [000000]    96  
                  [000000]    97  	OSF_P_MISC__SCBV__S		= 24
                  [000000]    98  	OSF_P_MISC__SCBV__M		= ^xFFFF
                  [000000]    99  	OSF_P_MISC__MCHK_CODE__S	= 40
                  [000000]   100  	OSF_P_MISC__MCHK_CODE__M	= ^xFFFF
                  [000000]   101  
                  [000000]   102  	OSF_P_MISC__SWITCH__S		= 62
                  [000000]   103  	OSF_P_MISC__PHYS__S		= 63
                  [000000]   104  .endm	OSF_P_MISC_DEFS
                  [000000]   105  
                  [000000]   106  
                  [000000]   107  ;+
                  [000000]   108  ; OSF_PS definition
                  [000000]   109  ;-
                  [000000]   110  .macro	OSF_PS_DEFS
                  [000000]   111  	OSF_PS__IPL__S		= 0
                  [000000]   112  	OSF_PS__IPL__M		= ^x7
                  [000000]   113  	OSF_PS__CM__S		= 3
                  [000000]   114  	OSF_PS__CM__M		= ^x1
                  [000000]   115  .endm	OSF_PS_DEFS
                  [000000]   116  
                  [000000]   117  
                  [000000]   118  ;+
                  [000000]   119  ; PTE layout
                  [000000]   120  ;
                  [000000]   121  ;	Loc	Size	name 	function
                  [000000]   122  ;	------	------	------	-----------------------------------
                  [000000]   123  ;	<63:32>	32	PFN	Page Frame Number
                  [000000]   124  ;	<31:16>	16	SOFT	Bits reserved for software use
                  [000000]   125  ;	<13>	1	UWE	User write enable
                  [000000]   126  ;	<12>	1	KWE	Kernel write enable
                  [000000]   127  ;	<9>	1	URE	User read enable
                  [000000]   128  ;	<8>	1	KRE	Kernel read enable
                  [000000]   129  ;	<6:5>	2	GH	Granularity hint
                  [000000]   130  ;	<4>	1	ASM	Wild card address space number match
                  [000000]   131  ;	<3>	1	FOE	Fault On execute
                  [000000]   132  ;	<2>	1	FOW	Fault On Write
                  [000000]   133  ;	<1>	1	FOR	Fault On Read
                  [000000]   134  ; 	<0>	1	V	valid bit
                  [000000]   135  ;-
                  [000000]   136  
                  [000000]   137  .macro	OSF_PTE_DEFS
                  [000000]   138  	OSF_PTE__PFN__S	= 	32
                  [000000]   139  	OSF_PTE__PFN__M	= 	^xFFFFFFFF
                  [000000]   140  
                  [000000]   141  	OSF_PTE__SOFT__S	= 16
                  [000000]   142  	OSF_PTE__SOFT__M	= ^xFFFF
                  [000000]   143  
                  [000000]   144  	OSF_PTE__UWE__S		= 13
                  [000000]   145  	OSF_PTE__UWE__M		= ^x1
                  [000000]   146  	OSF_PTE__KWE__S		= 12
                  [000000]   147  	OSF_PTE__KWE__M		= ^x1
                  [000000]   148  
                  [000000]   149  	OSF_PTE__URE__S		= 9
                  [000000]   150  	OSF_PTE__URE__M		= ^x1
                  [000000]   151  	OSF_PTE__KRE__S		= 8
                  [000000]   152  	OSF_PTE__KRE__M		= ^x1
                  [000000]   153  
                  [000000]   154  	OSF_PTE__GH__S		= 5
                  [000000]   155  	OSF_PTE__GH__M		= ^x3
                  [000000]   156  
                  [000000]   157  	OSF_PTE__ASM__S		= 4
                  [000000]   158  	OSF_PTE__ASM__M		= ^x1
                  [000000]   159  	OSF_PTE__FOE__S		= 3
                  [000000]   160  	OSF_PTE__FOE__M		= ^x1
                  [000000]   161  	OSF_PTE__FOW__S		= 2
                  [000000]   162  	OSF_PTE__FOW__M		= ^x1
                  [000000]   163  	OSF_PTE__FOR__S		= 1
                  [000000]   164  	OSF_PTE__FOR__M		= ^x1
                  [000000]   165  
                  [000000]   166  	OSF_PTE__V__S		= 0
                  [000000]   167  	OSF_PTE__V__M		= ^x1
                  [000000]   168  
                  [000000]   169  	OSF_PTE__PROT__M	= ^x3300
                  [000000]   170  
                  [000000]   171  .endm	OSF_PTE_DEFS
                  [000000]   172  
                  [000000]   173  
                  [000000]   174  ;+
                  [000000]   175  ; SYSTEM CONTROL BLOCK (SCB)
                  [000000]   176  ;-
                  [000000]   177  .macro	OSF_SCB_DEFS
                  [000000]   178  	SCB__SYS_CORR_ERR	= ^x0620
                  [000000]   179  	SCB__PROC_CORR_ERR	= ^x0630
                  [000000]   180  	SCB__PWRFAIL		= ^x0640
                  [000000]   181  	SCB__PERFMON		= ^x0650
                  [000000]   182  	SCB__SYSMCHK		= ^x0660
                  [000000]   183  	SCB__PROCMCHK		= ^x0670
                  [000000]   184  	SCB__SYS_EVENT		= ^x0680
                  [000000]   185  	SCB__PASSIVE__REL	= ^x06F0
                  [000000]   186  .endm	OSF_SCB_DEFS
                  [000000]   187  
                  [000000]   188  
                  [000000]   189  ;+
                  [000000]   190  ; PRIVILEGED CONTEXT BLOCK (PCB)
                  [000000]   191  ;-
                  [000000]   192  .macro	OSF_PCB_DEFS
                  [000000]   193  	OSF_PCB__STACKS		=  0
                  [000000]   194  	OSF_PCB__KSP		=  0
                  [000000]   195  	OSF_PCB__USP		=  8
                  [000000]   196  	OSF_PCB__PTBR		= 16
                  [000000]   197  	OSF_PCB__CPC		= 24
                  [000000]   198  	OSF_PCB__ASN		= 28
                  [000000]   199  	OSF_PCB__UNQ		= 32
                  [000000]   200  	OSF_PCB__FEN		= 40
                  [000000]   201  	OSF_PCB__RSV		= 48
                  [000000]   202  
                  [000000]   203  	OSF_PCB__ASN__S		= 32
                  [000000]   204  	OSF_PCB__ASN__M		= ^xFF
                  [000000]   205  
                  [000000]   206  	OSF_PCB__FEN__S		= 0
                  [000000]   207  	OSF_PCB__FEN__M		= ^x1
                  [000000]   208  	OSF_PCB__PME__S		= 62
                  [000000]   209  	OSF_PCB__PME__M		= ^x1
                  [000000]   210  .endm	OSF_PCB_DEFS
                  [000000]   211  
                  [000000]   212  ;+
                  [000000]   213  ; Stack frame (FRM)
                  [000000]   214  ;-
                  [000000]   215  .macro	OSF_FRM_DEFS
                  [000000]   216  	OSF_FRM__PS		= ^x0000
                  [000000]   217  	OSF_FRM__PC		= ^x0008
                  [000000]   218  	OSF_FRM__GP		= ^x0010
                  [000000]   219  
                  [000000]   220  	OSF_FRM__A0		= ^x0018
                  [000000]   221  	OSF_FRM__R16		= ^x0018
                  [000000]   222  
                  [000000]   223  	OSF_FRM__A1		= ^x0020
                  [000000]   224  	OSF_FRM__R17		= ^x0020
                  [000000]   225  
                  [000000]   226  	OSF_FRM__A2		= ^x0028
                  [000000]   227  	OSF_FRM__R18		= ^x0028
                  [000000]   228  
                  [000000]   229  	OSF_FRM__SIZE		= ^x0030
                  [000000]   230  .endm	OSF_FRM_DEFS
                  [000000]   231  
                  [000000]   232  ;+
                  [000000]   233  ; OSF_A0_DEFS
                  [000000]   234  ;-
                  [000000]   235  .macro	OSF_A0_DEFS
                  [000000]   236  	OSF_A0__BPT		= ^x0
                  [000000]   237  	OSF_A0__BUGCHK		= ^x1
                  [000000]   238  	OSF_A0__GENTRAP		= ^x2
                  [000000]   239  	OSF_A0__FEN		= ^x3
                  [000000]   240  	OSF_A0__OPDEC		= ^x4
                  [000000]   241  	OSF_A0__ILLOP		= ^x5
                  [000000]   242  
                  [000000]   243  	OSF_A0_INT__IP		= ^x0
                  [000000]   244  	OSF_A0_INT__CLK		= ^x1
                  [000000]   245  	OSF_A0_INT__CRD		= ^x2
                  [000000]   246  	OSF_A0_INT__MCHK	= ^x2
                  [000000]   247  	OSF_A0_INT__DEV		= ^x3
                  [000000]   248  	OSF_A0_INT__PERFMON	= ^x4
                  [000000]   249  	OSF_A0_INT__SL		= ^x5
                  [000000]   250  .endm	OSF_A0_DEFS
                  [000000]   251  
                  [000000]   252  ;+
                  [000000]   253  ; OSF_MMCSR_DEFS
                  [000000]   254  ;-
                  [000000]   255  .macro	OSF_MMCSR_DEFS
                  [000000]   256  	OSF_MMCSR__TNV		= ^x0
                  [000000]   257  	OSF_MMCSR__ACV		= ^x1
                  [000000]   258  	OSF_MMCSR__FOR		= ^x2
                  [000000]   259  	OSF_MMCSR__FOE		= ^x3
                  [000000]   260  	OSF_MMCSR__FOW		= ^x4
                  [000000]   261  .endm	OSF_MMCSR_DEFS
                  [000000]   262  	
                  [000000]   263  ;+
                  [000000]   264  ; OSF_IPL_DEFS
                  [000000]   265  ;-
                  [000000]   266  .macro	OSF_IPL_DEFS
                  [000000]   267  	OSF_IPL__IP		= ^x5
                  [000000]   268  	OSF_IPL__CLK		= ^x5
                  [000000]   269  	OSF_IPL__MCHK_CRD	= ^x7
                  [000000]   270  	OSF_IPL__MCHK		= ^x7
                  [000000]   271  	OSF_IPL__DEV3		= ^x3
                  [000000]   272  	OSF_IPL__DEV4		= ^x4
                  [000000]   273  	OSF_IPL__DEV5		= ^x5
                  [000000]   274  	OSF_IPL__DEV6		= ^x6
                  [000000]   275  	OSF_IPL__PERFMON	= ^x6
                  [000000]   276  .endm	OSF_IPL_DEFS
File: ev6_system_pal_defs.mar
                  [000000]     0  ;; Alpha assembly macro (-m) output created by DEFNR
                  [000000]     1  ;   
                  [000000]     2  ;  EV6_SYSTEM_PAL_DEFS.DNR  
                  [000000]     3  ;   
                  [000000]     4  ;   
                  [000000]     5  ;  LAST EDIT:	09-JUL-97  
                  [000000]     6  ;   
                  [000000]     7  ;  EDIT HISTORY  
                  [000000]     8  ;  WHO	WHEN		WHAT  
                  [000000]     9  ;  ---	----		----  
                  [000000]    10  ;  ES	09-JUL-97	ADD CSERVES  
                  [000000]    11  ;   
                  [000000]    12  
                  [000000]    13  ; messed around with by STIG
                  [000000]    14  ; PAL data layout is now all squeezed into the first page of memory,
                  [000000]    15  ; along with the HWRPB etc. (allocated the bottom 4K, uses just over 1K)
                  [000000]    16  
                  [000000]    17  PAL__PAL_BASE = ^x200000		; was PAL__PAL_BASE = ^x10000	
                  [000000]    18  PAL__OSFPAL_BASE = ^x200000		; was PAL__OSFPAL_BASE = ^x20000	
                  [000000]    19  PAL__CONSOLE_BASE = ^x10000		; Diagnostics preserved in mem here 
                  [000000]    20  PAL__EMUL_BASE = ^xE0000		; this points to randomness at present
                  [000000]    21  
                  [000000]    22  PAL__IMPURE_BASE = ^x1000		; 
                  [000000]    23  PAL__IMPURE_SPECIFIC_SIZE = ^x400	; 
                  [000000]    24  
                  [000000]    25  PAL__LOGOUT_BASE = ^x1800		;
                  [000000]    26  PAL__LOGOUT_SPECIFIC_SIZE = ^x200	;
                  [000000]    27  
                  [000000]    28  PAL__TEMPS_BASE = ^x1c00		;
                  [000000]    29  PAL__TEMPS_SPECIFIC_SIZE = ^x200	
                  [000000]    30  
                  [000000]    31  
                  [000000]    32  
                  [000000]    33  ; STIG: this address is used by the PALcode as a default address to jump to
                  [000000]    34  ; on entering OSF PALcode.  Changed to be the default entry point for Linux,
                  [000000]    35  ; although it doesn't actually get used.  I just don't want to leave it dangling
                  [000000]    36  ; at this address.
                  [000000]    37  
                  [000000]    38  PAL__ENTER_OSF = ^x310000
                  [000000]    39  
                  [000000]    40  ;   
                  [000000]    41  ;  DEFINE DEVICE INTERRUPT IRQ(S) AS A MASK IN ISUM<EI> FIELD  
                  [000000]    42  ;   
                  [000000]    43  
                  [000000]    44  IRQ_DEV__M = ^x2	; IRQ1 
                  [000000]    45  ; 
                  [000000]    46  ; DEFINE CSERVE FUNCTIONS 
                  [000000]    47  ; 
                  [000000]    48  CSERVE__START = ^x1	
                  [000000]    49  CSERVE__CALLBACK = ^x2	
                  [000000]    50  ; 
                  [000000]    51  ; FOR DP264 DEBUG MONITOR 
                  [000000]    52  ; 
                  [000000]    53  CSERVE__JTOPAL = ^x9	
                  [000000]    54  CSERVE__RD_IMPURE = ^xb	
File: ev6_system_pal_impure.mar
                  [000000]     0  ;; Alpha assembly macro (-m) output created by DEFNR
                  [000000]     1  ;   
                  [000000]     2  ;  EV6_SYSTEM_PAL_IMPURE.DNR  
                  [000000]     3  ;   
                  [000000]     4  ;   
                  [000000]     5  ;  LAST EDIT:	18-MAY-98  
                  [000000]     6  ;   
                  [000000]     7  ;  EDIT HISTORY  
                  [000000]     8  ;  WHO	WHEN		WHAT  
                  [000000]     9  ;  ---	----		----  
                  [000000]    10  ;  ES	17-SEP-96	MOVED AROUND IMPURE LOCATIONS TO MATCH PREVIOUS  
                  [000000]    11  ; 				IMPLEMENTATIONS  
                  [000000]    12  ;  ES	17-OCT-96	RENAMED TO EV6_SYSTEM_PAL_IMPURE.DNR  
                  [000000]    13  ;  ES	21-NOV-96	CHANGED CBOX ERROR REGISTERS, DELETED THEM FROM CNS  
                  [000000]    14  ;  ES	08-APR-97	ELIMINATE CPU_BASE AND SYSTEM_BASE AND SIZE AS  
                  [000000]    15  ; 				AS LOCATIONS.  
                  [000000]    16  ; 				NOW NEED TO UPDATE THESE MANUALLY!  
                  [000000]    17  ;  ES	10-APR-97	CHANGED CBOX READ CHAIN NAMES.  
                  [000000]    18  ; 			ADDED PAL_BASE, I_CTL, PROCESS_CONTEXT TO MCHK.  
                  [000000]    19  ;  ES	09-APR-97	NEW LOGOUT FRAME ARRANGEMENT.  
                  [000000]    20  ;  ES	24-JUN-97	ELIMINATE VA AND VA_CTL. ADD MCHK REV'S. ADD/MOVE  
                  [000000]    21  ; 				AROUND RESERVED SPOTS.  
                  [000000]    22  ;  ES	15-AUG-97	ADDED SOME NAMES FOR DP264.  
                  [000000]    23  ;  ES	30-OCT-97	MOVE MM_STAT FROM LONG TO SHORT FRAME FOR  
                  [000000]    24  ; 				CORRECTED DC_TAG_PERR.  
                  [000000]    25  ;  ES	06-NOV-97	MOVE SROM PARAMETERS TO THE END OF THE IMPURE AREA  
                  [000000]    26  ;  ES	20-NOV-97	PUT SROM PARAMETERS BACK AT PLACEHOLDERS. ONLY DEBUG  
                  [000000]    27  ; 				MONITOR CARES. SRM PUTS IT WHERE IT WANTS  
                  [000000]    28  ; 				ANYWAY  
                  [000000]    29  ;  ES	18-MAY-98	ADD CNS__WRITE_MANY FOR SLEEP MODE.  
                  [000000]    30  ;   
                  [000000]    31  ;   
                  [000000]    32  ;  DEFINE CNS_SIZE  
                  [000000]    33  ;  THIS IS MANUALLY SET!  
                  [000000]    34  ;   
                  [000000]    35  
                  [000000]    36  CNS__SIZE = ^x3e0
                  [000000]    37  ; 
                  [000000]    38  ; DEFINE PREFIX AS CNS 
                  [000000]    39  ; 
                  [000000]    40  ;   
                  [000000]    41  ;  DEFINE OFFSETS  
                  [000000]    42  ;   
                  [000000]    43  
                  [000000]    44  CNS__FLAG = ^x0	; DUMP FLAG 
                  [000000]    45  CNS__HALT = ^x8	; HALT CODE 
                  [000000]    46  CNS__R0 = ^x10	; INTEGER REGISTERS 
                  [000000]    47  CNS__R1 = ^x18	
                  [000000]    48  CNS__R2 = ^x20	
                  [000000]    49  CNS__R3 = ^x28	
                  [000000]    50  CNS__R4 = ^x30	
                  [000000]    51  CNS__R5 = ^x38	
                  [000000]    52  CNS__R6 = ^x40	
                  [000000]    53  CNS__R7 = ^x48	
                  [000000]    54  CNS__R8 = ^x50	
                  [000000]    55  CNS__R9 = ^x58	
                  [000000]    56  CNS__R10 = ^x60	
                  [000000]    57  CNS__R11 = ^x68	
                  [000000]    58  CNS__R12 = ^x70	
                  [000000]    59  CNS__R13 = ^x78	
                  [000000]    60  CNS__R14 = ^x80	
                  [000000]    61  CNS__R15 = ^x88	
                  [000000]    62  CNS__R16 = ^x90	
                  [000000]    63  CNS__R17 = ^x98	
                  [000000]    64  CNS__R18 = ^xa0	
                  [000000]    65  CNS__R19 = ^xa8	
                  [000000]    66  CNS__R20 = ^xb0	
                  [000000]    67  CNS__R21 = ^xb8	
                  [000000]    68  CNS__R22 = ^xc0	
                  [000000]    69  CNS__R23 = ^xc8	
                  [000000]    70  CNS__R24 = ^xd0	
                  [000000]    71  CNS__R25 = ^xd8	
                  [000000]    72  CNS__R26 = ^xe0	
                  [000000]    73  CNS__R27 = ^xe8	
                  [000000]    74  CNS__R28 = ^xf0	
                  [000000]    75  CNS__R29 = ^xf8	
                  [000000]    76  CNS__R30 = ^x100	
                  [000000]    77  CNS__R31 = ^x108	
                  [000000]    78  CNS__F0 = ^x110	; FLOATING POINT REGISTERS 
                  [000000]    79  CNS__F1 = ^x118	
                  [000000]    80  CNS__F2 = ^x120	
                  [000000]    81  CNS__F3 = ^x128	
                  [000000]    82  CNS__F4 = ^x130	
                  [000000]    83  CNS__F5 = ^x138	
                  [000000]    84  CNS__F6 = ^x140	
                  [000000]    85  CNS__F7 = ^x148	
                  [000000]    86  CNS__F8 = ^x150	
                  [000000]    87  CNS__F9 = ^x158	
                  [000000]    88  CNS__F10 = ^x160	
                  [000000]    89  CNS__F11 = ^x168	
                  [000000]    90  CNS__F12 = ^x170	
                  [000000]    91  CNS__F13 = ^x178	
                  [000000]    92  CNS__F14 = ^x180	
                  [000000]    93  CNS__F15 = ^x188	
                  [000000]    94  CNS__F16 = ^x190	
                  [000000]    95  CNS__F17 = ^x198	
                  [000000]    96  CNS__F18 = ^x1a0	
                  [000000]    97  CNS__F19 = ^x1a8	
                  [000000]    98  CNS__F20 = ^x1b0	
                  [000000]    99  CNS__F21 = ^x1b8	
                  [000000]   100  CNS__F22 = ^x1c0	
                  [000000]   101  CNS__F23 = ^x1c8	
                  [000000]   102  CNS__F24 = ^x1d0	
                  [000000]   103  CNS__F25 = ^x1d8	
                  [000000]   104  CNS__F26 = ^x1e0	
                  [000000]   105  CNS__F27 = ^x1e8	
                  [000000]   106  CNS__F28 = ^x1f0	
                  [000000]   107  CNS__F29 = ^x1f8	
                  [000000]   108  CNS__F30 = ^x200	
                  [000000]   109  CNS__F31 = ^x208	
                  [000000]   110  CNS__MCHKFLAG = ^x210	; DOES ANYONE USE THIS????? 
                  [000000]   111  CNS__IMPURE = ^x218	; IMPORTANT PALTEMPS 
                  [000000]   112  CNS__WHAMI = ^x220	
                  [000000]   113  CNS__SCC = ^x228	
                  [000000]   114  CNS__PRBR = ^x230	
                  [000000]   115  CNS__PTBR = ^x238	
                  [000000]   116  CNS__TRAP = ^x240	
                  [000000]   117  CNS__HALT_CODE = ^x248	
                  [000000]   118  CNS__KSP = ^x250	
                  [000000]   119  CNS__SCBB = ^x258	
                  [000000]   120  CNS__PCBB = ^x260	
                  [000000]   121  CNS__VPTB = ^x268	
                  [000000]   122  CNS__SROM_REV = ^x270	; DP264 DEBUG MONITOR 
                  [000000]   123  CNS__PROC_ID = ^x278	; DP264 
                  [000000]   124  CNS__MEM_SIZE = ^x280	; DP264 
                  [000000]   125  CNS__CYCLE_CNT = ^x288	; DP264 
                  [000000]   126  CNS__SIGNATURE = ^x290	; DP264 
                  [000000]   127  CNS__PROC_MASK = ^x298	; DP264 
                  [000000]   128  CNS__SYSCTX = ^x2a0	; DP264 
                  [000000]   129  CNS__PLACE_HOLDER18 = ^x2a8	
                  [000000]   130  CNS__PLACE_HOLDER19 = ^x2b0	
                  [000000]   131  CNS__PLACE_HOLDER20 = ^x2b8	
                  [000000]   132  CNS__PLACE_HOLDER21 = ^x2c0	
                  [000000]   133  CNS__PLACE_HOLDER22 = ^x2c8	
                  [000000]   134  CNS__PLACE_HOLDER23 = ^x2d0	
                  [000000]   135  CNS__P4 = ^x2d8	; SHADOW REGISTERS 
                  [000000]   136  CNS__P5 = ^x2e0	
                  [000000]   137  CNS__P6 = ^x2e8	
                  [000000]   138  CNS__P7 = ^x2f0	
                  [000000]   139  CNS__P20 = ^x2f8	
                  [000000]   140  CNS__P_TEMP = ^x300	
                  [000000]   141  CNS__P_MISC = ^x308	
                  [000000]   142  CNS__P23 = ^x310	
                  [000000]   143  CNS__FPCR = ^x318	; IPRS 
                  [000000]   144  CNS__VA = ^x320	
                  [000000]   145  CNS__VA_CTL = ^x328	
                  [000000]   146  CNS__EXC_ADDR = ^x330	
                  [000000]   147  CNS__IER_CM = ^x338	
                  [000000]   148  CNS__SIRR = ^x340	
                  [000000]   149  CNS__ISUM = ^x348	
                  [000000]   150  CNS__EXC_SUM = ^x350	
                  [000000]   151  CNS__PAL_BASE = ^x358	
                  [000000]   152  CNS__I_CTL = ^x360	
                  [000000]   153  CNS__PCTR_CTL = ^x368	
                  [000000]   154  CNS__PROCESS_CONTEXT = ^x370	
                  [000000]   155  CNS__I_STAT = ^x378	
                  [000000]   156  CNS__DTB_ALT_MODE = ^x380	
                  [000000]   157  CNS__MM_STAT = ^x388	
                  [000000]   158  CNS__M_CTL = ^x390	
                  [000000]   159  CNS__DC_CTL = ^x398	
                  [000000]   160  CNS__DC_STAT = ^x3a0	
                  [000000]   161  CNS__WRITE_MANY = ^x3a8	
                  [000000]   162  CNS__AUTOBAUD_CALIB = ^x3b0		; SROM autobaud calibration
                  [000000]   163  CNS__BEHAV_DATA = ^x3b8			; behavioural code and data
                  [000000]   164  
                  [000000]   165  CNS__CCHIP_DIRX = ^x3c0			; Tsunami chipset specific
                  [000000]   166  CNS__CCHIP_MISC = ^x3c8			; Tsunami chipset specific
                  [000000]   167  CNS__PCHIP0_ERR = ^x3d0			; Tsunami chipset specific
                  [000000]   168  CNS__PCHIP1_ERR = ^x3d8			; Tsunami chipset specific
                  [000000]   169  
                  [000000]   170  ;   
                  [000000]   171  ;  DEFINE MCHK_CRD__BASE, MCHK_CRD_CPU_BASE,  
                  [000000]   172  ;  		MCHK_CRD__SYSTEM_BASE, AND MCHK_CRD__SIZE  
                  [000000]   173  ;  THESE ARE MANUALLY SET!  
                  [000000]   174  ;  ALSO HAVE REVISION NUMBER.  
                  [000000]   175  ;   
                  [000000]   176  
                  [000000]   177  MCHK_CRD__REV = ^x1
                  [000000]   178  MCHK_CRD__BASE = ^x0	
                  [000000]   179  MCHK_CRD__CPU_BASE = ^x18	
                  [000000]   180  MCHK_CRD__SYSTEM_BASE = ^x58	
                  [000000]   181  MCHK_CRD__SIZE = ^x80
                  [000000]   182  ; 
                  [000000]   183  ; DEFINE PREFIX AS MCHK_CRD 
                  [000000]   184  ; 
                  [000000]   185  ;   
                  [000000]   186  ;  DEFINE MCHK_CRD OFFSETS  
                  [000000]   187  ;   
                  [000000]   188  
                  [000000]   189  MCHK_CRD__FLAG_FRAME = ^x0	
                  [000000]   190  MCHK_CRD__OFFSETS = ^x8	
                  [000000]   191  MCHK_CRD__MCHK_CODE = ^x10	; START OF PAL SPECIFIC 
                  [000000]   192  MCHK_CRD__I_STAT = ^x18	; START OF CPU SPECIFIC 
                  [000000]   193  MCHK_CRD__DC_STAT = ^x20	
                  [000000]   194  MCHK_CRD__C_ADDR = ^x28	
                  [000000]   195  MCHK_CRD__DC1_SYNDROME = ^x30	
                  [000000]   196  MCHK_CRD__DC0_SYNDROME = ^x38	
                  [000000]   197  MCHK_CRD__C_STAT = ^x40	
                  [000000]   198  MCHK_CRD__C_STS = ^x48	
                  [000000]   199  MCHK_CRD__MM_STAT = ^x50	
                  [000000]   200  
                  [000000]   201  ; System base of logout frame
                  [000000]   202  
                  [000000]   203  MCHK_CRD__OS_FLAGS = ^x58		; Tsunami-specific
                  [000000]   204  MCHK_CRD__CCHIP_DIR= ^x60		; Tsunami-specific
                  [000000]   205  MCHK_CRD__CCHIP_MISC = ^x68		; Tsunami-specific
                  [000000]   206  MCHK_CRD__PCHIP0_ERR = ^x70		; Tsunami-specific
                  [000000]   207  MCHK_CRD__PCHIP1_ERR = ^x78		; Tsunami-specific
                  [000000]   208  
                  [000000]   209  ;   
                  [000000]   210  ;  DEFINE MCHK__BASE, MCHK__CPU_BASE, MCHK__SYSTEM_BASE, MCHK__SIZE  
                  [000000]   211  ;  THESE ARE MANUALLY SET!  
                  [000000]   212  ;  ALSO HAVE REVISION NUMBER.  
                  [000000]   213  ;   
                  [000000]   214  
                  [000000]   215  MCHK__REV = ^x1	
                  [000000]   216  MCHK__BASE = ^x100	
                  [000000]   217  MCHK__CPU_BASE = ^x18	
                  [000000]   218  MCHK__SYSTEM_BASE = ^xa0	
                  [000000]   219  MCHK__SIZE = ^xc8
                  [000000]   220  ; 
                  [000000]   221  ; DEFINE PREFIX AS MCHK 
                  [000000]   222  ; 
                  [000000]   223  ;   
                  [000000]   224  ;  DEFINE MCHK OFFSETS  
                  [000000]   225  ;   
                  [000000]   226  MCHK__FLAG_FRAME = ^x0	
                  [000000]   227  MCHK__OFFSETS = ^x8	
                  [000000]   228  MCHK__MCHK_CODE = ^x10	; START OF PAL SPECIFIC 
                  [000000]   229  
                  [000000]   230  ; CPU base of logout frame
                  [000000]   231  
                  [000000]   232  MCHK__I_STAT = ^x18	; START OF CPU SPECIFIC COMMON 
                  [000000]   233  MCHK__DC_STAT = ^x20	
                  [000000]   234  MCHK__C_ADDR = ^x28	
                  [000000]   235  MCHK__DC1_SYNDROME = ^x30	
                  [000000]   236  MCHK__DC0_SYNDROME = ^x38	
                  [000000]   237  MCHK__C_STAT = ^x40	
                  [000000]   238  MCHK__C_STS = ^x48	
                  [000000]   239  MCHK__MM_STAT = ^x50	
                  [000000]   240  MCHK__EXC_ADDR = ^x58	; START OF CPU SPECIFIC, MCHK ONLY 
                  [000000]   241  MCHK__IER_CM = ^x60	
                  [000000]   242  MCHK__ISUM = ^x68	
                  [000000]   243  MCHK__RESERVED_0 = ^x70	
                  [000000]   244  MCHK__PAL_BASE = ^x78	
                  [000000]   245  MCHK__I_CTL = ^x80	
                  [000000]   246  MCHK__PROCESS_CONTEXT = ^x88	
                  [000000]   247  MCHK__RESERVED_1 = ^x90	
                  [000000]   248  MCHK__RESERVED_2 = ^x98	
                  [000000]   249  
                  [000000]   250  ; System base of logout frame
                  [000000]   251  
                  [000000]   252  MCHK__OS_FLAGS = ^xa0		; Tsunami-specific
                  [000000]   253  MCHK__CCHIP_DIR= ^xa8		; Tsunami-specific
                  [000000]   254  MCHK__CCHIP_MISC = ^xb0		; Tsunami-specific
                  [000000]   255  MCHK__PCHIP0_ERR = ^xb8		; Tsunami-specific
                  [000000]   256  MCHK__PCHIP1_ERR = ^xc0		; Tsunami-specific
                  [000000]   257  
File: ev6_pal_macros.mar
                  [000000]     0  ;+
                  [000000]     1  ; ev6_pal_macros.mar
                  [000000]     2  ;-
                  [000000]     3  
                  [000000]     4  ;+
                  [000000]     5  ; Last Edit:	12-Jan-99
                  [000000]     6  ;
                  [000000]     7  ; Edit History
                  [000000]     8  ; Who	When		What
                  [000000]     9  ; ---	----		----
                  [000000]    10  ; ES	17-Sep-96	Fixed PVC_VIOLATE macro.
                  [000000]    11  ; ES	18-Dec-96	Added optional pad to align macros.
                  [000000]    12  ;			Added ASSUME_FETCH_BLOCK.
                  [000000]    13  ;			Added MAP_SHADOW_REGISTERS
                  [000000]    14  ; ES	06-Mar-97	Add unaligned LOAD macros (for pass1 fp emulation)
                  [000000]    15  ; ES	01-Aug-97	Add optional 'verify' parameter to GET_32CONS
                  [000000]    16  ;				(suggested by Dave Mayo)
                  [000000]    17  ; ES	29-Sep-97	Eliminate MAP_SHADOW_REGISTERS. You can find it
                  [000000]    18  ;				in srom_macros.mar.
                  [000000]    19  ; ES	11-Jan-99	Add add_extra_ret conditional in CALL_PAL macro.
                  [000000]    20  ;-
                  [000000]    21  
                  [000000]    22  ;
                  [000000]    23  ; On p2.3 (and maybe later), call_pal pushes the prediction stack
                  [000000]    24  ; twice, so we pop it and extra time. This causes a mispredict, but
                  [000000]    25  ; at the least the stack is back in synch.
                  [000000]    26  ;
                  [000000]    27  .iif ndf add_extra_ret, add_extra_ret = 1
                  [000000]    27I  add_extra_ret = 1
                  [000000]    28  
                  [000000]    29  .macro	START_HW_VECTOR func
                  [000000]    30      .iif ndf _pal_func_in_prog, _pal_func_in_prog = 0
                  [000000]    31      ASSUME <_pal_func_in_prog> eq 0
                  [000000]    32      _pal_func_in_prog = 1
                  [000000]    33      .if ndf _new_code_space
                  [000000]    34          _new_code_space = ^x4000
                  [000000]    35      .iff
                  [000000]    36          _new_code_space = .
                  [000000]    37      .endc
                  [000000]    38      _pal_vec_cont = 0
                  [000000]    39      .if ndf osfpal
                  [000000]    40          . = <TRAP__START + EV6__'func'_ENTRY>
                  [000000]    41  TRAP__'func':
                  [000000]    42      .iff
                  [000000]    43          . = <TRAP__START + EV6__'func'_ENTRY>
                  [000000]    44  TRAP__'func':
                  [000000]    45      .endc
                  [000000]    46      _start_of_last_vec = .
                  [000000]    47  .endm	START_HW_VECTOR
                  [000000]    48  
                  [000000]    49  .macro	END_HW_VECTOR size=^x80
                  [000000]    50      _pal_func_in_prog = 0
                  [000000]    51      .if eq _pal_vec_cont
                  [000000]    52          ASSUME <.-_start_of_last_vec> le <size>
                  [000000]    53      .iff
                  [000000]    54          _new_code_space = .
                  [000000]    55      .endc
                  [000000]    56      GOTO_FREE_CODE
                  [000000]    57  .endm	END_HW_VECTOR
                  [000000]    58  
                  [000000]    59  .macro	GOTO_FREE_CODE
                  [000000]    60      .iif ndf _new_code_space, _new_code_space = ^x4000
                  [000000]    61      . = _new_code_space
                  [000000]    62      .align 6
                  [000000]    63  .endm	GOTO_FREE_CODE
                  [000000]    64  
                  [000000]    65  .macro	END_FREE_CODE
                  [000000]    66      .iif ndf _new_code_space, _new_code_space = ^x4000
                  [000000]    67      _new_code_space = .
                  [000000]    68  .endm	END_FREE_CODE
                  [000000]    69  
                  [000000]    70  .macro	CONT_HW_VECTOR func
                  [000000]    71      ASSUME <_pal_vec_cont> eq 0
                  [000000]    72      .if nb func
                  [000000]    73          .if ndf osfpal
                  [000000]    74  	br	r31, TRAP__'func'_CONT
                  [000000]    75          .iff
                  [000000]    76  	br	r31, TRAP__'func'_CONT
                  [000000]    77          .endc
                  [000000]    78      .endc
                  [000000]    79      ASSUME <.-_start_of_last_vec> le <^x80>
                  [000000]    80      _pal_vec_cont = 1
                  [000000]    81      GOTO_FREE_CODE
                  [000000]    82      .if nb func
                  [000000]    83          .if ndf osfpal
                  [000000]    84  TRAP__'func'_CONT:
                  [000000]    85          .iff
                  [000000]    86  TRAP__'func'_CONT:
                  [000000]    87          .endc
                  [000000]    88      .endc
                  [000000]    89  .endm	CONT_HW_VECTOR
                  [000000]    90  
                  [000000]    91  .if eq add_extra_ret				; add_extra_ret
                  [000000]    92  .macro	START_CALL_PAL func
                  [000000]    93      .if ndf osfpal
                  [000000]    94          ASSUME <<PAL_FUNC__'func'> & <^x40>> eq 0
                  [000000]    95          new_func_code = -
                  [000000]    96              <PAL_FUNC__'func' & ^x3F> -
                  [000000]    97  	        ! <<PAL_FUNC__'func'@-1>& ^x40>
                  [000000]    98      .iff
                  [000000]    99          ASSUME <<OSFPAL_FUNC__'func'> & <^x40>> eq 0
                  [000000]   100          new_func_code = -
                  [000000]   101              <OSFPAL_FUNC__'func' & ^x3F> -
                  [000000]   102                  ! <<OSFPAL_FUNC__'func'@-1>& ^x40>
                  [000000]   103      .endc
                  [000000]   104  
                  [000000]   105      .iif ndf _pal_func_in_prog, _pal_func_in_prog = 0
                  [000000]   106      ASSUME <_pal_func_in_prog> eq 0
                  [000000]   107      _pal_func_in_prog = 1
                  [000000]   108      _new_code_space = .
                  [000000]   109      _pal_func_cont = 0
                  [000000]   110      .if ndf osfpal
                  [000000]   111          . = <<CALL_PAL__START> + <new_func_code * <^x40>>>
                  [000000]   112  CALL_PAL__'func'::
                  [000000]   113      .iff
                  [000000]   114          . = <<CALL_PAL__START> + <new_func_code * <^x40>>>
                  [000000]   115  CALL_PAL__'func'::
                  [000000]   116      .endc
                  [000000]   117      _start_of_last_pal_func = .
                  [000000]   118  .endm	START_CALL_PAL
                  [000000]   119  .iff						; add_extra_ret
                  [000000]   120  ;
                  [000000]   121  ; Add 2 fetch blocks worth of hw_ret stuff, and then put in the
                  [000000]   122  ; equivalent of CONT_CALL_PAL.
                  [000000]   123  ;
                  [000000]   124  .macro	START_CALL_PAL func
                  [000000]   125      .if ndf osfpal
                  [000000]   126          ASSUME <<PAL_FUNC__'func'> & <^x40>> eq 0
                  [000000]   127          new_func_code = -
                  [000000]   128              <PAL_FUNC__'func' & ^x3F> -
                  [000000]   129  	        ! <<PAL_FUNC__'func'@-1>& ^x40>
                  [000000]   130      .iff
                  [000000]   131          ASSUME <<OSFPAL_FUNC__'func'> & <^x40>> eq 0
                  [000000]   132          new_func_code = -
                  [000000]   133              <OSFPAL_FUNC__'func' & ^x3F> -
                  [000000]   134                  ! <<OSFPAL_FUNC__'func'@-1>& ^x40>
                  [000000]   135      .endc
                  [000000]   136  
                  [000000]   137      .iif ndf _pal_func_in_prog, _pal_func_in_prog = 0
                  [000000]   138      ASSUME <_pal_func_in_prog> eq 0
                  [000000]   139      _pal_func_in_prog = 1
                  [000000]   140      _new_code_space = .
                  [000000]   141      _pal_func_cont = 0
                  [000000]   142          . = <<CALL_PAL__START> + <new_func_code * <^x40>>>
                  [000000]   143  CALL_PAL__'func'::
                  [000000]   144  	_start_of_last_pal_func = .
                  [000000]   145  	bis	r31, r31, r31
                  [000000]   146  	bis	r31, r31, r31
                  [000000]   147  	br	p4, s_'func'
                  [000000]   148  s_'func':
                  [000000]   149  	addq	p4, #<<e_'func' - s_'func'>+1>, p4
                  [000000]   150  	PVC_JSR	p_'func'
                  [000000]   151  	hw_ret	(p4)
                  [000000]   152  	PVC_JSR p_'func', dest=1
                  [000000]   153  e_'func':
                  [000000]   154  	bis	r31, r31, r31
                  [000000]   155  	bis	r31, r31, r31
                  [000000]   156  	br	r31, CALL_PAL__'func'_CONT_EXTRA
                  [000000]   157  
                  [000000]   158      _pal_func_cont = 1
                  [000000]   159      GOTO_FREE_CODE
                  [000000]   160  CALL_PAL__'func'_CONT_EXTRA:
                  [000000]   161  .endm	START_CALL_PAL
                  [000000]   162  .endc						; add_extra_ret
                  [000000]   120I ;
                  [000000]   121I ; Add 2 fetch blocks worth of hw_ret stuff, and then put in the
                  [000000]   122I ; equivalent of CONT_CALL_PAL.
                  [000000]   123I ;
                  [000000]   124I .macro	START_CALL_PAL func
                  [000000]   125I     .if ndf osfpal
                  [000000]   126I         ASSUME <<PAL_FUNC__'func'> & <^x40>> eq 0
                  [000000]   127I         new_func_code = -
                  [000000]   128I             <PAL_FUNC__'func' & ^x3F> -
                  [000000]   129I 	        ! <<PAL_FUNC__'func'@-1>& ^x40>
                  [000000]   130I     .iff
                  [000000]   131I         ASSUME <<OSFPAL_FUNC__'func'> & <^x40>> eq 0
                  [000000]   132I         new_func_code = -
                  [000000]   133I             <OSFPAL_FUNC__'func' & ^x3F> -
                  [000000]   134I                 ! <<OSFPAL_FUNC__'func'@-1>& ^x40>
                  [000000]   135I     .endc
                  [000000]   136I 
                  [000000]   137I     .iif ndf _pal_func_in_prog, _pal_func_in_prog = 0
                  [000000]   138I     ASSUME <_pal_func_in_prog> eq 0
                  [000000]   139I     _pal_func_in_prog = 1
                  [000000]   140I     _new_code_space = .
                  [000000]   141I     _pal_func_cont = 0
                  [000000]   142I         . = <<CALL_PAL__START> + <new_func_code * <^x40>>>
                  [000000]   143I CALL_PAL__'func'::
                  [000000]   144I 	_start_of_last_pal_func = .
                  [000000]   145I 	bis	r31, r31, r31
                  [000000]   146I 	bis	r31, r31, r31
                  [000000]   147I 	br	p4, s_'func'
                  [000000]   148I s_'func':
                  [000000]   149I 	addq	p4, #<<e_'func' - s_'func'>+1>, p4
                  [000000]   150I 	PVC_JSR	p_'func'
                  [000000]   151I 	hw_ret	(p4)
                  [000000]   152I 	PVC_JSR p_'func', dest=1
                  [000000]   153I e_'func':
                  [000000]   154I 	bis	r31, r31, r31
                  [000000]   155I 	bis	r31, r31, r31
                  [000000]   156I 	br	r31, CALL_PAL__'func'_CONT_EXTRA
                  [000000]   157I 
                  [000000]   158I     _pal_func_cont = 1
                  [000000]   159I     GOTO_FREE_CODE
                  [000000]   160I CALL_PAL__'func'_CONT_EXTRA:
                  [000000]   161I .endm	START_CALL_PAL
                  [000000]   163  
                  [000000]   164  .macro	END_CALL_PAL
                  [000000]   165      _pal_func_in_prog = 0
                  [000000]   166      .if eq _pal_func_cont
                  [000000]   167          ASSUME <.-_start_of_last_pal_func> le <^x40>
                  [000000]   168      .iff
                  [000000]   169  	_new_code_space = .
                  [000000]   170      .endc
                  [000000]   171      GOTO_FREE_CODE
                  [000000]   172  .endm	END_CALL_PAL
                  [000000]   173  
                  [000000]   174  .if eq add_extra_ret				; add_extra_ret
                  [000000]   175  .macro	CONT_CALL_PAL func
                  [000000]   176      ASSUME <_pal_func_cont> eq 0
                  [000000]   177      .if nb func
                  [000000]   178          .if ndf osfpal
                  [000000]   179  	br	r31, CALL_PAL__'func'_CONT
                  [000000]   180          .iff
                  [000000]   181  	br	r31, CALL_PAL__'func'_CONT
                  [000000]   182          .endc
                  [000000]   183      .endc
                  [000000]   184      ASSUME <.-_start_of_last_pal_func> le <^x40>
                  [000000]   185      _pal_func_cont = 1
                  [000000]   186      GOTO_FREE_CODE
                  [000000]   187      .if nb func
                  [000000]   188          .if ndf osfpal
                  [000000]   189  CALL_PAL__'func'_CONT:
                  [000000]   190          .iff
                  [000000]   191  CALL_PAL__'func'_CONT:
                  [000000]   192          .endc
                  [000000]   193      .endc
                  [000000]   194  .endm	CONT_CALL_PAL
                  [000000]   195  .iff						; add_extra_ret
                  [000000]   196  ;
                  [000000]   197  ; Basically just turn this into a branch to the next fetch block
                  [000000]   198  ;
                  [000000]   199  .macro	CONT_CALL_PAL func
                  [000000]   200      .if nb func
                  [000000]   201  	br	r31, CALL_PAL__'func'_CONT
                  [000000]   202      .endc
                  [000000]   203      .if nb func
                  [000000]   204      .align 4, <^x47FF041F>
                  [000000]   205  CALL_PAL__'func'_CONT:
                  [000000]   206      .endc
                  [000000]   207  .endm	CONT_CALL_PAL
                  [000000]   208  .endc						; add_extra_ret
                  [000000]   196I ;
                  [000000]   197I ; Basically just turn this into a branch to the next fetch block
                  [000000]   198I ;
                  [000000]   199I .macro	CONT_CALL_PAL func
                  [000000]   200I     .if nb func
                  [000000]   201I 	br	r31, CALL_PAL__'func'_CONT
                  [000000]   202I     .endc
                  [000000]   203I     .if nb func
                  [000000]   204I     .align 4, <^x47FF041F>
                  [000000]   205I CALL_PAL__'func'_CONT:
                  [000000]   206I     .endc
                  [000000]   207I .endm	CONT_CALL_PAL
                  [000000]   209  
                  [000000]   210  ;
                  [000000]   211  ; GET_32ADDR	load register 'dest' with 'offset(base)' where
                  [000000]   212  ;		offset can be a 32 bit literal
                  [000000]   213  ;
                  [000000]   214  .macro	GET_32ADDR dest,offset,base
                  [000000]   215  	ASSUME <offset> le  <^x7FFFFFFF>
                  [000000]   216  	ldah	'dest',<<'offset'>+32768>@-16('base'); + xxx<31:16>
                  [000000]   217  	lda	'dest',<<'offset'> & ^xFFFF>('dest') ; base+xxx<15:0>
                  [000000]   218  .endm	GET_32ADDR
                  [000000]   219  
                  [000000]   220  ;
                  [000000]   221  ; GET_16ADDR	load register 'dest' with 'offset(base)' where
                  [000000]   222  ;		offset can be a 16 bit literal
                  [000000]   223  ;
                  [000000]   224  .macro	GET_16ADDR dest,offset,base
                  [000000]   225  	ASSUME <<offset>> le  <^x7FFF>
                  [000000]   226  	lda	'dest',<'offset'>('base') ; base+xxx<15:0>
                  [000000]   227  .endm	GET_16ADDR
                  [000000]   228  
                  [000000]   229  ;
                  [000000]   230  ; GET_32CONS	load register 'dest' with 'offset(base)' where
                  [000000]   231  ;		offset can be a 32 bit literal
                  [000000]   232  ;
                  [000000]   233  .macro	GET_32CONS dest,offset,base,verify=1
                  [000000]   234  	.iif ne verify, ASSUME <offset> le  <^x7FFFFFFF>
                  [000000]   235  	ldah	'dest',<<'offset'>+32768>@-16('base'); + xxx<31:16>
                  [000000]   236  	lda	'dest',<<'offset'> & ^XFFFF>('dest') ; base+xxx<15:0>
                  [000000]   237  .endm	GET_32CONS
                  [000000]   238  
                  [000000]   239  ;
                  [000000]   240  ; GET_16CONS	load register 'dest' with 'offset(base)' where
                  [000000]   241  ;		offset can be a 16 bit literal
                  [000000]   242  ;
                  [000000]   243  .macro	GET_16CONS dest,offset,base
                  [000000]   244  	ASSUME <<offset>> le  <^x7FFF>
                  [000000]   245  	lda	'dest',<'offset'>('base') ; base+xxx<15:0>
                  [000000]   246  .endm	GET_16CONS
                  [000000]   247  
                  [000000]   248  ;
                  [000000]   249  ; ASSUME	test that a relation is true
                  [000000]   250  ;
                  [000000]   251  .macro	ASSUME exp1, relation, exp2
                  [000000]   252      .if	relation <<exp1>-<exp2>>
                  [000000]   253      .iff
                  [000000]   254          .error	; ** exp1 must be relation exp2 **
                  [000000]   255      .endc
                  [000000]   256  .endm	ASSUME
                  [000000]   257  
                  [000000]   258  .macro	ALIGN_FETCH_BLOCK pad
                  [000000]   259      .if nb <pad>
                  [000000]   260  	.align 4, <pad>
                  [000000]   261      .iff
                  [000000]   262  	.align 4
                  [000000]   263      .endc
                  [000000]   264  .endm	ALIGN_FETCH_BLOCK
                  [000000]   265  
                  [000000]   266  .macro	ALIGN_CACHE_BLOCK pad
                  [000000]   267      .if nb <pad>
                  [000000]   268  	.align 6, <pad>
                  [000000]   269      .iff
                  [000000]   270  	.align 6
                  [000000]   271      .endc
                  [000000]   272  .endm	ALIGN_CACHE_BLOCK
                  [000000]   273  
                  [000000]   274  ;
                  [000000]   275  ; NOP
                  [000000]   276  ;
                  [000000]   277  .macro	NOP
                  [000000]   278  	bis	r31, r31, r31
                  [000000]   279  .endm
                  [000000]   280  
                  [000000]   281  ;+
                  [000000]   282  ; ASSUME_FETCH_BLOCK
                  [000000]   283  ;-
                  [000000]   284  
                  [000000]   285  .macro	ASSUME_FETCH_BLOCK
                  [000000]   286  
                  [000000]   287      .if ne <.  & ^xF>
                  [000000]   288  	.error	; ** not aligned on fetch block **
                  [000000]   289      .endc
                  [000000]   290  .endm	ASSUME_FETCH_BLOCK
                  [000000]   291  
                  [000000]   292  .macro	LOAD_UNALIGNED_LONG reg, addr, scr1, scr2
                  [000000]   293  	lda	scr2, (addr)
                  [000000]   294  
                  [000000]   295  	ldq_u	reg, (scr2)
                  [000000]   296  	ldq_u	scr1, 3(scr2)
                  [000000]   297  	extll	reg, scr2, reg
                  [000000]   298  	extlh	scr1, scr2, scr1
                  [000000]   299  	or	scr1, reg, reg
                  [000000]   300  	addl	reg, r31, reg
                  [000000]   301  .endm
                  [000000]   302  
                  [000000]   303  .macro	LOAD_UNALIGNED_QUAD reg, addr, scr1, scr2
                  [000000]   304  	lda	scr2, (addr)
                  [000000]   305  	ldq_u	reg, (scr2)
                  [000000]   306  	ldq_u	scr1, 7(scr2)
                  [000000]   307  	extql	reg, scr2, reg
                  [000000]   308  	extqh	scr1, scr2, scr1
                  [000000]   309  	or	scr1, reg, reg
                  [000000]   310  .endm
                  [000000]   311  
                  [000000]   312  .macro	STORE_UNALIGNED_WORD reg, addr, scr1, scr2, scr3, lock=0, err,err1
                  [000000]   313      .if eq lock
                  [000000]   314  	lda	scr3, (addr)
                  [000000]   315  
                  [000000]   316  	ldq_u	scr1, (scr3)
                  [000000]   317  	inswl	reg, scr3, scr2
                  [000000]   318  	mskwl	scr1, scr3, scr1
                  [000000]   319  	bis	scr1, scr2, scr1
                  [000000]   320  	stq_u	scr1, (scr3)
                  [000000]   321  
                  [000000]   322  	ldq_u	scr1, 1(scr3)
                  [000000]   323  	inswh	reg, scr3, scr2
                  [000000]   324  	mskwh	scr1, scr3, scr1
                  [000000]   325  	bis	scr1, scr2, scr1
                  [000000]   326  	stq_u	scr1, 1(scr3)
                  [000000]   327  
                  [000000]   328      .iff
                  [000000]   329  
                  [000000]   330  	bic	addr, #7, scr3
                  [000000]   331  	ldq_l	scr1, (scr3)
                  [000000]   332  	inswl	reg, addr, scr2
                  [000000]   333  	mskwl	scr1, addr, scr1
                  [000000]   334  	bis	scr1, scr2, scr1
                  [000000]   335  	stq_c	scr1, (scr3)
                  [000000]   336  
                  [000000]   337  	.iif nb <err>, blbc scr1, err
                  [000000]   338  
                  [000000]   339  	lda	scr3, 1(addr)
                  [000000]   340  
                  [000000]   341  	bic	scr3, #7, scr3
                  [000000]   342  	ldq_l	scr1, (scr3)
                  [000000]   343  	inswh	reg, addr, scr2
                  [000000]   344  	mskwh	scr1, addr, scr1
                  [000000]   345  	bis	scr1, scr2, scr1
                  [000000]   346  	stq_c	scr1, (scr3)
                  [000000]   347  
                  [000000]   348  	.iif nb <err>, blbc scr1, err1
                  [000000]   349  
                  [000000]   350      .endc
                  [000000]   351  .endm
                  [000000]   352  
                  [000000]   353  .macro	STORE_UNALIGNED_LONG reg, addr, scr1, scr2, scr3, lock=0, err,err1
                  [000000]   354       .if eq lock
                  [000000]   355  	lda	scr3, (addr)
                  [000000]   356  
                  [000000]   357  	ldq_u	scr1, (scr3)
                  [000000]   358  	insll	reg, scr3, scr2
                  [000000]   359  	mskll	scr1, scr3, scr1
                  [000000]   360  	bis	scr1, scr2, scr1
                  [000000]   361  	stq_u	scr1, (scr3)
                  [000000]   362  
                  [000000]   363  	ldq_u	scr1, 3(scr3)
                  [000000]   364  	inslh	reg, scr3, scr2
                  [000000]   365  	msklh	scr1, scr3, scr1
                  [000000]   366  	bis	scr1, scr2, scr1
                  [000000]   367  	stq_u	scr1, 3(scr3)
                  [000000]   368  
                  [000000]   369      .iff
                  [000000]   370  
                  [000000]   371  	bic	addr, #7, scr3
                  [000000]   372  	ldq_l	scr1, (scr3)
                  [000000]   373  	insll	reg, addr, scr2
                  [000000]   374  	mskll	scr1, addr, scr1
                  [000000]   375  	bis	scr1, scr2, scr1
                  [000000]   376  	stq_c	scr1, (scr3)
                  [000000]   377  
                  [000000]   378  	.iif nb <err>, blbc scr1, err
                  [000000]   379  
                  [000000]   380  	lda	scr3, 3(addr)
                  [000000]   381  
                  [000000]   382  	bic	scr3, #7, scr3
                  [000000]   383  	ldq_l	scr1, (scr3)
                  [000000]   384  	inslh	reg, addr, scr2
                  [000000]   385  	msklh	scr1, addr, scr1
                  [000000]   386  	bis	scr1, scr2, scr1
                  [000000]   387  	stq_c	scr1, (scr3)
                  [000000]   388  
                  [000000]   389  	.iif nb <err>, blbc scr1, err1
                  [000000]   390      .endc
                  [000000]   391  .endm
                  [000000]   392  
                  [000000]   393  .macro	STORE_UNALIGNED_QUAD reg, addr, scr1, scr2, scr3, lock=0, err,err1
                  [000000]   394      .if eq lock
                  [000000]   395  	lda	scr3, (addr)
                  [000000]   396  
                  [000000]   397  	ldq_u	scr1, (scr3)
                  [000000]   398  	insql	reg, scr3, scr2
                  [000000]   399  	mskql	scr1, scr3, scr1
                  [000000]   400  	bis	scr1, scr2, scr1
                  [000000]   401  	stq_u	scr1, (scr3)
                  [000000]   402  
                  [000000]   403  	ldq_u	scr1, 7(scr3)
                  [000000]   404  	insqh	reg, scr3, scr2
                  [000000]   405  	mskqh	scr1, scr3, scr1
                  [000000]   406  	bis	scr1, scr2, scr1
                  [000000]   407  	stq_u	scr1, 7(scr3)
                  [000000]   408  
                  [000000]   409      .iff
                  [000000]   410  
                  [000000]   411  	bic	addr, #7, scr3
                  [000000]   412  	ldq_l	scr1, (scr3)
                  [000000]   413  	insql	reg, addr, scr2
                  [000000]   414  	mskql	scr1, addr, scr1
                  [000000]   415  	bis	scr1, scr2, scr1
                  [000000]   416  	stq_c	scr1, (scr3)
                  [000000]   417  
                  [000000]   418  	.iif nb <err>, blbc scr1, err
                  [000000]   419  
                  [000000]   420  	lda	scr3, 7(addr)
                  [000000]   421  
                  [000000]   422  	bic	scr3, #7, scr3
                  [000000]   423  	ldq_l	scr1, (scr3)
                  [000000]   424  	insqh	reg, addr, scr2
                  [000000]   425  	mskqh	scr1, addr, scr1
                  [000000]   426  	bis	scr1, scr2, scr1
                  [000000]   427  	stq_c	scr1, (scr3)
                  [000000]   428  
                  [000000]   429  	.iif nb <err>, blbc scr1, err1
                  [000000]   430      .endc
                  [000000]   431  .endm
                  [000000]   432  
                  [000000]   433  ;
                  [000000]   434  ; For longword queue operations
                  [000000]   435  ;
                  [000000]   436  .macro	QSTORE_UNALIGNED_LONG reg, disp, addr, scr1, scr2, scr3
                  [000000]   437  	lda	scr3, disp(addr)
                  [000000]   438  
                  [000000]   439  	ldq_u	scr1, disp(addr)
                  [000000]   440  	insll	reg, scr3, scr2
                  [000000]   441  	mskll	scr1, scr3, scr1
                  [000000]   442  	bis	scr1, scr2, scr1
                  [000000]   443  	stq_u	scr1, disp(addr)
                  [000000]   444  
                  [000000]   445  	ldq_u	scr1,<disp+3>(addr)
                  [000000]   446  	inslh	reg, scr3, scr2
                  [000000]   447  	msklh	scr1, scr3, scr1
                  [000000]   448  	bis	scr1, scr2, scr1
                  [000000]   449  	stq_u	scr1, <disp+3>(addr)
                  [000000]   450  .endm
                  [000000]   451  
                  [000000]   452  .macro	STORE_REG n, srn, irn, fpu=0, pal=0, ipr=0
                  [000000]   453  ;
                  [000000]   454  ; n = register number
                  [000000]   455  ; srn = scratch register
                  [000000]   456  ; irn = impure base register
                  [000000]   457  ; 
                  [000000]   458      ASSUME <fpu+pal+ipr> lt 2
                  [000000]   459  
                  [000000]   460      .if eq fpu+pal+ipr
                  [000000]   461  	hw_stq/p r'n', CNS__R'n'(irn)
                  [000000]   462      .endc
                  [000000]   463  
                  [000000]   464      .if ne fpu
                  [000000]   465  	ftoit	f'n', srn
                  [000000]   466  	hw_stq/p srn, CNS__F'n'(irn)
                  [000000]   467      .endc
                  [000000]   468  
                  [000000]   469      .if ne pal
                  [000000]   470  	hw_ldq/p srn, PT__'n'(p_temp)
                  [000000]   471  	hw_stq/p srn, CNS__'n'(irn)
                  [000000]   472      .endc
                  [000000]   473  
                  [000000]   474      .if ne ipr
                  [000000]   475  	hw_mfpr	srn, EV6__'n'
                  [000000]   476  	hw_stq/p srn, CNS__'n'(irn)
                  [000000]   477      .endc
                  [000000]   478  .endm
                  [000000]   479  
                  [000000]   480  .macro	RESTORE_REG n, srn, irn, fpu=0, pal=0, ipr=0
                  [000000]   481  ;
                  [000000]   482  ; n = register number
                  [000000]   483  ; srn = scratch register
                  [000000]   484  ; irn = impure base register
                  [000000]   485  ; 
                  [000000]   486      ASSUME <fpu+pal+ipr> lt 2
                  [000000]   487  
                  [000000]   488      .if eq fpu+pal+ipr
                  [000000]   489  	hw_ldq/p r'n', CNS__R'n'(irn)
                  [000000]   490      .endc
                  [000000]   491  
                  [000000]   492      .if ne fpu
                  [000000]   493  	hw_ldq/p srn, CNS__F'n'(irn)
                  [000000]   494  	itoft	srn, f'n'
                  [000000]   495      .endc
                  [000000]   496  
                  [000000]   497      .if ne pal
                  [000000]   498  	hw_ldq/p srn, CNS__'n'(irn)
                  [000000]   499  	hw_stq/p srn, PT__'n'(p_temp)
                  [000000]   500      .endc
                  [000000]   501  
                  [000000]   502      .if ne ipr
                  [000000]   503  	hw_ldq/p srn, CNS__'n'(irn)
                  [000000]   504  	hw_mtpr	srn, EV6__'n'
                  [000000]   505      .endc
                  [000000]   506  .endm
                  [000000]   507  
                  [000000]   508  ;+
                  [000000]   509  ; PVC macros
                  [000000]   510  ;-
                  [000000]   511  .macro	PVC_JSR token, dest=0, bonus=0, bsr=0
                  [000000]   512      .iif gt bsr-1, pcv__'token' == bsr
                  [000000]   513      .if ndf osfpal
                  [000000]   514  	.iif ndf pcv_jsr_index, pcv_jsr_index = 2100
                  [000000]   515      .iff
                  [000000]   516  	.iif ndf pcv_jsr_index, pcv_jsr_index = 3100
                  [000000]   517      .endc
                  [000000]   518      .iif ndf pcv_index, pcv_index = 100
                  [000000]   519      tpcv_jsr_index = pcv_jsr_index
                  [000000]   520      .iif ne bsr, pcv_jsr_index = pcv_jsr_index + 2000
                  [000000]   521      .iif gt bsr-1, pcv_jsr_index = bsr
                  [000000]   522      .iif ndf pcv_jsr_'token''bonus', pcv_jsr_'token''bonus' == pcv_jsr_index
                  [000000]   523      .iif ndf pcv_jsr_'token''bonus'_inst, pcv_jsr_'token''bonus'_inst = 1
                  [000000]   524  
                  [000000]   525      .if eq dest
                  [000000]   526  	.iif df osfpal, pvc_lbl \pcv_index, \pcv_jsr_'token''bonus', osf
                  [000000]   527  	.iif ndf osfpal, pvc_lbl \pcv_index, \pcv_jsr_'token''bonus', vms
                  [000000]   528      .iff
                  [000000]   529  	.iif df osfpal, pvc_lbl \pcv_index, \pcv_jsr_'token''bonus', -
                  [000000]   530  			osf, \pcv_jsr_'token''bonus'_inst
                  [000000]   531  	.iif ndf osfpal, pvc_lbl \pcv_index, \pcv_jsr_'token''bonus', -
                  [000000]   532  			vms, \pcv_jsr_'token''bonus'_inst
                  [000000]   533  	pcv_jsr_'token''bonus'_inst = pcv_jsr_'token''bonus'_inst +1
                  [000000]   534      .endc
                  [000000]   535      pcv_jsr_index = tpcv_jsr_index
                  [000000]   536      pcv_jsr_index = pcv_jsr_index + 1
                  [000000]   537      pcv_index = pcv_index + 1
                  [000000]   538  .endm
                  [000000]   539  
                  [000000]   540  .macro	PVC_VIOLATE rule
                  [000000]   541      .iif ndf pcv_index, pcv_index = 0
                  [000000]   542      .iif nb <rule>, pcv_rule = rule
                  [000000]   543      .iif df osfpal, pvc_lbl \pcv_index, \pcv_rule, osf
                  [000000]   544      .iif ndf osfpal, pvc_lbl \pcv_index,\pcv_rule, vms
                  [000000]   545      pcv_index = pcv_index +1
                  [000000]   546  .endm
                  [000000]   547  
                  [000000]   548  .macro	PVC_LBL indx, rule, os, inst=0, value
                  [000000]   549      .if nb <value>
                  [000000]   550  	.iif eq inst, pvc$'os''indx'$'rule' == value
                  [000000]   551  	.iif ne inst, pvc$'os''indx'$'rule'.'inst' == value
                  [000000]   552      .iff
                  [000000]   553  	.iif eq inst, pvc$'os''indx'$'rule' == .
                  [000000]   554  	.iif ne inst, pvc$'os''indx'$'rule'.'inst' == .
                  [000000]   555      .endc
                  [000000]   556  .endm
File: ev6_debug_macros.mar
                  [000000]     0  ;---------------------------------------------------------------------
                  [000000]     1  ;        [ Copyright (c) 1999 Alpha Processor Inc.] - Unpublished Work
                  [000000]     2  ;          All rights reserved
                  [000000]     3  ; 
                  [000000]     4  ;    This file contains source code written by Alpha Processor, Inc.
                  [000000]     5  ;    It may not be used without express written permission. The
                  [000000]     6  ;    expression of the information contained herein is protected under
                  [000000]     7  ;    federal copyright laws as an unpublished work and all copying
                  [000000]     8  ;    without permission is prohibited and may be subject to criminal
                  [000000]     9  ;    and civil penalties. Alpha Processor, Inc.  assumes no
                  [000000]    10  ;    responsibility for errors, omissions, or damages caused by the use
                  [000000]    11  ;    of these programs or from use of the information contained herein.
                  [000000]    12  ;  
                  [000000]    13  ;---------------------------------------------------------------------
                  [000000]    14  ;+
                  [000000]    15  ; ev6_debug_macros.mar
                  [000000]    16  ;-
                  [000000]    17  
                  [000000]    18  ;+
                  [000000]    19  ; Last Edit:	17-May-2000
                  [000000]    20  ;
                  [000000]    21  ; Edit History
                  [000000]    22  ; Who	When		What
                  [000000]    23  ; ---	----		----
                  [000000]    24  ; SCLT	17-May-2000	Initial implementation of debug macros
                  [000000]    25  ;
                  [000000]    26  ; SCLT	07-Jun-2000	Addition of string-dumping macros for SROM UART
                  [000000]    27  ;
                  [000000]    28  ;-
                  [000000]    29  
                  [000000]    30  ; Store away scratch registers needed so debug doesn't interfere with
                  [000000]    31  ; other operation
                  [000000]    32  
                  [000000]    33  .macro save_debug_r0
                  [000000]    34  	hw_stq/p r0, PT__DBG0( p_temp )
                  [000000]    35  .endm  save_debug_r0
                  [000000]    36  .macro restore_debug_r0
                  [000000]    37  	hw_ldq/p r0, PT__DBG0( p_temp )
                  [000000]    38  .endm  restore_debug_r0
                  [000000]    39  
                  [000000]    40  .macro save_debug_r1
                  [000000]    41  	hw_stq/p r1, PT__DBG1( p_temp )
                  [000000]    42  .endm  save_debug_r1
                  [000000]    43  .macro restore_debug_r1
                  [000000]    44  	hw_ldq/p r1, PT__DBG1( p_temp )
                  [000000]    45  .endm  restore_debug_r1
                  [000000]    46  
                  [000000]    47  .macro save_debug_r2
                  [000000]    48  	hw_stq/p r2, PT__DBG2( p_temp )
                  [000000]    49  .endm  save_debug_r2
                  [000000]    50  .macro restore_debug_r2
                  [000000]    51  	hw_ldq/p r2, PT__DBG2( p_temp )
                  [000000]    52  .endm  restore_debug_r2
                  [000000]    53  
                  [000000]    54  .macro save_debug_r3
                  [000000]    55  	hw_stq/p r3, PT__DBG3( p_temp )
                  [000000]    56  .endm  save_debug_r3
                  [000000]    57  .macro restore_debug_r3
                  [000000]    58  	hw_ldq/p r3, PT__DBG3( p_temp )
                  [000000]    59  .endm  restore_debug_r3
                  [000000]    60  
                  [000000]    61  
                  [000000]    62  
                  [000000]    63  
                  [000000]    64  
                  [000000]    65  ;
                  [000000]    66  ; Write a longword to the PCI bus that can be picked up by a
                  [000000]    67  ; PCI bus analyser.  Fast, low-level debug.
                  [000000]    68  ;
                  [000000]    69  
                  [000000]    70  ; DBGREG_PCI_RAW:
                  [000000]    71  ; dump 64-bit register to PCI IO-space address given
                  [000000]    72  
                  [000000]    73  .macro DBGREG_PCI_RAW addr,rdata,tmp
                  [000000]    74  
                  [000000]    75  	lda     tmp, ^x801(r31)
                  [000000]    76  	sll     tmp, #8, tmp		; 0x0000000000080100
                  [000000]    77  	bis     tmp, #^xFC, tmp		; 0x00000000000801FC
                  [000000]    78  	sll     tmp, #24, tmp		; 0x00000801FC000000
                  [000000]    79  	lda	tmp, addr(tmp)		; mix in IO addr
                  [000000]    80  	hw_stq/p     rdata, 0(tmp)
                  [000000]    81  	mb
                  [000000]    82  
                  [000000]    83  .endm  DBGREG_PCI_RAW
                  [000000]    84  
                  [000000]    85  
                  [000000]    86  ; DBG_PCI_RAW:
                  [000000]    87  ; dump immediate data value to PCI IO-space address given
                  [000000]    88  
                  [000000]    89  .macro DBG_PCI_RAW addr,idata,reg0,reg1
                  [000000]    90  
                  [000000]    91  	lda	reg1, idata(r31)	; convert immediate data to register
                  [000000]    92  	DBGREG_PCI_RAW addr,reg1,reg0
                  [000000]    93  
                  [000000]    94  .endm  DBG_PCI_RAW
                  [000000]    95  
                  [000000]    96  
                  [000000]    97  ; DBG_PCI:
                  [000000]    98  ; dump immediate data to PCI IO-space given using saved/restored registers
                  [000000]    99  ; (needs valid p_temp)
                  [000000]   100  
                  [000000]   101  .macro DBG_PCI addr,data
                  [000000]   102  
                  [000000]   103  	save_debug_r0
                  [000000]   104  	save_debug_r1
                  [000000]   105  	DBG_PCI_RAW addr,data,r0,r1
                  [000000]   106  	restore_debug_r0
                  [000000]   107  	restore_debug_r1
                  [000000]   108  
                  [000000]   109  .endm  DBG_PCI
                  [000000]   110  
                  [000000]   111  
                  [000000]   112  ; DBGREG_PCI:
                  [000000]   113  ; dump a register to PCI IO-space address given using saved/restored registers
                  [000000]   114  ; (needs valid p_temp)
                  [000000]   115  
                  [000000]   116  .macro DBGREG_PCI addr,rdata
                  [000000]   117  
                  [000000]   118  	save_debug_r0
                  [000000]   119  	DBGREG_PCI_RAW addr,rdata,r0
                  [000000]   120  	restore_debug_r0
                  [000000]   121  
                  [000000]   122  .endm  DBGREG_PCI
                  [000000]   123  
                  [000000]   124  
                  [000000]   125  
                  [000000]   126  ; DBGSTR_SROM:
                  [000000]   127  ; dump a 4-byte ASCII string to the SROM UART as a brief text code
                  [000000]   128  
                  [000000]   129  .macro DBGSTR_SROM str
                  [000000]   130  
                  [000000]   131  
                  [000000]   132  .endm DBGSTR_SROM
File: ev6_osf_pal.mar
                  [000000]     0  ;========================================================================
                  [000000]     1  ;+
                  [000000]     2  ; ev6_osf_pal.mar
                  [000000]     3  ;-
                  [000000]     4  	.title	"EV6_OSF_PAL"	; informational only
                  [000000]     5  	.ident	"V1.162"	; informational only - v1.62 with API patches
                  [000000]     6  ;+
                  [000000]     7  ; Last Edit:	7-June-2000	Stig Telfer (API)
                  [000000]     8  ;
                  [000000]     9  ;------------------------------------------------------------------------
                  [000000]    10  ; Edit History
                  [000000]    11  ;
                  [000000]    12  ; Who	Rev	When		What
                  [000000]    13  ; ---	---	----		----
                  [000000]    14  ; ES		04-Sep-96	Basic code. Passes Egore.
                  [000000]    15  ; ES		11-Sep-96	In trap__switch and trap__switch, form
                  [000000]    16  ;					PAL base more safely.
                  [000000]    17  ;				Put in pal__save_state and pal__restore_state
                  [000000]    18  ;				Put in pal__update_pcb_and_halt
                  [000000]    19  ; ES		13-Sep-96	Don't need console conditional. Default to it.
                  [000000]    20  ;					The important conditionl is srm_console.
                  [000000]    21  ;				Rearranged non-srm console powerup. Put powerup
                  [000000]    22  ;					totally in system_pal. Have powerup
                  [000000]    23  ;					do signature and swap checking.
                  [000000]    24  ;				Take redundant DTB flush out of switch.
                  [000000]    25  ;				Put in sys__enter_console, and sys__exit_console.
                  [000000]    26  ; ES		17-Sep-96	In save and restore, add vptb.
                  [000000]    27  ; ES		18-Sep-96	Added trap__cserve and sys__cserve, putting in
                  [000000]    28  ;					cserve__start and cserve__callback.
                  [000000]    29  ;				Added reference platform conditional.
                  [000000]    30  ;				In pal__restore_state, fix typo, so that
                  [000000]    31  ;					pal mode is or'ed in when turning
                  [000000]    32  ;					off shadow mode.
                  [000000]    33  ; ES		24-Sep-96	In pal__restore_state, when setting up
                  [000000]    34  ;					DTB_ASNx, don't trash r1.
                  [000000]    35  ;				Eliminate PT__M_CTL and PT__DC_CTL. Work
                  [000000]    36  ;					only from CNS__M_CTL and CNS__DC_CTL.
                  [000000]    37  ;					It's simpler and fixes save/restore bugs.
                  [000000]    38  ;				Add some PVC_VIOLATEs for hw_jmp_stalls.
                  [000000]    39  ; ES		25-Sep-96	Add mchk and crd.
                  [000000]    40  ;				In sys__switch_unknown, turn into HALT__JUMP0.
                  [000000]    41  ;				Add OSF_IPL_DEFS.
                  [000000]    42  ;				In trap__unalign_cm, had wrong reg in jmp_stall!
                  [000000]    43  ;				Add basic interrupt handling.
                  [000000]    44  ;				In cserve, add srm_console conditional.
                  [000000]    45  ; ES		27-Sep-96	In trap__interrupt, avoid cbr in 1st fetch block.
                  [000000]    46  ;				In trap__mt_fpcr, make 1st fetch block clean.
                  [000000]    47  ; ES		30-Sep-96	In trap__itb_miss, avoid trappable instructions
                  [000000]    48  ;					out of 1st fetc block.
                  [000000]    49  ; ES		24-Oct-96	In trap__arith, need to check for fpcr update
                  [000000]    50  ;					for integer overflow.
                  [000000]    51  ; ES		01-Nov-96	In switch, tbi functions, and imb, add
                  [000000]    52  ;					a write to ic_flush or ic_flush_asm.
                  [000000]    53  ;					Writes to itb_ia, itb_iap no longer
                  [000000]    54  ;					flush the icache.
                  [000000]    55  ;				In sys__crd, use current register to or
                  [000000]    56  ;					mchk code into p_misc. And use
                  [000000]    57  ;					MCES__PCE__S to test second error.
                  [000000]    58  ;				Rearrange order in ev6_osf_system_pal.mar.
                  [000000]    59  ; ES		06-Nov-96	In trap__unalign, fix bug where register
                  [000000]    60  ;					number was not being saved on stores.
                  [000000]    61  ; ES		12-Nov-96	In non-srm powerup, clear the fpcr to make the
                  [000000]    62  ;					simulator happy.
                  [000000]    63  ;				Add cflush call_pal.
                  [000000]    64  ; ES		13-Nov-96	In call_pal tbi, use r17 (not r16) for va.
                  [000000]    65  ; ES		27-Nov-96	Re-worked machine check handling in
                  [000000]    66  ;					ev6_osf_pal.mar, ev6_osf_system_pal.mar.
                  [000000]    67  ;				Added trap__pal_bugcheck code.
                  [000000]    68  ; ES		02-Dec-96	Added perfmon call_pal.
                  [000000]    69  ; ES		04-Dec-96	Don't trash r17 in call_pal__perfmon_wr_1.
                  [000000]    70  ; ES		06-Dec-96	Don't trash r17 in call_pal__perfmon_wr_1.
                  [000000]    71  ;					Really fix it this time.
                  [000000]    72  ; ES		09-Dec-96	Add ev6_p1, ev6_p2.
                  [000000]    73  ; ES		12-Dec-96	In ev6_osf_pal.mar and ev6_osf_system_pal.mar,
                  [000000]    74  ;					IMPORTANT CHANGE!!!
                  [000000]    75  ;					ev6__i_ctl<single_issue_l>
                  [000000]    76  ;						is really
                  [000000]    77  ;					ev6__i_ctl<single_issue_h>.
                  [000000]    78  ;				To avoid ISP/Behavorial mismatch on
                  [000000]    79  ;					hw_mfpr EV6__VA
                  [000000]    80  ;					when synching for asnx and isx, do a
                  [000000]    81  ;					hw_mfpr <EV6__PAL_BASE ! ^xF0>,
                  [000000]    82  ;					which scoreboards 4-7.
                  [000000]    83  ; ES		09-Jan-97	Re-worked reset. Moved more to the system
                  [000000]    84  ;					palcode. Need to do exact mapping
                  [000000]    85  ;					sequence with source map enable.
                  [000000]    86  ;					See SROM for retirator macro.
                  [000000]    87  ; ES		23-Jan-97	Still working on reset. Re-did switch entry
                  [000000]    88  ;					point a  little as well.
                  [000000]    89  ;					IMPORTANT: We assume that
                  [000000]    90  ;					INITIALIZE_RETIRATOR_AND_MAPPER and
                  [000000]    91  ;					MAP_SHADOW_REGISTERS
                  [000000]    92  ;					are both done in SROM; otherwise, we
                  [000000]    93  ;					we have to hack swppal support.
                  [000000]    94  ; ES		30-Jan-97	Set both spe modes so we can access i/o and
                  [000000]    95  ;					have normal unix superpage mode.
                  [000000]    96  ;				On pass1, set dc_ctl__dcdat_err_en to 0, since
                  [000000]    97  ;					there are ecc checking problems.
                  [000000]    98  ; ES		06-Feb-97	Fixed PVC violations found while checking vms.
                  [000000]    99  ;				(1) In powerup, separate mt_fpcr from mxpr.
                  [000000]   100  ;				(2) In powerup, pvc_violate 21 on asn clear.
                  [000000]   101  ;				(3) In sys__cbox, 1006. Also use hw_ret.
                  [000000]   102  ;				(4) In sys__mchk_scrub, pvc_violate 1006.
                  [000000]   103  ;				(5) In pal__save_state, pvc_violate 12.
                  [000000]   104  ;				(6) In pal__save_state, use hw_ret.
                  [000000]   105  ;				(7) In pal__restore_state, use hw_ret.
                  [000000]   106  ;				(8) In illegal call_pal, use hw_jmp.
                  [000000]   107  ;				(9) In swppal, use hw_jmp.
                  [000000]   108  ;				(10)In sys__int_post, use hw_ret_stall.
                  [000000]   109  ;				(11)In tbi, use hw_jmp.
                  [000000]   110  ;				(12)In wrent, use hw_jmp.
                  [000000]   111  ; ES		11-Feb-97	In wrperfmon, zap low nibbles of counts for p1.
                  [000000]   112  ; ES	1.1	24-Feb-97	(1) Start version numbers.
                  [000000]   113  ; ES		24-Feb-97	(2) In restore state, restore the vptb portion
                  [000000]   114  ;					of I_CTL and VA_CTL from CNS__VPTB.
                  [000000]   115  ;					Also restore PT__VA_CTL.
                  [000000]   116  ;				(3) Interrupt processing code jumped to
                  [000000]   117  ;					post_int without checking for swap
                  [000000]   118  ;					stack. Add that code to sys__int_post.
                  [000000]   119  ;					Also can eliminate that code from
                  [000000]   120  ;					machine check.
                  [000000]   121  ;				(3) In sys__enter_console, Go to 48-bit mode
                  [000000]   122  ;					in VA_CTL so that 1-1 console can
                  [000000]   123  ;					access I/O.
                  [000000]   124  ;				(4) Add dtbm_double_4.
                  [000000]   125  ;				(5) In pal__restore_state, write i_ctl
                  [000000]   126  ;					twice to cause a stall in case
                  [000000]   127  ;					we are toggling 48-bit mode bit.
                  [000000]   128  ; ES	1.2	10-Apr-97	Changes.
                  [000000]   129  ;				(1) Put IPL table at ^x0D00
                  [000000]   130  ;				(2) On p1, don't set DC_CTL<DCDAT_ERR_EN>.
                  [000000]   131  ;				(3) Do ldq on unlock in sys__reset and 
                  [000000]   132  ;					sys__exit_console. In sys__reset, put
                  [000000]   133  ;					an mb before ldq (pvc #28)
                  [000000]   134  ;				(4) Implement new palcode restriction, separating
                  [000000]   135  ;					retires of flush and hw_ret_stall.
                  [000000]   136  ;				(5) Bug in tbiap -- need ic_flush_asm,
                  [000000]   137  ;					not ic_flush.
                  [000000]   138  ;				(6) In switch, reset, exit console palcode,
                  [000000]   139  ;					redo some jmp_stall, scoreboard bit
                  [000000]   140  ;					synchronization.
                  [000000]   141  ;				(7) In hw_jmp_stall, use 1 instruction to
                  [000000]   142  ;					create offset instead of loading
                  [000000]   143  ;					offset and do a bis #1.
                  [000000]   144  ;				(8) In enter_console, write i_ctl twice
                  [000000]   145  ;					to wait until write completes
                  [000000]   146  ;					(pvc #31).
                  [000000]   147  ;				(9) In pass1, dc_ctl<dctag_par_en> must be 0.
                  [000000]   148  ;				(10)Change cbox read chain names to match spec.
                  [000000]   149  ;				(11)Add PAL_BASE, I_CTL, PROCESS_CONTEXT to
                  [000000]   150  ;					mchk logout frame.
                  [000000]   151  ;				(12)Add check_interrupt_pending conditional
                  [000000]   152  ;					for deasserting interrupts.
                  [000000]   153  ;				(13)In sys__cbox, add mb, eliminate mb's of
                  [000000]   154  ;					calling routines. Add clearing of
                  [000000]   155  ;					i_ctl<sbe> bits and ic_flush to
                  [000000]   156  ;					quiet the stream.
                  [000000]   157  ;				(14)In sys__reset, don't set spe<2>. Unix
                  [000000]   158  ;					just uses spe<1>, and works around
                  [000000]   159  ;					sign extension issues for i/o.
                  [000000]   160  ; ES	1.3	16-Apr-97	FP emulation support added.
                  [000000]   161  ;					Changes in fen, opcdec, arith,
                  [000000]   162  ;					wrfen, clrfen, swpctx, reset, fault
                  [000000]   163  ;					unalign, and tnv handling. Also added
                  [000000]   164  ;					CALL_PAL__003B to return to pal mode
                  [000000]   165  ;					after call to emulator.
                  [000000]   166  ;				In trap__switch, and sys_switch,
                  [000000]   167  ;					'bis' not 'and' asn and fpe!
                  [000000]   168  ;				Fix various pvc violations.
                  [000000]   169  ; ES	1.4	09-Jun-97	(1) Because of cbox triplicate tags, can
                  [000000]   170  ;					not do dc_ctl<flush> in reset. 
                  [000000]   171  ;					BIST cleans it anyway.
                  [000000]   172  ;				(2) In check_interrupt_pending code, hold
                  [000000]   173  ;					off writing IER until we have read
                  [000000]   174  ;					ISUM. Not good practice the other way.
                  [000000]   175  ;				(3) Ensure the ordering of ISUM and IER.
                  [000000]   176  ;				(4) Reorder mchk logout frame. Add VA_CTL.
                  [000000]   177  ; ES	1.5	26-Jun-97	(1) BUG FIX:
                  [000000]   178  ;					In sys__crd_second and
                  [000000]   179  ;					sys__crd_skip_frame, recover
                  [000000]   180  ;					exc_addr from PT__STACK_PC
                  [000000]   181  ;					because p23 has been trashed.
                  [000000]   182  ;				(2) Turn icache fill mchks into crd mchks.
                  [000000]   183  ;				(3) Turn recoverable dc_tag_perr into crd mchk.
                  [000000]   184  ;				(4) Eliminate VA and VA_CTL from mchk frame.
                  [000000]   185  ;				(5) Add mchk and mchk_crd revision.
                  [000000]   186  ; ES	1.6	01-Aug-97	(1) Add cserve code for DP264 debug monitor.
                  [000000]   187  ;				(2) Add clock interrupt clear for DP264.
                  [000000]   188  ;				(3) Add ev6_p2 conditional to C_ADDR_SHIFT
                  [000000]   189  ;					definition.
                  [000000]   190  ;				(4) On DFAULT for DC_TAG_PERR, need to turn
                  [000000]   191  ;					off DCTAG_PAR_EN to avoid a mchk on
                  [000000]   192  ;					the ECB.
                  [000000]   193  ;				(5) Add sample tsunami/DP264 clear interrupt
                  [000000]   194  ;					pending code.
                  [000000]   195  ;				(6) For p1, in restore_state, restore
                  [000000]   196  ;					CNS__FPE_STATE from CNS__PCTX to
                  [000000]   197  ;					keep it coherent with CNS__PCTX.
                  [000000]   198  ;				(7) In save_state, eliminate double mm_stat save.
                  [000000]   199  ;				(8) Go back to having PT__M_CTL as well as
                  [000000]   200  ;					CNS__M_CTL so we have a live and
                  [000000]   201  ;					saved version.
                  [000000]   202  ;				(9) Add va_48 conditional for xx_CTL__INIT
                  [000000]   203  ;					values.
                  [000000]   204  ;				(10)Added tb_mb_en conditional.
                  [000000]   205  ;				(11)Added mchk_en conditional.
                  [000000]   206  ;				(12)Dismiss missing/faulting WH64/ECB.
                  [000000]   207  ;				(13)On swppal with srm_console, get VA_48
                  [000000]   208  ;					status and set SPE accordingly.
                  [000000]   209  ;				(14)Handle I_CTL<SDE> with 5 fetch blocks
                  [000000]   210  ;					instead of jmp_stall to avoid
                  [000000]   211  ;					a conjectured race condition.
                  [000000]   212  ;				(15)In ev6_p1 initialization, corrected
                  [000000]   213  ;					zap of CNS__x31_EMUL.
                  [000000]   214  ;				(16)Eliminate unnecessary jmp_stalls in
                  [000000]   215  ;					switch pal code and power up.
                  [000000]   216  ;				(17)In emulator code, map 4MB region
                  [000000]   217  ;					depending on location of emulator.
                  [000000]   218  ;					Make stack space = ^x400.
                  [000000]   219  ;				(18)On IMB, do an MB.
                  [000000]   220  ;				(19)In CSERVE jtopal, add mb and 
                  [000000]   221  ;					or in 1 to r16 to form pal address.
                  [000000]   222  ;				(20)Handle FPE with 5 fetch blocks.
                  [000000]   223  ;				(21)In emulator, load PT_WHAMI off of
                  [000000]   224  ;					p_temp, NOT p4.
                  [000000]   225  ; ES	1.7	25-Aug-97	(1)Add dcache_set_en conditional. In p1,
                  [000000]   226  ;					default to 1. In p2, default to 3.
                  [000000]   227  ;					Use in dc_tag_perr processing and
                  [000000]   228  ;					reset. Also add an MB in dc_tag_perr.
                  [000000]   229  ; ES	1.8	12-Sep-97	(1)Changes to DTBM_SINGLE, DTBM_DOUBLE_3
                  [000000]   230  ;					and DTBM_DOUBLE_4. Get VA
                  [000000]   231  ;					before read of VPTE. Use p7<0>
                  [000000]   232  ;					as a double miss flag. On double
                  [000000]   233  ;					miss, put mm_stat from p5 into
                  [000000]   234  ;					<31:15> of p7, which contains
                  [000000]   235  ;					exc_sum and double miss flag.
                  [000000]   236  ;					Use p5 for exc_addr of double miss.
                  [000000]   237  ;					Restore mm_stat into p5 on
                  [000000]   238  ;					invalid_dpte when double miss.
                  [000000]   239  ;				(2)In ITB_MISS, don't use p5 until
                  [000000]   240  ;					after the VPTE fetch.
                  [000000]   241  ;				(3)Need CONT_HW_VECTOR in double_4 flow. 
                  [000000]   242  ; ES	1.9	18-Sep-97	(1)Emulator called in kseg. Need matching
                  [000000]   243  ;					emulator built for kseg.
                  [000000]   244  ;				(2)Xor in dtb miss before load virtual.
                  [000000]   245  ;					Ensures va is in hand.
                  [000000]   246  ; ES	1.10	24-Sep-97	(1)Add counter for fp emulates. Modifications
                  [000000]   247  ;					in swppal, fen, new call_pal ^xAD, to
                  [000000]   248  ;					get count.
                  [000000]   249  ;				(2)Pass serial line interrupts off to
                  [000000]   250  ;					platform specific call.
                  [000000]   251  ;				(3)Add a hw_ret after sys__int_err for pvc.
                  [000000]   252  ; ES	1.11	08-Oct-97	(1)Add clrmap symbol and clrmap call_pal.
                  [000000]   253  ;				   	Note: clrmap=1 is required to get
                  [000000]   254  ;					clrmap!
                  [000000]   255  ;				(2)In sys__enter_console, update PT__VA_CTL
                  [000000]   256  ;				   	to reflect change to VA_CTL, so that
                  [000000]   257  ;				   	PALcode running while console is
                  [000000]   258  ;					running doesn't have problems
                  [000000]   259  ;					flipping modes.
                  [000000]   260  ;				(3)In trap__switch_base, have conditional
                  [000000]   261  ;					code which turns on multi-issue.
                  [000000]   262  ;					Requested by DP264 debug team.
                  [000000]   263  ; ES	1.12	24-Oct-97	(1)In trap__reset, use r26 when branching to
                  [000000]   264  ;					sys__reset, as dp264 srom passes
                  [000000]   265  ;					up parameter in r1.
                  [000000]   266  ;				(2)Eliminate use of SROM conditional in
                  [000000]   267  ;					WAKEUP. Not testing that way
                  [000000]   268  ;					anymore.
                  [000000]   269  ;				(3)Add SROM parameter passing for DP264 debug
                  [000000]   270  ;					monitor	in the system code.
                  [000000]   271  ;				(4)Change beh_model default to 0.
                  [000000]   272  ;				(5)Add dbm_serial_io conditional for debug
                  [000000]   273  ;					monitor	serial line i/o.
                  [000000]   274  ; ES	1.13	31-Oct-97	(1)Fix typo in system code. Change _INIT to
                  [000000]   275  ;					__INIT in EV6__DC_CTL__INIT.
                  [000000]   276  ;				(2)On dc_tag_perr, only halt on dc_tag_perr
                  [000000]   277  ;					while in pal_mode. Add a new halt
                  [000000]   278  ;					code HALT__DC_TAG_PERR_FROM_PAL.
                  [000000]   279  ;					On mchk in progress, just dismiss
                  [000000]   280  ;					after fixing.
                  [000000]   281  ;				(3)Save mm_stat in short frame. Before
                  [000000]   282  ;					merge to sys__crd_merge, each
                  [000000]   283  ;					flow must write MCHK_CRD__MM_STAT.
                  [000000]   284  ;					The dc_tag_perr error writes a
                  [000000]   285  ;					useful mm_stat, showing the error.
                  [000000]   286  ;				(4)In system pal, in sys__crd, correct typo
                  [000000]   287  ;					in building p_misc: use p6, not p4.
                  [000000]   288  ;				(5)In swppal, use a quadword for PAL__ENTER_OSF.
                  [000000]   289  ; ES	1.14	04-Nov-97	(1)In exit_console, on load/unlock, set
                  [000000]   290  ;					protection to all RWE in case we
                  [000000]   291  ;					are exiting into user mode (we
                  [000000]   292  ;					have already changed mode at
                  [000000]   293  ;					this point).
                  [000000]   294  ;				(2)Add CSERVE__START to non-srm console cserve.
                  [000000]   295  ;				(3)Add pvc labels for bsr emul_restore
                  [000000]   296  ;					so that pvc doesn't terminate
                  [000000]   297  ;					permutation on subroutine return.
                  [000000]   298  ; ES	1.15	17-Dec-97	(1)Change DC_STAT field names.
                  [000000]   299  ; ES	1.16	18-Dec-97	(1)Don't zap low nibble of counters on writing
                  [000000]   300  ;					performance counters.
                  [000000]   301  ;				(2)In machine flow, move read and store of isum
                  [000000]   302  ;					earlier so we only read isum for system
                  [000000]   303  ;					machine interrupt once.
                  [000000]   304  ;				(3)Put MB in double flow in ev6_p1 conditional.
                  [000000]   305  ;				(4)Put CLRMAP in ev6_p1 conditional, and make
                  [000000]   306  ;					default CLRMAP = 1.
                  [000000]   307  ;				(5)Add some PVC_VIOLATE <35>'s. (HW_INT_CLR)
                  [000000]   308  ;					Re-arrange sys__crd_skip_frame a bit.
                  [000000]   309  ; ES	1.17	12-Jan-98	(1)In arithmetic exception, ignore SWC bit
                  [000000]   310  ;					when checking whether to take an
                  [000000]   311  ;					exception.
                  [000000]   312  ; ES	1.18	21-Jan-98	(1)Another PVC_VIOLATE <35>, this one in switch
                  [000000]   313  ;					palcode.
                  [000000]   314  ;				(2)Change <ev6_p1 ! ev6_p2> conditional to
                  [000000]   315  ;					just ev6_p1 in cbox read chain code.
                  [000000]   316  ; ES	1.19	04-Feb-98	(1)Read ISUM twice in interrupt to minimize the
                  [000000]   317  ;					possibility of a read/write conflict
                  [000000]   318  ;					causing a read of 0.
                  [000000]   319  ;				(2)In perfmon, zap counter on disable for
                  [000000]   320  ;					both pass1 AND pass2.
                  [000000]   321  ;				(3)Add check for double bit error before
                  [000000]   322  ;					istream error in mchk.
                  [000000]   323  ;				(4)Add check for istream mchk in crd flow.
                  [000000]   324  ;				(5)In reset, read the cbox error read chain
                  [000000]   325  ;					to clear it out.
                  [000000]   326  ;				(6)In reset, comment out clearing fpcr. It's
                  [000000]   327  ;					unpredictable anyway, and it's possibly
                  [000000]   328  ;					set up by the srom.
                  [000000]   329  ;				(7)In sys__mchk and sys__mchk_clear_crd,
                  [000000]   330  ;					change r5 to p5 (just a name change).
                  [000000]   331  ; ES	1.20	09-Feb-98	(1)In perfmon, fix typo in conditional
                  [000000]   332  ;					that turns on zapping counter
                  [000000]   333  ;					for both pass1 and pass2.
                  [000000]   334  ; ES	1.21	13-Mar-98	(A)Large rewrite of error handling.
                  [000000]   335  ;				(1)sys__int_err -- does more logging and then
                  [000000]   336  ;					branches to sys__mchk_header.
                  [000000]   337  ;				(2)sys__crd
                  [000000]   338  ;					(a)Now scrubs under certain conditions.
                  [000000]   339  ;						Does it before merge point from
                  [000000]   340  ;						630's.
                  [000000]   341  ;					(b)Now logs i_stat, dc_stat before merge
                  [000000]   342  ;						from 630's. Only clear crd-type
                  [000000]   343  ;						errors in dc_stat in case there
                  [000000]   344  ;						is a delayed mchk in the wings.
                  [000000]   345  ;					(c)Crd from speculative mchk now handled
                  [000000]   346  ;						directly in this code.
                  [000000]   347  ;					(d)New merge point is sys__crd_header.
                  [000000]   348  ;					(e)Dpc and pce flows also scrub
                  [000000]   349  ;						as necessary.
                  [000000]   350  ;				(3)sys_crd_scrub -- new routine to scrub. Also
                  [000000]   351  ;					includes a store to make block dirty.
                  [000000]   352  ;				(4)sys__mchk_dc_tag_perr
                  [000000]   353  ;					(a)Does more logging before merging at
                  [000000]   354  ;						sys__crd_header.
                  [000000]   355  ;					(b)Has its own dpc and pce flows.
                  [000000]   356  ;				(5)sys__mchk
                  [000000]   357  ;					(a)Now logs i_stat, dc_stat before merge
                  [000000]   358  ;						from 660's.
                  [000000]   359  ;					(b)New merge point is sys__mchk_header.
                  [000000]   360  ;					(c)Istream mchk to crd now does more
                  [000000]   361  ;						logging before branching to
                  [000000]   362  ;						sys__crd_header.
                  [000000]   363  ;				(6)sys__mchk_scrub -- includes a store to make
                  [000000]   364  ;					block dirty.
                  [000000]   365  ;				(7)trap__pal_bugcheck -- does more logging
                  [000000]   366  ;					before branching to sys__mchk_header.
                  [000000]   367  ;				(8)perfmon -- minor change to an ASSUME.
                  [000000]   368  ;
                  [000000]   369  ;				(B)Turn hw_jmp's, jmp's into hw_ret, ret's to
                  [000000]   370  ;				avoid issuing instructions in PALmode on random
                  [000000]   371  ;				cache line predictions.
                  [000000]   372  ; ES	1.22	31-Mar-98	In sys__crd_scrub, need to save off p7
                  [000000]   373  ;					before calling sys__cbox, and then
                  [000000]   374  ;					restore on return.	
                  [000000]   375  ; ES	1.23	29-Apr-98	(1)In trap__save_state and trap__restore_state,
                  [000000]   376  ;					don't save and restore pctr_ctl
                  [000000]   377  ;					(which causes the counter
                  [000000]   378  ;					to increment since we get a
                  [000000]   379  ;					post-incremented copy from the chip
                  [000000]   380  ;					even if counting is disabled).
                  [000000]   381  ;				(2)Add comments and definitions relating to
                  [000000]   382  ;					ev6_p3 changes of I_STAT.
                  [000000]   383  ; ES	1.24	15-May-98	(1)In double flows, force a stall until
                  [000000]   384  ;					the pte writes retire to avoid
                  [000000]   385  ;					issue of tag write in single flow
                  [000000]   386  ;					before retire of pte write in double
                  [000000]   387  ;					flow.
                  [000000]   388  ; ES	1.25	18-May-98	(1)In sys__reset, just check for 'DEC', not
                  [000000]   389  ;					'DECB'.
                  [000000]   390  ;				(2)Add reference platform support for use
                  [000000]   391  ;					of write_many_chain.
                  [000000]   392  ; ES	1.26	29-Jun-98	(1)Add sleep support (First cut).
                  [000000]   393  ;				(2)On save_state, just zero exc_sum value.
                  [000000]   394  ;					Not useful and can be misleading.
                  [000000]   395  ;				(2)In arith exception, zap the upper portion
                  [000000]   396  ;					of exc_sum so we don't step on
                  [000000]   397  ;					fpcr.
                  [000000]   398  ; ES	1.27	09-Jul-98	(0)Stick reference_platform conditionals
                  [000000]   399  ;					around wtint and wakeup.
                  [000000]   400  ;				(1)In sys__mchk_scrub, map
                  [000000]   401  ;					address and then scrub using
                  [000000]   402  ;					ldq_l, stq_c. Also move mb.
                  [000000]   403  ;				(2)In sys__mchk_clear_crd, also clear
                  [000000]   404  ;					dc_stat, and force ipr writes
                  [000000]   405  ;					to finish.
                  [000000]   406  ;				(3)In sys__crd, look for a double
                  [000000]   407  ;					bit error that may have
                  [000000]   408  ;					occurred just after the single
                  [000000]   409  ;					bit error.
                  [000000]   410  ;				(4)In sys__crd, don't scrub for
                  [000000]   411  ;					dstream_dc_err.
                  [000000]   412  ;				(5)In sys__crd_merge, also
                  [000000]   413  ;					clear dc_stat and force
                  [000000]   414  ;					ipr writes to finish.
                  [000000]   415  ;				(6)In sys__crd_skip_frame, don't
                  [000000]   416  ;					scrub for dstream_dc_err.
                  [000000]   417  ;				(7)In sys__crd_skip_frame_merge, also
                  [000000]   418  ;					clear dc_stat and force
                  [000000]   419  ;					ipr writes to finish.
                  [000000]   420  ;				(8)In sys__crd_scrub, map
                  [000000]   421  ;					address and then scrub using
                  [000000]   422  ;					ldq_l, stq_c. Also move mb.
                  [000000]   423  ;				(9)Put in pte eco.
                  [000000]   424  ;				(10)Add call_pal for debug monitor. Add
                  [000000]   425  ;					force_ecc, and set clrmap default
                  [000000]   426  ;					to 0.
                  [000000]   427  ; ES	1.28	21-Jul-98	(1)Clean up comments on force_ecc.
                  [000000]   428  ;				(2)Fix scoreboard bit on sleep stuff.
                  [000000]   429  ;				(3)Add check_mem call_pal.
                  [000000]   430  ;				(4)Work around for rdblkmodify nxm bug.
                  [000000]   431  ; ES	1.29	27-Jul-98	Do some more tweaking on nxm bug.
                  [000000]   432  ; ES	1.30	27-Jul-98	More tweaking
                  [000000]   433  ; ES	1.31	28-Jul-98	More tweaking
                  [000000]   434  ; ES	1.32	30-Jul-98	Optimize kseg miss to do GH=3 and ASM=1.
                  [000000]   435  ;				Fix comments on dc_tag_perr.
                  [000000]   436  ;				Fix bug in i/o space checking in kseg hack.
                  [000000]   437  ;					Check bit 40, which is sign
                  [000000]   438  ;					extended into 43 on 43 bit kseg.
                  [000000]   439  ; ES	1.33	03-Aug-98	Undo istream kseg hack.
                  [000000]   440  ; ES	1.34	05-Aug-98	In RTI/RETSYS remove unnecessary stl to clear
                  [000000]   441  ;				locks.
                  [000000]   442  ; ES	1.35	06-Aug-98	(1)Put kseg hack in conditionals.
                  [000000]   443  ;				(2)Take out check_mem call_pal.
                  [000000]   444  ;				(3)In enter console, add mm_stat stall at the
                  [000000]   445  ;					end to interlock everything.
                  [000000]   446  ; ES	1.36	25-Aug-98	Avoid speculative tag overwrite by holding it
                  [000000]   447  ;					up until previous PTE write retires.
                  [000000]   448  ;					Keeping the tag and PTE write in a
                  [000000]   449  ;					fetch block holds up speculative
                  [000000]   450  ;					set in the mapper, but add insurance
                  [000000]   451  ;					with scoreboard bits. The ALIGN
                  [000000]   452  ;					macro is marked with 1.36.
                  [000000]   453  ;				Also take cycle counts out of miss flows.
                  [000000]   454  ; ES	1.37	27-Aug-98	Urti -- take pc from stack_pc on illop because
                  [000000]   455  ;					a miss to the stack steps on p23.
                  [000000]   456  ;					Also take out stq to clear lock because
                  [000000]   457  ;					the loads will take care of it.
                  [000000]   458  ; ES	1.38	08-Sep-98	(1)Wrperfmon -- add subfunctions fo
                  [000000]   459  ;					profileme.
                  [000000]   460  ;					Eliminate return status in r0<0>.
                  [000000]   461  ;					Add some waits for retires (though it
                  [000000]   462  ;					probably doesn't really matter).
                  [000000]   463  ;					Change how nibbles are zapped on
                  [000000]   464  ;					disable.
                  [000000]   465  ;				(2)Explicitly define i_stat tpe and dpe 2.3
                  [000000]   466  ;					bits since they are no longer in
                  [000000]   467  ;					ev6_defs.
                  [000000]   468  ; ES	1.39	16-Sep-98	On a sequence of virtual operations, allow for
                  [000000]   469  ;				misses on each reference even if they are to
                  [000000]   470  ;				the same page. The virtual references can start
                  [000000]   471  ;				after the issue of an unrelated MTPR PTE/TAG
                  [000000]   472  ;				set, and have its tb entry kicked out when
                  [000000]   473  ;				the MTPR PTE/TAG retires. Marked with 1.39.
                  [000000]   474  ;				Affects in ev6_osf_pal:	fen, unalign,
                  [000000]   475  ;				  invalid_dpte, dfault, opcdec, iacv,
                  [000000]   476  ;				  invalid_ipte, arith, bpt, call_sys, urti, rti
                  [000000]   477  ;				Affects in ev6_osf_system_pal: int_post
                  [000000]   478  ; ES	1.40	22-Sep-98	On an mp system, the other cpu can mark PTEs
                  [000000]   479  ;				with fault bits to indicate they are LRU
                  [000000]   480  ;				candidates in the VM handler. So we have
                  [000000]   481  ;				to ensure that we see the same PTE throughout
                  [000000]   482  ;				the entire urti operation by doing a
                  [000000]   483  ;				scoreboard stall at the beginning. This
                  [000000]   484  ;				shouldn't be a problem with the kernel stack
                  [000000]   485  ;				operations.
                  [000000]   486  ; ES	1.41	21-Oct-98	(1)In trap__mchk, add some code that helps
                  [000000]   487  ;				eliminate double mchk's.
                  [000000]   488  ;				(2)In trap__mchk, fix flow in internally
                  [000000]   489  ;				detected bugchecks. Had a couple bugs
                  [000000]   490  ;				from rework of mchk a while back.
                  [000000]   491  ;				(3)On istream mchk, check on cmov at pc-4 and
                  [000000]   492  ;				punt if so. Bug in EV6 -- the cmov may or
                  [000000]   493  ;				may not have been executed.
                  [000000]   494  ;				(4)STx_C erroneous succeed problem -- A
                  [000000]   495  ;				ldx_l/stx_c sequence with an exception
                  [000000]   496  ;				in the middle that doesn't do a virtual
                  [000000]   497  ;				operation (which breaks the lock) and that
                  [000000]   498  ;				can have unknown bad path code that pulls back
                  [000000]   499  ;				in the locked block after it has been
                  [000000]   500  ;				pulled away from another processor. Fixed
                  [000000]   501  ;				as I100 in ev67, where a hw_ret mispredict
                  [000000]   502  ;				will cause the lock to be cleared. Handled here
                  [000000]   503  ;				with FORCE_PATH conditional in the
                  [000000]   504  ;				following locations:
                  [000000]   505  ;					dtb single miss
                  [000000]   506  ;					itb single miss
                  [000000]   507  ;					dtb double miss
                  [000000]   508  ;					interrupt passive release
                  [000000]   509  ;					crd passive relesae
                  [000000]   510  ;				Fixed with a hw_jmp followed by a
                  [000000]   511  ;					infinite loop branch in the
                  [000000]   512  ;					same fetch block. None of the
                  [000000]   513  ;					various type of predictors will
                  [000000]   514  ;					predict other than back to the jmp,
                  [000000]   515  ;					allowing no bad path code.
                  [000000]   516  ;				(4)In sys__reset and sys__enter_console, get
                  [000000]   517  ;					ipl31 from ipl table.
                  [000000]   518  ;				(5)In sys__enter_console, add some NOPs.
                  [000000]   519  ;				(6)In sys__reset, add write to hw_int_clr
                  [000000]   520  ;					for perf counter restriction.
                  [000000]   521  ; ES	1.42	04-Nov-98	(1)In ev6_vms_system_pal, change
                  [000000]   522  ;					assume_fetch_block <...> to
                  [000000]   523  ;					align_fetch_block <...>.
                  [000000]   524  ;				(3)In force_path hack, use pvc_violate <1008>
                  [000000]   525  ;					on all but 1 of each branch to
                  [000000]   526  ;					sys__cbox and sys__crd_scrub. The
                  [000000]   527  ;					pvc label skips the branch on goes
                  [000000]   528  ;					on to the next instruction. This will
                  [000000]   529  ;					speed up pvc considerably.
                  [000000]   530  ; ES	1.43	09-Nov-98	Make the new pvc happy with pvc_violate <1008>
                  [000000]   531  ;					sections by enforcing ipr operations
                  [000000]   532  ;					in different fetch blocks.
                  [000000]   533  ; ES	1.44	24-Nov-98	New force_path2 hack. Leave force_path=0.
                  [000000]   534  ;				ITB_MISS -- do a new hack
                  [000000]   535  ;					to force mispredict before a load
                  [000000]   536  ;					can fire off
                  [000000]   537  ;				DTB_MISS -- do a ldbu hack
                  [000000]   538  ;				DOUBLE -- do the new hack
                  [000000]   539  ;				1to1 mapping cases -- ignore
                  [000000]   540  ;				interrupt dismiss -- do the new hack
                  [000000]   541  ;
                  [000000]   542  ;				Also, minor fix in trap__ldvpte_dfault
                  [000000]   543  ; ES	1.45	16-Dec-98	Only do ldbu on force_path2 hack if
                  [000000]   544  ;				gh !=0. If gh !=0, we DON'T HIT OFF
                  [000000]   545  ;				the holding latch EVEN THOUGH WE HAVE
                  [000000]   546  ;				BEEN ALLOWED TO ISSUE -- thus the ldbu
                  [000000]   547  ;				takes a corrupting tb miss.
                  [000000]   548  ; ES	1.46	11-Jan-99	Development version.
                  [000000]   549  ; ES	1.47	12-Jan-99	(1)On call_pals, ev6 erroneously pushes
                  [000000]   550  ;				the prediction stack twice.
                  [000000]   551  ;				Add add_extra_ret conditional that
                  [000000]   552  ;				adds extra ret to call_pal macro, but
                  [000000]   553  ;				leave it turned off. If the stack is not
                  [000000]   554  ;				deep, the mispredict that it causes
                  [000000]   555  ;				is more harmful. We leave it around for
                  [000000]   556  ;				documentation of the problem.
                  [000000]   557  ;				(2)Fix comments on 2.3 perfmon.
                  [000000]   558  ;				Retired branch mispredicts are not
                  [000000]   559  ;				counted.
                  [000000]   560  ; ES	1.48	08-Mar-99	New PALcode restriction. On writing any
                  [000000]   561  ;				ebox ipr (va_ctl,cc,cc_ctl), it is necessary
                  [000000]   562  ;				to force its retire before any close-in-
                  [000000]   563  ;				program-order mispredict from a branch,
                  [000000]   564  ;				hw_ret_stall, or dtb miss.
                  [000000]   565  ;				The younger mispredict can actually stop the
                  [000000]   566  ;				ipr write even though the instruction is older
                  [000000]   567  ;				and retires.
                  [000000]   568  ; ES	1.49	12-Mar-99	Add double branch to ldbu hack in order
                  [000000]   569  ;				to avoid speculative issue of ldbu, which
                  [000000]   570  ;				causes the exact problem we are trying
                  [000000]   571  ;				to fix. As long are we are there,
                  [000000]   572  ;				conditionalize the d1to1 check to
                  [000000]   573  ;				compact the code.
                  [000000]   574  ; ES	1.50	09-Apr-99	(1)Ldbu hack enhanced once last time.
                  [000000]   575  ;				(2)Eliminate hw_jmp in sys__cbox.
                  [000000]   576  ;
                  [000000]   577  ; ES	1.51	28-Apr-99	Add non-conditionalized ev67 code.
                  [000000]   578  ;				With the ev6 workaround conditionals
                  [000000]   579  ;				enabled (spinlock_hack and force_path2),
                  [000000]   580  ;				the resulting PALcode will work on ev6
                  [000000]   581  ;				and ev67.
                  [000000]   582  ;
                  [000000]   583  ;				*****HOWEVER*****, there should be a separate
                  [000000]   584  ;				PALcode build for ev67 which turns off
                  [000000]   585  ;				the workarounds not necessary for ev67.
                  [000000]   586  ;
                  [000000]   587  ;				(1)At trap___conditional_flags, location
                  [000000]   588  ;				PALbase + 0x10, there is a flags word
                  [000000]   589  ;				where bit<1> indicates spinlock_hack on,
                  [000000]   590  ;				and bit<0> indicates force_path2 on.
                  [000000]   591  ;				This way, if the cpu is an ev6 and those
                  [000000]   592  ;				bits are clear, the console can complain.
                  [000000]   593  ;
                  [000000]   594  ;				(2)Create a PT__I_STAT_MASK to clean
                  [000000]   595  ;				I_STAT appropriately before writing to
                  [000000]   596  ;				logout frames. Just do ev6 style w1c since
                  [000000]   597  ;				the profileme bits are readonly and are
                  [000000]   598  ;				not affected.
                  [000000]   599  ;
                  [000000]   600  ;				(3)Delete ev6_p3. Code should continue to
                  [000000]   601  ;				be built with ev6_p2 conditional set even
                  [000000]   602  ;				on ev67.
                  [000000]   603  ;
                  [000000]   604  ;				(4)In bugcheck, change mchk_crd offsets to
                  [000000]   605  ;				regular mchk offsets. Long-time bug.
                  [000000]   606  ;
                  [000000]   607  ;				(5)Add setting of SMC bits in m_ctl, which
                  [000000]   608  ;				turns off speculative stores temporarily
                  [000000]   609  ;				on certain conditions. See description
                  [000000]   610  ;				in reset flows. (Note that no work is
                  [000000]   611  ;				being done in the kseg_hack conditional code).
                  [000000]   612  ;				NO ONE SHOULD ASSUME M_CTL HAS JUST
                  [000000]   613  ;				THE SPE BITS IN IT ANYMORE!!!!!!!!!!!!!
                  [000000]   614  ;				If macros fiddle with M_CTL, they should always
                  [000000]   615  ;				RESTORE FROM PT__M_CTL! ANY CODE hacking
                  [000000]   616  ;				with CNS__M_CTL or PT__M_CTL BETTER SET the
                  [000000]   617  ;				SET THE SMC bits!!! Restore state always set the
                  [000000]   618  ;				SMC bits if they are 0. If the are non-zero,
                  [000000]   619  ;				the SMC bits are left as is. The same
                  [000000]   620  ;				applies for the switching to unix.
                  [000000]   621  ;				Since these bits have no meaning on ev6,
                  [000000]   622  ;				they can be set for both ev6 and ev67, and
                  [000000]   623  ;				they MUST BE SET once there is a separate
                  [000000]   624  ;				ev67 PALcode!!!!!!!!!!!!!!!!!!!!!!!!!!!
                  [000000]   625  ;	
                  [000000]   626  ;				(6) Add ASSUME kseg_hack eq 0 line.
                  [000000]   627  ;
                  [000000]   628  ; ES	1.52	16-Jun-99	Add ebox ipr corruption checker. Conditional
                  [000000]   629  ;				is check_ebox_iprs. Add egore conditional
                  [000000]   630  ;				defaulting to 0.
                  [000000]   631  ; ES	1.53	22-Jun-99	More changes. Now try to fix up so we
                  [000000]   632  ;				can crash more gracefully maybe.
                  [000000]   633  ; ES	1.54	24-Jun-99	Fix 1.53.
                  [000000]   634  ; ES	1.55	08-Jul-99	Separate Page Table Structures, ECO 121.
                  [000000]   635  ; ES	1.56	19-Aug-99	Rearrange dtb miss flow for applu.
                  [000000]   636  ;				Questions to denis foley.
                  [000000]   637  ; ES	1.57	30-Aug-99	(1)Fix bug in save_state -- save process
                  [000000]   638  ;				context before setting fpe to save fp regs.
                  [000000]   639  ;				(2)On crd's, if c_stat is 0, dismiss with
                  [000000]   640  ;				mulq hack to avoid crd's on speculative loads.
                  [000000]   641  ;				(3)Make other dismisses go through
                  [000000]   642  ;				trap_interrupt_dismiss.
                  [000000]   643  ;				(4)In generic ipl table, add iplx in higher
                  [000000]   644  ;				ipl's to match what the platforms should do.
                  [000000]   645  ; ES	1.58	12-Oct-99	Bug found by Stephen Shirron
                  [000000]   646  ;				(1) Fix bug introduced by 1.64. Save
                  [000000]   647  ;				p23 to pal_temp at beginning of sys__crd
                  [000000]   648  ;				so restore from the pal_temp at merge
                  [000000]   649  ;				point works properly.
                  [000000]   650  ; ES	1.59	13-Oct-99	In restore_state, apply restriction
                  [000000]   651  ;				described in 1.48 to the va_ctl write.
                  [000000]   652  ;				Might be falling over that problem.
                  [000000]   653  ; ES	1.60	21-Oct-99	(1) When scrubbing from a c_addr<42:6>, do
                  [000000]   654  ;				sign extension from <42> to produce a
                  [000000]   655  ;				proper va. This issue for any platform that
                  [000000]   656  ;				uses bit 42 (e.g. wildfire).
                  [000000]   657  ;				(2) In various crd skip routines, add
                  [000000]   658  ;				branch on c_stat=0 back in to allow
                  [000000]   659  ;				system crd routines to merge and use that
                  [000000]   660  ;				as a flag not to scrub.
                  [000000]   661  ; ES	1.61	26-Oct-99	In sys_crd, check for i_stat<par> (affects
                  [000000]   662  ;				ev67 only) and dc_stat<ecc_err_st> and don't
                  [000000]   663  ;				check for c_stat=0 dismiss case if on of
                  [000000]   664  ;				these cases.
                  [000000]   665  ;				On ev6, there are no i_stat crd's -- the
                  [000000]   666  ;				bug would just keep us from logging
                  [000000]   667  ;				dc_stat<ecc_err_st> errors, but that's all.
                  [000000]   668  ;				On ev67, we wouldn't clear the i_stat crd, so
                  [000000]   669  ;				we would keep getting it, so it is a must
                  [000000]   670  ;				fix for ev67.
                  [000000]   671  ; ES	1.62	27-Oct-99	In reset, check for ev67/8 chip id by
                  [000000]   672  ;				comparing against ^x18 instead of ^x8 to
                  [000000]   673  ;				catch new chip ids.
                  [000000]   674  ;-
                  [000000]   675  	vmaj = 1
                  [000000]   676  	vmin = 162
                  [000000]   677  	vms_pal = 1
                  [000000]   678  	osf_pal = 2
                  [000000]   679  	pal_type = osf_pal
                  [000000]   680  	osfpal_version_l = <<pal_type@16> ! <vmaj@8> ! <vmin@0>>
                  [000000]   681  
                  [000000]   682  ;------------------------------------------------------------------------
                  [000000]   683  ;
                  [000000]   684  ; EV6 hardware definitions
                  [000000]   685  ;
                  [000000]   686  	PAL_SHADOW_DEFS
                  [000000]   687  	MCES_DEFS
                  [000000]   688  	MM_DEFS
                  [000000]   689  	MM_STAT_DEFS
                  [000000]   690  	HALT_DEFS
                  [000000]   691  	MCHK_DEFS
                  [000000]   692  	CBOX_IPR_DEFS
                  [000000]   693  
                  [000000]   694  ;------------------------------------------------------------------------
                  [000000]   695  ;
                  [000000]   696  ; OSF definitions
                  [000000]   697  ;
                  [000000]   698  	OSFPAL_FUNC_DEFS
                  [000000]   699  	OSF_PTE_DEFS
                  [000000]   700  	OSF_P_MISC_DEFS
                  [000000]   701  	OSF_PS_DEFS
                  [000000]   702  	OSF_SCB_DEFS
                  [000000]   703  	OSF_PCB_DEFS
                  [000000]   704  	OSF_FRM_DEFS
                  [000000]   705  	OSF_A0_DEFS
                  [000000]   706  	OSF_MMCSR_DEFS
                  [000000]   707  	OSF_IPL_DEFS
                  [000000]   708  
                  [000000]   709  ;========================================================================
                  [000000]   710  ; Configuration options
                  [000000]   711  ;
                  [000000]   712  
                  [000000]   713  .iif ndf swordfish_platform, swordfish_platform = 0
                  [000000]   714  .iif ndf nautilus_platform, nautilus_platform = 0
                  [000000]   714I  nautilus_platform = 0
                  [000000]   715  .iif ndf smi_platform, smi_platform = 0
                  [000000]   716  
                  [000000]   717  .iif ndf ev6_p1, ev6_p1 = 0
                  [000000]   717I  ev6_p1 = 0
                  [000000]   718  .iif ndf ev6_p2, ev6_p2 = 1
                  [000000]   718I  ev6_p2 = 1
                  [000000]   719  
                  [000000]   720  ASSUME <ev6_p1+ev6_p2> eq 1
                  [000000]   721  
                  [000000]   722  .iif ndf osfpal, osfpal = 1
                  [000000]   723  .iif ndf beh_model, beh_model = 0
                  [000000]   724  .iif ndf focus, focus = 0
                  [000000]   725  .iif ndf srom, srom = 1
                  [000000]   726  .iif ndf srm_console, srm_console = 1
                  [000000]   727  .iif ndf pte_eco, pte_eco = 1
                  [000000]   727I  pte_eco = 1
                  [000000]   728  .iif ndf check_interrupt_pending, check_interrupt_pending = 0
                  [000000]   729  .iif ndf mchk_on_wakeup, mchk_on_wakeup = 0
                  [000000]   729I  mchk_on_wakeup = 0
                  [000000]   730  .iif ndf nonzero_console_base, nonzero_console_base = 0
                  [000000]   730I  nonzero_console_base = 0
                  [000000]   731  .iif ndf intercept_interrupt_return, intercept_interrupt_return = 0
                  [000000]   731I  intercept_interrupt_return = 0
                  [000000]   732  .iif ndf intercept_change_ipl, intercept_change_ipl = 0
                  [000000]   732I  intercept_change_ipl = 0
                  [000000]   733  .iif ndf spec_st_cons, spec_st_cons = 2
                  [000000]   733I  spec_st_cons = 2
                  [000000]   734  .iif ndf tl6_ibox_timeout, tl6_ibox_timeout = 0
                  [000000]   734I  tl6_ibox_timeout = 0
                  [000000]   735  
                  [000000]   736  .iif ndf va_48, va_48 = 0
                  [000000]   737  .iif ndf tb_mb_en, tb_mb_en = 0
                  [000000]   738  .iif ndf mchk_en, mchk_en = 1
                  [000000]   739  .iif ndf fp_count, fp_count = 0
                  [000000]   739I  fp_count = 0
                  [000000]   740  .iif ndf clrmap, clrmap = 0
                  [000000]   740I  clrmap = 0
                  [000000]   741  .iif ndf force_ecc, force_ecc = 0
                  [000000]   741I  force_ecc = 0
                  [000000]   742  .iif ndf force_multi_issue, force_multi_issue = 0
                  [000000]   742I  force_multi_issue = 0
                  [000000]   743  
                  [000000]   744  ; STIG - debugging configuration predicates
                  [000000]   745  
                  [000000]   746  .iif ndf pci_debug_io, pci_debug_io = 0		; enable PCI bus data dump
                  [000000]   747  
                  [000000]   748  .iif ndf debug_init, debug_init = 0
                  [000000]   749  .iif ndf debug_dmiss, debug_dmiss = 0
                  [000000]   750  .iif ndf debug_imiss, debug_imiss = 0
                  [000000]   751  .iif ndf debug_ints, debug_ints = 0
                  [000000]   752  .iif ndf debug_mchk, debug_mchk = 0
                  [000000]   753  .iif ndf debug_ipl, debug_ipl = 0
                  [000000]   754  .iif ndf debug_swap, debug_swap = 0
                  [000000]   755  ; end of STIG debugging options
                  [000000]   756  
                  [000000]   757  .iif ndf kseg_hack, kseg_hack = 0
                  [000000]   758  ASSUME <kseg_hack> eq 0					; 1.51
                  [000000]   759  
                  [000000]   760  .iif ndf spinlock_hack, spinlock_hack = 0		; 1.41
                  [000000]   760I  spinlock_hack = 0		; 1.41
                  [000000]   761  ;
                  [000000]   762  ; Turn off force_path. Use force_path2 conditionally.		; 1.44
                  [000000]   763  ;
                  [000000]   764  force_path = 0							; 1.44
                  [000000]   765  .iif ndf force_path2, force_path2 = 0				; 1.44
                  [000000]   766  
                  [000000]   767  ;
                  [000000]   768  ; Ebox ipr corruption checker for ev6 pass 2.3
                  [000000]   769  ;
                  [000000]   770  .iif ndf check_ebox_iprs, check_ebox_iprs = 0			; 1.52
                  [000000]   770I  check_ebox_iprs = 0			; 1.52
                  [000000]   771  .iif ndf egore, egore=0						; 1.52
                  [000000]   771I  egore=0						; 1.52
                  [000000]   772  
                  [000000]   773  .if ne ev6_p1
                  [000000]   774  	.iif ndf dcache_set_en, dcache_set_en = 1
                  [000000]   775  .iff
                  [000000]   776  	.iif ndf dcache_set_en, dcache_set_en = 3
                  [000000]   777  .endc
                  [000000]   776I 	.iif ndf dcache_set_en, dcache_set_en = 3
                  [000000]   776I  dcache_set_en = 3
                  [000000]   778  
                  [000000]   779  .iif ndf separate_page_tables, separate_page_tables = 0		; 1.55
                  [000000]   779I  separate_page_tables = 0		; 1.55
                  [000000]   780  
                  [000000]   781  .if ndf	max_cpuid
                  [000000]   782  	max_cpuid = 2
                  [000000]   783  .endc
                  [000000]   782I 	max_cpuid = 2
                  [000000]   784  .if ndf	osf_svmin		; platform specific palcode version number
                  [000000]   785  	osf_svmin = 0
                  [000000]   786  .endc
                  [000000]   785I 	osf_svmin = 0
                  [000000]   787  
                  [000000]   788  osfpal_version_h = <<max_cpuid@16> ! <osf_svmin@0>>
                  [000000]   789  
                  [000000]   790  ;------------------------------------------------------------------------
                  [000000]   791  ;
                  [000000]   792  ; EV6 shadow register usage 
                  [000000]   793  ;
                  [000000]   794  ;	p4	= r4	reserved for itb/dtb miss
                  [000000]   795  ;	p5	= r5	reserved for itb/dtb miss
                  [000000]   796  ;	p6	= r6	reserved for itb/dtb miss
                  [000000]   797  ;	p7	= r7	reserved for itb/dtb miss
                  [000000]   798  ;
                  [000000]   799  ;	p20	= r20	reserved for call_pal and non-miss handling routines
                  [000000]   800  ;	p21	= r21	address of pal temps in memory (p_temp)
                  [000000]   801  ;	p22	= r22	p_misc (phys_mode in <63> and ps in <15:0>)
                  [000000]   802  ;	p23	= r23	call_pal linkage register
                  [000000]   803  ;
                  [000000]   804  
                  [000000]   805  ;
                  [000000]   806  ; Notes on speculative execution, non-renamed hardware registers, and
                  [000000]   807  ; branch prediction.
                  [000000]   808  ;
                  [000000]   809  ; EXC_ADDR, IVA_FORM, EXC_SUM, VA_FORM, VA, MM_STAT are sourced by
                  [000000]   810  ; non-renamed hardware registers that need to be available for subsequent traps.
                  [000000]   811  ; Hardware protects the values from overwrite for the first fetch block
                  [000000]   812  ; (4 instructions) of a pal flow. During this fetch block, the PALcode should
                  [000000]   813  ; save whatever registers it will need.
                  [000000]   814  ;
                  [000000]   815  ; In addition, VA, VA_FORM, DC_CTL and MM_STAT can have issue order problems
                  [000000]   816  ; with subsequent loads that issue out of order in respect to the mxfr from/to
                  [000000]   817  ; these registers. A MB before the load can be used to enforce the issue order.
                  [000000]   818  ; 
                  [000000]   819  ; Note that branch prediction is turned off in PALmode. The fall-through
                  [000000]   820  ; path should be the common path. Also note that in the exception flows,
                  [000000]   821  ; it takes a fetch block to turn off branch prediction, so therefore
                  [000000]   822  ; there should be no conditional branches in the first fetch block.
                  [000000]   823  ;
                  [000000]   824  ; We can also use this fact to help us avoid the overwrite problems
                  [000000]   825  ; For example, a dismiss ofa dtb miss is down a branch path, and thus is not
                  [000000]   826  ; speculatively issued. If the taken branch depends on these registers, we
                  [000000]   827  ; have enforced issue order.
                  [000000]   828  ;
                  [000000]   829  
                  [000000]   830  
                  [000000]   831  ;------------------------------------------------------------------------
                  [000000]   832  ;+
                  [000000]   833  ; SWITCH - offset 0
                  [000000]   834  ;
                  [000000]   835  ; Entry:
                  [000000]   836  ;	This entry is conditionalized for swap from vms palcode.
                  [000000]   837  ;
                  [000000]   838  ;	This entry could also be reached erroneously on a jump through 0.
                  [000000]   839  ;
                  [000000]   840  ; Entry on SWPPAL from VMS PALcode:
                  [000000]   841  ;	r17(a1)		new PC
                  [000000]   842  ;	r18(a2)		new PCBB
                  [000000]   843  ;	r19(a3)		new VPTB
                  [000000]   844  ;	p_misc		switch bit should be set
                  [000000]   845  ;	p_temp		valid
                  [000000]   846  ;
                  [000000]   847  ; Exit conditions on SWPPAL from VMS PALcode:
                  [000000]   848  ;	ASN		from PCB
                  [000000]   849  ;	FEN		from PCB
                  [000000]   850  ;	IPL		7
                  [000000]   851  ;	MCES		0 (should it be 8??)
                  [000000]   852  ;	PCBB		passed to SWPPAL
                  [000000]   853  ;	PC		passed to SWPPAL
                  [000000]   854  ;	PS		IPL=7, CM=K
                  [000000]   855  ;	PTBR		from PCB
                  [000000]   856  ;	Unique		from PCB
                  [000000]   857  ;	WHAMI		unchanged
                  [000000]   858  ;	Sysvalue	unchanged
                  [000000]   859  ;	KSP		from PCB
                  [000000]   860  ;	r0		0
                  [000000]   861  ;	other IPRs	UNPREDICTABLE
                  [000000]   862  ;	other rx,fx	UNPREDICTABLE except r0 and r30
                  [000000]   863  ;-
                  [000000]   864  .if ne srm_console
                  [000000]   865  
                  [000000]   866  	EV6__SWITCH_ENTRY = ^x0
                  [000000]   867  
                  [000000]   868  TRAP__START:					; used by vector macros
                  [000000]   869  trap__pal_base:
                  [000000]   870  
                  [000000]   871  	START_HW_VECTOR <SWITCH>
                  [000000]   872  
                  [000000]   873  	srl	p_misc, #OSF_P_MISC__SWITCH__S, r1	; check the switch bit
                  [000000]   874  	br	r31, trap__check_switch
                  [000000]   875  
                  [000000]   876  	.long	osfpal_version_l			; location 0x8
                  [000000]   877  	.long	osfpal_version_h			; location 0xC
                  [000000]   878  ;
                  [000000]   879  ; Flag whether ev6 workarounds are assembled in
                  [000000]   880  ; = 00	none
                  [000000]   881  ; = 01	force_path2
                  [000000]   882  ; = 10	spinlock_hack
                  [000000]   883  ; = 11	both
                  [000000]   884  ;
                  [000000]   885  trap__conditional_flags:				; 1.51 PALbase + 0x10
                  [000000]   886  	.quad	<<spinlock_hack@1>!<force_path2>>	; 1.51
                  [000000]   887  
                  [000000]   888  trap__check_switch:
                  [000000]   889  	blbc	r1, sys__switch_unknown			; jumped through 0
                  [000000]   890  	br	r31, trap__switch_base			; been switched
                  [000000]   891  
                  [000000]   892  	.align	quad
                  [000000]   893  trap__lock_cell:
                  [000000]   894  	.quad	0
                  [000000]   895  
                  [000000]   896  	CONT_HW_VECTOR <SWITCH>				; continue in free space
                  [000000]   897  
                  [000000]   898  ;
                  [000000]   899  ; Init and w1c values
                  [000000]   900  ;
                  [000000]   901  	EV6__I_STAT__TPE__S = ^x1d
                  [000000]   902  	EV6__I_STAT__DPE__S = ^x1e
                  [000000]   903  
                  [000000]   904  	EV6__I_STAT__W1C = -
                  [000000]   905  		<<1@EV6__I_STAT__TPE__S> ! -
                  [000000]   906  		<1@EV6__I_STAT__DPE__S>>
                  [000000]   907  
                  [000000]   908  	EV6__DC_STAT__W1C = -
                  [000000]   909  		<<1@EV6__DC_STAT__TPERR_P0__S> ! -
                  [000000]   910  		<1@EV6__DC_STAT__TPERR_P1__S> ! -
                  [000000]   911  		<1@EV6__DC_STAT__ECC_ERR_ST__S> ! -
                  [000000]   912  		<1@EV6__DC_STAT__ECC_ERR_LD__S> ! -
                  [000000]   913  		<1@EV6__DC_STAT__SEO__S>>
                  [000000]   914  
                  [000000]   915  	ASSUME EV6__HW_INT_CLR__MCHK_D__S lt EV6__HW_INT_CLR__PC__S 
                  [000000]   916  	ASSUME EV6__HW_INT_CLR__MCHK_D__S lt EV6__HW_INT_CLR__CR__S 
                  [000000]   917  	ASSUME EV6__HW_INT_CLR__MCHK_D__S lt EV6__HW_INT_CLR__SL__S 
                  [000000]   918  
                  [000000]   919  	EV6__HW_INT_CLR__INIT = -
                  [000000]   920  	    <<1@<EV6__HW_INT_CLR__MCHK_D__S - EV6__HW_INT_CLR__MCHK_D__S>> ! -
                  [000000]   921  	     <3@<EV6__HW_INT_CLR__PC__S - EV6__HW_INT_CLR__MCHK_D__S>> ! -
                  [000000]   922  	     <1@<EV6__HW_INT_CLR__CR__S - EV6__HW_INT_CLR__MCHK_D__S>> ! -
                  [000000]   923  	     <1@<EV6__HW_INT_CLR__SL__S - EV6__HW_INT_CLR__MCHK_D__S>>>
                  [000000]   924  
                  [000000]   925  	EV6__IER__INIT = 0
                  [000000]   926  
                  [000000]   927  ;
                  [000000]   928  ; Do the intialization. We rely on fetch blocks to separate scoreboard bits!!!
                  [000000]   929  ;
                  [000000]   930  	ALIGN_FETCH_BLOCK
                  [000000]   931  
                  [000000]   932  trap__switch_base:
                  [000000]   933  	br	r1, trap__switch_get_pal_base
                  [000000]   934  trap__switch_get_pal_base:
                  [000000]   935  	GET_32ADDR r1, <trap__pal_base - trap__switch_get_pal_base>, r1
                  [000000]   936  	hw_mtpr	r1, EV6__PAL_BASE			; (4,0L) pal base
                  [000000]   937  
                  [000000]   938  	hw_mtpr	r31, EV6__ITB_IA			; (4,0L) flush ITB
                  [000000]   939  	hw_mtpr	r31, EV6__DTB_IA			; (7,0L) flush DTB
                  [000000]   940  	GET_32CONS 	r1, EV6__I_STAT__W1C, r31	; get i_stat clr value
                  [000000]   941  
                  [000000]   942  	GET_16CONS	R3, EV6__DC_STAT__W1C, R31	; get dc_stat clr value
                  [000000]   943  	hw_mtpr	r1, EV6__I_STAT				; (4,0L) w1c I_STAT
                  [000000]   944  	hw_mtpr r3, EV6__DC_STAT			; (6,0L) w1c DC_STAT
                  [000000]   945  	rc	r31					; clear intr_flag
                  [000000]   946  
                  [000000]   947  	GET_32CONS	r1, EV6__IER__INIT, r31 
                  [000000]   948  	hw_mtpr	r1, EV6__IER_CM				; (4,0L) clear ier_cm
                  [000000]   949  	hw_mtpr	r31, EV6__DTB_ALT_MODE			; (6,0L) clear alt_mode
                  [000000]   950  
                  [000000]   951  	hw_stq/p r31, PT__DTB_ALT_MODE(p_temp)		; clear alt_mode temp
                  [000000]   952  	zapnot	p_misc, #4, p_misc			; zap all but mces
                  [000000]   953  	bis	p_misc, #7, p_misc			; cm=0,ipl=7
                  [000000]   954  	hw_mtpr	r31, EV6__SIRR				; (4,0L) Clear int req
                  [000000]   955  	
                  [000000]   956  	GET_16CONS	r1, EV6__HW_INT_CLR__INIT, r31
                  [000000]   957  	sll	r1, #EV6__HW_INT_CLR__MCHK_D__S, r1	; move into position
                  [000000]   958  	PVC_VIOLATE <35>				;
                  [000000]   959  	hw_mtpr	r1, EV6__HW_INT_CLR			; (4,0L) Clear int req
                  [000000]   960  	NOP						; pad fetch block
                  [000000]   961  ;
                  [000000]   962  ; Current state:
                  [000000]   963  ;	r17 (a1)	new PC
                  [000000]   964  ;	r18 (a2)	new PCBB
                  [000000]   965  ;	r19 (a3)	new VPTB
                  [000000]   966  ;
                  [000000]   967  	hw_ldq/p p4, OSF_PCB__FEN(r18)		; get new fen/pme
                  [000000]   968  	hw_ldl/p p5, OSF_PCB__CPC(r18)		; get charged cycle counter
                  [000000]   969  	hw_ldl/p p6, OSF_PCB__ASN(r18)		; get new asn
                  [000000]   970  	hw_ldq/p p7, OSF_PCB__PTBR(r18)		; get new ptbr
                  [000000]   971  
                  [000000]   972  	sll	p7, #page_offset_size_bits, p7	; convert pfn to pa
                  [000000]   973  	hw_stq/p p7, PT__PTBR(p_temp)		; store PTBR
                  [000000]   974  	hw_stq/p r18, PT__PCBB(p_temp)		; store PCBB
                  [000000]   975  	bic	r17, #3, p23			; clean PC to p23
                  [000000]   976  
                  [000000]   977  .if ne separate_page_tables			; 1.55
                  [000000]   978  	subq	r31, #1, p7 			; get a -1
                  [000000]   979  	hw_stq/p p7, PT__VIRBND(p_temp)		; initialize to -1
                  [000000]   980  	hw_stq/p r31, PT__SYSPTBR(p_temp)	; initialize to 0
                  [000000]   981  .endc						; 1.55
                  [000000]   982  ;
                  [000000]   983  ; Initialize VA_CTL with new VPTB value and saved control value.
                  [000000]   984  ; Store VPTB in PT__VPTB in pal temps area.
                  [000000]   985  ; Initialize M_CTL based on VA_48, and save it away.
                  [000000]   986  ; Set up initialization of I_CTL, with VPTB, old control value, and
                  [000000]   987  ;		SPE based on VA_48.
                  [000000]   988  ;
                  [000000]   989  	hw_ldq/p r1, PT__VA_CTL(p_temp)		; get control part
                  [000000]   990  	hw_stq/p r19, PT__VPTB(p_temp)		; store vptb base part
                  [000000]   991  	bis	r1, r19, r1			; or in vptb part
                  [000000]   992  	hw_mtpr	r1, EV6__VA_CTL			; (5,1L)
                  [000000]   993  
                  [000000]   994  	hw_mfpr	r1, EV6__I_CTL			; (4,0L) read I_CTL
                  [000000]   995  	GET_32CONS	p4, <<1@EV6__I_CTL__SPCE__S> ! <1@EV6__I_CTL__PCT0_EN__S> ! <1@EV6__I_CTL__PCT1_EN__S>>, r31
                  [000000]   996  	bic	r1, p4, r1			; make sure performance monitors are off
                  [000000]   997  	lda	p4, 2(r31)			; get SPE<1> bit
                  [000000]   998  	srl	r1, #EV6__I_CTL__VA_48__S, r3	; get VA_48 bit
                  [000000]   999  	and	r3, #1, r3			; r3=1 -> VA_48
                  [000000]  1000  
                  [000000]  1001  	sll	p4, r3, p4			; shift to SPE<2> if VA_48
                  [000000]  1002  	sll	p4, #EV6__M_CTL__SPE__S, r3	; shift into M_CTL position
                  [000000]  1003  .if ne kseg_hack				; kseg hack
                  [000000]  1004  	hw_mtpr	r31, EV6__M_CTL			; kseg hack
                  [000000]  1005  	hw_stq/p r31, PT__M_CTL(p_temp)		; kseg hack
                  [000000]  1006  .iff
                  [000000]  1007  ;
                  [000000]  1008  ; 1.51 If the SMC bits are 0, set to the default of ^b10
                  [000000]  1009  ;
                  [000000]  1010  	hw_ldq/p p7, PT__M_CTL(p_temp)			; 1.51 get m_ctl
                  [000000]  1011  	and	p7, #<3@EV6__M_CTL__SPEC_ST_CONS__S>, p7; 1.51 get SMC
                  [000000]  1012  	cmoveq	p7, #<spec_st_cons@EV6__M_CTL__SPEC_ST_CONS__S>, p7; 1.51 set if needed
                  [000000]  1013  	bis	r3, p7,r3				; 1.51 OR SMC
                  [000000]  1014  
                  [000000]  1015  	hw_mtpr	r3, EV6__M_CTL			; (6,0L) write M_CTL
                  [000000]  1016  	hw_stq/p r3, PT__M_CTL(p_temp)		; save away
                  [000000]  1017  .endc
                  [000000]  1018  
                  [000000]  1019  	sll	p4, #EV6__I_CTL__SPE__S, r3	; shift into I_CTL position
                  [000000]  1020  	bis	r1, r3, r1			; or into I_CTL
                  [000000]  1021  	sll	r1, #<64 - EV6__I_CTL__VPTB__S>, r1	; clean VPTB
                  [000000]  1022  	srl	r1, #<64 - EV6__I_CTL__VPTB__S>, r1	; clean VPTB
                  [000000]  1023  
                  [000000]  1024  	bis	r1, r19, r1			; or in new VPTB
                  [000000]  1025  
                  [000000]  1026  .if ne force_multi_issue
                  [000000]  1027  	lda	p7, 1(r31)				; get a 1
                  [000000]  1028  	sll	p7, #EV6__I_CTL__SINGLE_ISSUE__S, p7	; into position
                  [000000]  1029  	bic	r1, p7, r1				; clear single issue
                  [000000]  1030  .endc
                  [000000]  1031  
                  [000000]  1032  ;
                  [000000]  1033  ; Initialize I_CTL. Write it twice (pvc #31).
                  [000000]  1034  ;
                  [000000]  1035  
                  [000000]  1036  	hw_mtpr	r1, EV6__I_CTL				; (4,0L) write I_CTL
                  [000000]  1037  	bis	r31, r31, r31
                  [000000]  1038  	bis	r31, r31, r31
                  [000000]  1039  	bis	r31, r31, r31
                  [000000]  1040  
                  [000000]  1041  	hw_mtpr	r1, EV6__I_CTL				; (4,0L) write I_CTL
                  [000000]  1042  ;
                  [000000]  1043  ; Do USP and KSP
                  [000000]  1044  ;
                  [000000]  1045  	hw_ldq/p r30, OSF_PCB__USP(r18)		; get new USP
                  [000000]  1046  	hw_stq/p r30, PT__USP(p_temp)		; save it away
                  [000000]  1047  	hw_ldq/p r30, OSF_PCB__KSP(r18)		; get KSP
                  [000000]  1048  ;
                  [000000]  1049  ; Now do DTB_ASNx.
                  [000000]  1050  ;
                  [000000]  1051  ; There must be a scoreboard bit -> register dependency chain to prevent
                  [000000]  1052  ; hw_mtpr DTB_ASx from issuing while ANY of scoreboard bits <7:4> are set.
                  [000000]  1053  ;
                  [000000]  1054  ; Current state:
                  [000000]  1055  ;	p6	ASN
                  [000000]  1056  ;
                  [000000]  1057  ASSUME OSF_PCB__ASN__M eq ^xFF
                  [000000]  1058  
                  [000000]  1059  	and	p6, #OSF_PCB__ASN__M, p6	; clean ASN quadword
                  [000000]  1060  	sll	p6, #EV6__DTB_ASN0__ASN__S, p20	; ASN into mbox spot
                  [000000]  1061  
                  [000000]  1062  	hw_mfpr	p7, <EV6__PAL_BASE ! ^xF0>	; (4-7, 0L)
                  [000000]  1063  	xor	p7, p7, p7			; zap p7
                  [000000]  1064  	bis	p7, p20, p20			; force register dependency
                  [000000]  1065  	bis	r31, r31, r31
                  [000000]  1066  	hw_mtpr	p20, EV6__DTB_ASN0		; (4,0L)
                  [000000]  1067  	hw_mtpr	p20, EV6__DTB_ASN1		; (7,1L)
                  [000000]  1068  ;
                  [000000]  1069  ; Create Ibox Process Context IPR.
                  [000000]  1070  ; Fill in ASN, FPE, clearing ASTEN, ASTRR, PPCE.
                  [000000]  1071  ;
                  [000000]  1072  ; Current state:
                  [000000]  1073  ;	p4	fen/pme quadword
                  [000000]  1074  ;	p5	cpc
                  [000000]  1075  ;	p6	asn
                  [000000]  1076  ;	p23	new pc
                  [000000]  1077  ;
                  [000000]  1078  	sll	p6, #EV6__PROCESS_CONTEXT__ASN__S, p6	; shift asn into place
                  [000000]  1079  	and	p4, #1, p4				; get just the fen bit
                  [000000]  1080  	sll	p4, #EV6__PROCESS_CONTEXT__FPE__S, p7	; shift fpe into place
                  [000000]  1081  	bis	p7, p6, p7				; or together
                  [000000]  1082  	hw_mtpr	p7, EV6__PROCESS_CONTEXT		; (4,0L) write them
                  [000000]  1083  
                  [000000]  1084  .if ne ev6_p1
                  [000000]  1085  	hw_ldq/p p7, PT__IMPURE(p_temp)			; get impure pointer
                  [000000]  1086  	hw_stq/p p4, CNS__FPE_STATE(p7)			; write FPE_STATE
                  [000000]  1087      .if ne fp_count
                  [000000]  1088  	hw_stq/p r31, PT__RSV_FOR_PAL(p_temp)		; clear counter
                  [000000]  1089      .endc
                  [000000]  1090  .endc
                  [000000]  1091  
                  [000000]  1092  ;
                  [000000]  1093  ; Do the cycle counter
                  [000000]  1094  ; Not sure we need this, but ensure 4-7 clear before any dtb writes.
                  [000000]  1095  ; Current state:
                  [000000]  1096  ;	p5		CPC from PCB
                  [000000]  1097  
                  [000000]  1098  	rpcc	r1				; get cycle counter
                  [000000]  1099  	subl	p5, r1, r1			; gen new offset
                  [000000]  1100  	insll	r1, #4, r1			; shift left 32
                  [000000]  1101  	hw_mtpr r1, <EV6__CC ! ^xF0>		; (4-7,1L) write it
                  [000000]  1102  	bis	r31, r31, r31
                  [000000]  1103  	bis	r31, r31, r31
                  [000000]  1104  	bis	r31, r31, r31
                  [000000]  1105  ;
                  [000000]  1106  ; Now we need to clear the lock flag, which must be done with a LDQ
                  [000000]  1107  ; So we need to set up the DTB, do the write, and re-clear the DTB.
                  [000000]  1108  ;
                  [000000]  1109  ; Write the dtb, do the reference, and then clear the dtb.
                  [000000]  1110  ;
                  [000000]  1111  	hw_mfpr	r1, EV6__PAL_BASE		; (4,0L) get pal base back
                  [000000]  1112  	sll	r1, #<32-13>, r2		; shift into position
                  [000000]  1113  	lda	r3, ^x1101(r31)			; set KWE, KRE
                  [000000]  1114  	or	r2, r3, r2			; produce pte
                  [000000]  1115  
                  [000000]  1116  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [000000]  1117  
                  [000000]  1118  	PVC_VIOLATE <2>				; ignore scoreboard violation
                  [000000]  1119  	hw_mtpr	r1, EV6__DTB_TAG0		; (2&6,0L) write tag0
                  [000000]  1120  	hw_mtpr r1, EV6__DTB_TAG1		; (1&5,1L) write tag1
                  [000000]  1121  	hw_mtpr	r2, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
                  [000000]  1122  	hw_mtpr	r2, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [000000]  1123  ;
                  [000000]  1124  ; Do the unlock.
                  [000000]  1125  ;
                  [000000]  1126  	ALIGN_FETCH_BLOCK <^x47FF041F>
                  [000000]  1127  	ldq	r31, <trap__lock_cell - trap__pal_base>(r1)
                  [000000]  1128  ;
                  [000000]  1129  ; Now clear the dtb again. The stall at the end will do the
                  [000000]  1130  ; necessary synchronization.
                  [000000]  1131  ;
                  [000000]  1132  	hw_mtpr	r31, EV6__DTB_IA		; (7,0L)
                  [000000]  1133  ;
                  [000000]  1134  ; Mark success, flush icache, and hw_ret_stall to pc.
                  [000000]  1135  ;
                  [000000]  1136  	or	r31, r31, r0			; success
                  [000000]  1137  	hw_mtpr	r31, EV6__IC_FLUSH		; (4,0L) flush icache
                  [000000]  1138  	bne	r31, .				; pvc #24
                  [000000]  1139  	hw_ret_stall (p23)			; switch complete
                  [000000]  1140  
                  [000000]  1141  	END_HW_VECTOR
                  [000000]  1142  
                  [000000]  1143  .endc ; if ne srm_console
                  [000000]  1144  
                  [000000]  1145  
                  [000000]  1146  ;------------------------------------------------------------------------
                  [000000]  1147  ;+
                  [000000]  1148  ; POWERUP - offset 0
                  [000000]  1149  ;
                  [000000]  1150  ; Entry:
                  [000000]  1151  ;	This entry is conditionalized for jump from SROM code
                  [000000]  1152  ;	on non-SRM console systems.
                  [000000]  1153  ;
                  [000000]  1154  ;	Jumped to by the SROM code on reset. Vector 780 will be used for
                  [000000]  1155  ;	wakeup. It is assumed that the retirator, the integer/floating
                  [000000]  1156  ;	map, and the shadow registers have been initialized.
                  [000000]  1157  ;
                  [000000]  1158  ; Reference platform standard:
                  [000000]  1159  ;	r0 - r5		chip specific srom parameters
                  [000000]  1160  ;	r15 - r21 	standard srom parameters (even though
                  [000000]  1161  ;			it steps on shadow set)
                  [000000]  1162  ;-
                  [000000]  1163  .if eq srm_console
                  [000000]  1164  
                  [000000]  1165  	EV6__POWERUP_ENTRY = ^x0
                  [000000]  1166  TRAP__START:					; used by vector macros
                  [000000]  1167  trap__pal_base:
                  [000000]  1168  	START_HW_VECTOR <POWERUP>
                  [000000]  1169  
                  [000000]  1170  	br	r26, sys__reset			; off to sys__reset
                  [000000]  1171  
                  [000000]  1172  	.long	0
                  [000000]  1173  	.long	osfpal_version_l			; location 0x8
                  [000000]  1174  	.long	osfpal_version_h			; location 0xC
                  [000000]  1175  ;
                  [000000]  1176  ; Flag whether ev6 workarounds are assembled in
                  [000000]  1177  ; = 00	none
                  [000000]  1178  ; = 01	force_path2
                  [000000]  1179  ; = 10	spinlock_hack
                  [000000]  1180  ; = 11	both
                  [000000]  1181  ;
                  [000000]  1182  trap__conditional_flags:				; 1.51 PALbase + 0x10
                  [000000]  1183  	.quad	<<spinlock_hack@1>!<force_path2>>	; 1.51
                  [000000]  1184  
                  [000000]  1185  	.align	quad
                  [000000]  1186  trap__lock_cell:
                  [000000]  1187  	.quad	0
                  [000000]  1188  
                  [000000]  1189  	END_HW_VECTOR
                  [000000]  1190  
                  [000000]  1191  .endc ; if eq srm_console
                  [000000]  1164I 
                  [000000]  1165I 	EV6__POWERUP_ENTRY = ^x0
                  [000000]  1166I TRAP__START:					; used by vector macros
                  [000000]  1167I trap__pal_base:
                  [000000]  1168I 	START_HW_VECTOR <POWERUP>
File: ev6_pal_macros.mar
                  [000000]    31i     ASSUME <_pal_func_in_prog> eq 0
                  [000000]    44i TRAP__POWERUP:
File: ev6_osf_pal.mar
                  [000000]  1169I 
         C3401CBF [000000]  1170I 	br	r26, sys__reset			; off to sys__reset
                  [000004]  1171I 
         00000000 [000004]  1172I 	.long	0
         000201A2 [000008]  1173I 	.long	osfpal_version_l			; location 0x8
         00020000 [00000C]  1174I 	.long	osfpal_version_h			; location 0xC
                  [000010]  1175I ;
                  [000010]  1176I ; Flag whether ev6 workarounds are assembled in
                  [000010]  1177I ; = 00	none
                  [000010]  1178I ; = 01	force_path2
                  [000010]  1179I ; = 10	spinlock_hack
                  [000010]  1180I ; = 11	both
                  [000010]  1181I ;
                  [000010]  1182I trap__conditional_flags:				; 1.51 PALbase + 0x10
00000000 00000001 [000010]  1183I 	.quad	<<spinlock_hack@1>!<force_path2>>	; 1.51
                  [000018]  1184I 
                  [000018]  1185I 	.align	quad
                  [000018]  1186I trap__lock_cell:
00000000 00000000 [000018]  1187I 	.quad	0
                  [000020]  1188I 
                  [000020]  1189I 	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [000020]    52i         ASSUME <.-_start_of_last_vec> le <^x80>
                  [000020]    56i         GOTO_FREE_CODE
                  [004000]    62i     .align 6
File: ev6_osf_pal.mar
                  [004000]  1190I 
                  [004000]  1192  
                  [004000]  1193  
                  [004000]  1194  ;------------------------------------------------------------------------
                  [004000]  1195  ;+
                  [004000]  1196  ; DTBM_DOUBLE_3 - offset 100
                  [004000]  1197  ;
                  [004000]  1198  ; Entry:
                  [004000]  1199  ;	Vectored into via hardware trap on TB miss on level 3
                  [004000]  1200  ;	page table entry.
                  [004000]  1201  ;
                  [004000]  1202  ; Function:
                  [004000]  1203  ;	Translate level 3 PTE va.
                  [004000]  1204  ;	If valid, load TB and return to redo the ld_vpte, which will now hit.
                  [004000]  1205  ;	If not valid, then take TNV/ACV exception.
                  [004000]  1206  ;
                  [004000]  1207  ; Current state:
                  [004000]  1208  ;	p4	va of level 3 page table entry
                  [004000]  1209  ;	p5	mm_stat (from dtbm_single)
                  [004000]  1210  ;	p6	original va
                  [004000]  1211  ;	p7	exc_sum (from dtbm_single)
                  [004000]  1212  ;	p23	pc of instruction causing the TB miss
                  [004000]  1213  ;
                  [004000]  1214  ;	VA	original va for dstream TB miss
                  [004000]  1215  ;
                  [004000]  1216  ; Register Use:
                  [004000]  1217  ;	p5	exc_addr, pc of ld_vpte in TB miss flows
                  [004000]  1218  ;	p7	<31:16>=mm_stat<15:0>,<15:1>=exc_sum<15:1>,<0>=1
                  [004000]  1219  ;
                  [004000]  1220  ;	r25	saved, used as scratch, restored on hw_ret
                  [004000]  1221  ;	r26	saved, used as scratch, restored on hw_ret
                  [004000]  1222  ;
                  [004000]  1223  ; Exit state:
                  [004000]  1224  ;	On exit to trap__double3_pte_inv
                  [004000]  1225  ;	p5	scratch
                  [004000]  1226  ;	p6	original va
                  [004000]  1227  ;	p7	<31:16>=mm_stat<15:0>,<15:1>=exc_sum<15:1>,<0>=1
                  [004000]  1228  ;	p23	pc of instruction causing TB miss
                  [004000]  1229  ;	r25	pte
                  [004000]  1230  ;-
                  [004000]  1231  	START_HW_VECTOR <DTBM_DOUBLE_3>
File: ev6_pal_macros.mar
                  [004000]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000100]    44i TRAP__DTBM_DOUBLE_3:
File: ev6_osf_pal.mar
                  [000100]  1232  
                  [000100]  1233  ; Entered on a miss on va of level 3 page table entry
                  [000100]  1234  ; 	level 1 = vptb
                  [000100]  1235  ; 	level 2 = level 1 of original va
                  [000100]  1236  ; 	level 3 = level 2 of original va
                  [000100]  1237  ; byte_within_page = level 3 of original va as offset into level 3 page table
                  [000100]  1238  ;
                  [000100]  1239  ; Optimize by starting with the fetch of level 2 pte
                  [000100]  1240  ;
         48E07627 [000100]  1241  	zapnot	p7, #3, p7			; clean exc_sum to 16 bits
         48A21725 [000104]  1242  	sll	p5, #16, p5			; shift mm_stat into place
         44E50407 [000108]  1243  	bis	p7, p5, p7			; combine 
         64BF0600 [00010C]  1244  	hw_mfpr	p5, EV6__EXC_ADDR		; (0L) save exc_addr
                  [000110]  1245  
         44E03407 [000110]  1246  	bis	p7, #1, p7			; double miss flag
                  [000114]  1247  
         7F351128 [000114]  1248  	hw_stq/p r25, PT__R25(p_temp)		; get a scratch register
         7F551130 [000118]  1249  	hw_stq/p r26, PT__R26(p_temp)		; get a scratch register
         6F351008 [00011C]  1250  	hw_ldq/p r25, PT__PTBR(p_temp)		; get phys page table addr
                  [000120]  1251  
         EAC00FC6 [000120]  1252  	blt	p_misc, trap__double3_1to1	; 1-to-1 => branch
                  [000124]  1253  
                  [000124]  1254  .if ne check_ebox_iprs				; 1.52
                  [000124]  1255  
                  [000124]  1256  	hw_ldq/p r25, PT__VPTB(p_temp)		; 1.52 get vptb
                  [000124]  1257  	srl	p4, #33, r26			; 1.52 get level1 value
                  [000124]  1258  	sll	r26, #33, r26			; 1.52 clean
                  [000124]  1259  	xor	r25, r26, r25			; 1.52 compare
                  [000124]  1260  	bne	r25, trap__dbm_double3_crash1	; 1.52
                  [000124]  1261  	br	r25, trap__dbm_double3_okay1	; 1.52
                  [000124]  1262  
                  [000124]  1263  trap__dbm_double3_crash1:
                  [000124]  1264  	hw_ldq/p r25, PT__R25(p_temp)		; 1.52 restore r25
                  [000124]  1265  	hw_ldq/p r26, PT__R26(p_temp)		; 1.52 restore r26
                  [000124]  1266  	lda	p20, ^x0A(r31)			; 1.52 crash code
                  [000124]  1267  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; 1.52
                  [000124]  1268  	br	r31, trap__halt_after_fix	; 1.53
                  [000124]  1269  
                  [000124]  1270  trap__dbm_double3_okay1:
                  [000124]  1271  	lda	r25, ^xAA(r31)			; 1.52 get a constant
                  [000124]  1272  	insbl	r25, #0, r25			; 1.52 swapped on big-end
                  [000124]  1273  	cmpeq	r25, #^xAA, r26			; 1.52 compare
                  [000124]  1274  	beq	r26, trap__dbm_double3_crash2	; 1.52
                  [000124]  1275  	br	r26, trap__dbm_double3_okay2	; 1.52
                  [000124]  1276  
                  [000124]  1277  trap__dbm_double3_crash2:
                  [000124]  1278  	hw_ldq/p r25, PT__R25(p_temp)		; 1.52 restore r25
                  [000124]  1279  	hw_ldq/p r26, PT__R26(p_temp)		; 1.52 restore r26
                  [000124]  1280  	lda	p20, ^x0B(r31)			; 1.52 crash code
                  [000124]  1281  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; 1.52
                  [000124]  1282  	br	r31, trap__halt_after_fix	; 1.53
                  [000124]  1283  
                  [000124]  1284  	CONT_HW_VECTOR <DTBM_DOUBLE_3>		; 1.52
                  [000124]  1285  
                  [000124]  1286  trap__dbm_double3_okay2:			; 1.53
                  [000124]  1287  	rpcc	r26, (p7)			; 1.53 depend on p7
                  [000124]  1288  	addq	p7, r26, r25			; 1.53 depend on r26
                  [000124]  1289  	addq	r25, #1, r25			; 1.53 depend on r25
                  [000124]  1290  	addq	r25, #1, r25			; 1.53 depend on r25
                  [000124]  1291  	rpcc	r25, (r25)			; 1.54 depend on r25
                  [000124]  1292    .if ne egore					; 1.53
                  [000124]  1293  	bis	r31, #1, r26			; 1.53 isp has no cc
                  [000124]  1294  	bis	r31, #2, r25			; 1.54 isp has no cc
                  [000124]  1295    .endc						; 1.53
                  [000124]  1296  	xor	r26, r25, r26			; 1.54 see if cc incremented
                  [000124]  1297  	beq	r26, trap__dbm_double3_crash3	; 1.53 branch if not
                  [000124]  1298  	br	r26, trap__dbm_double3_okay3	; 1.53 otherwise okay
                  [000124]  1299  
                  [000124]  1300  trap__dbm_double3_crash3:
                  [000124]  1301  	hw_ldq/p r25, PT__R25(p_temp)		; 1.53 restore r25
                  [000124]  1302  	hw_ldq/p r26, PT__R26(p_temp)		; 1.53 restore r26
                  [000124]  1303  	lda	p20, ^x0C(r31)			; 1.53 crash code
                  [000124]  1304  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; 1.53
                  [000124]  1305  	br	r31, trap__halt_after_fix	; 1.53
                  [000124]  1306  
                  [000124]  1307  trap__dbm_double3_okay3:			; 1.53
                  [000124]  1308  	hw_ldq/p r25, PT__PTBR(p_temp)		; 1.53 get phys page table addr
                  [000124]  1309  
                  [000124]  1310  .endc						; 1.52 check_ebox_iprs
                  [000124]  1311  
                  [000124]  1312  .if ne separate_page_tables			; 1.55
                  [000124]  1313  	hw_ldq/p r26, PT__VIRBND(p_temp)	; get virbnd
                  [000124]  1314  	blt	r26, trap__double3_cont		; not implemented
                  [000124]  1315  	cmpult	p6, r26, r26			; is va lssu virbnd?
                  [000124]  1316  	beq	r26, trap__double3_sysptbr	; if not, use sysptbr
                  [000124]  1317  	br	r31, trap__double3_cont		; is so, use ptbr
                  [000124]  1318  
                  [000124]  1319  trap__double3_sysptbr:				; use sysptbr
                  [000124]  1320  	hw_ldq/p r25, PT__SYSPTBR(p_temp)	; get sysptbr
                  [000124]  1321  	br	r31, trap__double3_cont		; continue
                  [000124]  1322  
                  [000124]  1323      .if eq check_ebox_iprs
                  [000124]  1324  	CONT_HW_VECTOR <DTBM_DOUBLE_3>
                  [000124]  1325      .endc
                  [000124]  1326  
                  [000124]  1327  trap__double3_cont:				; continue
                  [000124]  1328  
                  [000124]  1329  .endc						; 1.55 separate_page_tables
                  [000124]  1330  
         4883F73A [000124]  1331  	sll	p4, #<64-<<2*level_bits>+13>>, r26
         4B46769A [000128]  1332  	srl	r26, #<61-level_bits>, r26	; get level 2 into offset
         433A0419 [00012C]  1333  	addq	r25, r26, r25			; pa for level 2 pte
         6F391000 [000130]  1334  	hw_ldq/p r25, 0(r25)			; get level 2 pte
         4885373A [000134]  1335  	sll	p4, #<64-<<1*level_bits>+13>>, r26
         4B46769A [000138]  1336  	srl	r26, #<61-level_bits>, r26	; get level 3 into offset
         E3200FB8 [00013C]  1337  	blbc	r25, trap__double3_pte_inv	; branch => invalid pte
         4B241699 [000140]  1338  	srl	r25, #32, r25			; extract pfn from pte
         4B21B739 [000144]  1339  	sll	r25, #13, r25			; get into position
         433A0419 [000148]  1340  	addq	r25, r26, r25			; pa for level 3 pte
         6F391000 [00014C]  1341  	hw_ldq/p	r25, 0(r25)		; get level 3 pte
         E3200FB3 [000150]  1342  	blbc	r25, trap__double3_pte_inv	; branch => invalid pte
         4B20F69A [000154]  1343  	srl	r25, #7, r26			; get mb bit
                  [000158]  1344  
                  [000158]  1345  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
47FF041F 47FF041F [000158]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [000160]  1346  
                  [000160]  1347  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [000160]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         77E42044 [000160]  1348  	hw_mtpr	p4, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E4A022 [000164]  1349  	hw_mtpr p4, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77F92155 [000168]  1350  	hw_mtpr	r25, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77F9A1AA [00016C]  1351  	hw_mtpr	r25, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [000170]  1352  
         6F351128 [000170]  1353  	hw_ldq/p r25, PT__R25(p_temp)		; restore register
                  [000174]  1354  ;
                  [000174]  1355  ; We need to wait until the pte writes retire. We need to avoid the
                  [000174]  1356  ; case where the tag writes in the single flow issue before the
                  [000174]  1357  ; pte writes in this flow issue and retire. With changes in 1.36, we
                  [000174]  1358  ; can probably remove this stall, but at this point in the project,
                  [000174]  1359  ; let's just leave it in.
                  [000174]  1360  ;
         77FF2780 [000174]  1361  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; wait for pte write
                  [000178]  1362  
                  [000178]  1363  .if eq <check_ebox_iprs ! separate_page_tables>	; 1.55
                  [000178]  1364  	CONT_HW_VECTOR <DTBM_DOUBLE_3>
                  [000178]  1365  .endc						; 1.52
                  [000178]  1364I 	CONT_HW_VECTOR <DTBM_DOUBLE_3>
File: ev6_pal_macros.mar
                  [000178]    71i     ASSUME <_pal_vec_cont> eq 0
         C3E00FA1 [000178]    76i 	br	r31, TRAP__DTBM_DOUBLE_3_CONT
                  [00017C]    79i                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [00017C]    81i     GOTO_FREE_CODE
                  [004000]    62i     .align 6
                  [004000]    86i TRAP__DTBM_DOUBLE_3_CONT:
File: ev6_osf_pal.mar
                  [004000]  1366  
                  [004000]  1367  ASSUME <tb_mb_en + pte_eco> ne 2
                  [004000]  1368  
                  [004000]  1369  .if eq force_path2				; 1.44 force_path2 = 0
                  [004000]  1370  
                  [004000]  1371    .if ne pte_eco
                  [004000]  1372  	blbc	r26, trap__dtbm_double3_mb	; branch for mb
                  [004000]  1373  	hw_ldq/p r26, PT__R26(p_temp)		; restore register
                  [004000]  1374  	hw_ret	(p5)				; (0L) return
                  [004000]  1375  
                  [004000]  1376  trap__dtbm_double3_mb:
                  [004000]  1377  	mb
                  [004000]  1378  	hw_ldq/p r26, PT__R26(p_temp)		; restore register
                  [004000]  1379  	hw_ret	(p5)				; (0L) return
                  [004000]  1380    .iff
                  [004000]  1381  	hw_ldq/p r26, PT__R26(p_temp)		; restore register
                  [004000]  1382  	hw_ret	(p5)				; (0L) return
                  [004000]  1383    .endc						; pte_eco
                  [004000]  1384  
                  [004000]  1385  .iff						; force_path2 = 1
                  [004000]  1386  ;
                  [004000]  1387  ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [004000]  1388  ; another processor has taken it, and a bad path before a stx_c has
                  [004000]  1389  ; a load which pulls the data back in and makes it look like the
                  [004000]  1390  ; lock has succeeded. Hold up loads by writing to MM_STAT with
                  [004000]  1391  ; scoreboard bit 2 (and 6 -- 6 is required or we hang).
                  [004000]  1392  ;
                  [004000]  1393  	hw_ldq/p r26, PT__R26(p_temp)		; restore register
                  [004000]  1394  	mb					; allow hw_ret to fire
                  [004000]  1395  
                  [004000]  1396  	ALIGN_FETCH_BLOCK <^x47FF041F>
                  [004000]  1397  	mulq	p6, #1, p6			; hold up loads
                  [004000]  1398  	mulq	p6, #1, p6			; hols up loads
                  [004000]  1399  	hw_mtpr p6, <EV6__MM_STAT ! ^x44>	; hold up loads
                  [004000]  1400  	hw_ret	(p5)				; return
                  [004000]  1401  .endc						; 1.44 force_path2
                  [004000]  1386I ;
                  [004000]  1387I ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [004000]  1388I ; another processor has taken it, and a bad path before a stx_c has
                  [004000]  1389I ; a load which pulls the data back in and makes it look like the
                  [004000]  1390I ; lock has succeeded. Hold up loads by writing to MM_STAT with
                  [004000]  1391I ; scoreboard bit 2 (and 6 -- 6 is required or we hang).
                  [004000]  1392I ;
         6F551130 [004000]  1393I 	hw_ldq/p r26, PT__R26(p_temp)		; restore register
         63FF4000 [004004]  1394I 	mb					; allow hw_ret to fire
                  [004008]  1395I 
                  [004008]  1396I 	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
47FF041F 47FF041F [004008]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
         4CC03406 [004010]  1397I 	mulq	p6, #1, p6			; hold up loads
         4CC03406 [004014]  1398I 	mulq	p6, #1, p6			; hols up loads
         77E62744 [004018]  1399I 	hw_mtpr p6, <EV6__MM_STAT ! ^x44>	; hold up loads
         7BE58000 [00401C]  1400I 	hw_ret	(p5)				; return
                  [004020]  1402  
                  [004020]  1403  
                  [004020]  1404  ;+
                  [004020]  1405  ; trap__double3_pte_inv
                  [004020]  1406  ;
                  [004020]  1407  ; Entry:
                  [004020]  1408  ; 	Double TB miss flow found an invalid level 2/3 page table entry,
                  [004020]  1409  ;	which is equivalent to invalid level 1/2 PTE of original va.
                  [004020]  1410  ;
                  [004020]  1411  ; Function:
                  [004020]  1412  ;	Prepare to take a TNV or ACV exception. Access violation takes
                  [004020]  1413  ;	priority over translation not valid. Return to single miss with
                  [004020]  1414  ;	fake PTE, and the invalid single miss flow will report the error.
                  [004020]  1415  ;
                  [004020]  1416  ; Current state:
                  [004020]  1417  ;	p4	available
                  [004020]  1418  ;	p5	pc of ld_vpte instruction in TB miss flow
                  [004020]  1419  ;	p6	original va
                  [004020]  1420  ;	p7	<31:16>=mm_stat<15:0>,<15:1>=exc_sum<15:1>,<0>=1
                  [004020]  1421  ;	p23	pc of instruction causing TB miss
                  [004020]  1422  ;
                  [004020]  1423  ;	r25	pte
                  [004020]  1424  ;	r26	scratch
                  [004020]  1425  ;
                  [004020]  1426  ;	PT__R25	saved r25
                  [004020]  1427  ;	PT__R26	saved r26
                  [004020]  1428  ;
                  [004020]  1429  ; Register use:
                  [004020]  1430  ;	p20	available if original exception not from pal
                  [004020]  1431  ;
                  [004020]  1432  ; Exit state:
                  [004020]  1433  ;	On exit back to single miss flow
                  [004020]  1434  ;	p4	PTE
                  [004020]  1435  ;	p5	scratch
                  [004020]  1436  ;	p7	<31:16>=mm_stat<15:0>,<15:1>=exc_sum<15:1>,<0>=1
                  [004020]  1437  ;	p23	pc of instruction taking TB miss
                  [004020]  1438  ;-
                  [004020]  1439  trap__double3_pte_inv:
         4B211699 [004020]  1440  	srl	r25, #OSF_PTE__KRE__S, r25	; get kre bit to <0>
         40A09405 [004024]  1441  	addq	p5, #4, p5			; inc pc for return to single
         209F3300 [004028]  1442  	lda	p4, OSF_PTE__PROT__M(r31)	; UWE,KWE,URE,KRE set
         473F02C4 [00402C]  1443  	cmovlbc	r25, r31, p4			; if <kre>=0 => ACV
                  [004030]  1444  
         6F351128 [004030]  1445  	hw_ldq/p r25, PT__R25(p_temp)		; restore r25
         6F551130 [004034]  1446  	hw_ldq/p r26, PT__R26(p_temp)		; restore r26
                  [004038]  1447  
                  [004038]  1448  .if ne pci_debug_io*debug_dmiss
                  [004038]  1449  	DBGREG_PCI LED__DMISS_DBL,p23
                  [004038]  1450  .endc
                  [004038]  1451  
         7BE58000 [004038]  1452  	hw_ret	(p5)				; (0L) return
                  [00403C]  1453  ;+
                  [00403C]  1454  ; Do a 1-to-1 mapping
                  [00403C]  1455  ; Current state:
                  [00403C]  1456  ;	p5	exc_addr of ld_vpte
                  [00403C]  1457  ;	r25	saved, needs to be restored
                  [00403C]  1458  ;	r26	saved, needs to be restored
                  [00403C]  1459  ;-
                  [00403C]  1460  trap__double3_1to1:
         6F351128 [00403C]  1461  	hw_ldq/p r25, PT__R25(p_temp)		; restore r25
         6F551130 [004040]  1462  	hw_ldq/p r26, PT__R26(p_temp)		; restore r26
         40A09405 [004044]  1463  	addq	p5, #4, p5			; return past the ld_vpte
                  [004048]  1464  
                  [004048]  1465      .if eq force_path				; 1.41
                  [004048]  1466  	hw_ret	(p5)				; do the ret
                  [004048]  1467      .iff
                  [004048]  1468  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align
                  [004048]  1469  	PVC_VIOLATE <1007>
                  [004048]  1470  	PVC_VIOLATE <1020>			; stop permutation
                  [004048]  1471  	hw_jmp	(p5)				; return with jmp
                  [004048]  1472  	br	r31, .-4			; stop predictor
                  [004048]  1473      .endc					; 1.41
         7BE58000 [004048]  1466I 	hw_ret	(p5)				; do the ret
                  [00404C]  1474      
                  [00404C]  1475  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [00404C]    56M         GOTO_FREE_CODE
00000000 00000000 [00404C]    62M     .align 6
00000000 00000000 [004054]
00000000 00000000 [00405C]
00000000 00000000 [004064]
00000000 00000000 [00406C]
00000000 00000000 [004074]
         00000000 [00407C]
File: ev6_osf_pal.mar
                  [004080]  1476  
                  [004080]  1477  ;------------------------------------------------------------------------
                  [004080]  1478  ;+
                  [004080]  1479  ; DTBM_DOUBLE_4 - offset 180
                  [004080]  1480  ;
                  [004080]  1481  ; Entry:
                  [004080]  1482  ;	Vectored into vis hardware trap on TB miss on level 3
                  [004080]  1483  ;	page table entry. Use 4-level flow.
                  [004080]  1484  ;
                  [004080]  1485  ; Function:
                  [004080]  1486  ;	Translate level 3 PTE va.
                  [004080]  1487  ;	If valid, load TB and return to redo the ld_vpte, which will now hit.
                  [004080]  1488  ;	If not valid, then take TNV/ACV exception.
                  [004080]  1489  ;
                  [004080]  1490  ; Current state:
                  [004080]  1491  ;	p4	va of level 3 page table entry
                  [004080]  1492  ;	p5	mm_stat (from dtbm_single)
                  [004080]  1493  ;	p7	exc_sum (from dtbm_single)
                  [004080]  1494  ;	p23	pc of instruction causing the TB miss
                  [004080]  1495  ;
                  [004080]  1496  ;	VA	original VA for dstream TB miss
                  [004080]  1497  ;
                  [004080]  1498  ; Register Use:
                  [004080]  1499  ;	p5	exc_addr, pc of ld_vpte in TB miss flows
                  [004080]  1500  ;	p6	original va
                  [004080]  1501  ;	p7	<31:16>=mm_stat<15:0>,<15:1>=exc_sum<15:1>,<0>=1
                  [004080]  1502  ;
                  [004080]  1503  ;	r25	saved, used as scratch, restored on hw_ret
                  [004080]  1504  ;	r26	saved, used as scratch, restored on hw_ret
                  [004080]  1505  ;
                  [004080]  1506  ; Exit state:
                  [004080]  1507  ;	On exit to trap__double3_pte_inv
                  [004080]  1508  ;	p5	scratch
                  [004080]  1509  ;	p6	original va
                  [004080]  1510  ;	p7	<31:16>=mm_stat<15:0>,<15:1>=exc_sum<15:1>,<0>=1
                  [004080]  1511  ;	p23	pc of instruction causing TB miss
                  [004080]  1512  ;	r25	pte
                  [004080]  1513  ;-
                  [004080]  1514  
                  [004080]  1515  	START_HW_VECTOR <DTBM_DOUBLE_4>
File: ev6_pal_macros.mar
                  [004080]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000180]    44i TRAP__DTBM_DOUBLE_4:
File: ev6_osf_pal.mar
                  [000180]  1516  
                  [000180]  1517  ;
                  [000180]  1518  ; Entered on a miss on va of level 3 page table entry.
                  [000180]  1519  ;	level 0 = VPTB
                  [000180]  1520  ;	level 1 = level 0 of original va
                  [000180]  1521  ;	level 2 = level 1 of original va
                  [000180]  1522  ;	level 3 = level 2 of original va
                  [000180]  1523  ; byte_within_page = level 3 or original va as offset in level 3 page table
                  [000180]  1524  ;
                  [000180]  1525  ; Optimize by starting with the fetch of level 1 pte
                  [000180]  1526  ;
                  [000180]  1527  ASSUME OSF_P_MISC__PHYS__S eq 63
         48E07627 [000180]  1528  	zapnot	p7, #3, p7			; clean exc_sum to 16 bits
         48A21725 [000184]  1529  	sll	p5, #16, p5			; shift mm_stat into place
         44E50407 [000188]  1530  	bis	p7, p5, p7			; combine 
         64BF0600 [00018C]  1531  	hw_mfpr	p5, EV6__EXC_ADDR		; (0L) save exc_addr
                  [000190]  1532  
         44E03407 [000190]  1533  	bis	p7, #1, p7			; double miss flag
                  [000194]  1534  
         7F351128 [000194]  1535  	hw_stq/p r25, PT__R25(p_temp)		; get a scratch register
         7F551130 [000198]  1536  	hw_stq/p r26, PT__R26(p_temp)		; get a scratch register
         6F351008 [00019C]  1537  	hw_ldq/p r25, PT__PTBR(p_temp)		; get phys page table addr
                  [0001A0]  1538  
         EAC00FA6 [0001A0]  1539  	blt	p_misc, trap__double3_1to1	; 1-to-1 => branch
                  [0001A4]  1540  
                  [0001A4]  1541  .if ne separate_page_tables			; 1.55
                  [0001A4]  1542  	hw_ldq/p r26, PT__VIRBND(p_temp)	; get virbnd
                  [0001A4]  1543  	blt	r26, trap__double4_cont		; not implemented
                  [0001A4]  1544  	cmpult	p6, r26, r26			; is va lssu virbnd?
                  [0001A4]  1545  	beq	r26, trap__double4_sysptbr	; if not, use sysptbr
                  [0001A4]  1546  	br	r31, trap__double4_cont		; is so, use ptbr
                  [0001A4]  1547  
                  [0001A4]  1548  trap__double4_sysptbr:				; use sysptbr
                  [0001A4]  1549  	hw_ldq/p r25, PT__SYSPTBR(p_temp)	; get sysptbr
                  [0001A4]  1550  	br	r31, trap__double4_cont		; continue
                  [0001A4]  1551  
                  [0001A4]  1552  	CONT_HW_VECTOR <DTBM_DOUBLE_4>
                  [0001A4]  1553  
                  [0001A4]  1554  trap__double4_cont:				; continue
                  [0001A4]  1555  
                  [0001A4]  1556  .endc						; 1.55 separate_page_tables
         4882B73A [0001A4]  1557  	sll	p4, #<64-<<3*level_bits>+13>>, r26
         4B46769A [0001A8]  1558  	srl	r26, #<61-level_bits>, r26	; get level 1 into offset
         433A0419 [0001AC]  1559  	addq	r25, r26, r25			; pa for level 1 pte
         6F391000 [0001B0]  1560  	hw_ldq/p r25, 0(r25)			; get level 1 pte
                  [0001B4]  1561  
         4883F73A [0001B4]  1562  	sll	p4, #<64-<<2*level_bits>+13>>, r26
         4B46769A [0001B8]  1563  	srl	r26, #<61-level_bits>, r26	; get level 2 into offset
         E3200F98 [0001BC]  1564  	blbc	r25, trap__double3_pte_inv	; branch => invalid pte
         4B241699 [0001C0]  1565  	srl	r25, #32, r25			; extract pfn from pte
         4B21B739 [0001C4]  1566  	sll	r25, #13, r25			; get into position
         433A0419 [0001C8]  1567  	addq	r25, r26, r25			; pa for level 2 pte
         6F391000 [0001CC]  1568  	hw_ldq/p r25, 0(r25)			; get level 2 pte
                  [0001D0]  1569  
         4885373A [0001D0]  1570  	sll	p4, #<64-<<1*level_bits>+13>>, r26
         4B46769A [0001D4]  1571  	srl	r26, #<61-level_bits>, r26	; get level 3 into offset
         E3200F91 [0001D8]  1572  	blbc	r25, trap__double3_pte_inv	; branch => invalid pte
         4B241699 [0001DC]  1573  	srl	r25, #32, r25			; extract pfn from pte
         4B21B739 [0001E0]  1574  	sll	r25, #13, r25			; get into position
         433A0419 [0001E4]  1575  	addq	r25, r26, r25			; pa for level 3 pte
         6F391000 [0001E8]  1576  	hw_ldq/p r25, 0(r25)			; get level 3 pte
                  [0001EC]  1577  
         E3200F8C [0001EC]  1578  	blbc	r25, trap__double3_pte_inv	; branch => invalid pte
         4B20F69A [0001F0]  1579  	srl	r25, #7, r26			; get mb bit
                  [0001F4]  1580  
                  [0001F4]  1581  .if eq separate_page_tables			; 1.55
                  [0001F4]  1582  	CONT_HW_VECTOR <DTBM_DOUBLE_4>
                  [0001F4]  1583  .endc						; 1.55
                  [0001F4]  1582I 	CONT_HW_VECTOR <DTBM_DOUBLE_4>
File: ev6_pal_macros.mar
                  [0001F4]    71i     ASSUME <_pal_vec_cont> eq 0
         C3E00FA2 [0001F4]    76i 	br	r31, TRAP__DTBM_DOUBLE_4_CONT
                  [0001F8]    79i                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [0001F8]    81i     GOTO_FREE_CODE
                  [004080]    62i     .align 6
                  [004080]    86i TRAP__DTBM_DOUBLE_4_CONT:
File: ev6_osf_pal.mar
                  [004080]  1584  
                  [004080]  1585  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
                  [004080]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [004080]  1586  
                  [004080]  1587  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [004080]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         77E42044 [004080]  1588  	hw_mtpr	p4, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E4A022 [004084]  1589  	hw_mtpr p4, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77F92155 [004088]  1590  	hw_mtpr	r25, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77F9A1AA [00408C]  1591  	hw_mtpr	r25, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [004090]  1592  
                  [004090]  1593  	ASSUME_FETCH_BLOCK
                  [004090]  1594  
         6F351128 [004090]  1595  	hw_ldq/p r25, PT__R25(p_temp)		; restore register
                  [004094]  1596  ;
                  [004094]  1597  ; We need to wait until the pte writes retire. We need to avoid the
                  [004094]  1598  ; case where the tag writes in the single flow issue before the
                  [004094]  1599  ; pte writes in this flow issue and retire. With changes in 1.36, we
                  [004094]  1600  ; can probably remove this stall, but at this point in the project,
                  [004094]  1601  ; let's just leave it in.
                  [004094]  1602  ;
         77FF2780 [004094]  1603  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; wait for pte write
                  [004098]  1604  
                  [004098]  1605  ASSUME <tb_mb_en + pte_eco> ne 2
                  [004098]  1606  
                  [004098]  1607  .if eq force_path2				; 1.44 force_path = 0
                  [004098]  1608  
                  [004098]  1609    .if ne pte_eco
                  [004098]  1610  	blbc	r26, trap__dtbm_double4_mb	; branch for mb
                  [004098]  1611  	hw_ldq/p r26, PT__R26(p_temp)		; restore register
                  [004098]  1612  	hw_ret	(p5)				; (0L) return
                  [004098]  1613  
                  [004098]  1614  trap__dtbm_double4_mb:
                  [004098]  1615  	mb
                  [004098]  1616  	hw_ldq/p r26, PT__R26(p_temp)		; restore register
                  [004098]  1617  	hw_ret	(p5)				; (0L) return
                  [004098]  1618    .iff
                  [004098]  1619  	hw_ldq/p r26, PT__R26(p_temp)		; restore register
                  [004098]  1620  	hw_ret	(p5)				; (0L) return
                  [004098]  1621    .endc						; pte eco
                  [004098]  1622  
                  [004098]  1623  .iff						; force_path2 = 1
                  [004098]  1624  ;
                  [004098]  1625  ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [004098]  1626  ; another processor has taken it, and a bad path before a stx_c has
                  [004098]  1627  ; a load which pulls the data back in and makes it look like the
                  [004098]  1628  ; lock has succeeded. Hold up loads by writing to MM_STAT with
                  [004098]  1629  ; scoreboard bit 2 (and 6 -- 6 is required or we hang).
                  [004098]  1630  ;
                  [004098]  1631  	hw_ldq/p r26, PT__R26(p_temp)		; restore register
                  [004098]  1632  	mb					; allow hw_ret to fire
                  [004098]  1633  
                  [004098]  1634  	ALIGN_FETCH_BLOCK <^x47FF041F>
                  [004098]  1635  	mulq	p6, #1, p6			; hold up loads
                  [004098]  1636  	mulq	p6, #1, p6			; hols up loads
                  [004098]  1637  	hw_mtpr p6, <EV6__MM_STAT ! ^x44>	; hold up loads
                  [004098]  1638  	hw_ret	(p5)				; return
                  [004098]  1639  .endc						; 1.44 force_path2
                  [004098]  1624I ;
                  [004098]  1625I ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [004098]  1626I ; another processor has taken it, and a bad path before a stx_c has
                  [004098]  1627I ; a load which pulls the data back in and makes it look like the
                  [004098]  1628I ; lock has succeeded. Hold up loads by writing to MM_STAT with
                  [004098]  1629I ; scoreboard bit 2 (and 6 -- 6 is required or we hang).
                  [004098]  1630I ;
         6F551130 [004098]  1631I 	hw_ldq/p r26, PT__R26(p_temp)		; restore register
         63FF4000 [00409C]  1632I 	mb					; allow hw_ret to fire
                  [0040A0]  1633I 
                  [0040A0]  1634I 	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
                  [0040A0]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
         4CC03406 [0040A0]  1635I 	mulq	p6, #1, p6			; hold up loads
         4CC03406 [0040A4]  1636I 	mulq	p6, #1, p6			; hols up loads
         77E62744 [0040A8]  1637I 	hw_mtpr p6, <EV6__MM_STAT ! ^x44>	; hold up loads
         7BE58000 [0040AC]  1638I 	hw_ret	(p5)				; return
                  [0040B0]  1640  
                  [0040B0]  1641  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [0040B0]    56M         GOTO_FREE_CODE
00000000 00000000 [0040B0]    62M     .align 6
00000000 00000000 [0040B8]
File: ev6_osf_pal.mar
                  [0040C0]  1642  
                  [0040C0]  1643  ;------------------------------------------------------------------------
                  [0040C0]  1644  ;+
                  [0040C0]  1645  ; FEN - offset 200
                  [0040C0]  1646  ;
                  [0040C0]  1647  ; Entry:
                  [0040C0]  1648  ;	Vectored into via hardware trap on floating disable fault.
                  [0040C0]  1649  ;
                  [0040C0]  1650  ; Function:
                  [0040C0]  1651  ;	Build stack frame.
                  [0040C0]  1652  ;		r16 (a0)	FEN code
                  [0040C0]  1653  ;		r17 (a1)	unpredictable
                  [0040C0]  1654  ;		r18 (a2)	unpredictable
                  [0040C0]  1655  ;	Vector via entIF.
                  [0040C0]  1656  ;
                  [0040C0]  1657  ; Note:
                  [0040C0]  1658  ;	Unlike previous processors, this entry point is *only* for
                  [0040C0]  1659  ;	floating point disabled fault, so we don't need to check fen
                  [0040C0]  1660  ;	to see if we need to generate an OPCDEC instead.
                  [0040C0]  1661  ;-
                  [0040C0]  1662  
                  [0040C0]  1663  	START_HW_VECTOR <FEN>
File: ev6_pal_macros.mar
                  [0040C0]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000200]    44i TRAP__FEN:
File: ev6_osf_pal.mar
                  [000200]  1664  
                  [000200]  1665  ASSUME OSF_P_MISC__PS__S eq 0
                  [000200]  1666  
                  [000200]  1667  .if ne ev6_p1
                  [000200]  1668  	hw_mfpr	p23, EV6__EXC_ADDR			; (0L) save exc_addr
                  [000200]  1669  	NOP						; no conditional br
                  [000200]  1670  	NOP						;	in 1st block
                  [000200]  1671  	NOP
                  [000200]  1672  
                  [000200]  1673  	hw_ldq/p p4, PT__IMPURE(p_temp)			; get base of impure area
                  [000200]  1674  	hw_ldq/p p5, CNS__FPE_STATE(p4)			; get real fpe state
                  [000200]  1675  	blbc	p5, trap__emul_fen			; if clear, take fen trap
                  [000200]  1676  
                  [000200]  1677  trap__emul_merge:				; merge from opcdec
                  [000200]  1678  
                  [000200]  1679  	hw_stq/p p23, CNS__FP_PC(p4)		; save user pc
                  [000200]  1680  
                  [000200]  1681      .if ne fp_count
                  [000200]  1682  	hw_ldq/p p6, PT__RSV_FOR_PAL(p_temp)	; get fp counter
                  [000200]  1683  	addq	p6, #1, p6			; add 1
                  [000200]  1684  	hw_stq/p p6, PT__RSV_FOR_PAL(p_temp)	; write it back
                  [000200]  1685  	br	r31, trap__fen_cont		; continue
                  [000200]  1686      .endc
                  [000200]  1687  
                  [000200]  1688  	CONT_HW_VECTOR <FEN>
                  [000200]  1689  ;
                  [000200]  1690  ; Fen with FPE_STATE set
                  [000200]  1691  ;	or
                  [000200]  1692  ; Opcdec with unknown FPE_STATE
                  [000200]  1693  ;
                  [000200]  1694  ;	Save GPRs.
                  [000200]  1695  ;	Get the instruction and parse for load/store.
                  [000200]  1696  ;	Execute locally for ld/st.
                  [000200]  1697  ;	Go to emulator for operates and branches.
                  [000200]  1698  ;	Restore GPRs.
                  [000200]  1699  ;	HW_RET to correct PC. 
                  [000200]  1700  ;
                  [000200]  1701  ASSUME EV6__I_CTL__SDE__S eq 6
                  [000200]  1702  
                  [000200]  1703  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align with nops
                  [000200]  1704  
                  [000200]  1705  	hw_stq/p r0, CNS__R0_EMUL(p4)		; save r0
                  [000200]  1706  	hw_stq/p r1, CNS__R1_EMUL(p4)		; save r1
                  [000200]  1707  	hw_stq/p r2, CNS__R2_EMUL(p4)		; save r2
                  [000200]  1708  	hw_mfpr	r2, EV6__I_CTL			; (4,0L) get i_ctl
                  [000200]  1709  
                  [000200]  1710  	bis	p4, r31, r1			; impure base into r1
                  [000200]  1711  	bic	r2, #<2@EV6__I_CTL__SDE__S>, r2	; zap sde
                  [000200]  1712  	hw_stq/p r3, CNS__R3_EMUL(p4)		; save r3
                  [000200]  1713  	hw_stq/p r8, CNS__R8_EMUL(r1)		; save gpr
                  [000200]  1714  
                  [000200]  1715  	hw_mtpr	r2, EV6__I_CTL			; (4,0L) write i_ctl
                  [000200]  1716  	hw_stq/p r9, CNS__R9_EMUL(r1)		; save gpr
                  [000200]  1717  	hw_stq/p r10, CNS__R10_EMUL(r1)		; save gpr
                  [000200]  1718  	hw_stq/p r11, CNS__R11_EMUL(r1)		; save gpr
                  [000200]  1719  
                  [000200]  1720  	hw_mtpr	r2, EV6__I_CTL			; (4,0L) stall outside IQ
                  [000200]  1721  	hw_stq/p r12, CNS__R12_EMUL(r1)		; save gpr
                  [000200]  1722  	hw_stq/p r13, CNS__R13_EMUL(r1)		; save gpr
                  [000200]  1723  	hw_stq/p r14, CNS__R14_EMUL(r1)		; save gpr
                  [000200]  1724  
                  [000200]  1725  	hw_stq/p r15, CNS__R15_EMUL(r1)		; buffer block 1 -- save gpr
                  [000200]  1726  	hw_stq/p r16, CNS__R16_EMUL(r1)		; save gpr
                  [000200]  1727  	hw_stq/p r17, CNS__R17_EMUL(r1)		; save gpr
                  [000200]  1728  	hw_stq/p r18, CNS__R18_EMUL(r1)		; save gpr
                  [000200]  1729  
                  [000200]  1730  	hw_stq/p r19, CNS__R19_EMUL(r1)		; buffer block 2 -- save gpr
                  [000200]  1731  	hw_stq/p r24, CNS__R24_EMUL(r1)		; save gpr
                  [000200]  1732  	hw_stq/p r25, CNS__R25_EMUL(r1)		; save gpr
                  [000200]  1733  	hw_stq/p r26, CNS__R26_EMUL(r1)		; save gpr
                  [000200]  1734  
                  [000200]  1735  	hw_stq/p r27, CNS__R27_EMUL(r1)		; buffer block 3 -- save gpr
                  [000200]  1736  	hw_stq/p r28, CNS__R28_EMUL(r1)		; save gpr
                  [000200]  1737  	hw_stq/p r29, CNS__R29_EMUL(r1)		; save gpr
                  [000200]  1738  	hw_stq/p r30, CNS__R30_EMUL(r1)		; save gpr
                  [000200]  1739  
                  [000200]  1740  	hw_stq/p r4, CNS__R4_EMUL(r1)		; save gpr
                  [000200]  1741  	hw_stq/p r5, CNS__R5_EMUL(r1)		; save gpr
                  [000200]  1742  	hw_stq/p r6, CNS__R6_EMUL(r1)		; save gpr
                  [000200]  1743  	hw_stq/p r7, CNS__R7_EMUL(r1)		; save gpr
                  [000200]  1744  
                  [000200]  1745  	hw_stq/p r20, CNS__R20_EMUL(r1)		; save gpr
                  [000200]  1746  	hw_stq/p r21, CNS__R21_EMUL(r1)		; save gpr
                  [000200]  1747  	hw_stq/p r22, CNS__R22_EMUL(r1)		; save gpr
                  [000200]  1748  	hw_stq/p r23, CNS__R23_EMUL(r1)		; save gpr
                  [000200]  1749  
                  [000200]  1750  	hw_stq/p r31, CNS__R31_EMUL(r1)		; save gpr
                  [000200]  1751  ;
                  [000200]  1752  ; Now turn shadow mode back on
                  [000200]  1753  ;
                  [000200]  1754  	bis	r2, #<2@EV6__I_CTL__SDE__S>, r2	; enable sde
                  [000200]  1755  	hw_mtpr	r2, EV6__I_CTL			; (4,0L) write i_ctl
                  [000200]  1756  	bis	r31, r31, r31			; finish fetch block
                  [000200]  1757  
                  [000200]  1758  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align with nops
                  [000200]  1759  
                  [000200]  1760  	hw_mtpr	r2, EV6__I_CTL			; (4,0L) stall outside IQ
                  [000200]  1761  	bis	r31, r31, r31
                  [000200]  1762  	bis	r31, r31, r31
                  [000200]  1763  	bis	r31, r31, r31
                  [000200]  1764  
                  [000200]  1765  	bis	r0, r0, r0			; buffer block 1
                  [000200]  1766  	bis	r31, r31, r31
                  [000200]  1767  	bis	r31, r31, r31
                  [000200]  1768  	bis	r31, r31, r31
                  [000200]  1769  
                  [000200]  1770  	bis	r0, r0, r0			; buffer block 2
                  [000200]  1771  	bis	r31, r31, r31
                  [000200]  1772  	bis	r31, r31, r31
                  [000200]  1773  	bis	r31, r31, r31
                  [000200]  1774  
                  [000200]  1775  	bis	r0, r0, r0			; buffer block 3
                  [000200]  1776  	bis	r31, r31, r31
                  [000200]  1777  	bis	r31, r31, r31
                  [000200]  1778  	bis	r31, r31, r31
                  [000200]  1779  ;
                  [000200]  1780  ; Now start parsing the instruction.
                  [000200]  1781  ;	r1	pointer to impure area
                  [000200]  1782  ;	p23	pc of instruction
                  [000200]  1783  ; After getting the instruction, we can no longer depend on p23, as
                  [000200]  1784  ; we could have taken a miss. So copy to r2 for the fetch.
                  [000200]  1785  ;
                  [000200]  1786  	bic	p23, #3, r2			; clean instruction to r2
                  [000200]  1787  trap__emul_get_instr:
                  [000200]  1788  	ldl	p5, 0(r2)			; fatal if faults, okay to tnv
                  [000200]  1789  	zap	p5, #^xF0, p5			; clean to 32 bits
                  [000200]  1790  	srl	p5, #26, p6			; get opcode
                  [000200]  1791  	and	p6, #^x30, p7			; just get <5:4> of opcode
                  [000200]  1792  	cmpeq	p7, #^x20, p7			; check against ^x20
                  [000200]  1793  	beq	p7, trap__emul_emul		; branch => pass to emulator
                  [000200]  1794  ;
                  [000200]  1795  ; Load/Store
                  [000200]  1796  ;	r1	pointer to impure area
                  [000200]  1797  ;	p5	instruction
                  [000200]  1798  ;	p6	opcode
                  [000200]  1799  ;
                  [000200]  1800  	sll	p5, #43, r2			; Rb.ab
                  [000200]  1801  	srl	r2, #59, r2			; Rb.ab
                  [000200]  1802  	s8addq	r2, r1, r2			; impure area + offset for RA
                  [000200]  1803  	hw_ldq/p r3, CNS__R0_EMUL(r2)		; get contents of register
                  [000200]  1804  
                  [000200]  1805  	sll	p5, #48, r8			; get bit 15 to 63
                  [000200]  1806  	sra	r8, #48, r8			; now have sign ext displacement
                  [000200]  1807  	addq	r8, r3, r8			; (reg)+disp = mem addr
                  [000200]  1808  
                  [000200]  1809  	sll	p5, #38, r9			; Fa
                  [000200]  1810  	srl	r9, #59, r9			; Fa
                  [000200]  1811  	bis	r9, r31, r10			; Fa for F31 check
                  [000200]  1812  	s8addq	r9, r1, r9			; impure area + offset for FA
                  [000200]  1813  ;
                  [000200]  1814  ; We now have the operand info.
                  [000200]  1815  ;	r1	pointer to impure area
                  [000200]  1816  ;	r8	memory address
                  [000200]  1817  ;	r9	impure area + offset to FA
                  [000200]  1818  ;	r10	FA for F31 check
                  [000200]  1819  ;
                  [000200]  1820  ;	p5	instr
                  [000200]  1821  ;	p6	opcode
                  [000200]  1822  ;
                  [000200]  1823  ; We need to save the opcode into r11 in case of alignment trap.
                  [000200]  1824  ;
                  [000200]  1825  	bis	p6, r31, r11			; save for alignment trap
                  [000200]  1826  	and	p6, #^x04, r2			; check for load or store
                  [000200]  1827  	bne	r2, trap__emul_parse		; branch for stores
                  [000200]  1828  	cmpeq	r10, #^x1F, r3			; check for load to f31
                  [000200]  1829  	bne	r3, trap__emul_ldst_done	; done if load to f31
                  [000200]  1830  
                  [000200]  1831  trap__emul_parse:
                  [000200]  1832  	cmpeq	p6, #^x20, r2
                  [000200]  1833  	bne	r2, trap__emul_ldf		; branch for ldf
                  [000200]  1834  	cmpeq	p6, #^x21, r3
                  [000200]  1835  	bne	r3, trap__emul_ldg		; branch for ldg
                  [000200]  1836  	cmpeq	p6, #^x22, r2
                  [000200]  1837  	bne	r2, trap__emul_lds		; branch for lds
                  [000200]  1838  	cmpeq	p6, #^x23, r3
                  [000200]  1839  	bne	r3, trap__emul_ldt		; branch for ldt
                  [000200]  1840  
                  [000200]  1841  	cmpeq	p6, #^x24, r2
                  [000200]  1842  	bne	r2, trap__emul_stf		; branch for stf
                  [000200]  1843  	cmpeq	p6, #^x25, r3
                  [000200]  1844  	bne	r3, trap__emul_stg		; branch for stg
                  [000200]  1845  	cmpeq	p6, #^x26, r2
                  [000200]  1846  	bne	r2, trap__emul_sts		; branch for sts
                  [000200]  1847  	cmpeq	p6, #^x27, r3
                  [000200]  1848  	beq	r3, trap__pal_exc_bugcheck	; bugcheck if not stt
                  [000200]  1849  	br	r31, trap__emul_stt		; fall through for stt
                  [000200]  1850  ;
                  [000200]  1851  ; Do load or store.
                  [000200]  1852  ;	r8	memory address
                  [000200]  1853  ;	r9	impure area + fpr offset
                  [000200]  1854  ;
                  [000200]  1855  
                  [000200]  1856  ;
                  [000200]  1857  ; LDF
                  [000200]  1858  ;
                  [000200]  1859  trap__emul_ldf:
                  [000200]  1860  	ldl	r0, 0(r8)		; load from memory (may fault)
                  [000200]  1861  	extwl   r0, #2, r1		; <31:16> -> r1
                  [000200]  1862  	inswl	r0, #2, r0		; <15:0> << 16 -> r0
                  [000200]  1863          addq	r0, r1, r0
                  [000200]  1864  	sll	r0, #41, r1		; shift out all but fraction bits
                  [000200]  1865  	srl	r1, #12, r1		; shift fraction bits inplace
                  [000200]  1866          addq	r31, #^x070, r16
                  [000200]  1867          srl	r0, #30, r19		; shift out all but sign and bias
                  [000200]  1868          sll	r19, #62, r19		; move into correct place
                  [000200]  1869          srl	r0, #23, r0
                  [000200]  1870          addq	r1, r19, r1		; insert sign and bias
                  [000200]  1871          and	r0, #255, r0		; clear all but exp
                  [000200]  1872  	cmoveq	r0, #0, r16		; clear map
                  [000200]  1873  	cmpult	r0, #^x80, r19		; test for small exp
                  [000200]  1874  	cmpeq	r0, #^xff, r17		; check for Nan and Inf
                  [000200]  1875  	bic	r19, r17, r19		; r19 and ~r17
                  [000200]  1876  	cmoveq	r19, #0, r16		; clear map
                  [000200]  1877          and	r0, #^x7f, r0		; clear all but exp
                  [000200]  1878          s8addq	r16, r0, r16
                  [000200]  1879  	sll	r16, #52, r16
                  [000200]  1880          addq	r16, r1, r0		; merge it
                  [000200]  1881  	hw_stq/p r0, CNS__F0_EMUL(r9)	; write to our register file
                  [000200]  1882  	br	r31, trap__emul_ldst_done
                  [000200]  1883  ;
                  [000200]  1884  ; LDG
                  [000200]  1885  ;
                  [000200]  1886  trap__emul_ldg:
                  [000200]  1887  	ldq	r0, 0(r8)		; load from memory (may fault)
                  [000200]  1888  	sll	r0, #48, r1		; <15:0> -> <63:48>
                  [000200]  1889  	srl	r0, #48, r16		; <63:48> -> <15:0>
                  [000200]  1890  	extwl	r0, #2,	r17		; <31:16> -> r17
                  [000200]  1891  	addq	r1, r16, r1		; <63:48> + <15:0>
                  [000200]  1892  	inswl	r17, #4, r16		; <31:16> -> <47:32>
                  [000200]  1893  	extwl	r0, #4,	r17		; <47:32> -> r17
                  [000200]  1894  	addq	r1, r16, r1		; <63:48> + <47:32> + <15:0> 
                  [000200]  1895  	inswl	r17, #2, r0		; <47:32> -> <31:16>
                  [000200]  1896  	addq	r1, r0, r0		; <63:48> + <47:32> + <31:16> + <15:0>
                  [000200]  1897  	hw_stq/p r0, CNS__F0_EMUL(r9)	; write to our register file
                  [000200]  1898  	br	r31, trap__emul_ldst_done
                  [000200]  1899  ;
                  [000200]  1900  ; LDS
                  [000200]  1901  ;
                  [000200]  1902  trap__emul_lds:
                  [000200]  1903  	ldl	r0, 0(r8)		; load from user memory
                  [000200]  1904  	sll	r0, #41, r1		; shift out all but fraction bits
                  [000200]  1905  	srl	r1, #12, r1		; shift fraction bits inplace
                  [000200]  1906  	addq	r31, #^x70, r16	
                  [000200]  1907  	srl	r0, #30, r19		; shift out all but sign and bias
                  [000200]  1908  	sll	r19, #62, r19		; move into correct place
                  [000200]  1909  	srl	r0, #23, r0
                  [000200]  1910  	addq	r1, r19, r1		; insert sign and bias
                  [000200]  1911  	and	r0, #255, r0		; clear all but exp
                  [000200]  1912  	cmoveq	r0, #0, r16		; clear map
                  [000200]  1913  	cmpult	r0, #^x80, r19		; test for small exp
                  [000200]  1914  	cmpeq	r0, #^xff, r17		; check for Nan and Inf
                  [000200]  1915  	bis	r17, r19, r19		; or result
                  [000200]  1916  	cmoveq	r19, #0, r16		; clear map
                  [000200]  1917  	and	r0, #^x7f, r0		; clear all but exp
                  [000200]  1918  	s8addq	r16, r0, r16
                  [000200]  1919  	sll	r16, #52, r16
                  [000200]  1920  	addq	r16, r1, r0		; merge it
                  [000200]  1921  	hw_stq/p r0, CNS__F0_EMUL(r9)	; write to our register file
                  [000200]  1922  	br	r31, trap__emul_ldst_done
                  [000200]  1923  ;
                  [000200]  1924  ; LDT
                  [000200]  1925  ;
                  [000200]  1926  trap__emul_ldt:
                  [000200]  1927  	ldq	r0, 0(r8)		; load from memory (may fault)
                  [000200]  1928  	hw_stq/p r0, CNS__F0_EMUL(r9)	; write to our register file
                  [000200]  1929  	br	r31, trap__emul_ldst_done
                  [000200]  1930  
                  [000200]  1931  ;
                  [000200]  1932  ; STF
                  [000200]  1933  ;
                  [000200]  1934  trap__emul_stf:
                  [000200]  1935  	hw_ldq/p r0, CNS__F0_EMUL(r9)	; read from our register file
                  [000200]  1936  	sll	r0, #5, r1		; shift out all but fraction bits
                  [000200]  1937  	srl	r1, #34, r1		; shift fraction bits inplace
                  [000200]  1938  	srl	r0, #62, r0		; shift out all but fraction bits
                  [000200]  1939  	sll	r0, #30, r0
                  [000200]  1940  	addq	r0, r1, r0
                  [000200]  1941  	extwl	r0, #2, r1		; <31:16> -> r1
                  [000200]  1942  	inswl	r0, #2, r0		; <15:0> << 16 -> r0
                  [000200]  1943  	addq	r0, r1, r0
                  [000200]  1944  trap__emul_stf_s:
                  [000200]  1945  	stl	r0, 0(r8)		; store it in to memory (may fault)
                  [000200]  1946  	br	r31, trap__emul_ldst_done
                  [000200]  1947  ;
                  [000200]  1948  ; STG
                  [000200]  1949  ;
                  [000200]  1950  trap__emul_stg:
                  [000200]  1951  	hw_ldq/p r0, CNS__F0_EMUL(r9)	; read from our register file
                  [000200]  1952  	sll	r0, #48, r1		; <15:0> -> <63:48>
                  [000200]  1953  	srl	r0, #48, r16		; <63:48> -> <15:0>
                  [000200]  1954  	extwl	r0, #2,	r17		; <31:16> -> r17
                  [000200]  1955  	addq	r1, r16, r1		; <63:48> + <15:0>
                  [000200]  1956  	inswl	r17, #4, r16		; <31:16> -> <47:32>
                  [000200]  1957  	extwl	r0, #4,	r17		; <47:32> -> r17
                  [000200]  1958  	addq	r1, r16, r1		; <63:48> + <47:32> + <15:0> 
                  [000200]  1959  	inswl	r17, #2, r0		; <47:32> -> <31:16>
                  [000200]  1960  	addq	r1, r0, r0		; <63:48> + <47:32> + <31:16> + <15:0>
                  [000200]  1961  trap__emul_stg_s:
                  [000200]  1962  	stq	r0, 0(r8)		; store it in memory (may fault)
                  [000200]  1963  	br	r31, trap__emul_ldst_done
                  [000200]  1964  ;
                  [000200]  1965  ; STS
                  [000200]  1966  ;
                  [000200]  1967  trap__emul_sts:
                  [000200]  1968  	hw_ldq/p r0, CNS__F0_EMUL(r9)	; read from our register file
                  [000200]  1969  	sll	r0, #5, r1		; shift out all but fraction bits
                  [000200]  1970  	srl	r1, #34, r1		; shift fraction bits in place
                  [000200]  1971  	srl	r0, #62, r0		; shift out all but fraction bits
                  [000200]  1972  	sll	r0, #30, r0
                  [000200]  1973  	addq	r0, r1, r0
                  [000200]  1974  trap__emul_sts_s:
                  [000200]  1975  	stl	r0, 0(r8)		; store in user memory (may fault)
                  [000200]  1976  	br	r31, trap__emul_ldst_done
                  [000200]  1977  ;
                  [000200]  1978  ; STT
                  [000200]  1979  ;
                  [000200]  1980  trap__emul_stt:
                  [000200]  1981  	hw_ldq/p r0, CNS__F0_EMUL(r9)	; read from our register file
                  [000200]  1982  trap__emul_stt_s:
                  [000200]  1983  	stq	r0, 0(r8)		; store in user memory (may fault)
                  [000200]  1984  	br	r31, trap__emul_ldst_done
                  [000200]  1985  ;
                  [000200]  1986  ; Load/Store Done.
                  [000200]  1987  ;
                  [000200]  1988  trap__emul_ldst_done:
                  [000200]  1989  	hw_ldq/p p4, PT__IMPURE(p_temp)		; get base of impure area
                  [000200]  1990  	hw_ldq/p p6, CNS__FP_PC(p4)		; get pc back
                  [000200]  1991  	addq	p6, #4, p6			; point to next instruction
                  [000200]  1992  	hw_stq/p p6, CNS__FP_PC(p4)		; write back to save location
                  [000200]  1993  	br	r31, trap__emul_done
                  [000200]  1994  
                  [000200]  1995  
                  [000200]  1996  ;+
                  [000200]  1997  ; Done emulation. Restore and go back to user.
                  [000200]  1998  ; Current state:
                  [000200]  1999  ;	p4	base of impure area
                  [000200]  2000  ;	p20	unaligned flag
                  [000200]  2001  ;
                  [000200]  2002  ;	Get out of shadow mode.
                  [000200]  2003  ;	Restore overshadowed registers.
                  [000200]  2004  ;	Get back into shadow mode.
                  [000200]  2005  ;	Restore the rest of the registers.
                  [000200]  2006  ;	Return to user.
                  [000200]  2007  ;-
                  [000200]  2008  trap__emul_done:
                  [000200]  2009  	bis	p4, r31, r1			; impure base into r1
                  [000200]  2010  	PVC_JSR	emul_restore, bsr=1
                  [000200]  2011  	bsr	r3, trap__emul_restore		; restore GPRs except r0-r3
                  [000200]  2012  ;
                  [000200]  2013  ; Now restore the rest of the GPRs.;
                  [000200]  2014  ;
                  [000200]  2015  	hw_ldq/p r0, CNS__R0_EMUL(p4)		; restore r0
                  [000200]  2016  	hw_ldq/p r1, CNS__R1_EMUL(p4)		; restore r1
                  [000200]  2017  	hw_ldq/p r2, CNS__R2_EMUL(p4)		; restore r2
                  [000200]  2018  	hw_ldq/p r3, CNS__R3_EMUL(p4)		; restore r3
                  [000200]  2019  ;
                  [000200]  2020  ; Return to user.
                  [000200]  2021  ;
                  [000200]  2022  	hw_ldq/p p23, CNS__FP_PC(p4)		; get nextpc
                  [000200]  2023  	hw_ret (p23)				; return to user
                  [000200]  2024  
                  [000200]  2025  ;+
                  [000200]  2026  ; Subroutine to restore GPRs.
                  [000200]  2027  ;	p4	pointer to impure area
                  [000200]  2028  ;	r1	pointer to impure area
                  [000200]  2029  ;	r3	return address
                  [000200]  2030  ;
                  [000200]  2031  ; Do not touch shadow registers.
                  [000200]  2032  ;-
                  [000200]  2033  	ALIGN_FETCH_BLOCK
                  [000200]  2034  
                  [000200]  2035  trap__emul_restore:
                  [000200]  2036  	hw_mfpr	r2, EV6__I_CTL			; (4,0L) get i_ctl
                  [000200]  2037  	bic	r2, #<2@EV6__I_CTL__SDE__S>, r2	; zap sde
                  [000200]  2038  	hw_ldq/p r8, CNS__R8_EMUL(r1)		; restore gpr
                  [000200]  2039  	hw_ldq/p r9, CNS__R9_EMUL(r1)		; restore gpr
                  [000200]  2040  
                  [000200]  2041  	hw_mtpr	r2, EV6__I_CTL			; (4,0L) write i_ctl
                  [000200]  2042  	hw_ldq/p r10, CNS__R10_EMUL(r1)		; restore gpr
                  [000200]  2043  	hw_ldq/p r11, CNS__R11_EMUL(r1)		; restore gpr
                  [000200]  2044  	hw_ldq/p r12, CNS__R12_EMUL(r1)		; restore gpr
                  [000200]  2045  
                  [000200]  2046  	hw_mtpr	r2, EV6__I_CTL			; stall outside IQ
                  [000200]  2047  	hw_ldq/p r13, CNS__R13_EMUL(r1)		; restore gpr
                  [000200]  2048  	hw_ldq/p r14, CNS__R14_EMUL(r1)		; restore gpr
                  [000200]  2049  	hw_ldq/p r15, CNS__R15_EMUL(r1)		; restore gpr
                  [000200]  2050  
                  [000200]  2051  	hw_ldq/p r16, CNS__R16_EMUL(r1)		; buffer block 1 -- restore gpr
                  [000200]  2052  	hw_ldq/p r17, CNS__R17_EMUL(r1)		; restore gpr
                  [000200]  2053  	hw_ldq/p r18, CNS__R18_EMUL(r1)		; restore gpr
                  [000200]  2054  	hw_ldq/p r19, CNS__R19_EMUL(r1)		; restore gpr
                  [000200]  2055  
                  [000200]  2056  	hw_ldq/p r24, CNS__R24_EMUL(r1)		; buffer block 2 -- restore gpr
                  [000200]  2057  	hw_ldq/p r25, CNS__R25_EMUL(r1)		; restore gpr
                  [000200]  2058  	hw_ldq/p r26, CNS__R26_EMUL(r1)		; restore gpr
                  [000200]  2059  	hw_ldq/p r27, CNS__R27_EMUL(r1)		; restore gpr
                  [000200]  2060  
                  [000200]  2061  	hw_ldq/p r28, CNS__R28_EMUL(r1)		; buffer block 3 -- restore gpr
                  [000200]  2062  	hw_ldq/p r29, CNS__R29_EMUL(r1)		; restore gpr
                  [000200]  2063  	hw_ldq/p r30, CNS__R30_EMUL(r1)		; restore gpr
                  [000200]  2064  	bis	r31, r31, r31
                  [000200]  2065  
                  [000200]  2066  	hw_ldq/p r4, CNS__R4_EMUL(r1)		; restore gpr
                  [000200]  2067  	hw_ldq/p r5, CNS__R5_EMUL(r1)		; restore gpr
                  [000200]  2068  	hw_ldq/p r6, CNS__R6_EMUL(r1)		; restore gpr
                  [000200]  2069  	hw_ldq/p r7, CNS__R7_EMUL(r1)		; restore gpr
                  [000200]  2070  
                  [000200]  2071  	hw_ldq/p r20, CNS__R20_EMUL(r1)		; restore gpr
                  [000200]  2072  	hw_ldq/p r21, CNS__R21_EMUL(r1)		; restore gpr
                  [000200]  2073  	hw_ldq/p r22, CNS__R22_EMUL(r1)		; restore gpr
                  [000200]  2074  	hw_ldq/p r23, CNS__R23_EMUL(r1)		; restore gpr
                  [000200]  2075  ;
                  [000200]  2076  ; Now turn shadow mode back on.
                  [000200]  2077  ;
                  [000200]  2078  	bis	r2, #<2@EV6__I_CTL__SDE__S>, r2	; enable sde
                  [000200]  2079  	hw_mtpr	r2, EV6__I_CTL			; (4,0L) write i_ctl
                  [000200]  2080  	bis	r31, r31, r31
                  [000200]  2081  	bis	r31, r31, r31
                  [000200]  2082  
                  [000200]  2083  	hw_mtpr	r2, EV6__I_CTL			; (4,0L) stall outside IQ
                  [000200]  2084  	bis	r31, r31, r31
                  [000200]  2085  	bis	r31, r31, r31
                  [000200]  2086  	bis	r31, r31, r31
                  [000200]  2087  
                  [000200]  2088  	bis	r0, r0, r0			; buffer block 1
                  [000200]  2089  	bis	r31, r31, r31
                  [000200]  2090  	bis	r31, r31, r31
                  [000200]  2091  	bis	r31, r31, r31
                  [000200]  2092  
                  [000200]  2093  	bis	r0, r0, r0			; buffer block 2
                  [000200]  2094  	bis	r31, r31, r31
                  [000200]  2095  	bis	r31, r31, r31
                  [000200]  2096  	bis	r31, r31, r31
                  [000200]  2097  
                  [000200]  2098  	bis	r0, r0, r0			; buffer block 3
                  [000200]  2099  	bis	r31, r31, r31
                  [000200]  2100  	bis	r31, r31, r31
                  [000200]  2101  	bis	r31, r31, r31
                  [000200]  2102  
                  [000200]  2103  	bis	r3, #1, r3			; return in pal mode
                  [000200]  2104  	PVC_JSR emul_restore, bsr=1, dest=1
                  [000200]  2105  	hw_ret_stall (r3)			; stall for pvc
                  [000200]  2106  
                  [000200]  2107  ;+
                  [000200]  2108  ; Load/Store operand dfault.
                  [000200]  2109  ;
                  [000200]  2110  ; We need to restore GPRs. Then we need to set up for an exception.
                  [000200]  2111  ;
                  [000200]  2112  ; Current register state:
                  [000200]  2113  ;	p5		mm_stat
                  [000200]  2114  ;	p6		pc of palcode instruction
                  [000200]  2115  ;	p7		available
                  [000200]  2116  ;
                  [000200]  2117  ;	r25		will be restored as part of gpr restore
                  [000200]  2118  ;	r26		will be restored as part of gpr restore
                  [000200]  2119  ;
                  [000200]  2120  ;	CNS__FP_PC	user pc
                  [000200]  2121  ;
                  [000200]  2122  ;	VA		faulting VA
                  [000200]  2123  ;-
                  [000200]  2124  trap__emul_ldst_dfault:
                  [000200]  2125  	hw_ldq/p p4, PT__IMPURE(p_temp)		; impure base into p4
                  [000200]  2126  	bis	p4, r31, r1			; also put it into r1
                  [000200]  2127  	PVC_JSR	emul_restore, bsr=1
                  [000200]  2128  	bsr	r3, trap__emul_restore		; restore all but r0-r3
                  [000200]  2129  ;
                  [000200]  2130  ; Now restore the rest of the GPRs.
                  [000200]  2131  ;
                  [000200]  2132  	hw_ldq/p r0, CNS__R0_EMUL(p4)		; restore r0
                  [000200]  2133  	hw_ldq/p r1, CNS__R1_EMUL(p4)		; restore r1
                  [000200]  2134  	hw_ldq/p r2, CNS__R2_EMUL(p4)		; restore r2
                  [000200]  2135  	hw_ldq/p r3, CNS__R3_EMUL(p4)		; restore r3
                  [000200]  2136  ;
                  [000200]  2137  ; Now restore restore pc to p6, and merge with dfault code
                  [000200]  2138  ;
                  [000200]  2139  	hw_ldq/p p6, CNS__FP_PC(p4)		; get back user pc
                  [000200]  2140  	br	r31, trap__dfault_no_dismiss	; merge to post
                  [000200]  2141  
                  [000200]  2142  ;+
                  [000200]  2143  ; Load/Store operand tnv.
                  [000200]  2144  ;
                  [000200]  2145  ; We need to restore GPRs. Then we need to set up for an exception.
                  [000200]  2146  ;
                  [000200]  2147  ; Current register state:
                  [000200]  2148  ;	p4		PTE
                  [000200]  2149  ;	p5		mm_stat
                  [000200]  2150  ;	p6		va
                  [000200]  2151  ;	p7		exc_sum
                  [000200]  2152  ;
                  [000200]  2153  ;	r25		will be restored as part of gpr restore
                  [000200]  2154  ;	r26		will be restored as part of gpr restore
                  [000200]  2155  ;
                  [000200]  2156  ;	CNS__FP_PC	user pc
                  [000200]  2157  ;-
                  [000200]  2158  trap__emul_ldst_tnv:
                  [000200]  2159  	hw_ldq/p p23, PT__IMPURE(p_temp)	; impure base into p23
                  [000200]  2160  	bis	p23, r31, r1			; also put it into r1
                  [000200]  2161  	PVC_JSR	emul_restore, bsr=1
                  [000200]  2162  	bsr	r3, trap__emul_restore		; restore all but r0-r3
                  [000200]  2163  ;
                  [000200]  2164  ; Now restore the rest of the GPRs.
                  [000200]  2165  ;
                  [000200]  2166  	hw_ldq/p r0, CNS__R0_EMUL(p23)		; restore r0
                  [000200]  2167  	hw_ldq/p r1, CNS__R1_EMUL(p23)		; restore r1
                  [000200]  2168  	hw_ldq/p r2, CNS__R2_EMUL(p23)		; restore r2
                  [000200]  2169  	hw_ldq/p r3, CNS__R3_EMUL(p23)		; restore r3
                  [000200]  2170  ;
                  [000200]  2171  ; Now restore restore pc to p6, and merge with dfault code
                  [000200]  2172  ;
                  [000200]  2173  	hw_ldq/p p23, CNS__FP_PC(p23)			; get back user pc
                  [000200]  2174  	br	r31, trap__invalid_dpte_no_dismiss	; merge to post
                  [000200]  2175  
                  [000200]  2176  ;+
                  [000200]  2177  ; Load/Store operand unalign
                  [000200]  2178  ;
                  [000200]  2179  ; We need to restore GPRs. Then we need to set up for an exception.
                  [000200]  2180  ;
                  [000200]  2181  ; Current register state:
                  [000200]  2182  ;	p5		va
                  [000200]  2183  ;	p6		mm_stat
                  [000200]  2184  ;	p7		exc_sum
                  [000200]  2185  ;	p23		exc_addr in PALcode
                  [000200]  2186  ;
                  [000200]  2187  ;	r10		fa -- move to p7
                  [000200]  2188  ;	r11		opcode -- move to proper spot in p6
                  [000200]  2189  ;-
                  [000200]  2190  trap__emul_ldst_unalign:
                  [000200]  2191  	bis	r10, r31, p7				; register number
                  [000200]  2192  	sll	r11, #EV6__MM_STAT__OPCODE__S, p6	; opcode
                  [000200]  2193  
                  [000200]  2194  	hw_ldq/p p4, PT__IMPURE(p_temp)		; impure base into p4
                  [000200]  2195  	bis	p4, r31, r1			; also put it into r1
                  [000200]  2196  	PVC_JSR	emul_restore, bsr=1
                  [000200]  2197  	bsr	r3, trap__emul_restore		; restore all but r0-r3
                  [000200]  2198  ;
                  [000200]  2199  ; Now restore the rest of the GPRs.
                  [000200]  2200  ;
                  [000200]  2201  	hw_ldq/p r0, CNS__R0_EMUL(p4)		; restore r0
                  [000200]  2202  	hw_ldq/p r1, CNS__R1_EMUL(p4)		; restore r1
                  [000200]  2203  	hw_ldq/p r2, CNS__R2_EMUL(p4)		; restore r2
                  [000200]  2204  	hw_ldq/p r3, CNS__R3_EMUL(p4)		; restore r3
                  [000200]  2205  ;
                  [000200]  2206  ; Now take an unalign exception.
                  [000200]  2207  ; Current state:
                  [000200]  2208  ;	p4		base of impure area
                  [000200]  2209  ;	p5		va
                  [000200]  2210  ;	p6		"mm_stat" with opcode from r11
                  [000200]  2211  ;	p7		register number from from r10
                  [000200]  2212  ;
                  [000200]  2213  	hw_ldq/p p23, CNS__FP_PC(p4)		; get pc back
                  [000200]  2214  	addq	p23, #4, p23			; bump to nextpc
                  [000200]  2215  
                  [000200]  2216  	br	r31, trap__unalign_nodismiss	; merge with unalign code
                  [000200]  2217  
                  [000200]  2218  ;+
                  [000200]  2219  ; Operates and branches are passed to emulator.
                  [000200]  2220  ; Current state:
                  [000200]  2221  ;	GPRs have been saved.
                  [000200]  2222  ;	CNS__FP_PC	pc
                  [000200]  2223  ;	p5		instruction
                  [000200]  2224  ;
                  [000200]  2225  ; Map a 4MB chunck of virtual to physical.
                  [000200]  2226  ; NOTE: The impure area has to be in the same naturally aligned 4mb chunk!!!
                  [000200]  2227  ;-
                  [000200]  2228  .if ndf PAL__EMUL_BASE
                  [000200]  2229  	PAL__EMUL_BASE = ^xE0000
                  [000200]  2230  .endc
                  [000200]  2231  
                  [000200]  2232  	ALIGN_FETCH_BLOCK
                  [000200]  2233  trap__emul_emul:
                  [000200]  2234  	subq	r31, #1, r8			; get a -1
                  [000200]  2235  	srl	r8, #42, r8			; shift off low bits of kseg addr
                  [000200]  2236  	sll	r8, #42, r8			; shift back into position
                  [000200]  2237  
                  [000200]  2238  	br	r1, trap__emul_entry
                  [000200]  2239  	.long	PAL__EMUL_BASE			; transfer address
                  [000200]  2240  trap__emul_entry:
                  [000200]  2241  	hw_ldl/p r27, 0(r1)			; get transfer address
                  [000200]  2242  	bis	r27, r8, r27			; transfer address as kseg
                  [000200]  2243  
                  [000200]  2244  	ALIGN_FETCH_BLOCK <^x47FF041F>
                  [000200]  2245  	hw_mfpr	r16, EV6__IER_CM		; (4,0L) get old IER_CM
                  [000200]  2246  	hw_ldq/p p4, PT__IMPURE(p_temp)		; get impure base
                  [000200]  2247  	hw_stq/p r16, CNS__IER_CM(p4)		; save old IER_CM
                  [000200]  2248  	bis	p4, r8, p4			; impure area as kseg
                  [000200]  2249  
                  [000200]  2250  	ASSUME_FETCH_BLOCK
                  [000200]  2251  	hw_mtpr r31, EV6__IER_CM		; (4,0L) ints off, cm=kernel
                  [000200]  2252  	bis	p5, r31, r16			; instruction
                  [000200]  2253  	bis	p4, r31, r17			; pointer to impure area
                  [000200]  2254  	bis	r31, r31, r31
                  [000200]  2255  
                  [000200]  2256  	ASSUME_FETCH_BLOCK
                  [000200]  2257  	lda	p6,^x400(r31)			; get a ^x400
                  [000200]  2258  	hw_ldq/p p4, PT__WHAMI(p_temp)		; get whami
                  [000200]  2259  	mulq	p4, p6, p6			; whami * ^x400
                  [000200]  2260  	subq	r27, p6, r30			; set top of stack to be kseg
                  [000200]  2261  						;   xfer addr - (whami * ^x400)
                  [000200]  2262  
                  [000200]  2263  kseg_offset = <trap__emul_kseg_done - trap__emul_kseg>
                  [000200]  2264  
                  [000200]  2265  	ASSUME_FETCH_BLOCK
                  [000200]  2266  	bis	r31, r31, r31
                  [000200]  2267  	bis	r31, r31, r31
                  [000200]  2268  	bis	r31, r31, r31
                  [000200]  2269  	br	r1, trap__emul_kseg
                  [000200]  2270  
                  [000200]  2271  	ASSUME_FETCH_BLOCK
                  [000200]  2272  trap__emul_kseg: 
                  [000200]  2273  	addq	r1, #<kseg_offset>, r1
                  [000200]  2274  	bis	r1, r8, r1			; ret as native mode kernel kseg
                  [000200]  2275  	bsr	r31, .				; push prediction stack
                  [000200]  2276  	PVC_JSR emul_kseg
                  [000200]  2277  	hw_ret_stall (r1)			; pop prediction stack
                  [000200]  2278  	PVC_JSR emul_kseg, dest=1
                  [000200]  2279  
                  [000200]  2280  trap__emul_kseg_done:
                  [000200]  2281  
                  [000200]  2282  ;
                  [000200]  2283  ; Now we are in native kernel kseg
                  [000200]  2284  ;
                  [000200]  2285  	ASSUME_FETCH_BLOCK
                  [000200]  2286  	PVC_VIOLATE <29>
                  [000200]  2287  	PVC_VIOLATE <1007>
                  [000200]  2288  	jsr	r26, (r27)			; jsr to emulator
                  [000200]  2289  ;
                  [000200]  2290  ; Return from emulation.
                  [000200]  2291  ; We are still in native kernel kseg mode.
                  [000200]  2292  ;	r0		return status
                  [000200]  2293  ;	CNS__FP_PC	updated pc
                  [000200]  2294  ;	CNS__FPCR	updated
                  [000200]  2295  ;	CNS__EXC_SUM	exception information
                  [000200]  2296  ;
                  [000200]  2297  trap__emul_return:				; return in non-pal mode
                  [000200]  2298  	lda	r16, ^xBAC(r31)			; flag to call_pal
                  [000200]  2299  	.long	^x3B				; pop back into pal mode
                  [000200]  2300  ;
                  [000200]  2301  ; Now restore IER_CM
                  [000200]  2302  ;
                  [000200]  2303  	hw_ldq/p p4, PT__IMPURE(p_temp)		; get base of impure area
                  [000200]  2304  	hw_ldq/p r16, CNS__IER_CM(p4)		; get old IER_CM back
                  [000200]  2305  	bis	r31, r31, p20			; zap unalign flag
                  [000200]  2306  	hw_mtpr	r16, EV6__IER_CM		; (4,0L) restore IER_CM
                  [000200]  2307  ;
                  [000200]  2308  ; Check r0 for status.
                  [000200]  2309  ;	r0	 0	success
                  [000200]  2310  ;		-1	arith trap
                  [000200]  2311  ;		-2	opcdec
                  [000200]  2312  ;		-4	fen (FEN from OPCDEC with FPE_STATE clear)
                  [000200]  2313  ;
                  [000200]  2314  	bne	r0, trap__emul_arith		; branch for arith or opcdec
                  [000200]  2315  	br	r31, trap__emul_done		; restore registers and return
                  [000200]  2316  
                  [000200]  2317  ;+
                  [000200]  2318  ; Arithmetic exception or opcdec or fen during emulation.
                  [000200]  2319  ;	Restore state. Merge with appropriate flow.
                  [000200]  2320  ;	Emulator left FP_PC as current pc.
                  [000200]  2321  ;-
                  [000200]  2322  trap__emul_arith:
                  [000200]  2323  	bis	r0, r31, p5			; save status
                  [000200]  2324  	bis	p4, r31, r1			; impure base into r1
                  [000200]  2325  	PVC_JSR	emul_restore, bsr=1
                  [000200]  2326  	bsr	r3, trap__emul_restore		; restore all but r0-r3
                  [000200]  2327  ;
                  [000200]  2328  ; Now restore the rest of the GPRs.
                  [000200]  2329  ;
                  [000200]  2330  	hw_ldq/p r0, CNS__R0_EMUL(p4)		; restore r0
                  [000200]  2331  	hw_ldq/p r1, CNS__R1_EMUL(p4)		; restore r1
                  [000200]  2332  	hw_ldq/p r2, CNS__R2_EMUL(p4)		; restore r2
                  [000200]  2333  	hw_ldq/p r3, CNS__R3_EMUL(p4)		; restore r3
                  [000200]  2334  ;
                  [000200]  2335  ; Current state:
                  [000200]  2336  ;	p4	base of impure area
                  [000200]  2337  ;	p5	status
                  [000200]  2338  ;		-1	arith trap
                  [000200]  2339  ;		-2	opcdec
                  [000200]  2340  ;		-4	fen (FPE_STATE clear)
                  [000200]  2341  ;
                  [000200]  2342  	hw_ldq/p p23, CNS__FP_PC(p4)		; get PC back
                  [000200]  2343  	blbc	p5, trap__emul_opcdec_or_fen	; branch for opcdec or fen
                  [000200]  2344  
                  [000200]  2345  	hw_ldq/p p7, CNS__EXC_SUM(p4)		; get emulated exc_sum
                  [000200]  2346  	br	r31, trap__arith_merge		; merge with arithmetic
                  [000200]  2347  ;
                  [000200]  2348  ; 
                  [000200]  2349  ; Opcdec
                  [000200]  2350  ;	or
                  [000200]  2351  ; Fen (FEN from OPCDEC with FPE_STATE clear)
                  [000200]  2352  ;	p5	-2	opcdec
                  [000200]  2353  ;		-4	fen (FEN from OPCDEC with FPE_STATE clear)
                  [000200]  2354  ;
                  [000200]  2355  ;	p23		user pc
                  [000200]  2356  ;
                  [000200]  2357  trap__emul_opcdec_or_fen:
                  [000200]  2358  	srl	p5, #1, p5			; shift to determine which
                  [000200]  2359  	blbc	p5, trap__emul_fen		; branch for fen
                  [000200]  2360  	br	r31, trap__opcdec_merge		; take opcdec
                  [000200]  2361  
                  [000200]  2362  .iff
                  [000200]  2363  	hw_mfpr	p23, EV6__EXC_ADDR			; (0L) save exc_addr
                  [000200]  2364  	NOP						; no conditional br
                  [000200]  2365  	NOP						;	in 1st block
                  [000200]  2366  	NOP
                  [000200]  2367  .endc
         66FF0600 [000200]  2363I 	hw_mfpr	p23, EV6__EXC_ADDR			; (0L) save exc_addr
                  [000204]  2364I 	NOP						; no conditional br
File: ev6_pal_macros.mar
         47FF041F [000204]   278i 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [000208]  2365I 	NOP						;	in 1st block
File: ev6_pal_macros.mar
         47FF041F [000208]   278i 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00020C]  2366I 	NOP
File: ev6_pal_macros.mar
         47FF041F [00020C]   278i 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [000210]  2368  
                  [000210]  2369  trap__emul_fen:						; take real fen
                  [000210]  2370  
         F2E000C6 [000210]  2371  	blbs	p23, trap__pal_exc_bugcheck		; mchk if fen within pal
                  [000214]  2372  
         46C11004 [000214]  2373  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         46C1F014 [000218]  2374  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4800008 [00021C]  2375  	beq	p4, trap__fen_stack			; skip switch if kernel
                  [000220]  2376  ;
                  [000220]  2377  ; Switch to kernel mode. 
                  [000220]  2378  ;
                  [000220]  2379  fen_cm_offset = <trap__fen_stack - trap__fen_cm>
                  [000220]  2380  
         7FD51020 [000220]  2381  	hw_stq/p r30, PT__USP(p_temp)			; save user SP
         6FD51018 [000224]  2382  	hw_ldq/p r30, PT__KSP(p_temp)			; get kernel SP
         46C1F116 [000228]  2383  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; cm=0, ipl=0
                  [00022C]  2384  
         C0C00000 [00022C]  2385  	br	p6, trap__fen_cm			; change mode to kernel
                  [000230]  2386  trap__fen_cm:
         40C23406 [000230]  2387  	addq	p6, #<fen_cm_offset+1>, p6		; jump past in palmode
         77FF0910 [000234]  2388  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [000238]  2389  	bsr	r31, .					; push prediction stack
                  [00023C]  2390  	PVC_JSR	fen_cm					; synch up
File: ev6_pal_macros.mar
                  [00023C]   526i  pvc_lbl \pcv_index, \pcv_jsr_fen_cm0, osf
File: ev6_osf_pal.mar
         7BE6A000 [00023C]  2391  	hw_ret_stall (p6)				; pop prediction stack
                  [000240]  2392  	PVC_JSR	fen_cm, dest=1
File: ev6_pal_macros.mar
                  [000240]   529i  pvc_lbl \pcv_index, \pcv_jsr_fen_cm0, osf, \pcv_jsr_fen_cm0_inst
File: ev6_osf_pal.mar
                  [000240]  2393  ;
                  [000240]  2394  ; Take the trap. Be careful of tb miss!
                  [000240]  2395  ; Current state:
                  [000240]  2396  ;	p_misc__ps	if we were in kernel, original ps
                  [000240]  2397  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [000240]  2398  ;	p20		original ps
                  [000240]  2399  ;	p23		pc
                  [000240]  2400  ;
                  [000240]  2401  trap__fen_stack:
         7EF51098 [000240]  2402  	hw_stq/p p23, PT__STACK_PC(p_temp)		; store away pc
                  [000244]  2403  
         23DEFFD0 [000244]  2404  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [000248]  2405  
         B69E0000 [000248]  2406  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [00024C]  2407  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [000250]  2408  
         6E951098 [000250]  2409  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get pc back
                  [000254]  2410  
         B7BE0010 [000254]  2411  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [000258]  2412  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [00025C]  2413  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [000260]  2414  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save pc
                  [000264]  2415  
                  [000264]  2416  .if ne srom_debug_io*debug_err
                  [000264]  2417  
                  [000264]  2418  	CONT_HW_VECTOR <FEN>                            ; a little more space
                  [000264]  2419  
                  [000264]  2420  	GET_32CONS      r16, ^x494E5346, r31            ; "INSFAULT"
                  [000264]  2421  	sll             r16, #32, r16
                  [000264]  2422  	GET_32CONS      r16, ^x41554C54, r16            ;
                  [000264]  2423  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [000264]  2424  
                  [000264]  2425  	bis             p23, r31, r16                   ; dump faulting PC
                  [000264]  2426  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [000264]  2427  .endc							; srom_debug_io
                  [000264]  2428  
         6EF51048 [000264]  2429  	hw_ldq/p p23, PT__ENT_IF(p_temp)		; get entry point
         6FB51028 [000268]  2430  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         47E07410 [00026C]  2431  	bis	r31, #OSF_A0__FEN, r16			; set a0 
                  [000270]  2432  
         7BF78000 [000270]  2433  	hw_ret	(p23)					; to os
                  [000274]  2434  
                  [000274]  2435  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [000274]    52i         ASSUME <.-_start_of_last_vec> le <^x80>
                  [000274]    56M         GOTO_FREE_CODE
                  [0040C0]    62M     .align 6
File: ev6_osf_pal.mar
                  [0040C0]  2436  
                  [0040C0]  2437  
                  [0040C0]  2438  ;------------------------------------------------------------------------
                  [0040C0]  2439  ;+
                  [0040C0]  2440  ; UNALIGN - offset 280
                  [0040C0]  2441  ;
                  [0040C0]  2442  ; Entry:
                  [0040C0]  2443  ;	Vectored in via hardware trap on unaligned Dstream reference.
                  [0040C0]  2444  ;
                  [0040C0]  2445  ; Function:
                  [0040C0]  2446  ;	Take a trap unless to x31.
                  [0040C0]  2447  ;	Build stack frame.
                  [0040C0]  2448  ;		r16 (a0)	VA
                  [0040C0]  2449  ;		r17 (a1)	Opcode
                  [0040C0]  2450  ;		r18 (a2)	Src/Dst register
                  [0040C0]  2451  ;	Vector via entUna.
                  [0040C0]  2452  ;-
                  [0040C0]  2453  
                  [0040C0]  2454  	START_HW_VECTOR <UNALIGN>
File: ev6_pal_macros.mar
                  [0040C0]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000280]    44i TRAP__UNALIGN:
File: ev6_osf_pal.mar
                  [000280]  2455  
                  [000280]  2456  ASSUME EV6__MM_STAT__WR__S eq 0
                  [000280]  2457  
         66FF0600 [000280]  2458  	hw_mfpr	p23, EV6__EXC_ADDR		; (0L) get exc_addr
         64FF0F00 [000284]  2459  	hw_mfpr p7, EV6__EXC_SUM		; (0L) get register field
         64DF2700 [000288]  2460  	hw_mfpr p6, EV6__MM_STAT		; (0L) opcode, r/w bit
         64BFC2F0 [00028C]  2461  	hw_mfpr	p5, EV6__VA			; (4-7,1L) get va
                  [000290]  2462  
                  [000290]  2463  .if eq ev6_p1
                  [000290]  2464  	blbs	p23, trap__pal_exc_bugcheck	; mchk if within pal
                  [000290]  2465  .iff
                  [000290]  2466  	blbs	p23, trap__unalign_check_fp	; check for fp ld/st problem
                  [000290]  2467  .endc
         F2E000A6 [000290]  2464I 	blbs	p23, trap__pal_exc_bugcheck	; mchk if within pal
                  [000294]  2468  
         42E09417 [000294]  2469  	addq	p23, #4, p23			; bump to nextpc
                  [000298]  2470  
         48E11687 [000298]  2471  	srl	p7, #EV6__EXC_SUM__REG__S, p7	; shift register number
         44E3F007 [00029C]  2472  	and	p7, #EV6__EXC_SUM__REG__M, p7	; clean register number
         F0C00F87 [0002A0]  2473  	blbs	p6, trap__unalign_nodismiss	; store => take a trap
                  [0002A4]  2474  ;
                  [0002A4]  2475  ; Check load to x31, which we dismiss.
                  [0002A4]  2476  ;
         40E3F5A4 [0002A4]  2477  	cmpeq	p7, #^x1F, p4			; check for x31
         E4800F85 [0002A8]  2478  	beq	p4, trap__unalign_nodismiss	; not x31 => nodismiss
                  [0002AC]  2479  ;
                  [0002AC]  2480  ; Dismiss the load x31
                  [0002AC]  2481  ;
         63FF4000 [0002AC]  2482  	mb					; protect mm_stat and va
         7BF78000 [0002B0]  2483  	hw_ret	(p23)				; return
                  [0002B4]  2484  
                  [0002B4]  2485  	CONT_HW_VECTOR <UNALIGN>
File: ev6_pal_macros.mar
                  [0002B4]    71M     ASSUME <_pal_vec_cont> eq 0
         C3E00F82 [0002B4]    76i 	br	r31, TRAP__UNALIGN_CONT
                  [0002B8]    79M                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [0002B8]    81M     GOTO_FREE_CODE
                  [0040C0]    62M     .align 6
                  [0040C0]    86i TRAP__UNALIGN_CONT:
File: ev6_osf_pal.mar
                  [0040C0]  2486  ;
                  [0040C0]  2487  ; Take a trap.
                  [0040C0]  2488  ;
                  [0040C0]  2489  trap__unalign_nodismiss:
         63FF4000 [0040C0]  2490  	mb						; protect mm_stat and va
                  [0040C4]  2491  
                  [0040C4]  2492  .if ne pci_debug_io*debug_err
                  [0040C4]  2493  	DBGREG_PCI LED__ERR_UNA,p23
                  [0040C4]  2494  	DBGREG_PCI LED__ERR_UNA,p5
                  [0040C4]  2495  .endc
         46C11004 [0040C4]  2496  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         46C1F014 [0040C8]  2497  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4800008 [0040CC]  2498  	beq	p4, trap__unalign_stack			; skip switch if kernel
                  [0040D0]  2499  ;
                  [0040D0]  2500  ; Switch to kernel mode. 
                  [0040D0]  2501  ;
                  [0040D0]  2502  unalign_cm_offset = <trap__unalign_stack - trap__unalign_cm>
                  [0040D0]  2503  
         7FD51020 [0040D0]  2504  	hw_stq/p r30, PT__USP(p_temp)			; save user SP
         6FD51018 [0040D4]  2505  	hw_ldq/p r30, PT__KSP(p_temp)			; get kernel SP
         46C1F116 [0040D8]  2506  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; cm=0, ipl=0
                  [0040DC]  2507  
         C0800000 [0040DC]  2508  	br	p4, trap__unalign_cm			; change mode to kernel
                  [0040E0]  2509  trap__unalign_cm:
         40823404 [0040E0]  2510  	addq	p4, #<unalign_cm_offset+1>, p4		; jump past in palmode
         77FF0910 [0040E4]  2511  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [0040E8]  2512  	bsr	r31, .					; push prediction stack
                  [0040EC]  2513  	PVC_JSR	unalign_cm				; synch up
File: ev6_pal_macros.mar
                  [0040EC]   526i  pvc_lbl \pcv_index, \pcv_jsr_unalign_cm0, osf
File: ev6_osf_pal.mar
         7BE4A000 [0040EC]  2514  	hw_ret_stall (p4)				; pop prediction stack
                  [0040F0]  2515  	PVC_JSR	unalign_cm, dest=1
File: ev6_pal_macros.mar
                  [0040F0]   529i  pvc_lbl \pcv_index, \pcv_jsr_unalign_cm0, osf, \pcv_jsr_unalign_cm0_inst
File: ev6_osf_pal.mar
                  [0040F0]  2516  ;
                  [0040F0]  2517  ; Take the trap. Be careful of tb miss!
                  [0040F0]  2518  ; Current state:
                  [0040F0]  2519  ;	p5		va
                  [0040F0]  2520  ;	p6		mm_stat
                  [0040F0]  2521  ;	p7		register number
                  [0040F0]  2522  ;	p20		original ps
                  [0040F0]  2523  ;	p23		nextpc
                  [0040F0]  2524  ;	p_misc__ps	if we were in kernel, original ps
                  [0040F0]  2525  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [0040F0]  2526  ;
                  [0040F0]  2527  trap__unalign_stack:
         7EF51098 [0040F0]  2528  	hw_stq/p p23, PT__STACK_PC(p_temp)		; store away nextpc
         48C09686 [0040F4]  2529  	srl	p6, #EV6__MM_STAT__OPCODE__S, p6	; get opcode
         44C7F006 [0040F8]  2530  	and	p6, #EV6__MM_STAT__OPCODE__M, p6	; clean it
         7CB510A0 [0040FC]  2531  	hw_stq/p p5, PT__NEW_A0(p_temp)			; save away va
         7CD510A8 [004100]  2532  	hw_stq/p p6, PT__NEW_A1(p_temp)			; save away opcode
         7CF510B0 [004104]  2533  	hw_stq/p p7, PT__NEW_A2(p_temp)			; save away reg number
                  [004108]  2534  
         23DEFFD0 [004108]  2535  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [00410C]  2536  
         B69E0000 [00410C]  2537  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [004110]  2538  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [004114]  2539  
         6E951098 [004114]  2540  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get nextpc back
                  [004118]  2541  
         B7BE0010 [004118]  2542  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [00411C]  2543  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [004120]  2544  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [004124]  2545  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save nextpc
                  [004128]  2546  
                  [004128]  2547  .if ne srom_debug_io*debug_err
                  [004128]  2548  	GET_32CONS      r16, ^x554E414C, r31            ; "UNALIGN"
                  [004128]  2549  	sll             r16, #32, r16
                  [004128]  2550  	GET_32CONS      r16, ^x49474E20, r16            ;
                  [004128]  2551  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [004128]  2552  
                  [004128]  2553  	bis             p23, r31, r16                   ; dump faulting PC
                  [004128]  2554  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [004128]  2555  
                  [004128]  2556  	hw_ldq/p r16, PT__NEW_A0(p_temp)		; a0 <- va
                  [004128]  2557  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [004128]  2558  .endc							; srom_debug_io
                  [004128]  2559  
         6EF51060 [004128]  2560  	hw_ldq/p p23, PT__ENT_UNA(p_temp)		; get entry point
         6FB51028 [00412C]  2561  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         6E1510A0 [004130]  2562  	hw_ldq/p r16, PT__NEW_A0(p_temp)		; a0 <- va
         6E3510A8 [004134]  2563  	hw_ldq/p r17, PT__NEW_A1(p_temp)		; a1 <- opcode
         6E5510B0 [004138]  2564  	hw_ldq/p r18, PT__NEW_A2(p_temp)		; a2 <- register number
                  [00413C]  2565  
         7BF78000 [00413C]  2566  	hw_ret	(p23)					; to os
                  [004140]  2567  
                  [004140]  2568  ;
                  [004140]  2569  ; We turn ld/st unaligns into alignment traps.
                  [004140]  2570  ; Current state:
                  [004140]  2571  ;	p5	va
                  [004140]  2572  ;	p6	mm_stat (opcode, r/w bit)
                  [004140]  2573  ;	p7	exc_sum (register field)
                  [004140]  2574  ;	p23	exc_addr
                  [004140]  2575  ;
                  [004140]  2576  .if ne ev6_p1
                  [004140]  2577  trap__unalign_check_fp:
                  [004140]  2578  	bic	p23, #3, p4		; clean PAL pc
                  [004140]  2579  	hw_mfpr	p20, EV6__PAL_BASE	; (4,0L) get pal base
                  [004140]  2580  	subq	p20, p4, p4		; pal base - cleaned pc
                  [004140]  2581  
                  [004140]  2582  	lda	p20, <trap__emul_ldf - trap__pal_base>(p4)
                  [004140]  2583  	beq	p20, trap__emul_ldst_unalign
                  [004140]  2584  	
                  [004140]  2585  	lda	p20, <trap__emul_ldg - trap__pal_base>(p4)
                  [004140]  2586  	beq	p20, trap__emul_ldst_unalign
                  [004140]  2587  	
                  [004140]  2588  	lda	p20, <trap__emul_lds - trap__pal_base>(p4)
                  [004140]  2589  	beq	p20, trap__emul_ldst_unalign
                  [004140]  2590  	
                  [004140]  2591  	lda	p20, <trap__emul_ldt - trap__pal_base>(p4)
                  [004140]  2592  	beq	p20, trap__emul_ldst_unalign
                  [004140]  2593  	
                  [004140]  2594  	lda	p20, <trap__emul_stf_s - trap__pal_base>(p4)
                  [004140]  2595  	beq	p20, trap__emul_ldst_unalign
                  [004140]  2596  	
                  [004140]  2597  	lda	p20, <trap__emul_stg_s - trap__pal_base>(p4)
                  [004140]  2598  	beq	p20, trap__emul_ldst_unalign
                  [004140]  2599  	
                  [004140]  2600  	lda	p20, <trap__emul_sts_s - trap__pal_base>(p4)
                  [004140]  2601  	beq	p20, trap__emul_ldst_unalign
                  [004140]  2602  	
                  [004140]  2603  	lda	p20, <trap__emul_stt_s - trap__pal_base>(p4)
                  [004140]  2604  	beq	p20, trap__emul_ldst_unalign
                  [004140]  2605  
                  [004140]  2606  	br	r31, trap__pal_exc_bugcheck	; mchk otherwise
                  [004140]  2607  
                  [004140]  2608  .endc
                  [004140]  2609  
                  [004140]  2610  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [004140]    56M         GOTO_FREE_CODE
                  [004140]    62M     .align 6
File: ev6_osf_pal.mar
                  [004140]  2611  
                  [004140]  2612  ;------------------------------------------------------------------------
                  [004140]  2613  ;+
                  [004140]  2614  ; DTBM_SINGLE - offset 300
                  [004140]  2615  ;
                  [004140]  2616  ; Entry:
                  [004140]  2617  ;	Vectored into via hardware trap on Dstream single
                  [004140]  2618  ;	translation buffer miss.
                  [004140]  2619  ;
                  [004140]  2620  ; Function:
                  [004140]  2621  ;	Do a virtual fetch of the PTE, and fill the DTB if the PTE is valid.
                  [004140]  2622  ;	Can trap into double.
                  [004140]  2623  ;
                  [004140]  2624  ; Note:
                  [004140]  2625  ;	We want to keep the main flow in a single cache line
                  [004140]  2626  ;	(4 fetch blocks) to be as efficient as possible.
                  [004140]  2627  ;
                  [004140]  2628  ;	The update of the TB occurs on the when the write to PTE1 retires.
                  [004140]  2629  ;
                  [004140]  2630  ; NOTE:
                  [004140]  2631  ;	1-to-1 mapping scheme implemented with bit in p_misc shadow register.
                  [004140]  2632  ;
                  [004140]  2633  ; Register use:
                  [004140]  2634  ;	p4	shadow register reserved for itb/dtb miss
                  [004140]  2635  ;	p5	shadow register reserved for itb/dtb miss
                  [004140]  2636  ;	p6	shadow register reserved for itb/dtb miss
                  [004140]  2637  ;	p7	shadow register reserved for itb/dtb miss
                  [004140]  2638  ;	p_misc	physical mode bit in <63>
                  [004140]  2639  ;	p23	exc_addr, pc of instruction causing DTB miss
                  [004140]  2640  ;
                  [004140]  2641  ; Exit state:
                  [004140]  2642  ;	On exit to trap__invalid_dpte
                  [004140]  2643  ;	p4	PTE
                  [004140]  2644  ;	p5	no double miss: mm_stat 
                  [004140]  2645  ;		double miss: scratch
                  [004140]  2646  ;	p6	va
                  [004140]  2647  ;	p7	no double miss: exc_sum 
                  [004140]  2648  ;		double miss: <31:16>=mm_stat<15:0>,<15:1>=exc_sum<15:1>,<0>=1
                  [004140]  2649  ;	p23	pc of instruction causing DTB miss
                  [004140]  2650  ;
                  [004140]  2651  ;
                  [004140]  2652  ; Note on scoreboarding and register dependencies: Having (4-7) on the
                  [004140]  2653  ; VA/VA_FORM register reads ensures that they don't issue until all of the
                  [004140]  2654  ; previous dtb miss's tag/pte writes have retired. The register dependency
                  [004140]  2655  ; between the VA/VA_FORM read and the tag/pte writes ensures that none
                  [004140]  2656  ; of the tag/pte issue until all of the previous tag/pte writes from
                  [004140]  2657  ; a previous miss have retired.
                  [004140]  2658  ;
                  [004140]  2659  ; How to squeeze 5 pegs into 4 holes:
                  [004140]  2660  ; 	Before fetching the vpte, we clear the low bit of p7.
                  [004140]  2661  ;	If we take a double miss, we squeeze mm_stat and exc_sum into p7,
                  [004140]  2662  ;		setting the low bit to indicate we took a double miss.
                  [004140]  2663  ;	The invalid_pte code checks p7 and restores p5 if indicated.
                  [004140]  2664  ;-
                  [004140]  2665  	START_HW_VECTOR <DTBM_SINGLE>
File: ev6_pal_macros.mar
                  [004140]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000300]    44i TRAP__DTBM_SINGLE:
File: ev6_osf_pal.mar
                  [000300]  2666  
                  [000300]  2667  ASSUME OSF_P_MISC__PHYS__S eq 63
                  [000300]  2668  
         66FF0600 [000300]  2669  	hw_mfpr	p23, EV6__EXC_ADDR		; (0L) get exception address
         649FC3F0 [000304]  2670  	hw_mfpr	p4, EV6__VA_FORM		; (4-7,1L) get vpte address
         64BF2700 [000308]  2671  	hw_mfpr	p5, EV6__MM_STAT		; (0L) get miss info
         64FF0F00 [00030C]  2672  	hw_mfpr p7, EV6__EXC_SUM		; (0L) get exc_sum for ra
                  [000310]  2673  
         64DFC2F0 [000310]  2674  	hw_mfpr p6, EV6__VA			; (4-7,1L) get original va
         44E03107 [000314]  2675  	bic	p7, #1, p7			; clear double miss flag
                  [000318]  2676  
         44860804 [000318]  2677  	xor	p4, p6, p4			; interlock p4 and p6
         44860804 [00031C]  2678  	xor	p4, p6, p4			; restore p4
                  [000320]  2679  
                  [000320]  2680  .if ne kseg_hack					; kseg hack
                  [000320]  2681  	hw_stq/p p7, PT__RSV_FOR_PAL(p_temp)		; save off p7
                  [000320]  2682  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p7	; current mode
                  [000320]  2683  	beq	p7, trap__hack_kseg			; do hack for kseg
                  [000320]  2684  	hw_ldq/p p7, PT__RSV_FOR_PAL(p_temp)		; restore p7
                  [000320]  2685  	br	r31, trap__dtbm_single_vpte		; as we were
                  [000320]  2686  
                  [000320]  2687  	CONT_HW_VECTOR <DTBM_SINGLE>			; 1.41
                  [000320]  2688  .endc
                  [000320]  2689  
                  [000320]  2690  trap__dtbm_single_vpte:
         6C845000 [000320]  2691  	hw_ldq/v p4, (p4)			; (1L) get vpte
                  [000324]  2692  
                  [000324]  2693  .if eq srm_console				; 1.49
                  [000324]  2694  	blt	p_misc, trap__d1to1		; (xU) <63>=1 => 1-to-1
                  [000324]  2695  .endc						; 1.49 srm_console
         EAC00FE5 [000324]  2694I 	blt	p_misc, trap__d1to1		; (xU) <63>=1 => 1-to-1
                  [000328]  2696  .if ne srm_console				; 1.56
                  [000328]  2697  	bis	r31, r31, r31			; 1.56
                  [000328]  2698  .endc						; 1.56
         E0800F95 [000328]  2699  	blbc	p4, trap__invalid_dpte		; (xU) invalid => branch
                  [00032C]  2700  ;
                  [00032C]  2701  ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [00032C]  2702  ; another processor has taken it, and a bad path before a stx_c has
                  [00032C]  2703  ; a load which pulls the data back in and makes it look like the
                  [00032C]  2704  ; lock has succeeded. So we either need to do a virtual load
                  [00032C]  2705  ; or hold up bad path loads by doing a sequence of mulq and
                  [00032C]  2706  ; a write to MM_STAT with bit 2 and 6 (6 is required or we hang).
                  [00032C]  2707  ;
                  [00032C]  2708  ; 1.50
                  [00032C]  2709  ; For the pte_eco case, do a ldbu down every path except the
                  [00032C]  2710  ; i/o case, where we couldn't have missed on a stx_c.
                  [00032C]  2711  ; 1.50
                  [00032C]  2712  ;
                  [00032C]  2713  .if eq force_path2				; 1.45
                  [00032C]  2714  	and	p4, #^x80, p7			; isolate mb bit
                  [00032C]  2715  	xor	p7, #^x80, p7			; flip mb bit
                  [00032C]  2716  .iff						; 1.45
                  [00032C]  2717  	srl	p4, #62, p5			; get i/o space bit
                  [00032C]  2718  	and	p5, #1, p5			; isolate i/o space bit
                  [00032C]  2719  	and	p4, #^xe0, p7			; 1.56 isolate mb, GH bits
                  [00032C]  2720  	xor	p7, #^x80, p7			; 1.56 flip mb bit
                  [00032C]  2721  	bis	p7, p5, p7			; 1.56 merge bits
                  [00032C]  2722  .endc						; 1.45
         4887D685 [00032C]  2717I 	srl	p4, #62, p5			; get i/o space bit
         44A03005 [000330]  2718I 	and	p5, #1, p5			; isolate i/o space bit
         449C1007 [000334]  2719I 	and	p4, #^xe0, p7			; 1.56 isolate mb, GH bits
         44F01807 [000338]  2720I 	xor	p7, #^x80, p7			; 1.56 flip mb bit
         44E50407 [00033C]  2721I 	bis	p7, p5, p7			; 1.56 merge bits
                  [000340]  2723  
                  [000340]  2724  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
                  [000340]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [000340]  2725  
                  [000340]  2726  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [000340]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         77E62044 [000340]  2727  	hw_mtpr	p6, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E6A022 [000344]  2728  	hw_mtpr p6, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77E42155 [000348]  2729  	hw_mtpr	p4, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77E4A1AA [00034C]  2730  	hw_mtpr	p4, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [000350]  2731  
                  [000350]  2732  						; 1.56 delete 3 lines of code
                  [000350]  2733  ASSUME <tb_mb_en + pte_eco> ne 2
                  [000350]  2734  
                  [000350]  2735  .if ne pte_eco
                  [000350]  2736  	bne	p7, trap__dtbm_single_gh_mb_io	; 1.45 branch for mb
                  [000350]  2737  
                  [000350]  2738    .if ne force_path2				; 1.45
                  [000350]  2739  trap__dtbm_single_hack1:
                  [000350]  2740  	ldbu	r31, (p6)			; do a virtual operation
                  [000350]  2741    .endc						; 1.45
                  [000350]  2742  
                  [000350]  2743  	hw_ret	(p23)				; return
                  [000350]  2744  
                  [000350]  2745    .if ne force_path2				; 1.41
                  [000350]  2746  	CONT_HW_VECTOR <DTBM_SINGLE>
                  [000350]  2747    .endc						; 1.41
                  [000350]  2748  
                  [000350]  2749  trap__dtbm_single_gh_mb_io:
                  [000350]  2750    .if ne force_path2
                  [000350]  2751  	and	p7, #^x81, p5			; check io,mb bits
                  [000350]  2752  	bne	p5, trap__dtbm_single_mb_io	; continue for GH case
                  [000350]  2753  	hw_mtpr p6, <EV6__VA ! ^x22>		; hold up loads
                  [000350]  2754  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [000350]  2755  trap__dtbm_single_hack2:
                  [000350]  2756  	ldbu	r31, (p6)
                  [000350]  2757  	hw_ret	(p23)				; return
                  [000350]  2758  
                  [000350]  2759  trap__dtbm_single_mb_io:
                  [000350]  2760  	blbs	p7, trap__dtbm_single_io	; continue for mb case
                  [000350]  2761  	mb
                  [000350]  2762  	hw_mtpr p6, <EV6__VA ! ^x22>		; hold up loads
                  [000350]  2763  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [000350]  2764  trap__dtbm_single_hack3:
                  [000350]  2765  	ldbu	r31, (p6)
                  [000350]  2766  	hw_ret	(p23)				; return
                  [000350]  2767  
                  [000350]  2768  trap__dtbm_single_io:
                  [000350]  2769    .endc						; force_path2
                  [000350]  2770  	mb
                  [000350]  2771  	hw_ret	(p23)				; return
                  [000350]  2772  
                  [000350]  2773  .iff						; 1.45 no need to be clever
                  [000350]  2774  
                  [000350]  2775    .if ne force_path2				; 1.45
                  [000350]  2776  	mb
                  [000350]  2777  	ALIGN_FETCH_BLOCK <^x47FF041F>
                  [000350]  2778  	mulq	p6, #1, p6			; hold up loads
                  [000350]  2779  	mulq	p6, #1, p6			; hols up loads
                  [000350]  2780  	hw_mtpr p6, <EV6__VA ! ^x22>		; hold up loads
                  [000350]  2781    .endc						; 1.45
                  [000350]  2782  
                  [000350]  2783  	hw_ret	(p23)				; return
                  [000350]  2784  .endc
         F4E00F7B [000350]  2736I 	bne	p7, trap__dtbm_single_gh_mb_io	; 1.45 branch for mb
                  [000354]  2737I 
                  [000354]  2738I   .if ne force_path2				; 1.45
                  [000354]  2739I trap__dtbm_single_hack1:
                  [000354]  2740I 	ldbu	r31, (p6)			; do a virtual operation
                  [000354]  2741I   .endc						; 1.45
                  [000354]  2739I trap__dtbm_single_hack1:
         2BE60000 [000354]  2740I 	ldbu	r31, (p6)			; do a virtual operation
                  [000358]  2742I   
         7BF78000 [000358]  2743I 	hw_ret	(p23)				; return
                  [00035C]  2744I 
                  [00035C]  2745I   .if ne force_path2				; 1.41
                  [00035C]  2746I 	CONT_HW_VECTOR <DTBM_SINGLE>
                  [00035C]  2747I   .endc						; 1.41
                  [00035C]  2746I 	CONT_HW_VECTOR <DTBM_SINGLE>
File: ev6_pal_macros.mar
                  [00035C]    71i     ASSUME <_pal_vec_cont> eq 0
         C3E00F78 [00035C]    76i 	br	r31, TRAP__DTBM_SINGLE_CONT
                  [000360]    79i                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [000360]    81i     GOTO_FREE_CODE
                  [004140]    62i     .align 6
                  [004140]    86i TRAP__DTBM_SINGLE_CONT:
File: ev6_osf_pal.mar
                  [004140]  2748I   
                  [004140]  2749I trap__dtbm_single_gh_mb_io:
                  [004140]  2750I   .if ne force_path2
                  [004140]  2751I 	and	p7, #^x81, p5			; check io,mb bits
                  [004140]  2752I 	bne	p5, trap__dtbm_single_mb_io	; continue for GH case
                  [004140]  2753I 	hw_mtpr p6, <EV6__VA ! ^x22>		; hold up loads
                  [004140]  2754I 	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [004140]  2755I trap__dtbm_single_hack2:
                  [004140]  2756I 	ldbu	r31, (p6)
                  [004140]  2757I 	hw_ret	(p23)				; return
                  [004140]  2758I 
                  [004140]  2759I trap__dtbm_single_mb_io:
                  [004140]  2760I 	blbs	p7, trap__dtbm_single_io	; continue for mb case
                  [004140]  2761I 	mb
                  [004140]  2762I 	hw_mtpr p6, <EV6__VA ! ^x22>		; hold up loads
                  [004140]  2763I 	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [004140]  2764I trap__dtbm_single_hack3:
                  [004140]  2765I 	ldbu	r31, (p6)
                  [004140]  2766I 	hw_ret	(p23)				; return
                  [004140]  2767I 
                  [004140]  2768I trap__dtbm_single_io:
                  [004140]  2769I   .endc						; force_path2
         44F03005 [004140]  2751I 	and	p7, #^x81, p5			; check io,mb bits
         F4A00004 [004144]  2752I 	bne	p5, trap__dtbm_single_mb_io	; continue for GH case
         77E6C2F2 [004148]  2753I 	hw_mtpr p6, <EV6__VA ! ^x22>		; hold up loads
                  [00414C]  2754I 	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
         47FF041F [00414C]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [004150]  2755I trap__dtbm_single_hack2:
         2BE60000 [004150]  2756I 	ldbu	r31, (p6)
         7BF78000 [004154]  2757I 	hw_ret	(p23)				; return
                  [004158]  2758I 
                  [004158]  2759I trap__dtbm_single_mb_io:
         F0E00007 [004158]  2760I 	blbs	p7, trap__dtbm_single_io	; continue for mb case
         63FF4000 [00415C]  2761I 	mb
         77E6C2F2 [004160]  2762I 	hw_mtpr p6, <EV6__VA ! ^x22>		; hold up loads
                  [004164]  2763I 	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
47FF041F 47FF041F [004164]   260i 	.align 4, <^x47FF041F>
         47FF041F [00416C]
File: ev6_osf_pal.mar
                  [004170]  2764I trap__dtbm_single_hack3:
         2BE60000 [004170]  2765I 	ldbu	r31, (p6)
         7BF78000 [004174]  2766I 	hw_ret	(p23)				; return
                  [004178]  2767I 
                  [004178]  2768I trap__dtbm_single_io:
         63FF4000 [004178]  2770I   	mb
         7BF78000 [00417C]  2771I 	hw_ret	(p23)				; return
                  [004180]  2772I 
                  [004180]  2785  
                  [004180]  2786  .if eq force_path2				; 1.41
                  [004180]  2787  	CONT_HW_VECTOR <DTBM_SINGLE>
                  [004180]  2788  .endc						; 1.41
                  [004180]  2789  
                  [004180]  2790  
                  [004180]  2791  .if ne kseg_hack				; kseg hack
                  [004180]  2792  ;
                  [004180]  2793  ; tsunami hack
                  [004180]  2794  ; current state:
                  [004180]  2795  ;	p23	return address
                  [004180]  2796  ;	p6	va
                  [004180]  2797  ; Avoid issuing DTB write until the PALcode path is verified.
                  [004180]  2798  ; Add a scoreboard interlock to avoid speculative reads.
                  [004180]  2799  ; We won't return until we have committed the DTB write.
                  [004180]  2800  ;
                  [004180]  2801  
                  [004180]  2802  trap__hack_kseg:				; do hack for kseg
                  [004180]  2803  	srl	p6, #41, p7			; get <47:41>
                  [004180]  2804  	and	p7, #^x7F, p7			; clean <47:41>
                  [004180]  2805  	cmpeq	p7, #^x7E, p7			; kseg?
                  [004180]  2806  	beq	p7, trap__hack_kseg_not		; branch if not
                  [004180]  2807  	br	r31, trap__hack_kseg_bits	; test bits
                  [004180]  2808  
                  [004180]  2809  trap__hack_kseg_not:				; not kseg
                  [004180]  2810  	srl	p6, #46, p7			; check for <47:46>
                  [004180]  2811  	and	p7, #^x3, p7			; clean <47:46>
                  [004180]  2812  	cmpeq	p7, #^x2, p7			; 48 bit kseg?
                  [004180]  2813  	beq	p7, trap__hack_kseg_not2	; branch if not
                  [004180]  2814  	br	r31, trap__hack_kseg_bits2	; test bits
                  [004180]  2815  
                  [004180]  2816  trap__hack_kseg_not2:
                  [004180]  2817  	hw_ldq/p p7, PT__RSV_FOR_PAL(p_temp)	; restore p7
                  [004180]  2818  	br	r31, trap__dtbm_single_vpte	; as we were
                  [004180]  2819  
                  [004180]  2820  trap__hack_kseg_bits:				; kseg
                  [004180]  2821  	srl	p6, #40, p7			; check <40> (IO)
                  [004180]  2822  	blbs	p7, trap__hack_kseg_bits_io	; branch for io
                  [004180]  2823  	srl	p6, #32, p7			; check <34:32>
                  [004180]  2824  	and	p7, #^x7, p7			; any bits 1?
                  [004180]  2825  	bne	p7, trap__hack_kseg_hack	; branch if so
                  [004180]  2826  	beq	p7, trap__hack_kseg_bits_io	; branch if not
                  [004180]  2827  	PVC_VIOLATE <1006>
                  [004180]  2828  	br	r31, .-4			; infinite loop
                  [004180]  2829  trap__hack_kseg_bits_io:			; merge for io addr
                  [004180]  2830  	bis	p6, r31, p7			; 1to1 translation into p7
                  [004180]  2831  	br	r31, trap__hack_kseg_1to1	; now map 1to1
                  [004180]  2832  
                  [004180]  2833  trap__hack_kseg_hack:				; force nxm
                  [004180]  2834  	bis	r31, #1, p7			; get a 1
                  [004180]  2835  	sll	p7, #35, p7			; move into <35>
                  [004180]  2836  	bis	p6, p7, p7			; or into translation
                  [004180]  2837  
                  [004180]  2838  trap__hack_kseg_1to1:
                  [004180]  2839  	sll	p7, #23, p7			; <40> to position 63
                  [004180]  2840  	sra	p7, #23, p7			; force sign extension
                  [004180]  2841  	sll	p7, #20, p7			; <43> to position 63
                  [004180]  2842  	srl	p7, #20, p7			; translation
                  [004180]  2843  
                  [004180]  2844  	lda	p5, ^x1171(r31)				; KxE,GH=3,ASM=1,V=1
                  [004180]  2845  	srl	p7, #<13+9>, p4				; byte offset+9
                  [004180]  2846  	sll	p4, #<EV6__DTB_PTE0__PFN__S+9>, p4	; pfn into position
                  [004180]  2847  	bis	p4, p5, p4				; produce the pte
                  [004180]  2848  
                  [004180]  2849  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [004180]  2850  
                  [004180]  2851  	PVC_VIOLATE <2>				; ignore scoreboard violation
                  [004180]  2852  	hw_mtpr	p6, EV6__DTB_TAG0		; (2&6,0L) write tag0
                  [004180]  2853  	hw_mtpr p6, EV6__DTB_TAG1		; (1&5,1L) write tag1
                  [004180]  2854  	hw_mtpr	p4, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
                  [004180]  2855  	hw_mtpr	p4, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [004180]  2856  
                  [004180]  2857  	hw_mtpr	r31, <EV6__MM_STAT ! ^xF0>	; (4-7,0L) stall outside IQ
                  [004180]  2858  	hw_ret	(p23)				; (0L) return
                  [004180]  2859  
                  [004180]  2860  trap__hack_kseg_bits2:				; kseg
                  [004180]  2861  	srl	p6, #43, p7			; check <43> (IO)
                  [004180]  2862  	blbs	p7, trap__hack_kseg_bits2_io	; branch if io
                  [004180]  2863  	srl	p6, #32, p7			; check <34:32>
                  [004180]  2864  	and	p7, #^x7, p7			; any bits 1?
                  [004180]  2865  	bne	p7, trap__hack_kseg_hack2	; branch if so
                  [004180]  2866  	beq	p7, trap__hack_kseg_bits2_io	; branch if not
                  [004180]  2867  	PVC_VIOLATE <1006>
                  [004180]  2868  	br	r31, .-4			; infinite loop
                  [004180]  2869  trap__hack_kseg_bits2_io:			; merge for io
                  [004180]  2870  	bis	p6, r31, p7			; 1to1 translation into p7
                  [004180]  2871  	br	r31, trap__hack_kseg_1to1_2	; now map 1to1
                  [004180]  2872  
                  [004180]  2873  trap__hack_kseg_hack2:				; force nxm
                  [004180]  2874  	bis	r31, #1, p7			; get a 1
                  [004180]  2875  	sll	p7, #35, p7			; move into <35>
                  [004180]  2876  	bis	p6, p7, p7			; or into translation
                  [004180]  2877  
                  [004180]  2878  trap__hack_kseg_1to1_2:
                  [004180]  2879  	sll	p7, #20, p7			; <43> to position 63
                  [004180]  2880  	srl	p7, #20, p7			; translation
                  [004180]  2881  
                  [004180]  2882  	lda	p5, ^x1171(r31)				; KxE,GH=3,ASM=1,V=1
                  [004180]  2883  	srl	p7, #<13+9>, p4				; byte offset+9
                  [004180]  2884  	sll	p4, #<EV6__DTB_PTE0__PFN__S+9>, p4	; pfn into position
                  [004180]  2885  	bis	p4, p5, p4				; produce the pte
                  [004180]  2886  
                  [004180]  2887  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [004180]  2888  
                  [004180]  2889  	PVC_VIOLATE <2>				; ignore scoreboard violation
                  [004180]  2890  	hw_mtpr	p6, EV6__DTB_TAG0		; (2&6,0L) write tag0
                  [004180]  2891  	hw_mtpr p6, EV6__DTB_TAG1		; (1&5,1L) write tag1
                  [004180]  2892  	hw_mtpr	p4, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
                  [004180]  2893  	hw_mtpr	p4, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [004180]  2894  
                  [004180]  2895  	hw_mtpr	r31, <EV6__MM_STAT ! ^xF0>	; (4-7,0L) stall outside IQ
                  [004180]  2896  	hw_ret	(p23)				; (0L) return
                  [004180]  2897  .endc
                  [004180]  2898  
                  [004180]  2899  ;+
                  [004180]  2900  ; trap__invalid_dpte
                  [004180]  2901  ;
                  [004180]  2902  ; Entry:
                  [004180]  2903  ;	Branched to on invalid Dstream PTE fetched by DTB miss routine.
                  [004180]  2904  ;
                  [004180]  2905  ; Function:
                  [004180]  2906  ;	Prepare to take a Translation Not Valid or Access Violation
                  [004180]  2907  ;	exception. Take a different flow for pal mode.
                  [004180]  2908  ;
                  [004180]  2909  ; Current state:
                  [004180]  2910  ;	p4	PTE
                  [004180]  2911  ;	p5	no double miss: mm_stat 
                  [004180]  2912  ;		double miss: scratch
                  [004180]  2913  ;	p6	va
                  [004180]  2914  ;	p7	no double miss: exc_sum 
                  [004180]  2915  ;		double miss: <31:16>=mm_stat<15:0>,<15:1>=exc_sum<15:1>,<0>=1
                  [004180]  2916  ;	p23	pc of instruction taking DTB miss
                  [004180]  2917  ;
                  [004180]  2918  ; Register use:
                  [004180]  2919  ;	p20	available once we know we didn't trap from pal mode
                  [004180]  2920  ;
                  [004180]  2921  ;-
                  [004180]  2922  trap__invalid_dpte:
         F0E00001 [004180]  2923  	blbs	p7, trap__invalid_dpte_get	; did we double miss?
         C3E00001 [004184]  2924  	br	r31, trap__invalid_dpte_have	; we didn't
                  [004188]  2925  
                  [004188]  2926  trap__invalid_dpte_get:				; we double missed
         48E21685 [004188]  2927  	srl	p7, #16, p5			; recover mm_stat
                  [00418C]  2928  
                  [00418C]  2929  trap__invalid_dpte_have:
         F2E00031 [00418C]  2930  	blbs	p23, trap__tnv_in_pal			; TNV in pal mode
                  [004190]  2931  
         E0A00005 [004190]  2932  	blbc	p5, trap__invalid_dpte_check		; load => check x31
                  [004194]  2933  
         48A09687 [004194]  2934  	srl	p5, #EV6__MM_STAT__OPCODE__S, p7	; get opcode
         44E7F007 [004198]  2935  	and	p7, #EV6__MM_STAT__OPCODE__M, p7	; clean it
         40E315A7 [00419C]  2936  	cmpeq	p7, #^x18, p7				; ECB/WH64?
         F4E0002A [0041A0]  2937  	bne	p7, trap__invalid_dpte_dismiss		; dismiss if so
                  [0041A4]  2938  
         C3E00004 [0041A4]  2939  	br	r31, trap__invalid_dpte_no_dismiss	; store
                  [0041A8]  2940  ;
                  [0041A8]  2941  ; Check for load x31
                  [0041A8]  2942  ;
                  [0041A8]  2943  trap__invalid_dpte_check:
         48E11687 [0041A8]  2944  	srl	p7, #EV6__EXC_SUM__REG__S, p7	; get ra field
         44E3F007 [0041AC]  2945  	and	p7, #EV6__EXC_SUM__REG__M, p7	; check for load x31
         40E3F5A7 [0041B0]  2946  	cmpeq	p7, #^x1F, p7			; compare against x31
         F4E00025 [0041B4]  2947  	bne	p7, trap__invalid_dpte_dismiss	; branch => dismiss
                  [0041B8]  2948  ;
                  [0041B8]  2949  ; Take a trap.
                  [0041B8]  2950  ;
                  [0041B8]  2951  trap__invalid_dpte_no_dismiss:
         63FF4000 [0041B8]  2952  	mb						; protect mm_stat and va
                  [0041BC]  2953  
         46C11007 [0041BC]  2954  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p7	; current mode
         46C1F014 [0041C0]  2955  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4E00009 [0041C4]  2956  	beq	p7, trap__invalid_dpte_stack		; skip switch if kernel
                  [0041C8]  2957  ;
                  [0041C8]  2958  ; Switch to kernel mode.
                  [0041C8]  2959  ; Current state:
                  [0041C8]  2960  ;	p4		PTE
                  [0041C8]  2961  ;	p20		original ps
                  [0041C8]  2962  ;
                  [0041C8]  2963  dpte_cm_offset = <trap__invalid_dpte_stack - trap__invalid_dpte_cm>
                  [0041C8]  2964  
         7FD51020 [0041C8]  2965  	hw_stq/p r30, PT__USP(p_temp)				; save user SP
         6FD51018 [0041CC]  2966  	hw_ldq/p r30, PT__KSP(p_temp)				; get kernel SP
         48803684 [0041D0]  2967  	srl	p4, #<OSF_PTE__URE__S - OSF_PTE__KRE__S>, p4	; shift u to k
         46C1F116 [0041D4]  2968  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc		; cm=0, ipl=0
                  [0041D8]  2969  
         C0E00000 [0041D8]  2970  	br	p7, trap__invalid_dpte_cm		; change mode to kernel
                  [0041DC]  2971  trap__invalid_dpte_cm:
         40E23407 [0041DC]  2972  	addq	p7, #<dpte_cm_offset+1>, p7		; jump past in palmode
         77FF0910 [0041E0]  2973  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [0041E4]  2974  	bsr	r31, .					; push prediction stack
                  [0041E8]  2975  	PVC_JSR	dpte_cm					; synch up
File: ev6_pal_macros.mar
                  [0041E8]   526i  pvc_lbl \pcv_index, \pcv_jsr_dpte_cm0, osf
File: ev6_osf_pal.mar
         7BE7A000 [0041E8]  2976  	hw_ret_stall (p7)				; pop prediction stack
                  [0041EC]  2977  	PVC_JSR	dpte_cm, dest=1
File: ev6_pal_macros.mar
                  [0041EC]   529i  pvc_lbl \pcv_index, \pcv_jsr_dpte_cm0, osf, \pcv_jsr_dpte_cm0_inst
File: ev6_osf_pal.mar
                  [0041EC]  2978  ;
                  [0041EC]  2979  ; Take the trap. Be careful of tb miss!
                  [0041EC]  2980  ; Current state:
                  [0041EC]  2981  ;	p4		PTE. If user, now shifted right to kernel position
                  [0041EC]  2982  ;	p5		mm_stat
                  [0041EC]  2983  ;	p6		va
                  [0041EC]  2984  ;	p20		original ps
                  [0041EC]  2985  ;	p23		pc of instruction taking dtb miss
                  [0041EC]  2986  ;	p_misc__ps	if we were in kernel, original ps
                  [0041EC]  2987  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [0041EC]  2988  ;
                  [0041EC]  2989  
                  [0041EC]  2990  trap__invalid_dpte_stack:
         7EF51098 [0041EC]  2991  	hw_stq/p p23, PT__STACK_PC(p_temp)		; store away pc
                  [0041F0]  2992  
         7CD510A0 [0041F0]  2993  	hw_stq/p p6, PT__NEW_A0(p_temp)			; save away va
         44A03005 [0041F4]  2994  	and	p5, #EV6__MM_STAT__WR__M, p5		; get r/w flag
         7CB510B0 [0041F8]  2995  	hw_stq/p p5, PT__NEW_A2(p_temp)			; save r/w flag
                  [0041FC]  2996  
         48811684 [0041FC]  2997  	srl	p4, #OSF_PTE__KRE__S, p4		; get <re> to <0>
         47E03417 [004200]  2998  	bis	r31, #OSF_MMCSR__ACV, p23		; assume acv
         48809687 [004204]  2999  	srl	p4, #<OSF_PTE__KWE__S-OSF_PTE__KRE__S>, p7; get <we> to <0>
         44A70284 [004208]  3000  	cmovlbs	p5, p7, p4				; if write, check <we>
         44801297 [00420C]  3001  	cmovlbs p4, #OSF_MMCSR__TNV, p23		; tnv if access okay
         7EF510A8 [004210]  3002  	hw_stq/p p23, PT__NEW_A1(p_temp)		; save mmcsr
                  [004214]  3003  
         23DEFFD0 [004214]  3004  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [004218]  3005  
         B69E0000 [004218]  3006  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [00421C]  3007  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [004220]  3008  
         6E951098 [004220]  3009  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get nextpc back
                  [004224]  3010  
         B7BE0010 [004224]  3011  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [004228]  3012  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [00422C]  3013  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [004230]  3014  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save nextpc
                  [004234]  3015  
                  [004234]  3016  .if ne debug_err					; debug_err
                  [004234]  3017  
                  [004234]  3018      .if ne pci_debug_io
                  [004234]  3019  	DBGREG_PCI LED__DMISS_POST,r16
                  [004234]  3020      .endc
                  [004234]  3021  
                  [004234]  3022      .if ne srom_debug_io
                  [004234]  3023  	GET_32CONS      r16, ^x42414420, r31    ; BAD DPTE
                  [004234]  3024  	sll             r16, #32, r16
                  [004234]  3025  	GET_32CONS      r16, ^x44505445, r16    ;
                  [004234]  3026  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [004234]  3027  
                  [004234]  3028  	hw_ldq/p 	r16, PT__NEW_A0(p_temp)		; Dump faulting VA
                  [004234]  3029  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [004234]  3030  
                  [004234]  3031  	bis		p20, r31, r16			; p20 = faulting PC+4
                  [004234]  3032  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [004234]  3033      .endc
                  [004234]  3034  .endc							; debug_err
         6EF51050 [004234]  3035  	hw_ldq/p p23, PT__ENT_MM(p_temp)		; get entry point
         6FB51028 [004238]  3036  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         6E1510A0 [00423C]  3037  	hw_ldq/p r16, PT__NEW_A0(p_temp)		; a0 <- va
         6E3510A8 [004240]  3038  	hw_ldq/p r17, PT__NEW_A1(p_temp)		; a1 <- MMCSR
         6E5510B0 [004244]  3039  	hw_ldq/p r18, PT__NEW_A2(p_temp)		; a2 <- cause
                  [004248]  3040  
         7BF78000 [004248]  3041  	hw_ret	(p23)					; to os
                  [00424C]  3042  
                  [00424C]  3043  ;+
                  [00424C]  3044  ; Dismiss the load to x31. We don't need a MB to hold up loads that
                  [00424C]  3045  ; may affect MM_STAT. To get here, we have taken a conditional branch
                  [00424C]  3046  ; that depended on the mfpr MM_STAT being issued.
                  [00424C]  3047  ;-
                  [00424C]  3048  trap__invalid_dpte_dismiss:
         42E09417 [00424C]  3049  	addq	p23, #4, p23			; dismiss, so increment pc
         7BF78000 [004250]  3050  	hw_ret	(p23)				; return
                  [004254]  3051  
                  [004254]  3052  ;+
                  [004254]  3053  ; DTB miss in PALmode
                  [004254]  3054  ;
                  [004254]  3055  ; There are two sources of tnv_in_pal --
                  [004254]  3056  ;	(1) urti user stack access - turn into mmfault
                  [004254]  3057  ;	(2) stack builders, rti, retsys -- take a ksp not valid halt
                  [004254]  3058  ;
                  [004254]  3059  ; In pass1, there can also be a tnv_in_pal for floating ld/st instructions.
                  [004254]  3060  ;
                  [004254]  3061  ; Current state:
                  [004254]  3062  ;	p4		PTE
                  [004254]  3063  ;	p5		mm_stat
                  [004254]  3064  ;	p6		va
                  [004254]  3065  ;	p7		exc_sum
                  [004254]  3066  ;	p23		pc of instruction taking DTB miss
                  [004254]  3067  ;
                  [004254]  3068  ;	PT__STACK_PC	in case of urti, pc+4 of call_pal invocation
                  [004254]  3069  ;			in case of rti & retsys, leave pc+4 for now
                  [004254]  3070  ;			in case of stack builders, whatever SavedPC was
                  [004254]  3071  ;			in case of istream mchk check for cmov, exc_addr 
                  [004254]  3072  ;- 
                  [004254]  3073  trap__tnv_in_pal:
         7F351128 [004254]  3074  	hw_stq/p r25, PT__R25(p_temp)	; get some scratch space
         7F551130 [004258]  3075  	hw_stq/p r26, PT__R26(p_temp)	; get some scratch space
                  [00425C]  3076  
         46E0711A [00425C]  3077  	bic	p23, #3, r26		; clean PAL pc
         673F1010 [004260]  3078  	hw_mfpr	r25, EV6__PAL_BASE	; (4,0L) get pal base
         433A053A [004264]  3079  	subq	r25, r26, r26		; pal base - cleaned pc
                  [004268]  3080  
         20FA5E5C [004268]  3081  	lda	p7, <call_pal__urti_ldq - trap__pal_base>(r26)
         48E07627 [00426C]  3082  	zapnot	p7, #^x3, p7		; 1.41 clean to be safe
         E4E00004 [004270]  3083  	beq	p7, trap__tnv_in_pal_urti
                  [004274]  3084  
                  [004274]  3085  					; 1.37 take out urti_stq
                  [004274]  3086  
                  [004274]  3087  					; 1.41 test for cmov check
         20FA6DC0 [004274]  3088  	lda	p7, <sys__mchk_istream_check_cmov - trap__pal_base>(r26)
         48E07627 [004278]  3089  	zapnot	p7, #^x3, p7
         E4E00006 [00427C]  3090  	beq	p7, trap__tnv_in_pal_istream_mchk
                  [004280]  3091  
                  [004280]  3092  .if ne ev6_p1
                  [004280]  3093  	lda	p7, <trap__emul_ldf - trap__pal_base>(r26)
                  [004280]  3094  	beq	p7, trap__emul_ldst_tnv
                  [004280]  3095  	
                  [004280]  3096  	lda	p7, <trap__emul_ldg - trap__pal_base>(r26)
                  [004280]  3097  	beq	p7, trap__emul_ldst_tnv
                  [004280]  3098  	
                  [004280]  3099  	lda	p7, <trap__emul_lds - trap__pal_base>(r26)
                  [004280]  3100  	beq	p7, trap__emul_ldst_tnv
                  [004280]  3101  	
                  [004280]  3102  	lda	p7, <trap__emul_ldt - trap__pal_base>(r26)
                  [004280]  3103  	beq	p7, trap__emul_ldst_tnv
                  [004280]  3104  	
                  [004280]  3105  	lda	p7, <trap__emul_stf_s - trap__pal_base>(r26)
                  [004280]  3106  	beq	p7, trap__emul_ldst_tnv
                  [004280]  3107  	
                  [004280]  3108  	lda	p7, <trap__emul_stg_s - trap__pal_base>(r26)
                  [004280]  3109  	beq	p7, trap__emul_ldst_tnv
                  [004280]  3110  	
                  [004280]  3111  	lda	p7, <trap__emul_sts_s - trap__pal_base>(r26)
                  [004280]  3112  	beq	p7, trap__emul_ldst_tnv
                  [004280]  3113  	
                  [004280]  3114  	lda	p7, <trap__emul_stt_s - trap__pal_base>(r26)
                  [004280]  3115  	beq	p7, trap__emul_ldst_tnv
                  [004280]  3116  .endc
                  [004280]  3117  
                  [004280]  3118  .if ne srom_debug_io*debug_err
                  [004280]  3119  	GET_32CONS      r16, ^x44544220, r31    ; DTB PAL
                  [004280]  3120  	sll             r16, #32, r16
                  [004280]  3121  	GET_32CONS      r16, ^x50414C20, r16    ;
                  [004280]  3122  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [004280]  3123  
                  [004280]  3124  	bis             p23, r31, r16
                  [004280]  3125  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [004280]  3126  .endc						; srom_debug_io
                  [004280]  3127  
         C3E00008 [004280]  3128  	br	r31, trap__ksp_invalid
                  [004284]  3129  ;+
                  [004284]  3130  ; trap__tnv_in_pal_urti
                  [004284]  3131  ;
                  [004284]  3132  ; Current state:
                  [004284]  3133  ;	p4		PTE
                  [004284]  3134  ;	p5		mm_stat
                  [004284]  3135  ;	p6		va
                  [004284]  3136  ;	p7		exc_sum
                  [004284]  3137  ;	r25		needs to be restored
                  [004284]  3138  ;	r26		needs to be restored
                  [004284]  3139  ;
                  [004284]  3140  ;	PT__STACK_PC	pc+4 of urti
                  [004284]  3141  ;-
                  [004284]  3142  trap__tnv_in_pal_urti:
         6F351128 [004284]  3143  	hw_ldq/p r25, PT__R25(p_temp)			; restore r25
         6F551130 [004288]  3144  	hw_ldq/p r26, PT__R26(p_temp)			; restore r26
                  [00428C]  3145  
         6EF51098 [00428C]  3146  	hw_ldq/p p23, PT__STACK_PC(p_temp)		; get urti pc+4
         42E09537 [004290]  3147  	subq	p23, #4, p23				; back up the pc
                  [004294]  3148  
         C3FFFFC8 [004294]  3149  	br	r31, trap__invalid_dpte_no_dismiss	; merge to post
                  [004298]  3150  ;+
                  [004298]  3151  ; trap__tnv_in_pal_istream_mchk
                  [004298]  3152  ;
                  [004298]  3153  ; Current state:
                  [004298]  3154  ;	p4		PTE
                  [004298]  3155  ;	p5		mm_stat
                  [004298]  3156  ;	p6		va
                  [004298]  3157  ;	p7		exc_sum
                  [004298]  3158  ;	r25		needs to be restored
                  [004298]  3159  ;	r26		needs to be restored
                  [004298]  3160  ;
                  [004298]  3161  ;	PT__STACK_PC	exc_addr
                  [004298]  3162  ;	PT__R1		saved mchk frame addr
                  [004298]  3163  ;-
                  [004298]  3164  trap__tnv_in_pal_istream_mchk:				; 1.41
         6F351128 [004298]  3165  	hw_ldq/p r25, PT__R25(p_temp)			; restore r25
         6F551130 [00429C]  3166  	hw_ldq/p r26, PT__R26(p_temp)			; restore r26
                  [0042A0]  3167  
         C3E00AE1 [0042A0]  3168  	br	r31, sys__mchk_istream_cmov_fault	; error on cmov
                  [0042A4]  3169  ;+
                  [0042A4]  3170  ; KSP invalid
                  [0042A4]  3171  ;
                  [0042A4]  3172  ; Entry:
                  [0042A4]  3173  ;	Branched to on KSP not valid.
                  [0042A4]  3174  ;
                  [0042A4]  3175  ; Function:
                  [0042A4]  3176  ;	Restore r25 and r26.
                  [0042A4]  3177  ;	Recover original pc.
                  [0042A4]  3178  ;	Set PT__HALT_CODE to HALT__KSP_INVAL.
                  [0042A4]  3179  ;	Branch to update PCB and enter console.
                  [0042A4]  3180  ;
                  [0042A4]  3181  ; Current state:
                  [0042A4]  3182  ;	EV6__PS		kernel
                  [0042A4]  3183  ;
                  [0042A4]  3184  ;	PT__USP		updated on switch from user to kernel
                  [0042A4]  3185  ;	PT__STACK_PC	original SavedPC or pc+4
                  [0042A4]  3186  ;
                  [0042A4]  3187  ;	p20		original ps
                  [0042A4]  3188  ;	p_misc_ps	if we were in kernel, original ps
                  [0042A4]  3189  ;			if we were in user, ps = 0 (cm=0, ipl=0)
                  [0042A4]  3190  ;
                  [0042A4]  3191  ;	r25		needs to be restored
                  [0042A4]  3192  ;	r26		needs to be restored
                  [0042A4]  3193  ;	r30		pointing to base of stack frame		
                  [0042A4]  3194  ;-
                  [0042A4]  3195  trap__ksp_invalid:
         6F351128 [0042A4]  3196  	hw_ldq/p r25, PT__R25(p_temp)		; restore r25
         6F551130 [0042A8]  3197  	hw_ldq/p r26, PT__R26(p_temp)		; restore r26
                  [0042AC]  3198  
         6EF51098 [0042AC]  3199  	hw_ldq/p p23, PT__STACK_PC(p_temp)	; get back original pc
                  [0042B0]  3200  
                  [0042B0]  3201  .if ne debug_err
                  [0042B0]  3202      .if ne pci_debug_io				; pci_debug_io
                  [0042B0]  3203  	DBGREG_PCI LED__ERR_KSP,p23
                  [0042B0]  3204      .endc					; pci_debug_io
                  [0042B0]  3205  
                  [0042B0]  3206      .if ne srom_debug_io			; srom_debug_io
                  [0042B0]  3207  	bis             r16, r31, p20		; safe copy in p20
                  [0042B0]  3208  
                  [0042B0]  3209  	GET_32CONS      r16, ^x42414420, r31    ; "BAD KSP "
                  [0042B0]  3210  	sll             r16, #32, r16
                  [0042B0]  3211  	GET_32CONS      r16, ^x4B535020, r16    ;
                  [0042B0]  3212  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [0042B0]  3213  	bis             p23, r31, r16
                  [0042B0]  3214  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [0042B0]  3215  
                  [0042B0]  3216  	bis             p20, r31, r16
                  [0042B0]  3217      .endc					; srom_debug_io
                  [0042B0]  3218  .endc
                  [0042B0]  3219  
         229F0002 [0042B0]  3220  	lda	p20, HALT__KSP_INVAL(r31)	; ksp invalid
         7E9510F0 [0042B4]  3221  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; store code (??)
                  [0042B8]  3222  
         C3E00171 [0042B8]  3223  	br	r31, trap__update_pcb_and_halt
                  [0042BC]  3224  ;+
                  [0042BC]  3225  ; Do a 1-1 mapping
                  [0042BC]  3226  ; Current state:
                  [0042BC]  3227  ;	p6	va
                  [0042BC]  3228  ;	p23	exc_addr
                  [0042BC]  3229  
                  [0042BC]  3230  ; We don't need a MB to hold up loads that may affect VA, etc.
                  [0042BC]  3231  ; The writes to DTB_TAGx and DTB_PTE0 hold up loads.
                  [0042BC]  3232  ;-
                  [0042BC]  3233  trap__d1to1:
                  [0042BC]  3234  
                  [0042BC]  3235  .if ne debug_dmiss				; debug_imiss
                  [0042BC]  3236      .if ne pci_debug_io				; pci_debug_io
                  [0042BC]  3237  	DBGREG_PCI LED__DMISS1TO1,p23
                  [0042BC]  3238  	DBGREG_PCI LED__DMISS1TO1,p6
                  [0042BC]  3239      .endc					; pci_debug_io
                  [0042BC]  3240      .if ne srom_debug_io			; srom_debug_io
                  [0042BC]  3241  
                  [0042BC]  3242  	bis	r16, r31, p5			; Save copy
                  [0042BC]  3243  
                  [0042BC]  3244          GET_32CONS      r16, ^x444D4953, r31	; "DMISS 11"
                  [0042BC]  3245          sll             r16, #32, r16
                  [0042BC]  3246          GET_32CONS      r16, ^x53203131, r16	;
                  [0042BC]  3247          bsr             p7, Sys_Cserve_Srom_Putstr
                  [0042BC]  3248  
                  [0042BC]  3249  	bis		p23, r31, r16		; Dump PC
                  [0042BC]  3250          bsr             p7, Sys_Cserve_Srom_Putnum
                  [0042BC]  3251  
                  [0042BC]  3252  	bis		p6, r31, r16		; Dump VA 
                  [0042BC]  3253          bsr             p7, Sys_Cserve_Srom_Putnum
                  [0042BC]  3254  
                  [0042BC]  3255  	bis	p5, r31, r16			; restore saved copy
                  [0042BC]  3256  
                  [0042BC]  3257      .endc					; srom_debug_io
                  [0042BC]  3258  .endc						; debug_imiss
                  [0042BC]  3259  
                  [0042BC]  3260  
         20BF3301 [0042BC]  3261  	lda	p5, ^x3301(r31)			; all r/w enable
         48C1B684 [0042C0]  3262  	srl	p6, #13, p4			; shift out the byte offset
         48841724 [0042C4]  3263  	sll	p4, #EV6__DTB_PTE0__PFN__S, p4	; get pfn into position
         44850404 [0042C8]  3264  	bis	p4, p5, p4			; produce the pte
                  [0042CC]  3265  
                  [0042CC]  3266  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
         47FF041F [0042CC]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [0042D0]  3267  
                  [0042D0]  3268  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [0042D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         77E62044 [0042D0]  3269  	hw_mtpr	p6, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E6A022 [0042D4]  3270  	hw_mtpr p6, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77E42155 [0042D8]  3271  	hw_mtpr	p4, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77E4A1AA [0042DC]  3272  	hw_mtpr	p4, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [0042E0]  3273  
         77FF27F0 [0042E0]  3274  	hw_mtpr	r31, <EV6__MM_STAT ! ^xF0>	; (4-7,0L) stall outside IQ
                  [0042E4]  3275  
                  [0042E4]  3276      .if eq force_path				; 1.41
                  [0042E4]  3277  	hw_ret	(p23)				; do the ret
                  [0042E4]  3278      .iff
                  [0042E4]  3279  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align
                  [0042E4]  3280  	PVC_VIOLATE <1007>
                  [0042E4]  3281  	PVC_VIOLATE <1020>			; stop permutation
                  [0042E4]  3282  	hw_jmp	(p23)				; return with jmp
                  [0042E4]  3283  	br	r31, .-4			; stop predictor
                  [0042E4]  3284      .endc					; 1.41                                                
         7BF78000 [0042E4]  3277I 	hw_ret	(p23)				; do the ret
                  [0042E8]  3285      	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [0042E8]    56M         GOTO_FREE_CODE
00000000 00000000 [0042E8]    62M     .align 6
00000000 00000000 [0042F0]
00000000 00000000 [0042F8]
File: ev6_osf_pal.mar
                  [004300]  3286  
                  [004300]  3287  ;------------------------------------------------------------------------
                  [004300]  3288  ;+
                  [004300]  3289  ; DFAULT - offset 380
                  [004300]  3290  ;
                  [004300]  3291  ; Entry:
                  [004300]  3292  ;	Vectored into via hardware trap on a Dstream fault or virtual
                  [004300]  3293  ;	address sign check error.
                  [004300]  3294  ;
                  [004300]  3295  ; Function:
                  [004300]  3296  ;	Prepare to take an Access Violation, FOR, or FOW.
                  [004300]  3297  ;
                  [004300]  3298  ; Note: VA and MM_STAT are not written on ld_vpte fault. Also, on
                  [004300]  3299  ; dfault not in pal, we can only get one of FOR or FOW (only
                  [004300]  3300  ; hw_ld/w can get both), so the order of checking does not matter.
                  [004300]  3301  ;
                  [004300]  3302  ; Register use:
                  [004300]  3303  ;	p4	scratch
                  [004300]  3304  ;	p5	mm_stat. For ld_vpte fault, should be unchanged from dtb miss
                  [004300]  3305  ;	p6	exc_addr
                  [004300]  3306  ;	p7	exc_sum
                  [004300]  3307  ;	p20	available once we determine we weren't in pal mode
                  [004300]  3308  ;
                  [004300]  3309  ; Exit state:
                  [004300]  3310  ;	On exit to trap__dc_tag_perr
                  [004300]  3311  ;	p5	mm_stat
                  [004300]  3312  ;	p6	pc of faulting instruction
                  [004300]  3313  ;	p7	exc_sum
                  [004300]  3314  ;
                  [004300]  3315  ;	On exit to dfault_in_pal
                  [004300]  3316  ;	p5	mm_stat
                  [004300]  3317  ;	p6	pc of faulting instruction
                  [004300]  3318  ;	p7	exc_sum
                  [004300]  3319  ;-
                  [004300]  3320  	START_HW_VECTOR <DFAULT>
File: ev6_pal_macros.mar
                  [004300]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000380]    44i TRAP__DFAULT:
File: ev6_osf_pal.mar
                  [000380]  3321  
         64DF0600 [000380]  3322  	hw_mfpr	p6, EV6__EXC_ADDR		; (0L) save exception address
         64FF0F00 [000384]  3323  	hw_mfpr p7, EV6__EXC_SUM		; (0L) get exc_sum
         64BF2700 [000388]  3324  	hw_mfpr	p5, EV6__MM_STAT		; (0L) get mm_stat
                  [00038C]  3325  
                  [00038C]  3326  .if ne pci_debug_io*debug_err
                  [00038C]  3327  	DBGREG_PCI LED__ERR_DFLT,p6
                  [00038C]  3328  .endc
         48A15684 [00038C]  3329  	srl	p5, #EV6__MM_STAT__DC_TAG_PERR__S, p4
         F0801037 [000390]  3330  	blbs	p4, trap__dc_tag_perr		; dc_tag_perr => another flow
         F0C01009 [000394]  3331  	blbs	p6, trap__dfault_in_pal		; pal mode => another flow
                  [000398]  3332  
                  [000398]  3333  	CONT_HW_VECTOR <DFAULT>
File: ev6_pal_macros.mar
                  [000398]    71M     ASSUME <_pal_vec_cont> eq 0
         C3E00FD9 [000398]    76i 	br	r31, TRAP__DFAULT_CONT
                  [00039C]    79M                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [00039C]    81M     GOTO_FREE_CODE
                  [004300]    62M     .align 6
                  [004300]    86i TRAP__DFAULT_CONT:
File: ev6_osf_pal.mar
                  [004300]  3334  
         E0A00005 [004300]  3335  	blbc	p5, trap__dfault_check		; load => check x31
                  [004304]  3336  
         48A09687 [004304]  3337  	srl	p5, #EV6__MM_STAT__OPCODE__S, p7	; get opcode
         44E7F007 [004308]  3338  	and	p7, #EV6__MM_STAT__OPCODE__M, p7	; clean it
         40E315A7 [00430C]  3339  	cmpeq	p7, #^x18, p7				; ECB/WH64?
         F4E00028 [004310]  3340  	bne	p7, trap__dfault_dismiss		; dismiss if so
                  [004314]  3341  
         C3E00004 [004314]  3342  	br	r31, trap__dfault_no_dismiss	; store => no dismiss
                  [004318]  3343  
                  [004318]  3344  trap__dfault_check:
         48E11687 [004318]  3345  	srl	p7, #EV6__EXC_SUM__REG__S, p7	; get ra
         44E3F007 [00431C]  3346  	and	p7, #EV6__EXC_SUM__REG__M, p7	; clean ra
         40E3F5A7 [004320]  3347  	cmpeq	p7, #^x1F, p7			; compare against x31
         F4E00023 [004324]  3348  	bne	p7, trap__dfault_dismiss	; branch => x31
                  [004328]  3349  ;
                  [004328]  3350  ; Take the trap.
                  [004328]  3351  ; Current state.
                  [004328]  3352  ;	p5	mm_stat
                  [004328]  3353  ;	p6	exc_addr
                  [004328]  3354  ;
                  [004328]  3355  trap__dfault_no_dismiss:
                  [004328]  3356  
         66FFC2F0 [004328]  3357  	hw_mfpr	p23, EV6__VA				; (4-7,1L) get va
                  [00432C]  3358  
         63FF4000 [00432C]  3359  	mb						; protect mm_stat and va
                  [004330]  3360  
         46C11004 [004330]  3361  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         46C1F014 [004334]  3362  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4800008 [004338]  3363  	beq	p4, trap__dfault_stack			; skip switch if kernel
                  [00433C]  3364  ;
                  [00433C]  3365  ; Switch to kernel mode.
                  [00433C]  3366  ; Current state:
                  [00433C]  3367  ;	p5		mm_stat
                  [00433C]  3368  ;	p6		exc_addr
                  [00433C]  3369  ;	p20		original ps
                  [00433C]  3370  ;	p23		va
                  [00433C]  3371  ;
                  [00433C]  3372  dfault_cm_offset = <trap__dfault_stack - trap__dfault_cm>
                  [00433C]  3373  
         7FD51020 [00433C]  3374  	hw_stq/p r30, PT__USP(p_temp)				; save user SP
         6FD51018 [004340]  3375  	hw_ldq/p r30, PT__KSP(p_temp)				; get kernel SP
         46C1F116 [004344]  3376  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc		; cm=0, ipl=0
                  [004348]  3377  
         C0800000 [004348]  3378  	br	p4, trap__dfault_cm			; change mode to kernel
                  [00434C]  3379  trap__dfault_cm:
         40823404 [00434C]  3380  	addq	p4, #<dfault_cm_offset+1>, p4		; jump past in palmode
         77FF0910 [004350]  3381  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [004354]  3382  	bsr	r31, .					; push prediction stack
                  [004358]  3383  	PVC_JSR	dfault_cm				; synch up
File: ev6_pal_macros.mar
                  [004358]   526i  pvc_lbl \pcv_index, \pcv_jsr_dfault_cm0, osf
File: ev6_osf_pal.mar
         7BE4A000 [004358]  3384  	hw_ret_stall (p4)				; pop prediction stack
                  [00435C]  3385  	PVC_JSR	dfault_cm, dest=1
File: ev6_pal_macros.mar
                  [00435C]   529i  pvc_lbl \pcv_index, \pcv_jsr_dfault_cm0, osf, \pcv_jsr_dfault_cm0_inst
File: ev6_osf_pal.mar
                  [00435C]  3386  ;
                  [00435C]  3387  ; Take the trap. Be careful of tb miss!
                  [00435C]  3388  ; Current state:
                  [00435C]  3389  ;	p5		mm_stat
                  [00435C]  3390  ;	p6		exc_addr
                  [00435C]  3391  ;	p20		original ps
                  [00435C]  3392  ;	p23		va
                  [00435C]  3393  ;	p_misc__ps	if we were in kernel, original ps
                  [00435C]  3394  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [00435C]  3395  ;
                  [00435C]  3396  trap__dfault_stack:
         7CD51098 [00435C]  3397  	hw_stq/p p6, PT__STACK_PC(p_temp)		; store away pc
         7EF510A0 [004360]  3398  	hw_stq/p p23, PT__NEW_A0(p_temp)		; store away va
         48A03687 [004364]  3399  	srl	p5, #1, p7				; shift mm_stat bits
         44E0F007 [004368]  3400  	and	p7, #^x7, p7				; clean to fow/for/acv
         44E03287 [00436C]  3401  	cmovlbs	p7, #1, p7				; take acv over fox
         7CF510A8 [004370]  3402  	hw_stq/p p7, PT__NEW_A1(p_temp)			; MMCSR
         44A03004 [004374]  3403  	and	p5, #1, p4				; get r/w bit
         7C9510B0 [004378]  3404  	hw_stq/p p4, PT__NEW_A2(p_temp)			; store away r/w bit
                  [00437C]  3405  
         23DEFFD0 [00437C]  3406  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [004380]  3407  
         B69E0000 [004380]  3408  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [004384]  3409  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [004388]  3410  
         6E951098 [004388]  3411  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get nextpc back
                  [00438C]  3412  
         B7BE0010 [00438C]  3413  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [004390]  3414  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [004394]  3415  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [004398]  3416  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save pc
                  [00439C]  3417  
                  [00439C]  3418  .if ne debug_err					; debug_err
                  [00439C]  3419      .if ne srom_debug_io
                  [00439C]  3420  	GET_32CONS      r16, ^x42414420, r31    	; BAD DFLT
                  [00439C]  3421  	sll             r16, #32, r16
                  [00439C]  3422  	GET_32CONS      r16, ^x44464C54, r16    ;
                  [00439C]  3423  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [00439C]  3424  
                  [00439C]  3425  	hw_ldq/p 	r16, PT__NEW_A0(p_temp)		; Dump faulting VA
                  [00439C]  3426  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [00439C]  3427  
                  [00439C]  3428  	bis		p20, r31, r16			; p20 = faulting PC+4
                  [00439C]  3429  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [00439C]  3430      .endc
                  [00439C]  3431  .endc							; debug_err
                  [00439C]  3432  
         6EF51050 [00439C]  3433  	hw_ldq/p p23, PT__ENT_MM(p_temp)		; get entry point
         6FB51028 [0043A0]  3434  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         6E1510A0 [0043A4]  3435  	hw_ldq/p r16, PT__NEW_A0(p_temp)		; a0 <- va
         6E3510A8 [0043A8]  3436  	hw_ldq/p r17, PT__NEW_A1(p_temp)		; a1 <- opcode
         6E5510B0 [0043AC]  3437  	hw_ldq/p r18, PT__NEW_A2(p_temp)		; a2 <- register number
                  [0043B0]  3438  
         7BF78000 [0043B0]  3439  	hw_ret	(p23)					; to os
                  [0043B4]  3440  
                  [0043B4]  3441  ;+
                  [0043B4]  3442  ; Dismiss load x31
                  [0043B4]  3443  ;
                  [0043B4]  3444  ; We don't need a MB to hold up loads that may affect MM_STAT.
                  [0043B4]  3445  ; To get here, we have taken conditional branches that on the
                  [0043B4]  3446  ; mfpr MM_STAT being issued.
                  [0043B4]  3447  
                  [0043B4]  3448  ;-
                  [0043B4]  3449  trap__dfault_dismiss:
         40C09406 [0043B4]  3450  	addq	p6, #4, p6			; dismiss
         7BE68000 [0043B8]  3451  	hw_ret	(p6)
                  [0043BC]  3452  ;+
                  [0043BC]  3453  ; trap__dfault_in_pal
                  [0043BC]  3454  ;
                  [0043BC]  3455  ; Entry:
                  [0043BC]  3456  ; 	Dstream fault trap has been taken, exc_addr points to pal code.
                  [0043BC]  3457  ;
                  [0043BC]  3458  ; Current state:
                  [0043BC]  3459  ;	p5 		mm_stat
                  [0043BC]  3460  ;	p6		pc of instruction causing Dstream fault. Can be from
                  [0043BC]  3461  ;				call_pal PALcode
                  [0043BC]  3462  ;				kernel stack processing (KSP not valid case)
                  [0043BC]  3463  ;	p7		available
                  [0043BC]  3464  ;	p23		if vpte dfault => exc_addr of instruction causing miss
                  [0043BC]  3465  ;
                  [0043BC]  3466  ;	PT__STACK_PC	in case of urti, pc+4 of call_pal invocation
                  [0043BC]  3467  ;			in case of rti & retsys, leave pc+4 for now
                  [0043BC]  3468  ;			in case of stack builders, whatever SavedPC was
                  [0043BC]  3469  ;
                  [0043BC]  3470  ;	CNS__FP_PC	for pass1, user pc of floating point ld/st
                  [0043BC]  3471  ;
                  [0043BC]  3472  ;	VA		faulting VA
                  [0043BC]  3473  ;
                  [0043BC]  3474  
                  [0043BC]  3475  ; Exit state:
                  [0043BC]  3476  ;-
                  [0043BC]  3477  trap__dfault_in_pal:
         7F351128 [0043BC]  3478  	hw_stq/p r25, PT__R25(p_temp)	; get some scratch space
         7F551130 [0043C0]  3479  	hw_stq/p r26, PT__R26(p_temp)	; get some scratch space
                  [0043C4]  3480  
         44C0711A [0043C4]  3481  	bic	p6, #3, r26		; clean PAL pc
         673F1010 [0043C8]  3482  	hw_mfpr	r25, EV6__PAL_BASE	; (4,0L) get pal base
         433A053A [0043CC]  3483  	subq	r25, r26, r26		; pal base - cleaned pc
                  [0043D0]  3484  
                  [0043D0]  3485  	.if ne pte_eco			; 1.49 conditionalize further
                  [0043D0]  3486  	.if ne force_path2		; 1.44 test for ldbu in dtb miss
                  [0043D0]  3487  
                  [0043D0]  3488  	lda	p7, <trap__dtbm_single_hack1 - trap__pal_base>(r26)
                  [0043D0]  3489  	zapnot	p7, #^x3, p7
                  [0043D0]  3490  	beq	p7, trap__stc_hack
                  [0043D0]  3491  
                  [0043D0]  3492  	lda	p7, <trap__dtbm_single_hack2 - trap__pal_base>(r26)
                  [0043D0]  3493  	zapnot	p7, #^x3, p7
                  [0043D0]  3494  	beq	p7, trap__stc_hack
                  [0043D0]  3495  
                  [0043D0]  3496  	lda	p7, <trap__dtbm_single_hack3 - trap__pal_base>(r26)
                  [0043D0]  3497  	zapnot	p7, #^x3, p7
                  [0043D0]  3498  	beq	p7, trap__stc_hack
                  [0043D0]  3499  
                  [0043D0]  3500  	.endc				; 1.44 force_path2
                  [0043D0]  3501  	.endc				; 1.49 pte_eco
                  [0043D0]  3486I 	.if ne force_path2		; 1.44 test for ldbu in dtb miss
                  [0043D0]  3487I 
                  [0043D0]  3488I 	lda	p7, <trap__dtbm_single_hack1 - trap__pal_base>(r26)
                  [0043D0]  3489I 	zapnot	p7, #^x3, p7
                  [0043D0]  3490I 	beq	p7, trap__stc_hack
                  [0043D0]  3491I 
                  [0043D0]  3492I 	lda	p7, <trap__dtbm_single_hack2 - trap__pal_base>(r26)
                  [0043D0]  3493I 	zapnot	p7, #^x3, p7
                  [0043D0]  3494I 	beq	p7, trap__stc_hack
                  [0043D0]  3495I 
                  [0043D0]  3496I 	lda	p7, <trap__dtbm_single_hack3 - trap__pal_base>(r26)
                  [0043D0]  3497I 	zapnot	p7, #^x3, p7
                  [0043D0]  3498I 	beq	p7, trap__stc_hack
                  [0043D0]  3499I 
                  [0043D0]  3500I 	.endc				; 1.44 force_path2
                  [0043D0]  3487I 
         20FA0354 [0043D0]  3488I 	lda	p7, <trap__dtbm_single_hack1 - trap__pal_base>(r26)
         48E07627 [0043D4]  3489I 	zapnot	p7, #^x3, p7
         E4E00011 [0043D8]  3490I 	beq	p7, trap__stc_hack
                  [0043DC]  3491I 
         20FA4150 [0043DC]  3492I 	lda	p7, <trap__dtbm_single_hack2 - trap__pal_base>(r26)
         48E07627 [0043E0]  3493I 	zapnot	p7, #^x3, p7
         E4E0000E [0043E4]  3494I 	beq	p7, trap__stc_hack
                  [0043E8]  3495I 
         20FA4170 [0043E8]  3496I 	lda	p7, <trap__dtbm_single_hack3 - trap__pal_base>(r26)
         48E07627 [0043EC]  3497I 	zapnot	p7, #^x3, p7
         E4E0000B [0043F0]  3498I 	beq	p7, trap__stc_hack
                  [0043F4]  3499I 
                  [0043F4]  3502  		
         20FA0590 [0043F4]  3503  	lda	p7, <trap__itb_miss_vpte - trap__pal_base>(r26)
         E4E00015 [0043F8]  3504  	beq	p7, trap__ldvpte_dfault
                  [0043FC]  3505  
         20FA0320 [0043FC]  3506  	lda	p7, <trap__dtbm_single_vpte - trap__pal_base>(r26)
         E4E00013 [004400]  3507  	beq	p7, trap__ldvpte_dfault
                  [004404]  3508  
         20FA5E5C [004404]  3509  	lda	p7, <call_pal__urti_ldq - trap__pal_base>(r26)
         48E07627 [004408]  3510  	zapnot	p7, #^x3, p7		; 1.41 clean to be safe
         E4E00008 [00440C]  3511  	beq	p7, trap__dfault_in_pal_urti
                  [004410]  3512  
                  [004410]  3513  					; 1.37 take out urti_stq
                  [004410]  3514  
                  [004410]  3515  					; 1.41 test for cmov check
         20FA6DC0 [004410]  3516  	lda	p7, <sys__mchk_istream_check_cmov - trap__pal_base>(r26)
         48E07627 [004414]  3517  	zapnot	p7, #^x3, p7
         E4E0000A [004418]  3518  	beq	p7, trap__dfault_in_pal_istream_mchk
                  [00441C]  3519  
                  [00441C]  3520  .if ne ev6_p1
                  [00441C]  3521  	lda	p7, <trap__emul_ldf - trap__pal_base>(r26)
                  [00441C]  3522  	beq	p7, trap__emul_ldst_dfault
                  [00441C]  3523  	
                  [00441C]  3524  	lda	p7, <trap__emul_ldg - trap__pal_base>(r26)
                  [00441C]  3525  	beq	p7, trap__emul_ldst_dfault
                  [00441C]  3526  	
                  [00441C]  3527  	lda	p7, <trap__emul_lds - trap__pal_base>(r26)
                  [00441C]  3528  	beq	p7, trap__emul_ldst_dfault
                  [00441C]  3529  	
                  [00441C]  3530  	lda	p7, <trap__emul_ldt - trap__pal_base>(r26)
                  [00441C]  3531  	beq	p7, trap__emul_ldst_dfault
                  [00441C]  3532  	
                  [00441C]  3533  	lda	p7, <trap__emul_stf_s - trap__pal_base>(r26)
                  [00441C]  3534  	beq	p7, trap__emul_ldst_dfault
                  [00441C]  3535  	
                  [00441C]  3536  	lda	p7, <trap__emul_stg_s - trap__pal_base>(r26)
                  [00441C]  3537  	beq	p7, trap__emul_ldst_dfault
                  [00441C]  3538  	
                  [00441C]  3539  	lda	p7, <trap__emul_sts_s - trap__pal_base>(r26)
                  [00441C]  3540  	beq	p7, trap__emul_ldst_dfault
                  [00441C]  3541  	
                  [00441C]  3542  	lda	p7, <trap__emul_stt_s - trap__pal_base>(r26)
                  [00441C]  3543  	beq	p7, trap__emul_ldst_dfault
                  [00441C]  3544  .endc
                  [00441C]  3545  
         C3FFFFA1 [00441C]  3546  	br	r31, trap__ksp_invalid		; must be ksp invalid
                  [004420]  3547  
                  [004420]  3548  .if ne force_path2				; 1.44
                  [004420]  3549  ;+
                  [004420]  3550  ; trap__stc_hack
                  [004420]  3551  ;
                  [004420]  3552  ; Current state:
                  [004420]  3553  ;	p6		pal pc
                  [004420]  3554  ;	p23		original pc
                  [004420]  3555  ;	r25		needs to be restored
                  [004420]  3556  ;	r26		needs to be restored
                  [004420]  3557  ;
                  [004420]  3558  ; The real stx_c will fault as well. Recover back to
                  [004420]  3559  ; dtbm miss flow after the load.
                  [004420]  3560  ;-
                  [004420]  3561  trap__stc_hack:
                  [004420]  3562  	hw_ldq/p r25, PT__R25(p_temp)		; restore r25
                  [004420]  3563  	hw_ldq/p r26, PT__R26(p_temp)		; restore r26
                  [004420]  3564  
                  [004420]  3565  	addq	p6, #4, p6			; return past load
                  [004420]  3566  	hw_ret	(p6)				; return
                  [004420]  3567  .endc						; 1.44
                  [004420]  3549I ;+
                  [004420]  3550I ; trap__stc_hack
                  [004420]  3551I ;
                  [004420]  3552I ; Current state:
                  [004420]  3553I ;	p6		pal pc
                  [004420]  3554I ;	p23		original pc
                  [004420]  3555I ;	r25		needs to be restored
                  [004420]  3556I ;	r26		needs to be restored
                  [004420]  3557I ;
                  [004420]  3558I ; The real stx_c will fault as well. Recover back to
                  [004420]  3559I ; dtbm miss flow after the load.
                  [004420]  3560I ;-
                  [004420]  3561I trap__stc_hack:
         6F351128 [004420]  3562I 	hw_ldq/p r25, PT__R25(p_temp)		; restore r25
         6F551130 [004424]  3563I 	hw_ldq/p r26, PT__R26(p_temp)		; restore r26
                  [004428]  3564I 
         40C09406 [004428]  3565I 	addq	p6, #4, p6			; return past load
         7BE68000 [00442C]  3566I 	hw_ret	(p6)				; return
                  [004430]  3568  ;+
                  [004430]  3569  ; trap__dfault_in_pal_urti
                  [004430]  3570  ;
                  [004430]  3571  ; Current state:
                  [004430]  3572  ;	p5 		mm_stat
                  [004430]  3573  ;	r25		needs to be restored
                  [004430]  3574  ;	r26		needs to be restored
                  [004430]  3575  ;
                  [004430]  3576  ;	VA		faulting VA
                  [004430]  3577  ;
                  [004430]  3578  ;	PT__STACK_PC	pc+4 of urti
                  [004430]  3579  ;
                  [004430]  3580  ; Exit to trap__dfault_merge_from_urti:
                  [004430]  3581  ;	p5		mm_stat
                  [004430]  3582  ;	p6		exc_addr
                  [004430]  3583  ;-
                  [004430]  3584  trap__dfault_in_pal_urti:
         6F351128 [004430]  3585  	hw_ldq/p r25, PT__R25(p_temp)			; restore r25
         6F551130 [004434]  3586  	hw_ldq/p r26, PT__R26(p_temp)			; restore r26
                  [004438]  3587  
         6CD51098 [004438]  3588  	hw_ldq/p p6, PT__STACK_PC(p_temp)		; get urti pc+4
         40C09526 [00443C]  3589  	subq	p6, #4, p6				; back up the pc
         C3FFFFB9 [004440]  3590  	br	r31, trap__dfault_no_dismiss		; merge to post
                  [004444]  3591  ;+
                  [004444]  3592  ; trap__dfault_in_pal_istream_mchk
                  [004444]  3593  ;
                  [004444]  3594  ; Current state:
                  [004444]  3595  ;	p5 		mm_stat
                  [004444]  3596  ;	r25		needs to be restored
                  [004444]  3597  ;	r26		needs to be restored
                  [004444]  3598  ;
                  [004444]  3599  ;	VA		faulting VA
                  [004444]  3600  ;
                  [004444]  3601  ;	PT__STACK_PC	exc_addr
                  [004444]  3602  ;	PT__R1		save mchk frame addr
                  [004444]  3603  ;-
                  [004444]  3604  trap__dfault_in_pal_istream_mchk:				; 1.41
         6F351128 [004444]  3605  	hw_ldq/p r25, PT__R25(p_temp)			; restore r25
         6F551130 [004448]  3606  	hw_ldq/p r26, PT__R26(p_temp)			; restore r26
                  [00444C]  3607  
         C3E00A76 [00444C]  3608  	br	r31, sys__mchk_istream_cmov_fault	; error on cmov
                  [004450]  3609  ;+
                  [004450]  3610  ; trap__ldvpte_dfault
                  [004450]  3611  ;
                  [004450]  3612  ; Entry:
                  [004450]  3613  ;	Branched to from dfault of ld_vpte during tb miss processing.
                  [004450]  3614  ;	For itb miss, the originator is user code. For dtb miss, the
                  [004450]  3615  ;	originator can be user code, PALcode (including stack processing).
                  [004450]  3616  ;
                  [004450]  3617  ;	This is a halt condition. This means that we had a valid level 2
                  [004450]  3618  ;	PTE with KRE/KWE=0 in the TB, pulled in by the double miss
                  [004450]  3619  ;	flow. The SRM states that protection is ignored on level 1
                  [004450]  3620  ;	and level 2 valid PTE's, implying that valid level 1 and
                  [004450]  3621  ;	level 2 PTE's must have KRE/WRE set so that TB accesses work.
                  [004450]  3622  ;
                  [004450]  3623  ; Function:
                  [004450]  3624  ;	Restore r25 and r26.
                  [004450]  3625  ;	Set PT__HALT_CODE to HALT__PTBR_INVAL.
                  [004450]  3626  ;	Recover original pc.
                  [004450]  3627  ;	Branch to update PCB and enter console.
                  [004450]  3628  ;
                  [004450]  3629  ; Current state:
                  [004450]  3630  ;	r25		needs to be restored
                  [004450]  3631  ;	r26		needs to be restored
                  [004450]  3632  ;
                  [004450]  3633  ;	p23		1.44 pc of instruction causing tb miss
                  [004450]  3634  ;-
                  [004450]  3635  trap__ldvpte_dfault:
         6F351128 [004450]  3636  	hw_ldq/p r25, PT__R25(p_temp)			; restore r25
         6F551130 [004454]  3637  	hw_ldq/p r26, PT__R26(p_temp)			; restore r26
                  [004458]  3638  
         229F0004 [004458]  3639  	lda	p20, HALT__PTBR_INVAL(r31)		; ptbr invalid
         7E9510F0 [00445C]  3640  	hw_stq/p p20, PT__HALT_CODE(p_temp)		; store code (??)
                  [004460]  3641  
                  [004460]  3642  	; 1.44 delete PT_VPTE_PC load into p23. p23 still valid.
         C3E00107 [004460]  3643  	br	r31, trap__update_pcb_and_halt
                  [004464]  3644  
                  [004464]  3645  ;+
                  [004464]  3646  ; dc_tag_perr
                  [004464]  3647  ;
                  [004464]  3648  ; Dcache tag parity error occured during the initial tag probe of a load
                  [004464]  3649  ; or store instruction. This error created a synchronous fault to the dfault
                  [004464]  3650  ; PALcode entry point, and is correctable. The virtual address associated
                  [004464]  3651  ; with the error is available in the VA register.
                  [004464]  3652  ;
                  [004464]  3653  ; We evict using 2 hw_ld's with pa's that with the same index, and
                  [004464]  3654  ; different tags from each other.
                  [004464]  3655  ;
                  [004464]  3656  ; WARNING!!!!! This code really only works if both sets were originally
                  [004464]  3657  ; enabled. Otherwise we could load into the normally disabled cache, and
                  [004464]  3658  ; could hit there even when it is re-disabled. So if we have systems that
                  [004464]  3659  ; we allow to run with one cache, we have to be careful to chose pa's that
                  [004464]  3660  ; the PALcode would normally never touch.
                  [004464]  3661  ;
                  [004464]  3662  ; If we are in PALmode, we do an error halt. Shadow registers have already
                  [004464]  3663  ; been clobbered.
                  [004464]  3664  ;
                  [004464]  3665  ; Current state:
                  [004464]  3666  ;	p5		mm_stat
                  [004464]  3667  ;	p6		exc_addr
                  [004464]  3668  ;	p7		exc_sum
                  [004464]  3669  ;-
                  [004464]  3670  NO_DCTAG_PAR_EN = -
                  [004464]  3671  		<<dcache_set_en@EV6__DC_CTL__SET_EN__S> ! -
                  [004464]  3672  		 <0@EV6__DC_CTL__DCTAG_PAR_EN__S> ! -
                  [004464]  3673  		 <0@EV6__DC_CTL__DCDAT_ERR_EN__S>>
                  [004464]  3674  
                  [004464]  3675  	ALIGN_FETCH_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [004464]   262i 	.align 4
         00000000 [00446C]
File: ev6_osf_pal.mar
                  [004470]  3676  
                  [004470]  3677  trap__dc_tag_perr:
         649FC2F0 [004470]  3678  	hw_mfpr	p4, EV6__VA			; (4-7,1L) get va
         44C60417 [004474]  3679  	bis	p6, p6, p23			; move exc_addr to p23
         47E07414 [004478]  3680  	bis	r31, #NO_DCTAG_PAR_EN, p20	; disable dctag_par_en
         77F42940 [00447C]  3681  	hw_mtpr	p20, EV6__DC_CTL		; (6,0L)
                  [004480]  3682  
         77F42940 [004480]  3683  	hw_mtpr	p20, EV6__DC_CTL		; (6,0L) force retire
         489F1604 [004484]  3684  	zap	p4, #^xF8, p4			; use va<23:0> as a pa
                  [004488]  3685  
         63FF4000 [004488]  3686  	mb
                  [00448C]  3687  
         24DF0001 [00448C]  3688  	ldah	p6, 1(r31)			; use <16> as a toggle bit
         44860806 [004490]  3689  	xor	p4, p6, p6			; xor to get toggle
         6CE61000 [004494]  3690  	hw_ldq/p p7, (p6)			; force evict from one set
                  [004498]  3691  
         24DF0002 [004498]  3692  	ldah	p6, 2(r31)			; use <17> as a toggle bit
         44860806 [00449C]  3693  	xor	p4, p6, p6			; xor to get toggle
         6CE61000 [0044A0]  3694  	hw_ldq/p p7, (p6)			; force evict from other
                  [0044A4]  3695  
         63FF4000 [0044A4]  3696  	mb					; force completion
                  [0044A8]  3697  
                  [0044A8]  3698  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
47FF041F 47FF041F [0044A8]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [0044B0]  3699  
         6E9510C0 [0044B0]  3700  	hw_ldq/p p20, PT__IMPURE(p_temp)	; impure base
         6E941398 [0044B4]  3701  	hw_ldq/p p20, CNS__DC_CTL(p20)		; get old DC_CTL value
         77F42940 [0044B8]  3702  	hw_mtpr	p20, EV6__DC_CTL		; (6,0L) restore DC_CTL
         47FF041F [0044BC]  3703  	bis	r31, r31, r31
                  [0044C0]  3704  
         77F42940 [0044C0]  3705  	hw_mtpr	p20, EV6__DC_CTL		; (6,0L) force retire
         C3E0096E [0044C4]  3706  	br	r31, sys__mchk_dc_tag_perr	; post retryable mchk
                  [0044C8]  3707  
                  [0044C8]  3708  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [0044C8]    56M         GOTO_FREE_CODE
00000000 00000000 [0044C8]    62M     .align 6
00000000 00000000 [0044D0]
00000000 00000000 [0044D8]
00000000 00000000 [0044E0]
00000000 00000000 [0044E8]
00000000 00000000 [0044F0]
00000000 00000000 [0044F8]
File: ev6_osf_pal.mar
                  [004500]  3709  
                  [004500]  3710  ;------------------------------------------------------------------------
                  [004500]  3711  ;+
                  [004500]  3712  ; OPCDEC - offset 400
                  [004500]  3713  ;
                  [004500]  3714  ; Entry:
                  [004500]  3715  ;	Vectored into via hardware trap on illegal opcode or function field
                  [004500]  3716  ;	fault.
                  [004500]  3717  ; Function:
                  [004500]  3718  ;	Build stack frame.
                  [004500]  3719  ;		r16 (a0)	opDec code
                  [004500]  3720  ;		r17 (a1)	unpredictable
                  [004500]  3721  ;		r18 (a2)	unpredictable
                  [004500]  3722  ;	Vector via entIF.
                  [004500]  3723  ;-
                  [004500]  3724  
                  [004500]  3725  	START_HW_VECTOR <OPCDEC>
File: ev6_pal_macros.mar
                  [004500]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000400]    44i TRAP__OPCDEC:
File: ev6_osf_pal.mar
                  [000400]  3726  
                  [000400]  3727  ASSUME OSF_P_MISC__PS__S eq 0
                  [000400]  3728  
         66FF0600 [000400]  3729  	hw_mfpr	p23, EV6__EXC_ADDR			; (0L) save exc_addr
                  [000404]  3730  	NOP						; no conditional br
File: ev6_pal_macros.mar
         47FF041F [000404]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [000408]  3731  	NOP						;	in 1st block
File: ev6_pal_macros.mar
         47FF041F [000408]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00040C]  3732  	NOP
File: ev6_pal_macros.mar
         47FF041F [00040C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [000410]  3733  
                  [000410]  3734  .if ne debug_err*pci_debug_io
                  [000410]  3735  	DBGREG_PCI LED__ERR_OPCDEC,p23
                  [000410]  3736  	CONT_HW_VECTOR <OPCDEC>
                  [000410]  3737  .endc
                  [000410]  3738  
                  [000410]  3739  .if ne ev6_p1
                  [000410]  3740  	hw_ldq/p p4, PT__IMPURE(p_temp)		; get base of impure area
                  [000410]  3741  	br	r31, trap__emul_merge		; let floating emulator handle
                  [000410]  3742  trap__opcdec_merge:
                  [000410]  3743  .endc
                  [000410]  3744  
         F2E00046 [000410]  3745  	blbs	p23, trap__pal_exc_bugcheck		; mchk if fen within pal
         42E09417 [000414]  3746  	addq	p23, #4, p23				; next pc
                  [000418]  3747  
                  [000418]  3748  trap__opcdec_call_pal:
         46C11004 [000418]  3749  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         46C1F014 [00041C]  3750  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4800008 [000420]  3751  	beq	p4, trap__opcdec_stack			; skip switch if kernel
                  [000424]  3752  ;
                  [000424]  3753  ; Switch to kernel mode. 
                  [000424]  3754  ;
                  [000424]  3755  opcdec_cm_offset = <trap__opcdec_stack - trap__opcdec_cm>
                  [000424]  3756  
         7FD51020 [000424]  3757  	hw_stq/p r30, PT__USP(p_temp)			; save user SP
         6FD51018 [000428]  3758  	hw_ldq/p r30, PT__KSP(p_temp)			; get kernel SP
         46C1F116 [00042C]  3759  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; cm=0, ipl=0
                  [000430]  3760  
         C0C00000 [000430]  3761  	br	p6, trap__opcdec_cm			; change mode to kernel
                  [000434]  3762  trap__opcdec_cm:
         40C23406 [000434]  3763  	addq	p6, #<opcdec_cm_offset+1>, p6		; jump past in palmode
         77FF0910 [000438]  3764  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [00043C]  3765  	bsr	r31, .					; push prediction stack
                  [000440]  3766  	PVC_JSR	opcdec_cm				; synch up
File: ev6_pal_macros.mar
                  [000440]   526i  pvc_lbl \pcv_index, \pcv_jsr_opcdec_cm0, osf
File: ev6_osf_pal.mar
         7BE6A000 [000440]  3767  	hw_ret_stall (p6)				; pop prediction stack
                  [000444]  3768  	PVC_JSR	opcdec_cm, dest=1
File: ev6_pal_macros.mar
                  [000444]   529i  pvc_lbl \pcv_index, \pcv_jsr_opcdec_cm0, osf, \pcv_jsr_opcdec_cm0_inst
File: ev6_osf_pal.mar
                  [000444]  3769  ;
                  [000444]  3770  ; Take the trap. Be careful of tb miss!
                  [000444]  3771  ; Current state:
                  [000444]  3772  ;	p_misc__ps	if we were in kernel, original ps
                  [000444]  3773  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [000444]  3774  ;	p20		original ps
                  [000444]  3775  ;	p23		nextpc
                  [000444]  3776  ;
                  [000444]  3777  trap__opcdec_stack:
         7EF51098 [000444]  3778  	hw_stq/p p23, PT__STACK_PC(p_temp)		; store away nextpc
                  [000448]  3779  
         23DEFFD0 [000448]  3780  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [00044C]  3781  
         B69E0000 [00044C]  3782  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [000450]  3783  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [000454]  3784  
         6E951098 [000454]  3785  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get pc back
                  [000458]  3786  
         B7BE0010 [000458]  3787  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [00045C]  3788  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [000460]  3789  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [000464]  3790  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save next pc
                  [000468]  3791  
                  [000468]  3792  .if ne srom_debug_io*debug_err				; srom_debug_io
                  [000468]  3793  .if eq pci_debug_io					; does CONT above 
                  [000468]  3794  	CONT_HW_VECTOR <OPCDEC>                         ; need more space
                  [000468]  3795  .endc
                  [000468]  3796  
                  [000468]  3797  	GET_32CONS      r16, ^x4F504344, r31            ; "OPCDEC"
                  [000468]  3798  	sll             r16, #32, r16
                  [000468]  3799  	GET_32CONS      r16, ^x45432020, r16            ;
                  [000468]  3800  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [000468]  3801  
                  [000468]  3802  	bis             p23, r31, r16                   ; dump faulting PC
                  [000468]  3803  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [000468]  3804  .endc							; srom_debug_io
                  [000468]  3805  
         6EF51048 [000468]  3806  	hw_ldq/p p23, PT__ENT_IF(p_temp)		; get entry point
         6FB51028 [00046C]  3807  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         47E09410 [000470]  3808  	bis	r31, #OSF_A0__OPDEC, r16		; set a0 
                  [000474]  3809  
         7BF78000 [000474]  3810  	hw_ret	(p23)					; to os
                  [000478]  3811  
                  [000478]  3812  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [000478]    52i         ASSUME <.-_start_of_last_vec> le <^x80>
                  [000478]    56M         GOTO_FREE_CODE
                  [004500]    62M     .align 6
File: ev6_osf_pal.mar
                  [004500]  3813  
                  [004500]  3814  ;------------------------------------------------------------------------
                  [004500]  3815  ;+
                  [004500]  3816  ; IACV - offset 480
                  [004500]  3817  ;
                  [004500]  3818  ; Entry:
                  [004500]  3819  ;	Vectored into via hardware trap on a Istream access violation or
                  [004500]  3820  ;	virtual address sign check/overflow/underflow error.
                  [004500]  3821  ;
                  [004500]  3822  ; Function:
                  [004500]  3823  ;	For native mode, take an exception with the exception pc as follows:
                  [004500]  3824  ;	IF (bad_iva, i.e, jsr)
                  [004500]  3825  ;	THEN exception pc = va<63:0>
                  [004500]  3826  ;	ELSE	IF (pc_ovfl & va_48)
                  [004500]  3827  ;		THEN	IF (exc_addr<47>)
                  [004500]  3828  ;			THEN exception pc = exc_addr<47:0> with <63:48>=0
                  [004500]  3829  ;			ELSE exception pc = exc_addr<47:0> with <63;48>=1
                  [004500]  3830  ;		ELSE	exception pc = exc_addr<63:0>
                  [004500]  3831  ;
                  [004500]  3832  ;	For PALmode, enter console with exception pc as follows:
                  [004500]  3833  ;	Has to be bad_iva, i.e. jsr with exception pc= va<63:1>!1
                  [004500]  3834  ;
                  [004500]  3835  ; Register use:
                  [004500]  3836  ;	p4	temporary
                  [004500]  3837  ;	p5	temporary
                  [004500]  3838  ;	p6	exc_addr
                  [004500]  3839  ;	p7	exc_sum
                  [004500]  3840  ;-
                  [004500]  3841  	START_HW_VECTOR <IACV>
File: ev6_pal_macros.mar
                  [004500]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000480]    44i TRAP__IACV:
File: ev6_osf_pal.mar
                  [000480]  3842  
         64DF0600 [000480]  3843  	hw_mfpr	p6, EV6__EXC_ADDR		; (0L) save exception address
         64FF0F00 [000484]  3844  	hw_mfpr	p7, EV6__EXC_SUM		; (0L) check bad_iva and pc_ovfl
                  [000488]  3845  	NOP					; no conditional br
File: ev6_pal_macros.mar
         47FF041F [000488]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00048C]  3846  	NOP					;	in 1st block
File: ev6_pal_macros.mar
         47FF041F [00048C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [000490]  3847  
                  [000490]  3848  .if ne debug_err*pci_debug_io
                  [000490]  3849  	CONT_HW_VECTOR <IACV>
                  [000490]  3850          DBGREG_PCI LED__ERR_IACV,p6		; dump exception address 
                  [000490]  3851  	hw_mfpr p4, EV6__IER_CM
                  [000490]  3852          DBGREG_PCI LED__ERR_IACV,p4		; dump IER_CM
                  [000490]  3853  	hw_mfpr p4, EV6__I_CTL
                  [000490]  3854          DBGREG_PCI LED__ERR_IACV,p4		; dump I_CTL
                  [000490]  3855  .endc
                  [000490]  3856  
         F0C01035 [000490]  3857  	blbs	p6, trap__iacv_pal		; set=>bad iva in pal mode!
         48E1B684 [000494]  3858  	srl	p7, #EV6__EXC_SUM__BAD_IVA__S, p4
         F080000F [000498]  3859  	blbs	p4, trap__iacv_bad_iva		; set=>bad_iva
         48E53684 [00049C]  3860  	srl	p7, #EV6__EXC_SUM__PC_OVFL__S, p4
         F0800001 [0004A0]  3861  	blbs	p4, trap__iacv_pc_ovfl		; set=>pc_ovfl
         C3E01016 [0004A4]  3862  	br	r31, trap__iacv_post		; normal acv
                  [0004A8]  3863  ;
                  [0004A8]  3864  ; We had a pc overflow/underflow. If 43 bit mode, we can use exc_addr. If
                  [0004A8]  3865  ; 48 bit mode, we need to look at bit 47 and do some work to produce the
                  [0004A8]  3866  ; correct exception pc.
                  [0004A8]  3867  ;
                  [0004A8]  3868  trap__iacv_pc_ovfl:
         649F1110 [0004A8]  3869  	hw_mfpr	p4, EV6__I_CTL			; (4,0L) look at va_48
         4881F684 [0004AC]  3870  	srl	p4, #EV6__I_CTL__VA_48__S, p4
         F0800001 [0004B0]  3871  	blbs	p4, trap__iacv_va_48		; set=>pc_ovfl & va_48
         C3E01012 [0004B4]  3872  	br	r31, trap__iacv_post		; post as is from exc_addr
                  [0004B8]  3873  
                  [0004B8]  3874  trap__iacv_va_48:				; pc_ovfl & va_48
         48C5F684 [0004B8]  3875  	srl	p6, #47, p4			; check exc_addr<47>
         E0800002 [0004BC]  3876  	blbc	p4, trap__iacv_under		; branch for underflow
         48D81606 [0004C0]  3877  	zap	p6, #^xC0, p6			; overflow=> <63:48>=0
         C3E0100E [0004C4]  3878  	br	r31, trap__iacv_post		; post
                  [0004C8]  3879  
                  [0004C8]  3880  trap__iacv_under:				; underflow=> <63:48>=1
         43E03524 [0004C8]  3881  	subq	r31, #1, p4			; generate all 1s
         48981624 [0004CC]  3882  	zapnot	p4, #^xC0, p4			; clean lower bytes
         44C40406 [0004D0]  3883  	or	p6, p4, p6			; or 1s into <63:48>
         C3E0100A [0004D4]  3884  	br	r31, trap__iacv_post		; post
                  [0004D8]  3885  ;
                  [0004D8]  3886  ; JSR memory format instruction generated a bad va.
                  [0004D8]  3887  ; Restrictions list says <63:1> are valid. Should we zap <0>?? Yes, for now.
                  [0004D8]  3888  ;	
                  [0004D8]  3889  trap__iacv_bad_iva:
         64FFC2F0 [0004D8]  3890  	hw_mfpr p7, EV6__VA			; (4-7,1L) get address from va
         44E03106 [0004DC]  3891  	bic	p7, #1, p6			; zap bit <0> and store in p6
                  [0004E0]  3892  
         63FF4000 [0004E0]  3893  	mb					; protect va (??)
                  [0004E4]  3894  
         C3E01006 [0004E4]  3895  	br	r31, trap__iacv_post		; post
                  [0004E8]  3896  
                  [0004E8]  3897  .if eq <debug_err*pci_debug_io>
                  [0004E8]  3898  	CONT_HW_VECTOR <IACV>			; continue in free space
                  [0004E8]  3899  .endc
                  [0004E8]  3898I 	CONT_HW_VECTOR <IACV>			; continue in free space
File: ev6_pal_macros.mar
                  [0004E8]    71i     ASSUME <_pal_vec_cont> eq 0
         C3E01005 [0004E8]    76i 	br	r31, TRAP__IACV_CONT
                  [0004EC]    79i                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [0004EC]    81i     GOTO_FREE_CODE
                  [004500]    62i     .align 6
                  [004500]    86i TRAP__IACV_CONT:
File: ev6_osf_pal.mar
                  [004500]  3900  ;
                  [004500]  3901  ; Post the trap.
                  [004500]  3902  ; Current state:
                  [004500]  3903  ;	p6	exc_addr
                  [004500]  3904  ;
                  [004500]  3905  trap__iacv_post:
         46C11007 [004500]  3906  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p7	; current mode
         46C1F014 [004504]  3907  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4E00008 [004508]  3908  	beq	p7, trap__iacv_stack			; skip switch if kernel
                  [00450C]  3909  ;
                  [00450C]  3910  ; Switch to kernel mode.
                  [00450C]  3911  ; Current state:
                  [00450C]  3912  ;	p6		exc_addr
                  [00450C]  3913  ;	p20		original ps
                  [00450C]  3914  ;
                  [00450C]  3915  iacv_cm_offset = <trap__iacv_stack - trap__iacv_cm>
                  [00450C]  3916  
         7FD51020 [00450C]  3917  	hw_stq/p r30, PT__USP(p_temp)				; save user SP
         6FD51018 [004510]  3918  	hw_ldq/p r30, PT__KSP(p_temp)				; get kernel SP
         46C1F116 [004514]  3919  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc		; cm=0, ipl=0
                  [004518]  3920  
         C0E00000 [004518]  3921  	br	p7, trap__iacv_cm			; change mode to kernel
                  [00451C]  3922  trap__iacv_cm:
         40E23407 [00451C]  3923  	addq	p7, #<iacv_cm_offset+1>, p7		; jump past in palmode
         77FF0910 [004520]  3924  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [004524]  3925  	bsr	r31, .					; push prediction stack
                  [004528]  3926  	PVC_JSR	iacv_cm					; synch up
File: ev6_pal_macros.mar
                  [004528]   526i  pvc_lbl \pcv_index, \pcv_jsr_iacv_cm0, osf
File: ev6_osf_pal.mar
         7BE7A000 [004528]  3927  	hw_ret_stall (p7)				; pop prediction stack
                  [00452C]  3928  	PVC_JSR	iacv_cm, dest=1
File: ev6_pal_macros.mar
                  [00452C]   529i  pvc_lbl \pcv_index, \pcv_jsr_iacv_cm0, osf, \pcv_jsr_iacv_cm0_inst
File: ev6_osf_pal.mar
                  [00452C]  3929  ;
                  [00452C]  3930  ; Take the trap. Be careful of tb miss!
                  [00452C]  3931  ; Current state:
                  [00452C]  3932  ;	p6		exc_addr
                  [00452C]  3933  ;	p20		original ps
                  [00452C]  3934  ;	p_misc__ps	if we were in kernel, original ps
                  [00452C]  3935  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [00452C]  3936  ;
                  [00452C]  3937  trap__iacv_stack:
         7CD51098 [00452C]  3938  	hw_stq/p p6, PT__STACK_PC(p_temp)		; store away pc
                  [004530]  3939  
         23DEFFD0 [004530]  3940  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [004534]  3941  
         B69E0000 [004534]  3942  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [004538]  3943  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [00453C]  3944  
         6E951098 [00453C]  3945  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get nextpc back
                  [004540]  3946  
         B7BE0010 [004540]  3947  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [004544]  3948  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [004548]  3949  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [00454C]  3950  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save pc
                  [004550]  3951  
                  [004550]  3952  .if ne debug_err					; debug_err
                  [004550]  3953      .if ne srom_debug_io
                  [004550]  3954  	GET_32CONS      r16, ^x42414420, r31		; BAD IACV
                  [004550]  3955  	sll             r16, #32, r16
                  [004550]  3956  	GET_32CONS      r16, ^x49414356, r16		;
                  [004550]  3957  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [004550]  3958  
                  [004550]  3959  	bis		p20, r31, r16			; p20 = faulting PC+4
                  [004550]  3960  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [004550]  3961  	ldq		r16, OSF_FRM__PS(r30)		; reload original ps
                  [004550]  3962  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [004550]  3963      .endc
                  [004550]  3964  .endc							; debug_err
                  [004550]  3965  
         6EF51050 [004550]  3966  	hw_ldq/p p23, PT__ENT_MM(p_temp)		; get entry point
         6FB51028 [004554]  3967  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         469F0410 [004558]  3968  	bis	p20, r31, r16				; 1.39 a0 <- pc/va
         223F0001 [00455C]  3969  	lda	r17, OSF_MMCSR__ACV(r31)		; a1 <- MMCSR
         43E03532 [004560]  3970  	subq	r31, #1, r18				; a2 <- istream (-1)
                  [004564]  3971  
         7BF78000 [004564]  3972  	hw_ret	(p23)					; to os
                  [004568]  3973  ;
                  [004568]  3974  ; JSR memory format instruction generated a bad va while in pal mode.
                  [004568]  3975  ; We don't even bother checking the bad_iva bit, because that's the only
                  [004568]  3976  ; way we can get here in pal mode.
                  [004568]  3977  ;
                  [004568]  3978  ; Set PT__HALT_CODE to HALT__SW_HALT. (Is there a better one ??)
                  [004568]  3979  ; Branch to update PCB and enter console.
                  [004568]  3980  ;
                  [004568]  3981  ; For now, we stick a MB in to ensure that the mfpr VA is issued, though
                  [004568]  3982  ; it's unlikely we will have any virtual loads after this.
                  [004568]  3983  ;
                  [004568]  3984  
                  [004568]  3985  trap__iacv_pal:
         64FFC2F0 [004568]  3986  	hw_mfpr	p7, EV6__VA			; (4-7,1L) get address from va
         44E03407 [00456C]  3987  	bis	p7, #1, p7			; or in PALmode bit
         229F0005 [004570]  3988  	lda	p20, HALT__SW_HALT(r31)		; is there a better code ??
         7E9510F0 [004574]  3989  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; store code (??)
         44FF0417 [004578]  3990  	bis	p7, r31, p23			; fault pc to p23
                  [00457C]  3991  
         63FF4000 [00457C]  3992  	mb					; make sure we issue mfpr VA
                  [004580]  3993  
         C3E000BF [004580]  3994  	br	r31, trap__update_pcb_and_halt
                  [004584]  3995  
                  [004584]  3996  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [004584]    56M         GOTO_FREE_CODE
00000000 00000000 [004584]    62M     .align 6
00000000 00000000 [00458C]
00000000 00000000 [004594]
00000000 00000000 [00459C]
00000000 00000000 [0045A4]
00000000 00000000 [0045AC]
00000000 00000000 [0045B4]
         00000000 [0045BC]
File: ev6_osf_pal.mar
                  [0045C0]  3997  
                  [0045C0]  3998  ;------------------------------------------------------------------------
                  [0045C0]  3999  ;+
                  [0045C0]  4000  ; MCHK - offset 500
                  [0045C0]  4001  ;
                  [0045C0]  4002  ; Entry:
                  [0045C0]  4003  ;	Vectored into via hardware trap on a machine check.
                  [0045C0]  4004  ;-
                  [0045C0]  4005  	START_HW_VECTOR <MCHK>
File: ev6_pal_macros.mar
                  [0045C0]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000500]    44i TRAP__MCHK:
File: ev6_osf_pal.mar
                  [000500]  4006  
         66FF0600 [000500]  4007  	hw_mfpr	p23, EV6__EXC_ADDR		; (0L) exception addr
         47FF041F [000504]  4008  	bis	r31, r31, r31			; 1.41 cut down on double mchks
         47FF041F [000508]  4009  	bis	r31, r31, r31
         47FF041F [00050C]  4010  	bis	r31, r31, r31
                  [000510]  4011  
         E7E00000 [000510]  4012  	beq	r31, trap__mchk_mb
                  [000514]  4013  trap__mchk_mb:
         63FF4000 [000514]  4014  	mb
         63FF4000 [000518]  4015  	mb					; 1.41 end of new part
         C3E01988 [00051C]  4016  	br	r31, sys__mchk			; finish in system part
                  [000520]  4017  ;
                  [000520]  4018  ; Bugcheck from call_pal
                  [000520]  4019  ; Current state:
                  [000520]  4020  ;	p23		pc+4 of call_pal
                  [000520]  4021  ;
                  [000520]  4022  trap__pal_os_bugcheck:
         42E09537 [000520]  4023  	subq	p23, #4, p23			; decrement pc
         20FF0090 [000524]  4024  	lda	p7, MCHK__OS_BUGCHECK(r31)	; mchk code
         C3E00001 [000528]  4025  	br	r31, trap__pal_bugcheck
                  [00052C]  4026  ;
                  [00052C]  4027  ; Bugcheck from pal mode
                  [00052C]  4028  ; Current state:
                  [00052C]  4029  ;	p23		exc_addr
                  [00052C]  4030  ;
                  [00052C]  4031  trap__pal_exc_bugcheck:
         20FF008E [00052C]  4032  	lda	p7, MCHK__BUGCHECK(r31)		; mchk code
                  [000530]  4033  
                  [000530]  4034  trap__pal_bugcheck:
                  [000530]  4035  
         48E51727 [000530]  4036  	sll	p7, #OSF_P_MISC__MCHK_CODE__S, p7
         4AC050C5 [000534]  4037  	extbl	p_misc, #2, p5			; get mces
         4ACF1616 [000538]  4038  	zap	p_misc, #^x78, p_misc		; clear mchk_code & SCBv
                  [00053C]  4039  
         44A03406 [00053C]  4040  	bis	p5, #<1@MCES__MCHK__S>, p6	; set MCES<MCHK>
         48C21726 [000540]  4041  	sll	p6, #OSF_P_MISC__MCES__MCHK__S, p6
                  [000544]  4042  
         209F0670 [000544]  4043  	lda	p4, SCB__PROCMCHK(r31)		; SCB vector
         48831724 [000548]  4044  	sll	p4, #OSF_P_MISC__SCBV__S, p4	; move SCBv into position
                  [00054C]  4045  
         44C40406 [00054C]  4046  	bis	p6, p4, p6			; or mces and scbv
         44C70416 [000550]  4047  	bis	p6, p7, p_misc			; or mchk code
                  [000554]  4048  
         F0A01A9B [000554]  4049  	blbs	p5, sys__double_machine_check	; halt on double
                  [000558]  4050  ;
                  [000558]  4051  ; Now compute where the frame is.
                  [000558]  4052  ;
                  [000558]  4053  	CONT_HW_VECTOR<MCHK>				; 1.41 move to here
File: ev6_pal_macros.mar
                  [000558]    71M     ASSUME <_pal_vec_cont> eq 0
         C3E01019 [000558]    76i 	br	r31, TRAP__MCHK_CONT
                  [00055C]    79M                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [00055C]    81M     GOTO_FREE_CODE
                  [0045C0]    62M     .align 6
                  [0045C0]    86i TRAP__MCHK_CONT:
File: ev6_osf_pal.mar
                  [0045C0]  4054  
         6C9510D0 [0045C0]  4055  	hw_ldq/p p4, PT__WHAMI(p_temp)			; get whami
                  [0045C4]  4056  
         20BF0200 [0045C4]  4057  	lda	p5, PAL__LOGOUT_SPECIFIC_SIZE(r31)	; short&long size
         4C850405 [0045C8]  4058  	mulq	p4, p5, p5				; * whami
                  [0045CC]  4059  
                  [0045CC]  4060  .if ne nonzero_console_base
                  [0045CC]  4061  	get_base_osf p6
                  [0045CC]  4062  	GET_32CONS	p6, PAL__LOGOUT_BASE, p6	; logout base
                  [0045CC]  4063  .iff
                  [0045CC]  4064  	GET_32CONS	p6, PAL__LOGOUT_BASE, r31	; logout base
                  [0045CC]  4065  .endc
                  [0045CC]  4064I 	GET_32CONS	p6, PAL__LOGOUT_BASE, r31	; logout base
File: ev6_pal_macros.mar
                  [0045CC]   234i  ASSUME <pal__logout_base> le  <^x7FFFFFFF>
         24DF0000 [0045CC]   235i 	ldah	p6,<<pal__logout_base>+32768>@-16(r31); + xxx<31:16>
         20C61800 [0045D0]   236i 	lda	p6,<<pal__logout_base> & ^XFFFF>(p6) ; r31+xxx<15:0>
File: ev6_osf_pal.mar
         40A60405 [0045D4]  4066  	addq	p5, p6, p5				; (size*whami) + base
         20A50100 [0045D8]  4067  	lda	p5, MCHK__BASE(p5)			; start of mchk area
                  [0045DC]  4068  
         7EE51058 [0045DC]  4069  	hw_stq/p p23, MCHK__EXC_ADDR(p5)		; store exc_addr
         7EF51098 [0045E0]  4070  	hw_stq/p p23, PT__STACK_PC(p_temp)		; save fault pc
                  [0045E4]  4071  							; 1.41 delete
                  [0045E4]  4072  							;   erroneous branch
         649F0D00 [0045E4]  4073  	hw_mfpr	p4, EV6__ISUM				; 1.41 get isum here
         7C851068 [0045E8]  4074  	hw_stq/p p4, MCHK__ISUM(p5)			; 1.41 save isum
                  [0045EC]  4075  ;
                  [0045EC]  4076  ; To be neat, write 0 to the cbox logout quadwords and mm_stat logout
                  [0045EC]  4077  ; quadword. Log ic_stat and dc_stat but don't clear them.
                  [0045EC]  4078  ;
         7FE51030 [0045EC]  4079  	hw_stq/p r31, MCHK__DC1_SYNDROME(p5)		; 1.51 store 0
         7FE51038 [0045F0]  4080  	hw_stq/p r31, MCHK__DC0_SYNDROME(p5)		; 1.51 store 0
         7FE51040 [0045F4]  4081  	hw_stq/p r31, MCHK__C_STAT(p5)			; 1.51 store 0
         7FE51048 [0045F8]  4082  	hw_stq/p r31, MCHK__C_STS(p5)			; 1.51 store 0
         7FE51028 [0045FC]  4083  	hw_stq/p r31, MCHK__C_ADDR(p5)			; 1.51 store 0
                  [004600]  4084  
         7FE51050 [004600]  4085  	hw_stq/p r31, MCHK__MM_STAT(p5)			; 1.51 store 0
                  [004604]  4086  
         649F1610 [004604]  4087  	hw_mfpr p4, EV6__I_STAT				; (4,0L) get i_stat
         6CD51158 [004608]  4088  	hw_ldq/p p6, PT__I_STAT_MASK(p_temp)		; 1.51 get mask
         44860004 [00460C]  4089  	and	p4, p6, p4				; 1.51 clean
                  [004610]  4090  
         64DF2A40 [004610]  4091  	hw_mfpr	p6, EV6__DC_STAT			; (6,0L) get dc_stat
         7C851018 [004614]  4092  	hw_stq/p p4, MCHK__I_STAT(p5)			; 1.51 store i_stat
         7CC51020 [004618]  4093  	hw_stq/p p6, MCHK__DC_STAT(p5)			; 1.51 store dc_stat
                  [00461C]  4094  
         47FF0414 [00461C]  4095  	bis	r31, r31, p20				; no retry
         C3E0098F [004620]  4096  	br	r31, sys__mchk_header			; merge
                  [004624]  4097  
                  [004624]  4098  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [004624]    56M         GOTO_FREE_CODE
00000000 00000000 [004624]    62M     .align 6
00000000 00000000 [00462C]
00000000 00000000 [004634]
         00000000 [00463C]
File: ev6_osf_pal.mar
                  [004640]  4099  
                  [004640]  4100  ;------------------------------------------------------------------------
                  [004640]  4101  ;+
                  [004640]  4102  ; ITB_MISS - offset 580
                  [004640]  4103  ;
                  [004640]  4104  ; Entry:
                  [004640]  4105  ;	Vectored into via hardware trap on Istream translation buffer miss.
                  [004640]  4106  ;
                  [004640]  4107  ; Function:
                  [004640]  4108  ;	Do a virtual fetch of the PTE, and fill the ITB if the PTE is both
                  [004640]  4109  ;	valid and is not FOE. If invalid or FOE, exit to trap__invalid_ipte
                  [004640]  4110  ;	or trap__foe. The virtual fetch can trap into double.
                  [004640]  4111  ;
                  [004640]  4112  ; Note:
                  [004640]  4113  ;	The ITB_PTE register has the PFN starting at bit 13, so the
                  [004640]  4114  ;	fetched pte must be manipulated before being written.
                  [004640]  4115  ;	Also, we want to keep the main flow in a single cache line
                  [004640]  4116  ;	(4 fetch blocks) to be as efficient as possible.
                  [004640]  4117  ;
                  [004640]  4118  ; NOTE: 
                  [004640]  4119  ;	1-to-1 mapping scheme implemented with bit in p_misc shadow
                  [004640]  4120  ; 	register. And we can probably stick it in bit 63 and just branch
                  [004640]  4121  ;	on negative. Right now we shift and test. Critical path has the
                  [004640]  4122  ;	cycle count.
                  [004640]  4123  ;
                  [004640]  4124  ; Register use:
                  [004640]  4125  ;	p4	shadow register reserved for itb/dtb miss
                  [004640]  4126  ;	p5	shadow register reserved for double miss
                  [004640]  4127  ;	p6	shadow register reserved for itb/dtb miss
                  [004640]  4128  ;	p7	shadow register reserved for dtb miss
                  [004640]  4129  ;	p_misc	physical mode bit
                  [004640]  4130  ;	p23	exc_addr of instruction causing ITB miss
                  [004640]  4131  ;
                  [004640]  4132  ; Exit state:
                  [004640]  4133  ;	On exit to trap__invalid_ipte or trap__foe
                  [004640]  4134  ;	p4	PTE
                  [004640]  4135  ;	p23	pc of instruction causing ITB miss
                  [004640]  4136  ;-
                  [004640]  4137  	START_HW_VECTOR <ITB_MISS>
File: ev6_pal_macros.mar
                  [004640]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000580]    44i TRAP__ITB_MISS:
File: ev6_osf_pal.mar
                  [000580]  4138  
                  [000580]  4139  ASSUME OSF_P_MISC__PHYS__S eq 63
                  [000580]  4140  
         649F0710 [000580]  4141  	hw_mfpr	p4, EV6__IVA_FORM		; (0L) get vpte address
         66FF0600 [000584]  4142  	hw_mfpr	p23, EV6__EXC_ADDR		; (0L) get exception address 
         20DF0FFF [000588]  4143  	lda	p6, ^x0FFF(r31)			; (xU) create mask for prot
         47FF041F [00058C]  4144  	bis	r31, r31, r31			; (xU) fill out fetch block
                  [000590]  4145  
                  [000590]  4146  trap__itb_miss_vpte:
         6C845000 [000590]  4147  	hw_ldq/v p4, (p4)			; (xL) get vpte
         44860005 [000594]  4148  	and	p4, p6, p5			; (xL) get prot bits
         EAC01029 [000598]  4149  	blt	p_misc, trap__i1to1		; (xU) 1-to-1 => branch
         48841686 [00059C]  4150  	srl	p4, #OSF_PTE__PFN__S, p6	; (xU) shift PFN to <0>
                  [0005A0]  4151  
         48C1B726 [0005A0]  4152  	sll	p6, #EV6__ITB_PTE__PFN__S, p6	; (xU) shift PFN into place
         44811007 [0005A4]  4153  	and	p4, #<1@OSF_PTE__FOE__S>, p7	; (xL) get FOE bit
         E080102E [0005A8]  4154  	blbc	p4, trap__invalid_ipte		; (xU) invalid => branch
         F4E0102B [0005AC]  4155  	bne	p7, trap__foe			; (xU) FOE => branch
                  [0005B0]  4156  
         4880F687 [0005B0]  4157  	srl	p4, #7, p7			; check for mb bit
         44A60406 [0005B4]  4158  	bis	p5, p6, p6			; (xL) PTE in ITB format
                  [0005B8]  4159  
                  [0005B8]  4160  .if eq force_path2				; 1.44 force_path2 = 0
                  [0005B8]  4161  
                  [0005B8]  4162  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [0005B8]  4163  
                  [0005B8]  4164  	PVC_VIOLATE <2>				; ignore scoreboard violation
                  [0005B8]  4165  	hw_mtpr	p23, EV6__ITB_TAG		; (6,0L) write tag
                  [0005B8]  4166  	hw_mtpr	p6, <EV6__ITB_PTE ! ^x40>	; (0&4&6,0L) write PTE
                  [0005B8]  4167  
                  [0005B8]  4168  ASSUME <tb_mb_en + pte_eco> ne 2
                  [0005B8]  4169  
                  [0005B8]  4170    .if ne pte_eco
                  [0005B8]  4171  	blbc    p7, trap__itb_miss_mb		; branch for mb
                  [0005B8]  4172  	hw_ret_stall (p23)			; return
                  [0005B8]  4173  
                  [0005B8]  4174  trap__itb_miss_mb:
                  [0005B8]  4175  	mb
                  [0005B8]  4176  	hw_ret_stall (p23)			; return
                  [0005B8]  4177    .iff
                  [0005B8]  4178  	hw_ret_stall (p23)			; return
                  [0005B8]  4179    .endc						; pte_eco
                  [0005B8]  4180  
                  [0005B8]  4181  .iff						; 1.44 force_path2 = 1
                  [0005B8]  4182  ;
                  [0005B8]  4183  ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [0005B8]  4184  ; another processor has taken it, and a bad path before a stx_c has
                  [0005B8]  4185  ; a load which pulls the data back in and makes it look like the
                  [0005B8]  4186  ; lock has succeeded.
                  [0005B8]  4187  ;
                  [0005B8]  4188  ; Hold up pte write, which holds up loads. Since hw_ret_stall is in
                  [0005B8]  4189  ; same fetch block (it would normally scoreboard stall off bit 0),
                  [0005B8]  4190  ; it fires off right away and will mispredict before any loads
                  [0005B8]  4191  ; can happen.
                  [0005B8]  4192  ;
                  [0005B8]  4193  	mb					; allow hw_ret to fire
                  [0005B8]  4194  	mulq	p6, #1, p6			; hold up loads
                  [0005B8]  4195  
                  [0005B8]  4196  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
                  [0005B8]  4197  
                  [0005B8]  4198  	PVC_VIOLATE <2>				; ignore scoreboard violation
                  [0005B8]  4199  	mulq	p6, #1, p6			; hold up loads
                  [0005B8]  4200  	hw_mtpr	p23, EV6__ITB_TAG		; (6,0L) write tag
                  [0005B8]  4201  	hw_mtpr	p6, <EV6__ITB_PTE ! ^x40>	; (0&4&6,0L) write PTE
                  [0005B8]  4202  	hw_ret_stall (p23)			; mis-predict before any loads
                  [0005B8]  4203  
                  [0005B8]  4204  .endc						; 1.44 force_path2
                  [0005B8]  4182I ;
                  [0005B8]  4183I ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [0005B8]  4184I ; another processor has taken it, and a bad path before a stx_c has
                  [0005B8]  4185I ; a load which pulls the data back in and makes it look like the
                  [0005B8]  4186I ; lock has succeeded.
                  [0005B8]  4187I ;
                  [0005B8]  4188I ; Hold up pte write, which holds up loads. Since hw_ret_stall is in
                  [0005B8]  4189I ; same fetch block (it would normally scoreboard stall off bit 0),
                  [0005B8]  4190I ; it fires off right away and will mispredict before any loads
                  [0005B8]  4191I ; can happen.
                  [0005B8]  4192I ;
         63FF4000 [0005B8]  4193I 	mb					; allow hw_ret to fire
         4CC03406 [0005BC]  4194I 	mulq	p6, #1, p6			; hold up loads
                  [0005C0]  4195I 
                  [0005C0]  4196I 	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
                  [0005C0]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [0005C0]  4197I 
                  [0005C0]  4198I 	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [0005C0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         4CC03406 [0005C0]  4199I 	mulq	p6, #1, p6			; hold up loads
         77F70040 [0005C4]  4200I 	hw_mtpr	p23, EV6__ITB_TAG		; (6,0L) write tag
         77E60151 [0005C8]  4201I 	hw_mtpr	p6, <EV6__ITB_PTE ! ^x40>	; (0&4&6,0L) write PTE
         7BF7A000 [0005CC]  4202I 	hw_ret_stall (p23)			; mis-predict before any loads
                  [0005D0]  4203I 
                  [0005D0]  4205  
                  [0005D0]  4206  	CONT_HW_VECTOR <ITB_MISS>		; 1.41 continue in free space
File: ev6_pal_macros.mar
                  [0005D0]    71M     ASSUME <_pal_vec_cont> eq 0
         C3E0101B [0005D0]    76i 	br	r31, TRAP__ITB_MISS_CONT
                  [0005D4]    79M                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [0005D4]    81M     GOTO_FREE_CODE
                  [004640]    62M     .align 6
                  [004640]    86i TRAP__ITB_MISS_CONT:
File: ev6_osf_pal.mar
                  [004640]  4207  
                  [004640]  4208  ;+
                  [004640]  4209  ; Do a 1-1 mapping
                  [004640]  4210  ; Current state
                  [004640]  4211  ;	p23	exc_addr
                  [004640]  4212  ;-
                  [004640]  4213  trap__i1to1:
                  [004640]  4214  
                  [004640]  4215  .if ne debug_imiss				; debug_imiss
                  [004640]  4216      .if ne pci_debug_io				; pci_debug_io
                  [004640]  4217  	DBGREG_PCI LED__IMISS1TO1,p23
                  [004640]  4218      .endc					; pci_debug_io
                  [004640]  4219      .if ne srom_debug_io			; srom_debug_io
                  [004640]  4220  
                  [004640]  4221  	bis	r16, r31, p6			; Save copy
                  [004640]  4222  
                  [004640]  4223          GET_32CONS      r16, ^x494D4953, r31	; "IMISS 11"
                  [004640]  4224          sll             r16, #32, r16
                  [004640]  4225          GET_32CONS      r16, ^x53203131, r16	;
                  [004640]  4226          bsr             p7, Sys_Cserve_Srom_Putstr
                  [004640]  4227  
                  [004640]  4228  	bis		p23, r31, r16		; Dump PC
                  [004640]  4229          bsr             p7, Sys_Cserve_Srom_Putnum
                  [004640]  4230  
                  [004640]  4231  	bis		r26, r31, r16		; Dump RA (typically)
                  [004640]  4232          bsr             p7, Sys_Cserve_Srom_Putnum
                  [004640]  4233  
                  [004640]  4234  	bis	p6, r31, r16			; restore saved copy
                  [004640]  4235      .endc					; srom_debug_io
                  [004640]  4236  .endc						; debug_imiss
                  [004640]  4237  
         4AE1B686 [004640]  4238  	srl	p23, #13, p6			; shift out the byte offset
         20BF0301 [004644]  4239  	lda	p5, ^x0301(r31)			; all read enable
         48C1B726 [004648]  4240  	sll	p6, #EV6__ITB_PTE__PFN__S, p6	; get pfn into position
         44C50406 [00464C]  4241  	bis	p6, p5, p6			; produce the pte
                  [004650]  4242  
                  [004650]  4243  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
                  [004650]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [004650]  4244  
                  [004650]  4245  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [004650]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         77F70040 [004650]  4246  	hw_mtpr	p23, EV6__ITB_TAG		; (6,0L) write tag
         77E60151 [004654]  4247  	hw_mtpr	p6, <EV6__ITB_PTE ! ^x40>	; (0&4&6,0L) write PTE
                  [004658]  4248  
                  [004658]  4249      .if eq force_path				; 1.41
                  [004658]  4250  	hw_ret_stall (p23)			; return
                  [004658]  4251      .iff
                  [004658]  4252  	ALIGN_FETCH_BLOCK <^x47FF041F>
                  [004658]  4253  	PVC_VIOLATE <1007>
                  [004658]  4254  	PVC_VIOLATE <1020>			; stop permutation
                  [004658]  4255  	hw_jmp_stall (p23)			; return with jmp
                  [004658]  4256  	br	r31, .-4			; stop predictor
                  [004658]  4257      .endc					; 1.41
         7BF7A000 [004658]  4250I 	hw_ret_stall (p23)			; return
                  [00465C]  4258      
                  [00465C]  4259  
                  [00465C]  4260  ;+
                  [00465C]  4261  ; trap__foe - Fault On Execute Istream PTE fetched by ITB miss routine.
                  [00465C]  4262  ;
                  [00465C]  4263  ; Entry:
                  [00465C]  4264  ;	On branch from trap__itb_miss flow.
                  [00465C]  4265  ;
                  [00465C]  4266  ; Function:
                  [00465C]  4267  ;	At this point, we know FOE is set, and TNV isn't.
                  [00465C]  4268  ;	But we haven't checked for ACV. Assume FOE and merge
                  [00465C]  4269  ;	with invalid Istream PTE code.
                  [00465C]  4270  ;
                  [00465C]  4271  ; Current state:
                  [00465C]  4272  ;	p4	PTE
                  [00465C]  4273  ;	p23	faulting va/pc
                  [00465C]  4274  ;
                  [00465C]  4275  ; Exit state:
                  [00465C]  4276  ;	On exit to trap__invalid_ipte_merge
                  [00465C]  4277  ;	p4	PTE
                  [00465C]  4278  ;	p5	OSF_MMCSR__FOE
                  [00465C]  4279  ;	p23	pc/va of instruction causing ITB miss
                  [00465C]  4280  ;-
                  [00465C]  4281  trap__foe:
         20BF0003 [00465C]  4282  	lda	p5, OSF_MMCSR__FOE(r31)		; assume FOE
         C3E00001 [004660]  4283  	br	r31, trap__invalid_ipte_merge	; Merge with invalid flow
                  [004664]  4284  
                  [004664]  4285  ;+
                  [004664]  4286  ; trap__invalid_ipte - Invalid Istream PTE fetched by ITB miss routine.
                  [004664]  4287  ;
                  [004664]  4288  ; Entry:
                  [004664]  4289  ;	On branch from trap__itb_miss flow.
                  [004664]  4290  ;
                  [004664]  4291  ; Function:
                  [004664]  4292  ;	At this point, we know we know we have TNV, but we haven't checked
                  [004664]  4293  ;	for ACV, which takes precedence. We also have a merge from the
                  [004664]  4294  ;	trap__foe flow, which was entered on FOE and no TNV. Take
                  [004664]  4295  ;	a trap.
                  [004664]  4296  ;
                  [004664]  4297  ; Current state:
                  [004664]  4298  ;	p4		PTE
                  [004664]  4299  ;	p23		faulting va/pc
                  [004664]  4300  ;
                  [004664]  4301  ; When merging from trap_foe:
                  [004664]  4302  ;	p5		OSF_MMCSR__FOE
                  [004664]  4303  ;-
                  [004664]  4304  
                  [004664]  4305  trap__invalid_ipte:
         20BF0000 [004664]  4306  	lda	p5, OSF_MMCSR__TNV(r31)			; assume TNV
                  [004668]  4307  
                  [004668]  4308  trap__invalid_ipte_merge:				; merge from FOE flow
         46C11007 [004668]  4309  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p7	; current mode
         46C1F014 [00466C]  4310  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4E00009 [004670]  4311  	beq	p7, trap__invalid_ipte_stack		; skip switch if kernel
                  [004674]  4312  ;
                  [004674]  4313  ; Switch to kernel mode.
                  [004674]  4314  ; Current state:
                  [004674]  4315  ;	p4		PTE
                  [004674]  4316  ;	p5		marks TNV or FOE
                  [004674]  4317  ;	p20		original ps
                  [004674]  4318  ;
                  [004674]  4319  ipte_cm_offset = <trap__invalid_ipte_stack - trap__invalid_ipte_cm>
                  [004674]  4320  
         7FD51020 [004674]  4321  	hw_stq/p r30, PT__USP(p_temp)				; save user SP
         6FD51018 [004678]  4322  	hw_ldq/p r30, PT__KSP(p_temp)				; get kernel SP
         48803684 [00467C]  4323  	srl	p4, #<OSF_PTE__URE__S - OSF_PTE__KRE__S>, p4	; shift u to k
         46C1F116 [004680]  4324  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc		; cm=0, ipl=0
                  [004684]  4325  
         C0E00000 [004684]  4326  	br	p7, trap__invalid_ipte_cm		; change mode to kernel
                  [004688]  4327  trap__invalid_ipte_cm:
         40E23407 [004688]  4328  	addq	p7, #<ipte_cm_offset+1>, p7		; jump past in palmode
         77FF0910 [00468C]  4329  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [004690]  4330  	bsr	r31, .					; push prediction stack
                  [004694]  4331  	PVC_JSR	ipte_cm					; synch up
File: ev6_pal_macros.mar
                  [004694]   526i  pvc_lbl \pcv_index, \pcv_jsr_ipte_cm0, osf
File: ev6_osf_pal.mar
         7BE7A000 [004694]  4332  	hw_ret_stall (p7)				; pop prediction stack
                  [004698]  4333  	PVC_JSR	ipte_cm, dest=1
File: ev6_pal_macros.mar
                  [004698]   529i  pvc_lbl \pcv_index, \pcv_jsr_ipte_cm0, osf, \pcv_jsr_ipte_cm0_inst
File: ev6_osf_pal.mar
                  [004698]  4334  ;
                  [004698]  4335  ; Take the trap. Be careful of tb miss!
                  [004698]  4336  ; Current state:
                  [004698]  4337  ;	p4		PTE. If user, now shifted right to kernel position
                  [004698]  4338  ;	p5		TNV or FOE
                  [004698]  4339  ;	p20		original ps
                  [004698]  4340  ;	p23		pc of instruction taking itb miss
                  [004698]  4341  ;	p_misc__ps	if we were in kernel, original ps
                  [004698]  4342  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [004698]  4343  ;
                  [004698]  4344  
                  [004698]  4345  trap__invalid_ipte_stack:
                  [004698]  4346  
         7EF51098 [004698]  4347  	hw_stq/p p23, PT__STACK_PC(p_temp)		; store away pc
                  [00469C]  4348  
         48811684 [00469C]  4349  	srl	p4, #OSF_PTE__KRE__S, p4		; get <re> to <0>
         448032C5 [0046A0]  4350  	cmovlbc p4, #OSF_MMCSR__ACV, p5			; acv over the others
         7CB510A8 [0046A4]  4351  	hw_stq/p p5, PT__NEW_A1(p_temp)			; save mmcsr
                  [0046A8]  4352  
         23DEFFD0 [0046A8]  4353  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [0046AC]  4354  
         B69E0000 [0046AC]  4355  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [0046B0]  4356  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [0046B4]  4357  
         6E951098 [0046B4]  4358  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get nextpc back
                  [0046B8]  4359  
         B7BE0010 [0046B8]  4360  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [0046BC]  4361  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [0046C0]  4362  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [0046C4]  4363  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save nextpc
                  [0046C8]  4364  
                  [0046C8]  4365  .if ne debug_imiss*pci_debug_io
                  [0046C8]  4366  	DBGREG_PCI LED__ERR_IPTE,r16
                  [0046C8]  4367  	DBGREG_PCI LED__ERR_IPTE,p5
                  [0046C8]  4368  .endc
                  [0046C8]  4369  
         469F0410 [0046C8]  4370  	bis	p20, r31, r16				; 1.39 a0 <- pc/va
         43E03532 [0046CC]  4371  	subq	r31, #1, r18				; a2 <- istream (-1)
                  [0046D0]  4372  
         6EF51050 [0046D0]  4373  	hw_ldq/p p23, PT__ENT_MM(p_temp)		; get entry point
         6FB51028 [0046D4]  4374  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         6E3510A8 [0046D8]  4375  	hw_ldq/p r17, PT__NEW_A1(p_temp)		; a1 <- MMCSR
                  [0046DC]  4376  
         7BF78000 [0046DC]  4377  	hw_ret	(p23)					; to os
                  [0046E0]  4378  
                  [0046E0]  4379  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [0046E0]    56M         GOTO_FREE_CODE
00000000 00000000 [0046E0]    62M     .align 6
00000000 00000000 [0046E8]
00000000 00000000 [0046F0]
00000000 00000000 [0046F8]
File: ev6_osf_pal.mar
                  [004700]  4380  
                  [004700]  4381  ;------------------------------------------------------------------------
                  [004700]  4382  ;+
                  [004700]  4383  ; ARITH - offset 600
                  [004700]  4384  ;
                  [004700]  4385  ; Entry:
                  [004700]  4386  ;	Vectored into via hardware trap on an arithmetic exception
                  [004700]  4387  ;	synchronous trap.
                  [004700]  4388  ;
                  [004700]  4389  ; Function:
                  [004700]  4390  ;	For floating exceptions, we may just update the FPCR (see below)
                  [004700]  4391  ;	and return to the user.
                  [004700]  4392  ;
                  [004700]  4393  ;	Otherwise build stack frame.
                  [004700]  4394  ;		r16 (a0)	Exception summary
                  [004700]  4395  ;		r17 (a1)	Register mask
                  [004700]  4396  ;		r18 (a2)	unpredictable
                  [004700]  4397  ;	Vector via entArith.
                  [004700]  4398  ;
                  [004700]  4399  ; Notes on FPCR register:
                  [004700]  4400  ;	The FPCR is both a status and control register. The status reflect
                  [004700]  4401  ;	problems encountered with the instruction. The 'disable' control bits
                  [004700]  4402  ;	and instruction modifiers have an effect on trapping to the os.
                  [004700]  4403  ;
                  [004700]  4404  ;	If a trap disable bit is set and an instruction with the /S
                  [004700]  4405  ;	qualifier set generates the associated trapping result, EV6
                  [004700]  4406  ;	produces the IEEE non-trapping result and suppresses the trap.
                  [004700]  4407  ;
                  [004700]  4408  ; 	On EV6, PALcode assistance is required to assure correction operation
                  [004700]  4409  ;	of the status bits. When the status *changes* from what is in the FPCR,
                  [004700]  4410  ;	an arithmetic exception is taken, even if there is to be no trap. The
                  [004700]  4411  ;	status changes are marked in EXC_SUM SET_condition bits. The PALcode
                  [004700]  4412  ;	uses these bits to update the FPCR. The EXC_SUM condition bits are
                  [004700]  4413  ;	examined to determine whether a trap should be delivered.
                  [004700]  4414  ;
                  [004700]  4415  ;		trap bit	set_x bit	actions
                  [004700]  4416  ;		--------	---------	-------
                  [004700]  4417  ;		0		1		no trap, set FPCR status bit
                  [004700]  4418  ;		1		0		trap, don't set FPCR bit
                  [004700]  4419  ;		1		1		trap, set FPCR status bit
                  [004700]  4420  ;
                  [004700]  4421  ;
                  [004700]  4422  ; Notes on EXC_SUM register:
                  [004700]  4423  ;		int - bit 7	iov - bit 6
                  [004700]  4424  ;		-----------	-----------
                  [004700]  4425  ;		0		1		fbox int overflow
                  [004700]  4426  ;		1		1		ebox int overflow
                  [004700]  4427  ;-
                  [004700]  4428  
                  [004700]  4429  	START_HW_VECTOR <ARITH>
File: ev6_pal_macros.mar
                  [004700]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000600]    44i TRAP__ARITH:
File: ev6_osf_pal.mar
                  [000600]  4430  
         64FF0F00 [000600]  4431  	hw_mfpr	p7, EV6__EXC_SUM			; (0L)
         66FF0600 [000604]  4432  	hw_mfpr	p23, EV6__EXC_ADDR			; (0L) exception addr
                  [000608]  4433  
                  [000608]  4434  .if ne ev6_p1
                  [000608]  4435  trap__arith_merge:					; merge for fp emulation
                  [000608]  4436  .endc
                  [000608]  4437  
         44F01004 [000608]  4438  	and	p7, #<1@EV6__EXC_SUM__INT__S>, p4	; check for int ovr
         48E11685 [00060C]  4439  	srl	p7, #EV6__EXC_SUM__REG__S, p5		; shift register field
         44A3F005 [000610]  4440  	and	p5, #EV6__EXC_SUM__REG__M, p5		; isolate register
                  [000614]  4441  
         F2FFFFC5 [000614]  4442  	blbs	p23, trap__pal_exc_bugcheck		; bugcheck on pal
                  [000618]  4443  
         48F81607 [000618]  4444  	zap	p7, #^xC0, p7				; clean <63:48>
         42E09417 [00061C]  4445  	addq	p23, #4, p23				; adjust to nextpc
         F4800001 [000620]  4446  	bne	p4, trap__arith_int			; branch on int case
         40A41405 [000624]  4447  	addq	p5, #32, p5				; set up for fx mask
                  [000628]  4448  
                  [000628]  4449  trap__arith_int:
         48E55684 [000628]  4450  	srl	p7, #EV6__EXC_SUM__SET_INV__S, p4	; check for FPCR update
         44EFF007 [00062C]  4451  	and	p7, #^x7F, p7				; isolate <6:0>
         E4801042 [000630]  4452  	beq	p4, trap__arith_post			; just post
                  [000634]  4453  
                  [000634]  4454  	CONT_HW_VECTOR <ARITH>
File: ev6_pal_macros.mar
                  [000634]    71M     ASSUME <_pal_vec_cont> eq 0
         C3E01032 [000634]    76i 	br	r31, TRAP__ARITH_CONT
                  [000638]    79M                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [000638]    81M     GOTO_FREE_CODE
                  [004700]    62M     .align 6
                  [004700]    86i TRAP__ARITH_CONT:
File: ev6_osf_pal.mar
                  [004700]  4455  
                  [004700]  4456  ;
                  [004700]  4457  ; Update FPCR. Then check to see if we post.
                  [004700]  4458  ;
                  [004700]  4459  .if eq ev6_p1
                  [004700]  4460  
                  [004700]  4461  	ftoit	f0, p6				; save f0 (thanks to ftoit!)
                  [004700]  4462  	mf_fpcr	f0				; get current FPCR
                  [004700]  4463  	sll	p4, #EV6__FPCR__INV__S, p4	; shift status into place
                  [004700]  4464  	ftoit	f0, p20				; convert FPCR to integer
                  [004700]  4465  	bis	p20, p4, p20			; or in new status bits
                  [004700]  4466  	itoft	p20, f0				; turn back into float
                  [004700]  4467  
                  [004700]  4468  arith_fpcr_offset = <trap__arith_finish - trap__arith_fpcr>
                  [004700]  4469  
                  [004700]  4470  	br	p4, trap__arith_fpcr
                  [004700]  4471  trap__arith_fpcr:
                  [004700]  4472  	addq	p4, #<arith_fpcr_offset+1>, p4	; set up to jump past in palmode
                  [004700]  4473  	mt_fpcr	f0				; write FPCR
                  [004700]  4474  	bsr	r31, .				; push prediction stack
                  [004700]  4475  	PVC_JSR arith_fpcr			; synch up
                  [004700]  4476  	hw_ret_stall (p4)			; pop prediction stack
                  [004700]  4477  	PVC_JSR arith_fpcr, dest=1
                  [004700]  4478  
                  [004700]  4479  trap__arith_finish:
                  [004700]  4480  	itoft	p6, f0				; restore f0
                  [004700]  4481  	bic	p7, #1, p6			; check <6:1>
                  [004700]  4482  	bne	p6, trap__arith_post		; post if indicated
                  [004700]  4483  
                  [004700]  4484  .endc
                  [004700]  4460I 
         701F0E06 [004700]  4461I 	ftoit	f0, p6				; save f0 (thanks to ftoit!)
         5C0004A0 [004704]  4462I 	mf_fpcr	f0				; get current FPCR
         48869724 [004708]  4463I 	sll	p4, #EV6__FPCR__INV__S, p4	; shift status into place
         701F0E14 [00470C]  4464I 	ftoit	f0, p20				; convert FPCR to integer
         46840414 [004710]  4465I 	bis	p20, p4, p20			; or in new status bits
         529F0480 [004714]  4466I 	itoft	p20, f0				; turn back into float
                  [004718]  4467I 
                  [004718]  4468I arith_fpcr_offset = <trap__arith_finish - trap__arith_fpcr>
                  [004718]  4469I 
         C0800000 [004718]  4470I 	br	p4, trap__arith_fpcr
                  [00471C]  4471I trap__arith_fpcr:
         40823404 [00471C]  4472I 	addq	p4, #<arith_fpcr_offset+1>, p4	; set up to jump past in palmode
         5C000480 [004720]  4473I 	mt_fpcr	f0				; write FPCR
         D3E00000 [004724]  4474I 	bsr	r31, .				; push prediction stack
                  [004728]  4475I 	PVC_JSR arith_fpcr			; synch up
File: ev6_pal_macros.mar
                  [004728]   526i  pvc_lbl \pcv_index, \pcv_jsr_arith_fpcr0, osf
File: ev6_osf_pal.mar
         7BE4A000 [004728]  4476I 	hw_ret_stall (p4)			; pop prediction stack
                  [00472C]  4477I 	PVC_JSR arith_fpcr, dest=1
File: ev6_pal_macros.mar
                  [00472C]   529i  pvc_lbl \pcv_index, \pcv_jsr_arith_fpcr0, osf, \pcv_jsr_arith_fpcr0_inst
File: ev6_osf_pal.mar
                  [00472C]  4478I 
                  [00472C]  4479I trap__arith_finish:
         50DF0480 [00472C]  4480I 	itoft	p6, f0				; restore f0
         44E03106 [004730]  4481I 	bic	p7, #1, p6			; check <6:1>
         F4C00001 [004734]  4482I 	bne	p6, trap__arith_post		; post if indicated
                  [004738]  4483I 
                  [004738]  4485  
         7BF78000 [004738]  4486  	hw_ret	(p23)				; back to user
                  [00473C]  4487  
                  [00473C]  4488  ;
                  [00473C]  4489  ; Current state:
                  [00473C]  4490  ;	p5	register number (adjusted for float)
                  [00473C]  4491  ;	p7	exc_sum<6:0>
                  [00473C]  4492  ;	p20	1
                  [00473C]  4493  ;	p23	next pc	
                  [00473C]  4494  ;
                  [00473C]  4495  trap__arith_post:
         229F0001 [00473C]  4496  	lda	p20, 1(r31)				; get a 1 for mask
         4A850725 [004740]  4497  	sll	p20, p5, p5				; register number to mask
                  [004744]  4498  
         46C11004 [004744]  4499  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         46C1F014 [004748]  4500  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4800008 [00474C]  4501  	beq	p4, trap__arith_stack			; skip switch if kernel
                  [004750]  4502  ;
                  [004750]  4503  ; Switch to kernel mode. 
                  [004750]  4504  ;
                  [004750]  4505  arith_cm_offset = <trap__arith_stack - trap__arith_cm>
                  [004750]  4506  
         7FD51020 [004750]  4507  	hw_stq/p r30, PT__USP(p_temp)			; save user SP
         6FD51018 [004754]  4508  	hw_ldq/p r30, PT__KSP(p_temp)			; get kernel SP
         46C1F116 [004758]  4509  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; cm=0, ipl=0
                  [00475C]  4510  
         C0C00000 [00475C]  4511  	br	p6, trap__arith_cm			; change mode to kernel
                  [004760]  4512  trap__arith_cm:
         40C23406 [004760]  4513  	addq	p6, #<arith_cm_offset+1>, p6		; jump past in palmode
         77FF0910 [004764]  4514  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [004768]  4515  	bsr	r31, .					; push prediction stack
                  [00476C]  4516  	PVC_JSR	arith_cm				; synch up
File: ev6_pal_macros.mar
                  [00476C]   526i  pvc_lbl \pcv_index, \pcv_jsr_arith_cm0, osf
File: ev6_osf_pal.mar
         7BE6A000 [00476C]  4517  	hw_ret_stall (p6)				; pop prediction stack
                  [004770]  4518  	PVC_JSR	arith_cm, dest=1
File: ev6_pal_macros.mar
                  [004770]   529i  pvc_lbl \pcv_index, \pcv_jsr_arith_cm0, osf, \pcv_jsr_arith_cm0_inst
File: ev6_osf_pal.mar
                  [004770]  4519  ;
                  [004770]  4520  ; Take the trap. Be careful of tb miss!
                  [004770]  4521  ; Current state:
                  [004770]  4522  ;	p5	register mask
                  [004770]  4523  ;	p7	exc_sum<6:0>
                  [004770]  4524  ;	p_misc__ps	if we were in kernel, original ps
                  [004770]  4525  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [004770]  4526  ;	p20		original ps
                  [004770]  4527  ;	p23	next pc	
                  [004770]  4528  ;
                  [004770]  4529  trap__arith_stack:
         7EF51098 [004770]  4530  	hw_stq/p p23, PT__STACK_PC(p_temp)		; store away nextpc
         7CF510A0 [004774]  4531  	hw_stq/p p7, PT__NEW_A0(p_temp)			; save away exc sum
         7CB510A8 [004778]  4532  	hw_stq/p p5, PT__NEW_A1(p_temp)			; save away reg mask
                  [00477C]  4533  
         23DEFFD0 [00477C]  4534  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [004780]  4535  
         B69E0000 [004780]  4536  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [004784]  4537  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [004788]  4538  
         6E951098 [004788]  4539  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get nextpc back
                  [00478C]  4540  
         B7BE0010 [00478C]  4541  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [004790]  4542  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [004794]  4543  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [004798]  4544  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save pc
                  [00479C]  4545  
                  [00479C]  4546  .if ne srom_debug_io*debug_err				; srom_debug_io
                  [00479C]  4547  	GET_32CONS      r16, ^x454E5441, r31            ; "ENTARITH"
                  [00479C]  4548  	sll             r16, #32, r16
                  [00479C]  4549  	GET_32CONS      r16, ^x52495448, r16            ;
                  [00479C]  4550  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [00479C]  4551  
                  [00479C]  4552  	hw_ldq/p        r16, PT__STACK_PC(p_temp)       ; dump faulting PC
                  [00479C]  4553  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [00479C]  4554  .endc							; srom_debug_io
                  [00479C]  4555  
         6EF51040 [00479C]  4556  	hw_ldq/p p23, PT__ENT_ARITH(p_temp)		; get entry point
         6FB51028 [0047A0]  4557  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         6E1510A0 [0047A4]  4558  	hw_ldq/p r16, PT__NEW_A0(p_temp)		; a0 <- exc sum
         6E3510A8 [0047A8]  4559  	hw_ldq/p r17, PT__NEW_A1(p_temp)		; a1 <- reg mask
                  [0047AC]  4560  
         7BF78000 [0047AC]  4561  	hw_ret	(p23)					; to os
                  [0047B0]  4562  
                  [0047B0]  4563  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [0047B0]    56M         GOTO_FREE_CODE
00000000 00000000 [0047B0]    62M     .align 6
00000000 00000000 [0047B8]
File: ev6_osf_pal.mar
                  [0047C0]  4564  
                  [0047C0]  4565  ;------------------------------------------------------------------------
                  [0047C0]  4566  ;+
                  [0047C0]  4567  ; INTERRUPT - offset 680
                  [0047C0]  4568  ;
                  [0047C0]  4569  ; Entry:
                  [0047C0]  4570  ;	Vectored into via hardware trap on interrupt.
                  [0047C0]  4571  ;
                  [0047C0]  4572  ; Function:
                  [0047C0]  4573  ;
                  [0047C0]  4574  ; Note: If a new interrupt (hardware, serial line, crd or perf counter)
                  [0047C0]  4575  ;	occurs simultaneously with an mfpr isum, the isum read will return 0's.
                  [0047C0]  4576  ;	The interrupt would not be lost however. After a passive release in
                  [0047C0]  4577  ;	the PALcode, we would see the interrupt again. One way to
                  [0047C0]  4578  ;	minimize the number of passive releases is to read isum twice
                  [0047C0]  4579  ;	and OR the results.
                  [0047C0]  4580  ;-
                  [0047C0]  4581  
                  [0047C0]  4582  ipl_offset = <IPL_TABLE - trap__pal_base>
                  [0047C0]  4583  
                  [0047C0]  4584  	START_HW_VECTOR <INTERRUPT>
File: ev6_pal_macros.mar
                  [0047C0]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000680]    44i TRAP__INTERRUPT:
File: ev6_osf_pal.mar
                  [000680]  4585  
         66FF0600 [000680]  4586  	hw_mfpr	p23, EV6__EXC_ADDR		; (0L) get exc_addr
         649F0D00 [000684]  4587  	hw_mfpr	p4, EV6__ISUM			; (0L) get interrupt summary
         47FF041F [000688]  4588  	bis	r31, r31, r31
         47FF041F [00068C]  4589  	bis	r31, r31, r31
                  [000690]  4590  
         64BF0D00 [000690]  4591  	hw_mfpr	p5, EV6__ISUM			; (0L) read again
         44850404 [000694]  4592  	bis	p4, p5, p4			; OR the results
                  [000698]  4593  
                  [000698]  4594  .if ne check_ebox_iprs				; 1.52
                  [000698]  4595  	rpcc	p6, (p4)			; 1.52 depend on p4
                  [000698]  4596  	addq	p4, p6, p7			; 1.52 depend on p6
                  [000698]  4597  	addq	p7, #1, p7			; 1.53 depend on p7
                  [000698]  4598  	addq	p7, #1, p7			; 1.53 depend on p7
                  [000698]  4599  	rpcc	p20, (p7)			; 1.52 depend on p7
                  [000698]  4600    .if ne egore					; 1.52
                  [000698]  4601  	bis	r31, #1, p6			; 1.52 isp has no cc
                  [000698]  4602  	bis	r31, #2, p20			; 1.52 isp has no cc
                  [000698]  4603    .endc						; 1.52
                  [000698]  4604  	xor	p6, p20, p6			; 1.52 see if cc incremented
                  [000698]  4605  	beq	p6, trap__interrupt_crash1	; 1.52 branch if not
                  [000698]  4606  	br	p6, trap__interrupt_okay1	; 1.52 otherwise okay
                  [000698]  4607  
                  [000698]  4608  trap__interrupt_crash1:
                  [000698]  4609  	lda	p20, ^x0C(r31)			; 1.52 crash code
                  [000698]  4610  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; 1.52
                  [000698]  4611  	br	r31, trap__halt_after_fix	; 1.53
                  [000698]  4612  
                  [000698]  4613  trap__interrupt_okay1:				; 1.52
                  [000698]  4614  	lda	p20, ^xAA(r31)			; 1.52 get a constant
                  [000698]  4615  	insbl	p20, #0, p20			; 1.52 swapped on big-end
                  [000698]  4616  	cmpeq	p20, #^xAA, p7			; 1.52 compare
                  [000698]  4617  	beq	p7, trap__interrupt_crash2	; 1.52
                  [000698]  4618  	br	p7, trap__interrupt_okay2	; 1.52
                  [000698]  4619  
                  [000698]  4620  trap__interrupt_crash2:
                  [000698]  4621  	lda	p20, ^x0B(r31)			; 1.52 crash code
                  [000698]  4622  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; 1.52
                  [000698]  4623  	br	r31, trap__halt_after_fix	; 1.53
                  [000698]  4624  
                  [000698]  4625  trap__interrupt_okay2:				; 1.52
                  [000698]  4626  
                  [000698]  4627  .endc						; 1.52 check_ebox_iprs
                  [000698]  4628  
                  [000698]  4629  	CONT_HW_VECTOR <INTERRUPT>		; 1.52
File: ev6_pal_macros.mar
                  [000698]    71M     ASSUME <_pal_vec_cont> eq 0
         C3E01049 [000698]    76i 	br	r31, TRAP__INTERRUPT_CONT
                  [00069C]    79M                 ASSUME <.-_start_of_last_vec> le <^x80>
                  [00069C]    81M     GOTO_FREE_CODE
                  [0047C0]    62M     .align 6
                  [0047C0]    86i TRAP__INTERRUPT_CONT:
File: ev6_osf_pal.mar
                  [0047C0]  4630  
                  [0047C0]  4631  .if ne debug_ints*pci_debug_io
                  [0047C0]  4632  	DBGREG_PCI LED__INT,p23			; PC at interrupt
                  [0047C0]  4633  	DBGREG_PCI LED__INT,p4			; ISUM register
                  [0047C0]  4634  .endc
                  [0047C0]  4635  
         4883F685 [0047C0]  4636  	srl	p4, #EV6__ISUM__CR__S, p5	; check for cre (31)
         4883B686 [0047C4]  4637  	srl	p4, #EV6__ISUM__PC__S, p6	; check for perf ctr (29)
         44C07006 [0047C8]  4638  	and	p6, #EV6__ISUM__PC__M, p6	; get just perf ctr bits
                  [0047CC]  4639  
         F0A007AC [0047CC]  4640  	blbs	p5, sys__crd			; branch if cre
         F4C00750 [0047D0]  4641  	bne	p6, sys__interrupt_pc		; branch if perf ctr
                  [0047D4]  4642  
         48843687 [0047D4]  4643  	srl	p4, #EV6__ISUM__EI__S, p7	; check for external int (20-23)
         44E7F007 [0047D8]  4644  	and	p7, #EV6__ISUM__EI__M, p7	; get just ei bits
                  [0047DC]  4645  
         E4E00001 [0047DC]  4646  	beq	p7, trap__interrupt_sl		; check sl if not ei
         C3E006E2 [0047E0]  4647  	br	r31, sys__interrupt_ei		; handle ei
                  [0047E4]  4648  
                  [0047E4]  4649  						; 1.52 delete cont_hw_vector
                  [0047E4]  4650  ;+
                  [0047E4]  4651  ; Check for serial line interrupt.
                  [0047E4]  4652  ;-
                  [0047E4]  4653  trap__interrupt_sl:
         48841687 [0047E4]  4654  	srl	p4, #EV6__ISUM__SL__S, p7	; check for sl
         E4E00001 [0047E8]  4655  	beq	p7, trap__interrupt_dismiss	; dismiss if not
         C3E00748 [0047EC]  4656  	br	r31, sys__interrupt_sl		; handle sl
                  [0047F0]  4657  
                  [0047F0]  4658  ;+
                  [0047F0]  4659  ; Interrupts not being handled yet. ???
                  [0047F0]  4660  ;-
                  [0047F0]  4661  trap__interrupt_passive:
                  [0047F0]  4662  
                  [0047F0]  4663  ;+
                  [0047F0]  4664  ; Dismiss interrupt.
                  [0047F0]  4665  ;-
                  [0047F0]  4666  trap__interrupt_dismiss:
                  [0047F0]  4667  
                  [0047F0]  4668  .if eq force_path2				; 1.44 force_path2 = 0
                  [0047F0]  4669  
                  [0047F0]  4670  	hw_ret_stall (p23)			; return to user
                  [0047F0]  4671  
                  [0047F0]  4672  .iff						; 1.44 force_path2 = 1
                  [0047F0]  4673  ;
                  [0047F0]  4674  ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [0047F0]  4675  ; another processor has taken it, and a bad path before a stx_c has
                  [0047F0]  4676  ; a load which pulls the data back in and makes it look like the
                  [0047F0]  4677  ; lock has succeeded. Hold up loads by writing to MM_STAT with
                  [0047F0]  4678  ; scoreboard bit 2 (and 6 -- 6 is required or we hang).
                  [0047F0]  4679  ;
                  [0047F0]  4680  	mb					; make sure hw_ret goes
                  [0047F0]  4681  
                  [0047F0]  4682  	ALIGN_FETCH_BLOCK <^x47FF041F>
                  [0047F0]  4683  	mulq	p6, #1, p6			; hold up loads
                  [0047F0]  4684  	mulq	p6, #1, p6			; hols up loads
                  [0047F0]  4685  	hw_mtpr p6, <EV6__MM_STAT ! ^x44>	; hold up loads
                  [0047F0]  4686  	hw_ret_stall (p23)			; return
                  [0047F0]  4687  
                  [0047F0]  4688  .endc						; 1.44 force_path2
                  [0047F0]  4673I ;
                  [0047F0]  4674I ; We need to avoid the situation where a ldx_l has acquired a lock,
                  [0047F0]  4675I ; another processor has taken it, and a bad path before a stx_c has
                  [0047F0]  4676I ; a load which pulls the data back in and makes it look like the
                  [0047F0]  4677I ; lock has succeeded. Hold up loads by writing to MM_STAT with
                  [0047F0]  4678I ; scoreboard bit 2 (and 6 -- 6 is required or we hang).
                  [0047F0]  4679I ;
         63FF4000 [0047F0]  4680I 	mb					; make sure hw_ret goes
                  [0047F4]  4681I 
                  [0047F4]  4682I 	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
47FF041F 47FF041F [0047F4]   260i 	.align 4, <^x47FF041F>
         47FF041F [0047FC]
File: ev6_osf_pal.mar
         4CC03406 [004800]  4683I 	mulq	p6, #1, p6			; hold up loads
         4CC03406 [004804]  4684I 	mulq	p6, #1, p6			; hols up loads
         77E62744 [004808]  4685I 	hw_mtpr p6, <EV6__MM_STAT ! ^x44>	; hold up loads
         7BF7A000 [00480C]  4686I 	hw_ret_stall (p23)			; return
                  [004810]  4687I 
                  [004810]  4689  
                  [004810]  4690  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [004810]    56M         GOTO_FREE_CODE
00000000 00000000 [004810]    62M     .align 6
00000000 00000000 [004818]
00000000 00000000 [004820]
00000000 00000000 [004828]
00000000 00000000 [004830]
00000000 00000000 [004838]
File: ev6_osf_pal.mar
                  [004840]  4691  
                  [004840]  4692  ;------------------------------------------------------------------------
                  [004840]  4693  ;+
                  [004840]  4694  ; MT_FPCR - offset 700
                  [004840]  4695  ;
                  [004840]  4696  ; Entry:
                  [004840]  4697  ;	Vectored into via hardware trap on issue of a MT_FPCR instruction.
                  [004840]  4698  ;	This is a sychronous trap.
                  [004840]  4699  ;
                  [004840]  4700  ; Function:
                  [004840]  4701  ;	The MT_FPCR instruction is issued from the floating point queue.
                  [004840]  4702  ;	This instruction is implemented as an explicit IPR write: the value
                  [004840]  4703  ;	is written into the "first" latch, and when the instruction retires,
                  [004840]  4704  ;	the value is written into the "second" latch. There is no IPR
                  [004840]  4705  ;	scoreboarding in the floating point queue. PALcode assistance is
                  [004840]  4706  ;	required to ensure that subsequent readers of the FPCR get the
                  [004840]  4707  ;	update value.
                  [004840]  4708  ;
                  [004840]  4709  ;	The PALcode can simply return using a HW_RET_STALL. This sequence
                  [004840]  4710  ;	ensures that the MT_FPCR instruction will be correctly ordered with
                  [004840]  4711  ;	respect to subsequent readers of the FPCR.
                  [004840]  4712  ;
                  [004840]  4713  ; Register use:
                  [004840]  4714  ;	p23		exc_addr
                  [004840]  4715  ;
                  [004840]  4716  ;-
                  [004840]  4717  	START_HW_VECTOR <MT_FPCR>
File: ev6_pal_macros.mar
                  [004840]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000700]    44i TRAP__MT_FPCR:
File: ev6_osf_pal.mar
                  [000700]  4718  
         66FF0600 [000700]  4719  	hw_mfpr	p23, EV6__EXC_ADDR		; (0L) save exc_addr
                  [000704]  4720  	NOP					; keep 1st fetch block free
File: ev6_pal_macros.mar
         47FF041F [000704]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [000708]  4721  	NOP					; 	of pvc violations
File: ev6_pal_macros.mar
         47FF041F [000708]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00070C]  4722  	NOP
File: ev6_pal_macros.mar
         47FF041F [00070C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [000710]  4723  
         42E09417 [000710]  4724  	addq	p23, #4, p23			; adjust pc
         7BF7A000 [000714]  4725  	hw_ret_stall (p23)			; return to user
                  [000718]  4726  
                  [000718]  4727  	END_HW_VECTOR
File: ev6_pal_macros.mar
                  [000718]    52i         ASSUME <.-_start_of_last_vec> le <^x80>
                  [000718]    56M         GOTO_FREE_CODE
                  [004840]    62M     .align 6
File: ev6_osf_pal.mar
                  [004840]  4728  
                  [004840]  4729  ;------------------------------------------------------------------------
                  [004840]  4730  ;+
                  [004840]  4731  ; Wakeup
                  [004840]  4732  ;
                  [004840]  4733  ; Entry:
                  [004840]  4734  ;	Vectored into via hardware trap on wakeup from sleep mode.
                  [004840]  4735  ;
                  [004840]  4736  ; Current state:
                  [004840]  4737  ; 	Register file		unitialized
                  [004840]  4738  ;	EV6__EXC_ADDR		undefined
                  [004840]  4739  ;	EV6__PAL_BASE		last written
                  [004840]  4740  ;	EV6__IER		last written
                  [004840]  4741  ;	Iprs			reset state
                  [004840]  4742  ;	Cbox write-once chain	last written
                  [004840]  4743  ;	Cbox write-many chain	reset state
                  [004840]  4744  ;	EV6__SIRR<28:14>	cpu number
                  [004840]  4745  ;
                  [004840]  4746  ;-
                  [004840]  4747  
                  [004840]  4748  ;+
                  [004840]  4749  ; Initialize 80 retirator "done" status bits and mapper.
                  [004840]  4750  ; The retirator and mapper must be initialized in the
                  [004840]  4751  ; manner and order below. NO SOURCES other than
                  [004840]  4752  ; x31 may be used until "mapper source enable" is
                  [004840]  4753  ; turned on with a EV6_ITB_IA.
                  [004840]  4754  ;-
                  [004840]  4755  
                  [004840]  4756  EV6__WAKEUP_ENTRY = ^x780
                  [004840]  4757  
                  [004840]  4758  	START_HW_VECTOR <WAKEUP>
File: ev6_pal_macros.mar
                  [004840]    31M     ASSUME <_pal_func_in_prog> eq 0
                  [000780]    44i TRAP__WAKEUP:
File: ev6_osf_pal.mar
                  [000780]  4759  
                  [000780]  4760  .if ne <srom\1> ! mchk_on_wakeup
                  [000780]  4761  
                  [000780]  4762  	INITIALIZE_RETIRATOR_AND_MAPPER
                  [000780]  4763  ;
                  [000780]  4764  ; Also, the SROM will have to do a ITB_IA and ensure there is no
                  [000780]  4765  ; chance of getting to code/data that looks like a hw_ret to native
                  [000780]  4766  ; mode for at least 80 instructions.
                  [000780]  4767  ;
                  [000780]  4768  .if ne	mchk_on_wakeup
                  [000780]  4769  	GET_32CONS	r0, PAL$PAL_BASE, r31
                  [000780]  4770  	lda	r0, EV6__WAKEUP_ENTRY(r0)
                  [000780]  4771  	bis	r0, #1, r0
                  [000780]  4772  	hw_ret_stall	r31, (r0)
                  [000780]  4773  .iff
                  [000780]  4774  	br	r31, trap__powerup
                  [000780]  4775  .endc
                  [000780]  4776  
                  [000780]  4777  .iff
                  [000780]  4778  
                  [000780]  4779  .if eq smi_platform
                  [000780]  4780  
                  [000780]  4781  	PVC_VIOLATE <1003>
                  [000780]  4782  .iff
                  [000780]  4783  
                  [000780]  4784      i = 0
                  [000780]  4785      .repeat 15
                  [000780]  4786  	addq	r31, r31, i
                  [000780]  4787  	addq	r31, r31, <i+1>
                  [000780]  4788  	.if eq <ev6_p1>
                  [000780]  4789  	addt	f31, f31, i
                  [000780]  4790  	mult	f31, f31, <i+1>
                  [000780]  4791  	.iff
                  [000780]  4792  	addq	r31, r31, i
                  [000780]  4793  	addq	r31, r31, <i+1>
                  [000780]  4794  	.endc
                  [000780]  4795  	i = i+2
                  [000780]  4796      .endr
                  [000780]  4797  
                  [000780]  4798  	addq	r31, r31, r30
                  [000780]  4799      .if eq <ev6_p1>
                  [000780]  4800  	addt	f31, f31, f30
                  [000780]  4801      .iff
                  [000780]  4802  	addq	r31, r31, r30
                  [000780]  4803      .endc
                  [000780]  4804  	addq	r31, r31, r0
                  [000780]  4805  	addq	r31, r31, r0
                  [000780]  4806  
                  [000780]  4807      .repeat 4
                  [000780]  4808  	addq	r31, r31, r0
                  [000780]  4809  	addq	r31, r31, r0
                  [000780]  4810  	addq	r31, r31, r0
                  [000780]  4811  	addq	r31, r31, r0
                  [000780]  4812      .endr
                  [000780]  4813  
                  [000780]  4814  ;
                  [000780]  4815  ; Now turn on mapper source enables.
                  [000780]  4816  ;
                  [000780]  4817  	ASSUME_FETCH_BLOCK
                  [000780]  4818  
                  [000780]  4819  	hw_mtpr	r31, EV6__ITB_IA	; (4,0L) Flush ITB, enable source map
                  [000780]  4820  	hw_mtpr	r31, EV6__DTB_IA	; (7,1L) Flush DTB
                  [000780]  4821  	addq	r31, r31, r0		; nop
                  [000780]  4822  	addq	r31, r31, r0		; nop
                  [000780]  4823  ;
                  [000780]  4824  ; Create a stall outside the IQ until the mtpr EV6__ITB_IA retires.
                  [000780]  4825  ;
                  [000780]  4826  	hw_mtpr	r31, <EV6__MM_STAT ! ^x90>
                  [000780]  4827  	addq	r31, r31, r0		; nop
                  [000780]  4828  	addq	r31, r31, r0		; nop
                  [000780]  4829  	addq	r31, r31, r0		; nop
                  [000780]  4830  ;
                  [000780]  4831  ; We need 2 buffer fetch blocks to produce desired stalls..
                  [000780]  4832  ;
                  [000780]  4833  	addq	r31, r31, r0		; 1st buffer fetch block. IMAP stall.
                  [000780]  4834  	addq	r31, r31, r0		; nop
                  [000780]  4835  	addq	r31, r31, r0		; nop
                  [000780]  4836  	addq	r31, r31, r0		; nop
                  [000780]  4837  
                  [000780]  4838  	addq	r31, r31, r0		; 2nd buffer fetch block. FMAP stall.
                  [000780]  4839  	addq	r31, r31, r0		; nop
                  [000780]  4840  	addq	r31, r31, r0		; nop
                  [000780]  4841  	addq	r31, r31, r0		; nop
                  [000780]  4842  
                  [000780]  4843  ;+
                  [000780]  4844  ; Now we must map the shadow registers.
                  [000780]  4845  ;
                  [000780]  4846  ; Current state:
                  [000780]  4847  ;	retirator initialized
                  [000780]  4848  ;	destinations mapped
                  [000780]  4849  ;	source mapping enabled
                  [000780]  4850  ;	itb, dtb flushed
                  [000780]  4851  ;
                  [000780]  4852  ; We need to ensure we are in the icache so we don't fetch junk that touches
                  [000780]  4853  ; the shadow sources before we write the destinations.
                  [000780]  4854  ;-
                  [000780]  4855  
                  [000780]  4856  EV6__I_CTL__SHADOW_INIT = -
                  [000780]  4857  	<<3@EV6__I_CTL__IC_EN__S> ! -
                  [000780]  4858  	 <2@EV6__I_CTL__SDE__S> ! -
                  [000780]  4859  	 <1@EV6__I_CTL__CALL_PAL_R23__S>>
                  [000780]  4860  
                  [000780]  4861  	GET_32CONS	r2, EV6__I_CTL__SHADOW_INIT, r31
                  [000780]  4862  	br	r31, trap__wakeup__touch0	; fetch in next block
                  [000780]  4863  
                  [000780]  4864  	ALIGN_FETCH_BLOCK <^x43FF0400>		; pad with addq r31, r31, r0
                  [000780]  4865  
                  [000780]  4866  trap__wakeup__next0:				;
                  [000780]  4867  	hw_mtpr	r2, EV6__I_CTL			; (4,0L) write I_CTL
                  [000780]  4868  	addq	r31, r31, r0			; nop
                  [000780]  4869  	br	r31, trap__wakeup__next1	; continue in next block
                  [000780]  4870  trap__wakeup__touch0:				;
                  [000780]  4871  	br	r31, trap__wakeup__touch1	; fetch next block
                  [000780]  4872  
                  [000780]  4873  trap__wakeup__next1:				;
                  [000780]  4874  	hw_mtpr	r31, <EV6__MM_STAT ! ^x10>	; (4,0L) stall outside IQ
                  [000780]  4875  	addq	r31, r31, r0			; nop
                  [000780]  4876  	br	r31, trap__wakeup__next2	; continue in next block
                  [000780]  4877  trap__wakeup__touch1:				;
                  [000780]  4878  	br	r31, trap__wakeup__touch2	; fetch next block
                  [000780]  4879  ;
                  [000780]  4880  ; We need 3 buffer fetch blocks to get the correct SDE bit for the
                  [000780]  4881  ; next fetch block. One for IMAP stall, one for FMAP stall, one more to allow
                  [000780]  4882  ; for the retire to proprogate for the fetch.
                  [000780]  4883  ;
                  [000780]  4884  trap__wakeup__next2:				;
                  [000780]  4885  	addq	r31, r31, r0			; 1st block. IMAP stall.
                  [000780]  4886  	addq	r31, r31, r0			; nop
                  [000780]  4887  	br	r31, trap__wakeup__next3	; continue in next block
                  [000780]  4888  trap__wakeup__touch2:				;
                  [000780]  4889  	br	r31, trap__wakeup__touch3	; fetch next block
                  [000780]  4890  
                  [000780]  4891  trap__wakeup__next3:				;
                  [000780]  4892  	addq	r31, r31, r0			; 2nd block. FMAP stall.
                  [000780]  4893  	addq	r31, r31, r0			; nop
                  [000780]  4894  	br	r31, trap__wakeup__next4	; continue in next block
                  [000780]  4895  trap__wakeup__touch3:				;
                  [000780]  4896  	br	r31, trap__wakeup__touch4	; fetch next block
                  [000780]  4897  
                  [000780]  4898  trap__wakeup__next4:				;
                  [000780]  4899  	addq	r31, r31, r0			; 3rd block. Propagate.
                  [000780]  4900  	addq	r31, r31, r0			; nop
                  [000780]  4901  	br	r31, trap__wakeup__next5	; continue in next block
                  [000780]  4902  trap__wakeup__touch4:				;
                  [000780]  4903  	br	r31, trap__wakeup__touch5	; fetch next block
                  [000780]  4904  ;
                  [000780]  4905  ; Now map the shadow registers
                  [000780]  4906  ;
                  [000780]  4907  trap__wakeup__next5:				;
                  [000780]  4908  	addq	r31, r31, r4			; map r4
                  [000780]  4909  	addq	r31, r31, r5			; mapr r5
                  [000780]  4910  	br	r31, trap__wakeup__next6	; continue in next block
                  [000780]  4911  trap__wakeup__touch5:				;
                  [000780]  4912  	br	r31, trap__wakeup__touch6	; fetch next block
                  [000780]  4913  
                  [000780]  4914  trap__wakeup__next6:				;
                  [000780]  4915  	addq	r31, r31, r6			; map r6
                  [000780]  4916  	addq	r31, r31, r7			; map r7
                  [000780]  4917  	br	r31, trap__wakeup__next7	; continue in next block
                  [000780]  4918  trap__wakeup__touch6:				;
                  [000780]  4919  	br	r31, trap__wakeup__touch7	; fetch next block
                  [000780]  4920  
                  [000780]  4921  trap__wakeup__next7:				;
                  [000780]  4922  	addq	r31, r31, r20			; map r20
                  [000780]  4923  	addq	r31, r31, r21			; map r21
                  [000780]  4924  	br	r31, trap__wakeup__next8	; continue in next block
                  [000780]  4925  trap__wakeup__touch7:				;
                  [000780]  4926  	br	r31, trap__wakeup__touch8	; fetch next block
                  [000780]  4927  
                  [000780]  4928  trap__wakeup__next8:				;
                  [000780]  4929  	addq	r31, r31, r22			; map r22
                  [000780]  4930  	addq	r31, r31, r23			; map r23
                  [000780]  4931  	br	r31, trap__wakeup__sde_done	; done
                  [000780]  4932  trap__wakeup__touch8:				;
                  [000780]  4933  	br	r31, trap__wakeup__next0	; go back and start executing
                  [000780]  4934  
                  [000780]  4935  trap__wakeup__sde_done:
                  [000780]  4936  	br	r31, sys__wakeup		; continue in system code
                  [000780]  4937  
                  [000780]  4938  .endc
                  [000780]  4939  
                  [000780]  4940  .endc ; if eq srom
                  [000780]  4778I 
                  [000780]  4779I .if eq smi_platform
                  [000780]  4780I 
                  [000780]  4781I 	PVC_VIOLATE <1003>
                  [000780]  4782I .iff
                  [000780]  4783I 
                  [000780]  4784I     i = 0
                  [000780]  4785I     .repeat 15
                  [000780]  4786I 	addq	r31, r31, i
                  [000780]  4787I 	addq	r31, r31, <i+1>
                  [000780]  4788I 	.if eq <ev6_p1>
                  [000780]  4789I 	addt	f31, f31, i
                  [000780]  4790I 	mult	f31, f31, <i+1>
                  [000780]  4791I 	.iff
                  [000780]  4792I 	addq	r31, r31, i
                  [000780]  4793I 	addq	r31, r31, <i+1>
                  [000780]  4794I 	.endc
                  [000780]  4795I 	i = i+2
                  [000780]  4796I     .endr
                  [000780]  4797I 
                  [000780]  4798I 	addq	r31, r31, r30
                  [000780]  4799I     .if eq <ev6_p1>
                  [000780]  4800I 	addt	f31, f31, f30
                  [000780]  4801I     .iff
                  [000780]  4802I 	addq	r31, r31, r30
                  [000780]  4803I     .endc
                  [000780]  4804I 	addq	r31, r31, r0
                  [000780]  4805I 	addq	r31, r31, r0
                  [000780]  4806I 
                  [000780]  4807I     .repeat 4
                  [000780]  4808I 	addq	r31, r31, r0
                  [000780]  4809I 	addq	r31, r31, r0
                  [000780]  4810I 	addq	r31, r31, r0
                  [000780]  4811I 	addq	r31, r31, r0
                  [000780]  4812I     .endr
                  [000780]  4813I 
                  [000780]  4814I ;
                  [000780]  4815I ; Now turn on mapper source enables.
                  [000780]  4816I ;
                  [000780]  4817I 	ASSUME_FETCH_BLOCK
                  [000780]  4818I 
                  [000780]  4819I 	hw_mtpr	r31, EV6__ITB_IA	; (4,0L) Flush ITB, enable source map
                  [000780]  4820I 	hw_mtpr	r31, EV6__DTB_IA	; (7,1L) Flush DTB
                  [000780]  4821I 	addq	r31, r31, r0		; nop
                  [000780]  4822I 	addq	r31, r31, r0		; nop
                  [000780]  4823I ;
                  [000780]  4824I ; Create a stall outside the IQ until the mtpr EV6__ITB_IA retires.
                  [000780]  4825I ;
                  [000780]  4826I 	hw_mtpr	r31, <EV6__MM_STAT ! ^x90>
                  [000780]  4827I 	addq	r31, r31, r0		; nop
                  [000780]  4828I 	addq	r31, r31, r0		; nop
                  [000780]  4829I 	addq	r31, r31, r0		; nop
                  [000780]  4830I ;
                  [000780]  4831I ; We need 2 buffer fetch blocks to produce desired stalls..
                  [000780]  4832I ;
                  [000780]  4833I 	addq	r31, r31, r0		; 1st buffer fetch block. IMAP stall.
                  [000780]  4834I 	addq	r31, r31, r0		; nop
                  [000780]  4835I 	addq	r31, r31, r0		; nop
                  [000780]  4836I 	addq	r31, r31, r0		; nop
                  [000780]  4837I 
                  [000780]  4838I 	addq	r31, r31, r0		; 2nd buffer fetch block. FMAP stall.
                  [000780]  4839I 	addq	r31, r31, r0		; nop
                  [000780]  4840I 	addq	r31, r31, r0		; nop
                  [000780]  4841I 	addq	r31, r31, r0		; nop
                  [000780]  4842I 
                  [000780]  4843I ;+
                  [000780]  4844I ; Now we must map the shadow registers.
                  [000780]  4845I ;
                  [000780]  4846I ; Current state:
                  [000780]  4847I ;	retirator initialized
                  [000780]  4848I ;	destinations mapped
                  [000780]  4849I ;	source mapping enabled
                  [000780]  4850I ;	itb, dtb flushed
                  [000780]  4851I ;
                  [000780]  4852I ; We need to ensure we are in the icache so we don't fetch junk that touches
                  [000780]  4853I ; the shadow sources before we write the destinations.
                  [000780]  4854I ;-
                  [000780]  4855I 
                  [000780]  4856I EV6__I_CTL__SHADOW_INIT = -
                  [000780]  4857I 	<<3@EV6__I_CTL__IC_EN__S> ! -
                  [000780]  4858I 	 <2@EV6__I_CTL__SDE__S> ! -
                  [000780]  4859I 	 <1@EV6__I_CTL__CALL_PAL_R23__S>>
                  [000780]  4860I 
                  [000780]  4861I 	GET_32CONS	r2, EV6__I_CTL__SHADOW_INIT, r31
                  [000780]  4862I 	br	r31, trap__wakeup__touch0	; fetch in next block
                  [000780]  4863I 
                  [000780]  4864I 	ALIGN_FETCH_BLOCK <^x43FF0400>		; pad with addq r31, r31, r0
                  [000780]  4865I 
                  [000780]  4866I trap__wakeup__next0:				;
                  [000780]  4867I 	hw_mtpr	r2, EV6__I_CTL			; (4,0L) write I_CTL
                  [000780]  4868I 	addq	r31, r31, r0			; nop
                  [000780]  4869I 	br	r31, trap__wakeup__next1	; continue in next block
                  [000780]  4870I trap__wakeup__touch0:				;
                  [000780]  4871I 	br	r31, trap__wakeup__touch1	; fetch next block
                  [000780]  4872I 
                  [000780]  4873I trap__wakeup__next1:				;
                  [000780]  4874I 	hw_mtpr	r31, <EV6__MM_STAT ! ^x10>	; (4,0L) stall outside IQ
                  [000780]  4875I 	addq	r31, r31, r0			; nop
                  [000780]  4876I 	br	r31, trap__wakeup__next2	; continue in next block
                  [000780]  4877I trap__wakeup__touch1:				;
                  [000780]  4878I 	br	r31, trap__wakeup__touch2	; fetch next block
                  [000780]  4879I ;
                  [000780]  4880I ; We need 3 buffer fetch blocks to get the correct SDE bit for the
                  [000780]  4881I ; next fetch block. One for IMAP stall, one for FMAP stall, one more to allow
                  [000780]  4882I ; for the retire to proprogate for the fetch.
                  [000780]  4883I ;
                  [000780]  4884I trap__wakeup__next2:				;
                  [000780]  4885I 	addq	r31, r31, r0			; 1st block. IMAP stall.
                  [000780]  4886I 	addq	r31, r31, r0			; nop
                  [000780]  4887I 	br	r31, trap__wakeup__next3	; continue in next block
                  [000780]  4888I trap__wakeup__touch2:				;
                  [000780]  4889I 	br	r31, trap__wakeup__touch3	; fetch next block
                  [000780]  4890I 
                  [000780]  4891I trap__wakeup__next3:				;
                  [000780]  4892I 	addq	r31, r31, r0			; 2nd block. FMAP stall.
                  [000780]  4893I 	addq	r31, r31, r0			; nop
                  [000780]  4894I 	br	r31, trap__wakeup__next4	; continue in next block
                  [000780]  4895I trap__wakeup__touch3:				;
                  [000780]  4896I 	br	r31, trap__wakeup__touch4	; fetch next block
                  [000780]  4897I 
                  [000780]  4898I trap__wakeup__next4:				;
                  [000780]  4899I 	addq	r31, r31, r0			; 3rd block. Propagate.
                  [000780]  4900I 	addq	r31, r31, r0			; nop
                  [000780]  4901I 	br	r31, trap__wakeup__next5	; continue in next block
                  [000780]  4902I trap__wakeup__touch4:				;
                  [000780]  4903I 	br	r31, trap__wakeup__touch5	; fetch next block
                  [000780]  4904I ;
                  [000780]  4905I ; Now map the shadow registers
                  [000780]  4906I ;
                  [000780]  4907I trap__wakeup__next5:				;
                  [000780]  4908I 	addq	r31, r31, r4			; map r4
                  [000780]  4909I 	addq	r31, r31, r5			; mapr r5
                  [000780]  4910I 	br	r31, trap__wakeup__next6	; continue in next block
                  [000780]  4911I trap__wakeup__touch5:				;
                  [000780]  4912I 	br	r31, trap__wakeup__touch6	; fetch next block
                  [000780]  4913I 
                  [000780]  4914I trap__wakeup__next6:				;
                  [000780]  4915I 	addq	r31, r31, r6			; map r6
                  [000780]  4916I 	addq	r31, r31, r7			; map r7
                  [000780]  4917I 	br	r31, trap__wakeup__next7	; continue in next block
                  [000780]  4918I trap__wakeup__touch6:				;
                  [000780]  4919I 	br	r31, trap__wakeup__touch7	; fetch next block
                  [000780]  4920I 
                  [000780]  4921I trap__wakeup__next7:				;
                  [000780]  4922I 	addq	r31, r31, r20			; map r20
                  [000780]  4923I 	addq	r31, r31, r21			; map r21
                  [000780]  4924I 	br	r31, trap__wakeup__next8	; continue in next block
                  [000780]  4925I trap__wakeup__touch7:				;
                  [000780]  4926I 	br	r31, trap__wakeup__touch8	; fetch next block
                  [000780]  4927I 
                  [000780]  4928I trap__wakeup__next8:				;
                  [000780]  4929I 	addq	r31, r31, r22			; map r22
                  [000780]  4930I 	addq	r31, r31, r23			; map r23
                  [000780]  4931I 	br	r31, trap__wakeup__sde_done	; done
                  [000780]  4932I trap__wakeup__touch8:				;
                  [000780]  4933I 	br	r31, trap__wakeup__next0	; go back and start executing
                  [000780]  4934I 
                  [000780]  4935I trap__wakeup__sde_done:
                  [000780]  4936I 	br	r31, sys__wakeup		; continue in system code
                  [000780]  4937I 
                  [000780]  4938I .endc
                  [000780]  4780I 
                  [000780]  4781I 	PVC_VIOLATE <1003>
File: ev6_pal_macros.mar
                  [000780]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
                  [000780]  4939I 
                  [000780]  4941  
                  [000780]  4942  	END_HW_VECTOR <^xC00 - TRAP__WAKEUP>
File: ev6_pal_macros.mar
                  [000780]    52i         ASSUME <.-_start_of_last_vec> le <^xC00 - TRAP__WAKEUP>
                  [000780]    56M         GOTO_FREE_CODE
                  [004840]    62M     .align 6
File: ev6_osf_pal.mar
                  [004840]  4943  
                  [004840]  4944  ;========================================================================
                  [004840]  4945  ;+
                  [004840]  4946  ; Other routines
                  [004840]  4947  ;-
                  [004840]  4948  	GOTO_FREE_CODE
File: ev6_pal_macros.mar
                  [004840]    62M     .align 6
File: ev6_osf_pal.mar
                  [004840]  4949  ;------------------------------------------------------------------------
                  [004840]  4950  ;+						; 1.53
                  [004840]  4951  ; trap__halt_after_fix
                  [004840]  4952  ;
                  [004840]  4953  ; Entry:
                  [004840]  4954  ;	On va_ctl or cc_ctl corruption
                  [004840]  4955  ;
                  [004840]  4956  ; Function:
                  [004840]  4957  ;	Restore va_ctl and cc_ctl and then halt
                  [004840]  4958  ;
                  [004840]  4959  ; Current state:
                  [004840]  4960  ;	p20	halt code
                  [004840]  4961  ;	p23	offending pc
                  [004840]  4962  ;-
                  [004840]  4963  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
                  [004840]   270i 	.align 6
File: ev6_osf_pal.mar
                  [004840]  4964  trap__halt_after_fix:				; 1.53 block begin
         6C951000 [004840]  4965  	hw_ldq/p p4, PT__VPTB(p_temp)		; get vptb base
         77E4C420 [004844]  4966  	hw_mtpr p4, EV6__VA_CTL			; write it, clearing <29:0>
         47FF041F [004848]  4967  	bis	r31, r31, r31
         47FF041F [00484C]  4968  	bis	r31, r31, r31
                  [004850]  4969  
                  [004850]  4970  	ASSUME_FETCH_BLOCK
         77E4C420 [004850]  4971  	hw_mtpr p4, EV6__VA_CTL			; write it, clearing <29:0>
         47E03405 [004854]  4972  	bis	r31, #1, p5			; get a 1
         48A41725 [004858]  4973  	sll	p5, #32, p5			; get into position
         47FF041F [00485C]  4974  	bis	r31, r31, r31
                  [004860]  4975  
                  [004860]  4976  	ASSUME_FETCH_BLOCK
         77E5C120 [004860]  4977  	hw_mtpr	p5, EV6__CC_CTL			; enable
         47FF041F [004864]  4978  	bis	r31, r31, r31
         47FF041F [004868]  4979  	bis	r31, r31, r31
         47FF041F [00486C]  4980  	bis	r31, r31, r31
                  [004870]  4981  	
                  [004870]  4982  	ASSUME_FETCH_BLOCK
         77E5C120 [004870]  4983  	hw_mtpr	p5, EV6__CC_CTL			; enable
         C3E00002 [004874]  4984  	br	r31, trap__update_pcb_and_halt	; now halt
                  [004878]  4985  						; 1.53 block end
                  [004878]  4986  ;------------------------------------------------------------------------
                  [004878]  4987  ;+
                  [004878]  4988  ; trap__update_pcb_and_halt
                  [004878]  4989  ;
                  [004878]  4990  ; Entry:
                  [004878]  4991  ;	Branched to on halt conditions.
                  [004878]  4992  ;
                  [004878]  4993  ; Function:
                  [004878]  4994  ;	Update PCB and branch to sys__enter_console.
                  [004878]  4995  ;
                  [004878]  4996  ; Current state:
                  [004878]  4997  ;	p20		halt code
                  [004878]  4998  ;	p23		offending pc
                  [004878]  4999  ;
                  [004878]  5000  ;	PT__HALT_CODE	halt code
                  [004878]  5001  ;-
                  [004878]  5002  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [004878]   270i 	.align 6
File: ev6_osf_pal.mar
                  [004880]  5003  trap__update_pcb_and_halt:
         6C951010 [004880]  5004  	hw_ldq/p p4, PT__PCBB(p_temp)			; get pcbb
         46C11007 [004884]  5005  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p7	; current mode
         F4E00002 [004888]  5006  	bne	p7, trap__update_pcb_from_user		; branch if user mode
                  [00488C]  5007  ;
                  [00488C]  5008  ; Fall through for kernel mode.
                  [00488C]  5009  ;
         7FC41000 [00488C]  5010  	hw_stq/p r30, OSF_PCB__KSP(p4)			; update PCB location
         C3E00002 [004890]  5011  	br	r31, trap__update_pcb_and_halt_cpc
                  [004894]  5012  ;
                  [004894]  5013  ; Updating from user mode.
                  [004894]  5014  ;
                  [004894]  5015  trap__update_pcb_from_user:
         7FD51020 [004894]  5016  	hw_stq/p r30, PT__USP(p_temp)		; update pt__usp
         7FC41008 [004898]  5017  	hw_stq/p r30, OSF_PCB__USP(p4)		; update PCB location
                  [00489C]  5018  ;
                  [00489C]  5019  ; Merge to update cpc.
                  [00489C]  5020  ;
                  [00489C]  5021  trap__update_pcb_and_halt_cpc:
         60BFC000 [00489C]  5022  	rpcc	p5				; get cycle counter
         48A41686 [0048A0]  5023  	srl	p5, #32, p6			; shift offset in cc<63:32>
         40A60006 [0048A4]  5024  	addl	p5, p6, p6			; cc<31:0> + cc<63:32>
         7CC40018 [0048A8]  5025  	hw_stl/p p6, OSF_PCB__CPC(p4)		; store cc
                  [0048AC]  5026  
                  [0048AC]  5027  .if ne srom_debug_io*debug_err			; srom_debug_io
                  [0048AC]  5028  	bis             r16, r31, r0            ; safe copy in p5
                  [0048AC]  5029  
                  [0048AC]  5030  	GET_32CONS      r16, ^x42414420, r31    ; BAD HALT
                  [0048AC]  5031  	sll             r16, #32, r16
                  [0048AC]  5032  	GET_32CONS      r16, ^x48414C54, r16    ;
                  [0048AC]  5033  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [0048AC]  5034  
                  [0048AC]  5035  	bis             p23, r31, r16
                  [0048AC]  5036  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [0048AC]  5037  
                  [0048AC]  5038  	bis             r0, r31, r16
                  [0048AC]  5039  .endc						; srom_debug_io
                  [0048AC]  5040  
         C3E00A34 [0048AC]  5041  	br	r31, sys__enter_console
                  [0048B0]  5042  
                  [0048B0]  5043  
                  [0048B0]  5044  ;------------------------------------------------------------------------
                  [0048B0]  5045  ;+
                  [0048B0]  5046  ; pal__save_state
                  [0048B0]  5047  ;
                  [0048B0]  5048  ; The shadow registers, except of course p_misc and p_temp, are pretty much
                  [0048B0]  5049  ; scratch, so we don't worry about stepping on them.
                  [0048B0]  5050  ;
                  [0048B0]  5051  ; Current state:
                  [0048B0]  5052  ;	p7		return address
                  [0048B0]  5053  ;	p20		halt code
                  [0048B0]  5054  ;	p23		exc_addr
                  [0048B0]  5055  ;
                  [0048B0]  5056  ;	PT__HALT_CODE	halt code (do we need it there ??)
                  [0048B0]  5057  ;-
                  [0048B0]  5058  
                  [0048B0]  5059  EV6__I_CTL__SDE7__S = 7				; shadow mode bit
                  [0048B0]  5060  
                  [0048B0]  5061  	ALIGN_FETCH_BLOCK
File: ev6_pal_macros.mar
                  [0048B0]   262i 	.align 4
File: ev6_osf_pal.mar
                  [0048B0]  5062  
                  [0048B0]  5063  pal__save_state:
         6C9510C0 [0048B0]  5064  	hw_ldq/p p4, PT__IMPURE(p_temp)		; get base of impure area
         7FE41000 [0048B4]  5065  	hw_stq/p r31, CNS__FLAG(p4)		; clear dump flag
         7E841008 [0048B8]  5066  	hw_stq/p p20, CNS__HALT(p4)		; halt code
         47FF041F [0048BC]  5067  	bis	r31, r31, r31
                  [0048C0]  5068  ;
                  [0048C0]  5069  ; 1.57 store process_context before enabling fpe to save
                  [0048C0]  5070  ; floating point registers
                  [0048C0]  5071  ;
                  [0048C0]  5072  	STORE_REG <PROCESS_CONTEXT>, srn=p5, irn=p4, ipr=1	; 1.57 (4,0L)
File: ev6_pal_macros.mar
                  [0048C0]   458M     ASSUME <0+0+1> lt 2
         64BF5F10 [0048C0]   475i 	hw_mfpr	p5, EV6__PROCESS_CONTEXT
         7CA41370 [0048C4]   476i 	hw_stq/p p5, CNS__PROCESS_CONTEXT(p4)
File: ev6_osf_pal.mar
         47FF041F [0048C8]  5073  	bis	r31, r31, r31					; 1.57
         47FF041F [0048CC]  5074  	bis	r31, r31, r31					; 1.57
                  [0048D0]  5075  
                  [0048D0]  5076  	STORE_REG 0, irn=p4			; save r0
File: ev6_pal_macros.mar
                  [0048D0]   458M     ASSUME <0+0+0> lt 2
         7C041010 [0048D0]   461i 	hw_stq/p r0, CNS__R0(p4)
File: ev6_osf_pal.mar
                  [0048D4]  5077  	STORE_REG 1, irn=p4			; save r1
File: ev6_pal_macros.mar
                  [0048D4]   458M     ASSUME <0+0+0> lt 2
         7C241018 [0048D4]   461i 	hw_stq/p r1, CNS__R1(p4)
File: ev6_osf_pal.mar
                  [0048D8]  5078  	STORE_REG 2, irn=p4			; save r2
File: ev6_pal_macros.mar
                  [0048D8]   458M     ASSUME <0+0+0> lt 2
         7C441020 [0048D8]   461i 	hw_stq/p r2, CNS__R2(p4)
File: ev6_osf_pal.mar
         641F1110 [0048DC]  5079  	hw_mfpr	r0, EV6__I_CTL			; (4,0L) get i_ctl
                  [0048E0]  5080  
         449F0401 [0048E0]  5081  	bis	p4, r31, r1			; base of impure area
         44101100 [0048E4]  5082  	bic	r0, #<1@EV6__I_CTL__SDE7__S>, r0; zap sde
                  [0048E8]  5083  	STORE_REG 3, irn=p4			; save r3
File: ev6_pal_macros.mar
                  [0048E8]   458M     ASSUME <0+0+0> lt 2
         7C641028 [0048E8]   461i 	hw_stq/p r3, CNS__R3(p4)
File: ev6_osf_pal.mar
                  [0048EC]  5084  	STORE_REG 8, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [0048EC]   458M     ASSUME <0+0+0> lt 2
         7D011050 [0048EC]   461i 	hw_stq/p r8, CNS__R8(r1)
File: ev6_osf_pal.mar
                  [0048F0]  5085  	
         77E01110 [0048F0]  5086  	hw_mtpr	r0, EV6__I_CTL			; (4,0L) write i_ctl
                  [0048F4]  5087  	STORE_REG 9, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [0048F4]   458M     ASSUME <0+0+0> lt 2
         7D211058 [0048F4]   461i 	hw_stq/p r9, CNS__R9(r1)
File: ev6_osf_pal.mar
                  [0048F8]  5088  	STORE_REG 10, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [0048F8]   458M     ASSUME <0+0+0> lt 2
         7D411060 [0048F8]   461i 	hw_stq/p r10, CNS__R10(r1)
File: ev6_osf_pal.mar
                  [0048FC]  5089  	STORE_REG 11, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [0048FC]   458M     ASSUME <0+0+0> lt 2
         7D611068 [0048FC]   461i 	hw_stq/p r11, CNS__R11(r1)
File: ev6_osf_pal.mar
                  [004900]  5090  
         77E01110 [004900]  5091  	hw_mtpr	r0, EV6__I_CTL			; (4,0L) stall outside IQ
                  [004904]  5092  	STORE_REG 12, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004904]   458M     ASSUME <0+0+0> lt 2
         7D811070 [004904]   461i 	hw_stq/p r12, CNS__R12(r1)
File: ev6_osf_pal.mar
                  [004908]  5093  	STORE_REG 13, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004908]   458M     ASSUME <0+0+0> lt 2
         7DA11078 [004908]   461i 	hw_stq/p r13, CNS__R13(r1)
File: ev6_osf_pal.mar
                  [00490C]  5094  	STORE_REG 14, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [00490C]   458M     ASSUME <0+0+0> lt 2
         7DC11080 [00490C]   461i 	hw_stq/p r14, CNS__R14(r1)
File: ev6_osf_pal.mar
                  [004910]  5095  
                  [004910]  5096  	STORE_REG 15, irn=r1			; buffer block 1 -- save gpr
File: ev6_pal_macros.mar
                  [004910]   458M     ASSUME <0+0+0> lt 2
         7DE11088 [004910]   461i 	hw_stq/p r15, CNS__R15(r1)
File: ev6_osf_pal.mar
                  [004914]  5097  	STORE_REG 16, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004914]   458M     ASSUME <0+0+0> lt 2
         7E011090 [004914]   461i 	hw_stq/p r16, CNS__R16(r1)
File: ev6_osf_pal.mar
                  [004918]  5098  	STORE_REG 17, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004918]   458M     ASSUME <0+0+0> lt 2
         7E211098 [004918]   461i 	hw_stq/p r17, CNS__R17(r1)
File: ev6_osf_pal.mar
                  [00491C]  5099  	STORE_REG 18, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [00491C]   458M     ASSUME <0+0+0> lt 2
         7E4110A0 [00491C]   461i 	hw_stq/p r18, CNS__R18(r1)
File: ev6_osf_pal.mar
                  [004920]  5100  
                  [004920]  5101  	STORE_REG 19, irn=r1			; buffer block 2 --save gpr
File: ev6_pal_macros.mar
                  [004920]   458M     ASSUME <0+0+0> lt 2
         7E6110A8 [004920]   461i 	hw_stq/p r19, CNS__R19(r1)
File: ev6_osf_pal.mar
                  [004924]  5102  	STORE_REG 24, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004924]   458M     ASSUME <0+0+0> lt 2
         7F0110D0 [004924]   461i 	hw_stq/p r24, CNS__R24(r1)
File: ev6_osf_pal.mar
                  [004928]  5103  	STORE_REG 25, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004928]   458M     ASSUME <0+0+0> lt 2
         7F2110D8 [004928]   461i 	hw_stq/p r25, CNS__R25(r1)
File: ev6_osf_pal.mar
                  [00492C]  5104  	STORE_REG 26, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [00492C]   458M     ASSUME <0+0+0> lt 2
         7F4110E0 [00492C]   461i 	hw_stq/p r26, CNS__R26(r1)
File: ev6_osf_pal.mar
                  [004930]  5105  
                  [004930]  5106  	STORE_REG 27, irn=r1			; buffer block 3 --save gpr
File: ev6_pal_macros.mar
                  [004930]   458M     ASSUME <0+0+0> lt 2
         7F6110E8 [004930]   461i 	hw_stq/p r27, CNS__R27(r1)
File: ev6_osf_pal.mar
                  [004934]  5107  	STORE_REG 28, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004934]   458M     ASSUME <0+0+0> lt 2
         7F8110F0 [004934]   461i 	hw_stq/p r28, CNS__R28(r1)
File: ev6_osf_pal.mar
                  [004938]  5108  	STORE_REG 29, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004938]   458M     ASSUME <0+0+0> lt 2
         7FA110F8 [004938]   461i 	hw_stq/p r29, CNS__R29(r1)
File: ev6_osf_pal.mar
                  [00493C]  5109  	STORE_REG 30, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [00493C]   458M     ASSUME <0+0+0> lt 2
         7FC11100 [00493C]   461i 	hw_stq/p r30, CNS__R30(r1)
File: ev6_osf_pal.mar
                  [004940]  5110  
                  [004940]  5111  	STORE_REG 4, irn=r1			; now store the un-shadowed gprs
File: ev6_pal_macros.mar
                  [004940]   458M     ASSUME <0+0+0> lt 2
         7C811030 [004940]   461i 	hw_stq/p r4, CNS__R4(r1)
File: ev6_osf_pal.mar
                  [004944]  5112  	STORE_REG 5, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004944]   458M     ASSUME <0+0+0> lt 2
         7CA11038 [004944]   461i 	hw_stq/p r5, CNS__R5(r1)
File: ev6_osf_pal.mar
                  [004948]  5113  	STORE_REG 6, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004948]   458M     ASSUME <0+0+0> lt 2
         7CC11040 [004948]   461i 	hw_stq/p r6, CNS__R6(r1)
File: ev6_osf_pal.mar
                  [00494C]  5114  	STORE_REG 7, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [00494C]   458M     ASSUME <0+0+0> lt 2
         7CE11048 [00494C]   461i 	hw_stq/p r7, CNS__R7(r1)
File: ev6_osf_pal.mar
                  [004950]  5115  
                  [004950]  5116  	STORE_REG 20, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004950]   458M     ASSUME <0+0+0> lt 2
         7E8110B0 [004950]   461i 	hw_stq/p r20, CNS__R20(r1)
File: ev6_osf_pal.mar
                  [004954]  5117  	STORE_REG 21, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004954]   458M     ASSUME <0+0+0> lt 2
         7EA110B8 [004954]   461i 	hw_stq/p r21, CNS__R21(r1)
File: ev6_osf_pal.mar
                  [004958]  5118  	STORE_REG 22, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [004958]   458M     ASSUME <0+0+0> lt 2
         7EC110C0 [004958]   461i 	hw_stq/p r22, CNS__R22(r1)
File: ev6_osf_pal.mar
                  [00495C]  5119  	STORE_REG 23, irn=r1			; save gpr
File: ev6_pal_macros.mar
                  [00495C]   458M     ASSUME <0+0+0> lt 2
         7EE110C8 [00495C]   461i 	hw_stq/p r23, CNS__R23(r1)
File: ev6_osf_pal.mar
                  [004960]  5120  ;
                  [004960]  5121  ; Now turn shadow registers back on.
                  [004960]  5122  ;
         44101400 [004960]  5123  	bis	r0, #<1@EV6__I_CTL__SDE7__S>, r0; or in sde
         77E01110 [004964]  5124  	hw_mtpr	r0, EV6__I_CTL			; (4,0L) write i_ctl
         47FF041F [004968]  5125  	bis	r31, r31, r31
         47FF041F [00496C]  5126  	bis	r31, r31, r31
                  [004970]  5127  
         77E01110 [004970]  5128  	hw_mtpr	r0, EV6__I_CTL			; (4,0L) stall outside IQ
         47FF041F [004974]  5129  	bis	r31, r31, r31
         47FF041F [004978]  5130  	bis	r31, r31, r31
         47FF041F [00497C]  5131  	bis	r31, r31, r31
                  [004980]  5132  
         44000400 [004980]  5133  	bis	r0, r0, r0			; buffer block 1
         47FF041F [004984]  5134  	bis	r31, r31, r31
         47FF041F [004988]  5135  	bis	r31, r31, r31
         47FF041F [00498C]  5136  	bis	r31, r31, r31
                  [004990]  5137  
         44000400 [004990]  5138  	bis	r0, r0, r0			; buffer block 2
         47FF041F [004994]  5139  	bis	r31, r31, r31
         47FF041F [004998]  5140  	bis	r31, r31, r31
         47FF041F [00499C]  5141  	bis	r31, r31, r31
                  [0049A0]  5142  
         44000400 [0049A0]  5143  	bis	r0, r0, r0			; buffer block 3
         47FF041F [0049A4]  5144  	bis	r31, r31, r31
         47FF041F [0049A8]  5145  	bis	r31, r31, r31
         47FF041F [0049AC]  5146  	bis	r31, r31, r31
                  [0049B0]  5147  ;
                  [0049B0]  5148  ; Now save pal shadows. Registers p_temp and p_misc are really the
                  [0049B0]  5149  ; only important ones.
                  [0049B0]  5150  ;
                  [0049B0]  5151  ; Current state:
                  [0049B0]  5152  ;	p4	base of impure area
                  [0049B0]  5153  ;
                  [0049B0]  5154  pal__save_shadow:
         7C8412D8 [0049B0]  5155  	hw_stq/p p4, CNS__P4(p4)
         7CA412E0 [0049B4]  5156  	hw_stq/p p5, CNS__P5(p4)
         7CC412E8 [0049B8]  5157  	hw_stq/p p6, CNS__P6(p4)
         7CE412F0 [0049BC]  5158  	hw_stq/p p7, CNS__P7(p4)
         7E8412F8 [0049C0]  5159  	hw_stq/p p20, CNS__P20(p4)
         7EA41300 [0049C4]  5160  	hw_stq/p p_temp, CNS__P_TEMP(p4)
         7EC41308 [0049C8]  5161  	hw_stq/p p_misc, CNS__P_MISC(p4)
         7EE41310 [0049CC]  5162  	hw_stq/p p23, CNS__P23(p4)
                  [0049D0]  5163  
                  [0049D0]  5164  .if eq ev6_p1				; no float in pass1
                  [0049D0]  5165  
                  [0049D0]  5166  ;
                  [0049D0]  5167  ; Now save the floating point registers and FPCR.
                  [0049D0]  5168  ; First make sure FEN is on.
                  [0049D0]  5169  ;
                  [0049D0]  5170  	GET_16CONS	r0, <1@EV6__PROCESS_CONTEXT__FPE__S>, r31
                  [0049D0]  5171  	hw_mtpr	r0, EV6__FPE			; (4,0L) write new fpe
                  [0049D0]  5172  
                  [0049D0]  5173  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align with nops
                  [0049D0]  5174  
                  [0049D0]  5175  	hw_mtpr	r0, EV6__FPE			; (4,0L) force retire
                  [0049D0]  5176  	bis	r31, r31, r31
                  [0049D0]  5177  	bis	r31, r31, r31
                  [0049D0]  5178  	bis	r31, r31, r31
                  [0049D0]  5179  
                  [0049D0]  5180  	bis	r0, r0, r0			; buffer block 1
                  [0049D0]  5181  	bis	r31, r31, r31
                  [0049D0]  5182  	bis	r31, r31, r31
                  [0049D0]  5183  	bis	r31, r31, r31
                  [0049D0]  5184  
                  [0049D0]  5185  	bis	r0, r0, r0			; buffer block 2
                  [0049D0]  5186  	bis	r31, r31, r31
                  [0049D0]  5187  	bis	r31, r31, r31
                  [0049D0]  5188  	bis	r31, r31, r31
                  [0049D0]  5189  
                  [0049D0]  5190  	bis	r0, r0, r0			; buffer block 3
                  [0049D0]  5191  	bis	r31, r31, r31
                  [0049D0]  5192  	bis	r31, r31, r31
                  [0049D0]  5193  	bis	r31, r31, r31
                  [0049D0]  5194  
                  [0049D0]  5195  	t = 0
                  [0049D0]  5196  	.repeat 32
                  [0049D0]  5197  	STORE_REG \t, srn=p5, irn=p4, fpu=1
                  [0049D0]  5198  	t=t+1
                  [0049D0]  5199  	.endr
                  [0049D0]  5200  
                  [0049D0]  5201  	mf_fpcr	f0				; get current FPCR
                  [0049D0]  5202  	ftoit	f0, p5				; convert to integer
                  [0049D0]  5203  	hw_stq/p p5, CNS__FPCR(p4)		; save
                  [0049D0]  5204  
                  [0049D0]  5205  .endc
                  [0049D0]  5165I 
                  [0049D0]  5166I ;
                  [0049D0]  5167I ; Now save the floating point registers and FPCR.
                  [0049D0]  5168I ; First make sure FEN is on.
                  [0049D0]  5169I ;
                  [0049D0]  5170I 	GET_16CONS	r0, <1@EV6__PROCESS_CONTEXT__FPE__S>, r31
File: ev6_pal_macros.mar
                  [0049D0]   244i 	ASSUME <<1@EV6__PROCESS_CONTEXT__FPE__S>> le  <^x7FFF>
         201F0004 [0049D0]   245i 	lda	r0,<1@EV6__PROCESS_CONTEXT__FPE__S>(r31) ; r31+xxx<15:0>
File: ev6_osf_pal.mar
         77E05010 [0049D4]  5171I 	hw_mtpr	r0, EV6__FPE			; (4,0L) write new fpe
                  [0049D8]  5172I 
                  [0049D8]  5173I 	ALIGN_FETCH_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
47FF041F 47FF041F [0049D8]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [0049E0]  5174I 
         77E05010 [0049E0]  5175I 	hw_mtpr	r0, EV6__FPE			; (4,0L) force retire
         47FF041F [0049E4]  5176I 	bis	r31, r31, r31
         47FF041F [0049E8]  5177I 	bis	r31, r31, r31
         47FF041F [0049EC]  5178I 	bis	r31, r31, r31
                  [0049F0]  5179I 
         44000400 [0049F0]  5180I 	bis	r0, r0, r0			; buffer block 1
         47FF041F [0049F4]  5181I 	bis	r31, r31, r31
         47FF041F [0049F8]  5182I 	bis	r31, r31, r31
         47FF041F [0049FC]  5183I 	bis	r31, r31, r31
                  [004A00]  5184I 
         44000400 [004A00]  5185I 	bis	r0, r0, r0			; buffer block 2
         47FF041F [004A04]  5186I 	bis	r31, r31, r31
         47FF041F [004A08]  5187I 	bis	r31, r31, r31
         47FF041F [004A0C]  5188I 	bis	r31, r31, r31
                  [004A10]  5189I 
         44000400 [004A10]  5190I 	bis	r0, r0, r0			; buffer block 3
         47FF041F [004A14]  5191I 	bis	r31, r31, r31
         47FF041F [004A18]  5192I 	bis	r31, r31, r31
         47FF041F [004A1C]  5193I 	bis	r31, r31, r31
                  [004A20]  5194I 
                  [004A20]  5195I 	t = 0
                  [004A20]  5196I 	.repeat 32
                  [004A20]  5197I 	STORE_REG \t, srn=p5, irn=p4, fpu=1
                  [004A20]  5198I 	t=t+1
                  [004A20]  5199I 	.endr
                  [004A20]  5197R 	STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A20]   458r     ASSUME <1+0+0> lt 2
         701F0E05 [004A20]   465i 	ftoit	f0, p5
         7CA41110 [004A24]   466i 	hw_stq/p p5, CNS__F0(p4)
File: ev6_osf_pal.mar
                  [004A28]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A28]   458r     ASSUME <1+0+0> lt 2
         703F0E05 [004A28]   465i 	ftoit	f1, p5
         7CA41118 [004A2C]   466i 	hw_stq/p p5, CNS__F1(p4)
File: ev6_osf_pal.mar
                  [004A30]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A30]   458r     ASSUME <1+0+0> lt 2
         705F0E05 [004A30]   465i 	ftoit	f2, p5
         7CA41120 [004A34]   466i 	hw_stq/p p5, CNS__F2(p4)
File: ev6_osf_pal.mar
                  [004A38]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A38]   458r     ASSUME <1+0+0> lt 2
         707F0E05 [004A38]   465i 	ftoit	f3, p5
         7CA41128 [004A3C]   466i 	hw_stq/p p5, CNS__F3(p4)
File: ev6_osf_pal.mar
                  [004A40]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A40]   458r     ASSUME <1+0+0> lt 2
         709F0E05 [004A40]   465i 	ftoit	f4, p5
         7CA41130 [004A44]   466i 	hw_stq/p p5, CNS__F4(p4)
File: ev6_osf_pal.mar
                  [004A48]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A48]   458r     ASSUME <1+0+0> lt 2
         70BF0E05 [004A48]   465i 	ftoit	f5, p5
         7CA41138 [004A4C]   466i 	hw_stq/p p5, CNS__F5(p4)
File: ev6_osf_pal.mar
                  [004A50]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A50]   458r     ASSUME <1+0+0> lt 2
         70DF0E05 [004A50]   465i 	ftoit	f6, p5
         7CA41140 [004A54]   466i 	hw_stq/p p5, CNS__F6(p4)
File: ev6_osf_pal.mar
                  [004A58]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A58]   458r     ASSUME <1+0+0> lt 2
         70FF0E05 [004A58]   465i 	ftoit	f7, p5
         7CA41148 [004A5C]   466i 	hw_stq/p p5, CNS__F7(p4)
File: ev6_osf_pal.mar
                  [004A60]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A60]   458r     ASSUME <1+0+0> lt 2
         711F0E05 [004A60]   465i 	ftoit	f8, p5
         7CA41150 [004A64]   466i 	hw_stq/p p5, CNS__F8(p4)
File: ev6_osf_pal.mar
                  [004A68]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A68]   458r     ASSUME <1+0+0> lt 2
         713F0E05 [004A68]   465i 	ftoit	f9, p5
         7CA41158 [004A6C]   466i 	hw_stq/p p5, CNS__F9(p4)
File: ev6_osf_pal.mar
                  [004A70]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A70]   458r     ASSUME <1+0+0> lt 2
         715F0E05 [004A70]   465i 	ftoit	f10, p5
         7CA41160 [004A74]   466i 	hw_stq/p p5, CNS__F10(p4)
File: ev6_osf_pal.mar
                  [004A78]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A78]   458r     ASSUME <1+0+0> lt 2
         717F0E05 [004A78]   465i 	ftoit	f11, p5
         7CA41168 [004A7C]   466i 	hw_stq/p p5, CNS__F11(p4)
File: ev6_osf_pal.mar
                  [004A80]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A80]   458r     ASSUME <1+0+0> lt 2
         719F0E05 [004A80]   465i 	ftoit	f12, p5
         7CA41170 [004A84]   466i 	hw_stq/p p5, CNS__F12(p4)
File: ev6_osf_pal.mar
                  [004A88]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A88]   458r     ASSUME <1+0+0> lt 2
         71BF0E05 [004A88]   465i 	ftoit	f13, p5
         7CA41178 [004A8C]   466i 	hw_stq/p p5, CNS__F13(p4)
File: ev6_osf_pal.mar
                  [004A90]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A90]   458r     ASSUME <1+0+0> lt 2
         71DF0E05 [004A90]   465i 	ftoit	f14, p5
         7CA41180 [004A94]   466i 	hw_stq/p p5, CNS__F14(p4)
File: ev6_osf_pal.mar
                  [004A98]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004A98]   458r     ASSUME <1+0+0> lt 2
         71FF0E05 [004A98]   465i 	ftoit	f15, p5
         7CA41188 [004A9C]   466i 	hw_stq/p p5, CNS__F15(p4)
File: ev6_osf_pal.mar
                  [004AA0]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AA0]   458r     ASSUME <1+0+0> lt 2
         721F0E05 [004AA0]   465i 	ftoit	f16, p5
         7CA41190 [004AA4]   466i 	hw_stq/p p5, CNS__F16(p4)
File: ev6_osf_pal.mar
                  [004AA8]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AA8]   458r     ASSUME <1+0+0> lt 2
         723F0E05 [004AA8]   465i 	ftoit	f17, p5
         7CA41198 [004AAC]   466i 	hw_stq/p p5, CNS__F17(p4)
File: ev6_osf_pal.mar
                  [004AB0]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AB0]   458r     ASSUME <1+0+0> lt 2
         725F0E05 [004AB0]   465i 	ftoit	f18, p5
         7CA411A0 [004AB4]   466i 	hw_stq/p p5, CNS__F18(p4)
File: ev6_osf_pal.mar
                  [004AB8]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AB8]   458r     ASSUME <1+0+0> lt 2
         727F0E05 [004AB8]   465i 	ftoit	f19, p5
         7CA411A8 [004ABC]   466i 	hw_stq/p p5, CNS__F19(p4)
File: ev6_osf_pal.mar
                  [004AC0]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AC0]   458r     ASSUME <1+0+0> lt 2
         729F0E05 [004AC0]   465i 	ftoit	f20, p5
         7CA411B0 [004AC4]   466i 	hw_stq/p p5, CNS__F20(p4)
File: ev6_osf_pal.mar
                  [004AC8]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AC8]   458r     ASSUME <1+0+0> lt 2
         72BF0E05 [004AC8]   465i 	ftoit	f21, p5
         7CA411B8 [004ACC]   466i 	hw_stq/p p5, CNS__F21(p4)
File: ev6_osf_pal.mar
                  [004AD0]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AD0]   458r     ASSUME <1+0+0> lt 2
         72DF0E05 [004AD0]   465i 	ftoit	f22, p5
         7CA411C0 [004AD4]   466i 	hw_stq/p p5, CNS__F22(p4)
File: ev6_osf_pal.mar
                  [004AD8]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AD8]   458r     ASSUME <1+0+0> lt 2
         72FF0E05 [004AD8]   465i 	ftoit	f23, p5
         7CA411C8 [004ADC]   466i 	hw_stq/p p5, CNS__F23(p4)
File: ev6_osf_pal.mar
                  [004AE0]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AE0]   458r     ASSUME <1+0+0> lt 2
         731F0E05 [004AE0]   465i 	ftoit	f24, p5
         7CA411D0 [004AE4]   466i 	hw_stq/p p5, CNS__F24(p4)
File: ev6_osf_pal.mar
                  [004AE8]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AE8]   458r     ASSUME <1+0+0> lt 2
         733F0E05 [004AE8]   465i 	ftoit	f25, p5
         7CA411D8 [004AEC]   466i 	hw_stq/p p5, CNS__F25(p4)
File: ev6_osf_pal.mar
                  [004AF0]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AF0]   458r     ASSUME <1+0+0> lt 2
         735F0E05 [004AF0]   465i 	ftoit	f26, p5
         7CA411E0 [004AF4]   466i 	hw_stq/p p5, CNS__F26(p4)
File: ev6_osf_pal.mar
                  [004AF8]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004AF8]   458r     ASSUME <1+0+0> lt 2
         737F0E05 [004AF8]   465i 	ftoit	f27, p5
         7CA411E8 [004AFC]   466i 	hw_stq/p p5, CNS__F27(p4)
File: ev6_osf_pal.mar
                  [004B00]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004B00]   458r     ASSUME <1+0+0> lt 2
         739F0E05 [004B00]   465i 	ftoit	f28, p5
         7CA411F0 [004B04]   466i 	hw_stq/p p5, CNS__F28(p4)
File: ev6_osf_pal.mar
                  [004B08]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004B08]   458r     ASSUME <1+0+0> lt 2
         73BF0E05 [004B08]   465i 	ftoit	f29, p5
         7CA411F8 [004B0C]   466i 	hw_stq/p p5, CNS__F29(p4)
File: ev6_osf_pal.mar
                  [004B10]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004B10]   458r     ASSUME <1+0+0> lt 2
         73DF0E05 [004B10]   465i 	ftoit	f30, p5
         7CA41200 [004B14]   466i 	hw_stq/p p5, CNS__F30(p4)
File: ev6_osf_pal.mar
                  [004B18]  5197R 		STORE_REG \t, srn=p5, irn=p4, fpu=1
File: ev6_pal_macros.mar
                  [004B18]   458r     ASSUME <1+0+0> lt 2
         73FF0E05 [004B18]   465i 	ftoit	f31, p5
         7CA41208 [004B1C]   466i 	hw_stq/p p5, CNS__F31(p4)
File: ev6_osf_pal.mar
                  [004B20]  5200I 	
         5C0004A0 [004B20]  5201I 	mf_fpcr	f0				; get current FPCR
         701F0E05 [004B24]  5202I 	ftoit	f0, p5				; convert to integer
         7CA41318 [004B28]  5203I 	hw_stq/p p5, CNS__FPCR(p4)		; save
                  [004B2C]  5204I 
                  [004B2C]  5206  
                  [004B2C]  5207  ;
                  [004B2C]  5208  ; Now save the important PALtemps
                  [004B2C]  5209  ;
                  [004B2C]  5210  	STORE_REG <IMPURE>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B2C]   458M     ASSUME <0+1+0> lt 2
         6CB510C0 [004B2C]   470i 	hw_ldq/p p5, PT__IMPURE(p_temp)
         7CA41218 [004B30]   471i 	hw_stq/p p5, CNS__IMPURE(p4)
File: ev6_osf_pal.mar
                  [004B34]  5211  	STORE_REG <WHAMI>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B34]   458M     ASSUME <0+1+0> lt 2
         6CB510D0 [004B34]   470i 	hw_ldq/p p5, PT__WHAMI(p_temp)
         7CA41220 [004B38]   471i 	hw_stq/p p5, CNS__WHAMI(p4)
File: ev6_osf_pal.mar
                  [004B3C]  5212  	STORE_REG <SCC>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B3C]   458M     ASSUME <0+1+0> lt 2
         6CB510D8 [004B3C]   470i 	hw_ldq/p p5, PT__SCC(p_temp)
         7CA41228 [004B40]   471i 	hw_stq/p p5, CNS__SCC(p4)
File: ev6_osf_pal.mar
                  [004B44]  5213  	STORE_REG <PRBR>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B44]   458M     ASSUME <0+1+0> lt 2
         6CB51030 [004B44]   470i 	hw_ldq/p p5, PT__PRBR(p_temp)
         7CA41230 [004B48]   471i 	hw_stq/p p5, CNS__PRBR(p4)
File: ev6_osf_pal.mar
                  [004B4C]  5214  	STORE_REG <PTBR>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B4C]   458M     ASSUME <0+1+0> lt 2
         6CB51008 [004B4C]   470i 	hw_ldq/p p5, PT__PTBR(p_temp)
         7CA41238 [004B50]   471i 	hw_stq/p p5, CNS__PTBR(p4)
File: ev6_osf_pal.mar
                  [004B54]  5215  .if ne separate_page_tables				; 1.55
                  [004B54]  5216  	STORE_REG <VIRBND>, srn=p5, irn=p4, pal=1	; 1.55
                  [004B54]  5217  	STORE_REG <SYSPTBR>, srn=p5, irn=p4, pal=1	; 1.55
                  [004B54]  5218  .endc							; 1.55
                  [004B54]  5219  	STORE_REG <TRAP>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B54]   458M     ASSUME <0+1+0> lt 2
         6CB51038 [004B54]   470i 	hw_ldq/p p5, PT__TRAP(p_temp)
         7CA41240 [004B58]   471i 	hw_stq/p p5, CNS__TRAP(p4)
File: ev6_osf_pal.mar
                  [004B5C]  5220  	STORE_REG <HALT_CODE>, srn=p5, irn=p4, pal=1	; Do I need this?
File: ev6_pal_macros.mar
                  [004B5C]   458M     ASSUME <0+1+0> lt 2
         6CB510F0 [004B5C]   470i 	hw_ldq/p p5, PT__HALT_CODE(p_temp)
         7CA41248 [004B60]   471i 	hw_stq/p p5, CNS__HALT_CODE(p4)
File: ev6_osf_pal.mar
                  [004B64]  5221  	STORE_REG <KSP>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B64]   458M     ASSUME <0+1+0> lt 2
         6CB51018 [004B64]   470i 	hw_ldq/p p5, PT__KSP(p_temp)
         7CA41250 [004B68]   471i 	hw_stq/p p5, CNS__KSP(p4)
File: ev6_osf_pal.mar
                  [004B6C]  5222  	STORE_REG <SCBB>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B6C]   458M     ASSUME <0+1+0> lt 2
         6CB51148 [004B6C]   470i 	hw_ldq/p p5, PT__SCBB(p_temp)
         7CA41258 [004B70]   471i 	hw_stq/p p5, CNS__SCBB(p4)
File: ev6_osf_pal.mar
                  [004B74]  5223  	STORE_REG <PCBB>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B74]   458M     ASSUME <0+1+0> lt 2
         6CB51010 [004B74]   470i 	hw_ldq/p p5, PT__PCBB(p_temp)
         7CA41260 [004B78]   471i 	hw_stq/p p5, CNS__PCBB(p4)
File: ev6_osf_pal.mar
                  [004B7C]  5224  	STORE_REG <VPTB>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B7C]   458M     ASSUME <0+1+0> lt 2
         6CB51000 [004B7C]   470i 	hw_ldq/p p5, PT__VPTB(p_temp)
         7CA41268 [004B80]   471i 	hw_stq/p p5, CNS__VPTB(p4)
File: ev6_osf_pal.mar
                  [004B84]  5225  	STORE_REG <M_CTL>, srn=p5, irn=p4, pal=1
File: ev6_pal_macros.mar
                  [004B84]   458M     ASSUME <0+1+0> lt 2
         6CB510E8 [004B84]   470i 	hw_ldq/p p5, PT__M_CTL(p_temp)
         7CA41390 [004B88]   471i 	hw_stq/p p5, CNS__M_CTL(p4)
File: ev6_osf_pal.mar
                  [004B8C]  5226  ;
                  [004B8C]  5227  ; Now save the IPRs that are restorable with some informational sandwiched in.
                  [004B8C]  5228  ;
         6CB510E0 [004B8C]  5229  	hw_ldq/p p5, PT__VA_CTL(p_temp)			; control part
         6CD51000 [004B90]  5230  	hw_ldq/p p6, PT__VPTB(p_temp)			; vtpb part
         44A60405 [004B94]  5231  	bis	p5, p6, p5				; combine
         7CA41328 [004B98]  5232  	hw_stq/p p5, CNS__VA_CTL(p4)
                  [004B9C]  5233  
         7EE41330 [004B9C]  5234  	hw_stq/p p23, CNS__EXC_ADDR(p4)
                  [004BA0]  5235  
                  [004BA0]  5236  	STORE_REG <IER_CM>, srn=p5, irn=p4, ipr=1		; (4,0L)
File: ev6_pal_macros.mar
                  [004BA0]   458M     ASSUME <0+0+1> lt 2
         64BF0B10 [004BA0]   475i 	hw_mfpr	p5, EV6__IER_CM
         7CA41338 [004BA4]   476i 	hw_stq/p p5, CNS__IER_CM(p4)
File: ev6_osf_pal.mar
                  [004BA8]  5237  	STORE_REG <I_STAT>, srn=p5, irn=p4, ipr=1		; (0L) info only
File: ev6_pal_macros.mar
                  [004BA8]   458M     ASSUME <0+0+1> lt 2
         64BF1610 [004BA8]   475i 	hw_mfpr	p5, EV6__I_STAT
         7CA41378 [004BAC]   476i 	hw_stq/p p5, CNS__I_STAT(p4)
File: ev6_osf_pal.mar
                  [004BB0]  5238  	STORE_REG <SIRR>, srn=p5, irn=p4, ipr=1			; (4,0L)
File: ev6_pal_macros.mar
                  [004BB0]   458M     ASSUME <0+0+1> lt 2
         64BF0C10 [004BB0]   475i 	hw_mfpr	p5, EV6__SIRR
         7CA41340 [004BB4]   476i 	hw_stq/p p5, CNS__SIRR(p4)
File: ev6_osf_pal.mar
                  [004BB8]  5239  	STORE_REG <MM_STAT>, srn=p5, irn=p4, ipr=1		; (0L) info only
File: ev6_pal_macros.mar
                  [004BB8]   458M     ASSUME <0+0+1> lt 2
         64BF2700 [004BB8]   475i 	hw_mfpr	p5, EV6__MM_STAT
         7CA41388 [004BBC]   476i 	hw_stq/p p5, CNS__MM_STAT(p4)
File: ev6_osf_pal.mar
                  [004BC0]  5240  	STORE_REG <PAL_BASE>, srn=p5, irn=p4, ipr=1		; (4,0L)
File: ev6_pal_macros.mar
                  [004BC0]   458M     ASSUME <0+0+1> lt 2
         64BF1010 [004BC0]   475i 	hw_mfpr	p5, EV6__PAL_BASE
         7CA41358 [004BC4]   476i 	hw_stq/p p5, CNS__PAL_BASE(p4)
File: ev6_osf_pal.mar
                  [004BC8]  5241  	STORE_REG <DTB_ALT_MODE>, srn=p5, irn=p4, pal=1		; (6,0L)
File: ev6_pal_macros.mar
                  [004BC8]   458M     ASSUME <0+1+0> lt 2
         6CB51138 [004BC8]   470i 	hw_ldq/p p5, PT__DTB_ALT_MODE(p_temp)
         7CA41380 [004BCC]   471i 	hw_stq/p p5, CNS__DTB_ALT_MODE(p4)
File: ev6_osf_pal.mar
                  [004BD0]  5242  ;	STORE_REG <I_CTL>, srn=p5, irn=p4, ipr=1		; (4,0L)
                  [004BD0]  5243  ; isp bug workaround
                  [004BD0]  5244  ;
         64BF1110 [004BD0]  5245  	hw_mfpr	p5, EV6__I_CTL
                  [004BD4]  5246  	GET_32CONS p6, <^x804000>, r31
File: ev6_pal_macros.mar
                  [004BD4]   234i  ASSUME <^x804000> le  <^x7FFFFFFF>
         24DF0080 [004BD4]   235M 	ldah	p6,<<^x804000>+32768>@-16(r31); + xxx<31:16>
         20C64000 [004BD8]   236M 	lda	p6,<<^x804000> & ^XFFFF>(p6) ; r31+xxx<15:0>
File: ev6_osf_pal.mar
         44A60105 [004BDC]  5247  	bic	p5, p6, p5			; clear unpredicatables
         7CA41360 [004BE0]  5248  	hw_stq/p p5, CNS__I_CTL(p4)
                  [004BE4]  5249  ; End of hack
                  [004BE4]  5250  	NOP
File: ev6_pal_macros.mar
         47FF041F [004BE4]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004BE8]  5251  	NOP
File: ev6_pal_macros.mar
         47FF041F [004BE8]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004BEC]  5252  	NOP					; don't save PCTR_CTL
File: ev6_pal_macros.mar
         47FF041F [004BEC]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004BF0]  5253  	NOP
File: ev6_pal_macros.mar
         47FF041F [004BF0]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004BF4]  5254  	NOP
File: ev6_pal_macros.mar
         47FF041F [004BF4]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004BF8]  5255  ;
                  [004BF8]  5256  ; 1.57 delete store_reg of process_context
                  [004BF8]  5257  ;
                  [004BF8]  5258  ; Now save the rest of the informational IPRs. For now, we don't bother
                  [004BF8]  5259  ; with the CBOX chain. ??
                  [004BF8]  5260  ;
                  [004BF8]  5261  	STORE_REG <DC_STAT>, srn=p5, irn=p4, ipr=1	; (6,0L)
File: ev6_pal_macros.mar
                  [004BF8]   458M     ASSUME <0+0+1> lt 2
         64BF2A40 [004BF8]   475i 	hw_mfpr	p5, EV6__DC_STAT
         7CA413A0 [004BFC]   476i 	hw_stq/p p5, CNS__DC_STAT(p4)
File: ev6_osf_pal.mar
                  [004C00]  5262  	STORE_REG <VA>, srn=p5, irn=p4, ipr=1		; (4-7,1L)
File: ev6_pal_macros.mar
                  [004C00]   458M     ASSUME <0+0+1> lt 2
         64BFC2F0 [004C00]   475i 	hw_mfpr	p5, EV6__VA
         7CA41320 [004C04]   476i 	hw_stq/p p5, CNS__VA(p4)
File: ev6_osf_pal.mar
                  [004C08]  5263  	STORE_REG <ISUM>, srn=p5, irn=p4, ipr=1		; (0L)
File: ev6_pal_macros.mar
                  [004C08]   458M     ASSUME <0+0+1> lt 2
         64BF0D00 [004C08]   475i 	hw_mfpr	p5, EV6__ISUM
         7CA41348 [004C0C]   476i 	hw_stq/p p5, CNS__ISUM(p4)
File: ev6_osf_pal.mar
         7FE41350 [004C10]  5264  	hw_stq/p 31, CNS__EXC_SUM(p4)			; just zero exc_sum
                  [004C14]  5265  							; since not useful
                  [004C14]  5266  ;
                  [004C14]  5267  ; For some reason, previous implementations have computed the size of the
                  [004C14]  5268  ; impure area taken up by a mchkflag quadword, the pal_temps, shadows, and
                  [004C14]  5269  ; iprs. That size is written to the mchkflag quadword. I will do that
                  [004C14]  5270  ; for now in case the console wants that information. Everything is quad,
                  [004C14]  5271  ; so I'm not bothering with rounding.
                  [004C14]  5272  ;
                  [004C14]  5273  	GET_16CONS	r0, <CNS__SIZE>, r31
File: ev6_pal_macros.mar
                  [004C14]   244M 	ASSUME <<CNS__SIZE>> le  <^x7FFF>
         201F03E0 [004C14]   245M 	lda	r0,<CNS__SIZE>(r31) ; r31+xxx<15:0>
File: ev6_osf_pal.mar
                  [004C18]  5274  	GET_16CONS	r1, <CNS__MCHKFLAG>, r31
File: ev6_pal_macros.mar
                  [004C18]   244M 	ASSUME <<CNS__MCHKFLAG>> le  <^x7FFF>
         203F0210 [004C18]   245M 	lda	r1,<CNS__MCHKFLAG>(r31) ; r31+xxx<15:0>
File: ev6_osf_pal.mar
         40010520 [004C1C]  5275  	subq	r0, r1, r0			; size - mchkflag location
         7C041210 [004C20]  5276  	hw_stq/p r0, CNS__MCHKFLAG(p4)		; save the computation
                  [004C24]  5277  ;
                  [004C24]  5278  ; Now write the dump flag. 
                  [004C24]  5279  ;
         47E03400 [004C24]  5280  	bis	r31, #1, r0
         7C041000 [004C28]  5281  	hw_stq/p r0, CNS__FLAG(p4)		; set dump area flag
                  [004C2C]  5282  ;
                  [004C2C]  5283  ; Now return to caller
                  [004C2C]  5284  ;
         44E03407 [004C2C]  5285  	bis	p7, #1, p7			; return in pal mode
                  [004C30]  5286  	PVC_JSR save_state, bsr=1, dest=1
File: ev6_pal_macros.mar
                  [004C30]   529i  pvc_lbl \pcv_index, \pcv_jsr_save_state0, osf, \pcv_jsr_save_state0_inst
File: ev6_osf_pal.mar
         7BE7A000 [004C30]  5287  	hw_ret_stall (p7)			; stall for pvc
                  [004C34]  5288  
                  [004C34]  5289  ;------------------------------------------------------------------------
                  [004C34]  5290  ;+
                  [004C34]  5291  ; pal__restore_state
                  [004C34]  5292  ;
                  [004C34]  5293  ; The shadow registers, except of course p_misc and p_temp, are pretty much
                  [004C34]  5294  ; scratch, so we don't worry about stepping on them.
                  [004C34]  5295  ;
                  [004C34]  5296  ; Current state:
                  [004C34]  5297  ;	Shadow mode on
                  [004C34]  5298  ;
                  [004C34]  5299  ;	p7		return address
                  [004C34]  5300  ;
                  [004C34]  5301  ;	p_temp		valid
                  [004C34]  5302  ;	PT__IMPURE	valid
                  [004C34]  5303  ;	PT__WHAMI	valid
                  [004C34]  5304  ;
                  [004C34]  5305  ; The assumptions here are that shadow mode is on, that p_temp is valid,
                  [004C34]  5306  ; and that PT__IMPURE and PT__WHAMI have not been written over.
                  [004C34]  5307  ; If these assumptions are not valid (i.e, if we are switching between other
                  [004C34]  5308  ; than our VMS and UNIX PALcodes, the exit_console platform-dependent code
                  [004C34]  5309  ; will have to figure out how to set these up.
                  [004C34]  5310  ;
                  [004C34]  5311  ; Exit state:
                  [004C34]  5312  ;	p23		exc_addr
                  [004C34]  5313  ;-
                  [004C34]  5314  
                  [004C34]  5315  pal__restore_state:
         6C3510C0 [004C34]  5316  	hw_ldq/p	r1, PT__IMPURE(p_temp)	; get base of impure area
                  [004C38]  5317  
                  [004C38]  5318  .if eq ev6_p1
                  [004C38]  5319  
                  [004C38]  5320  ;
                  [004C38]  5321  ; Restore floating point registers. First make sure FEN is on.
                  [004C38]  5322  ;
                  [004C38]  5323  	GET_16CONS	r0, <1@EV6__PROCESS_CONTEXT__FPE__S>, r31
                  [004C38]  5324  	hw_mtpr	r0, EV6__FPE			; (4,0L) write new fpe
                  [004C38]  5325  
                  [004C38]  5326  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align with nops
                  [004C38]  5327  
                  [004C38]  5328  	hw_mtpr	r0, EV6__FPE			; (4,0L) force retire
                  [004C38]  5329  	bis	r31, r31, r31
                  [004C38]  5330  	bis	r31, r31, r31
                  [004C38]  5331  	bis	r31, r31, r31
                  [004C38]  5332  
                  [004C38]  5333  	bis	r0, r0, r0			; buffer block 1
                  [004C38]  5334  	bis	r31, r31, r31
                  [004C38]  5335  	bis	r31, r31, r31
                  [004C38]  5336  	bis	r31, r31, r31
                  [004C38]  5337  
                  [004C38]  5338  	bis	r0, r0, r0			; buffer block 2
                  [004C38]  5339  	bis	r31, r31, r31
                  [004C38]  5340  	bis	r31, r31, r31
                  [004C38]  5341  	bis	r31, r31, r31
                  [004C38]  5342  
                  [004C38]  5343  	bis	r0, r0, r0			; buffer block 3
                  [004C38]  5344  	bis	r0, r0, r0			; for pvc #7
                  [004C38]  5345  	bis	r0, r0, r0
                  [004C38]  5346  	bis	r0, r0, r0
                  [004C38]  5347  
                  [004C38]  5348  	hw_ldq/p r0, CNS__FPCR(r1)		; get FPCR
                  [004C38]  5349  	itoft	r0, f0				; convert to float
                  [004C38]  5350  
                  [004C38]  5351  restore_fpcr_offset = < pal__restore_fpcr_done - pal__restore_fpcr>
                  [004C38]  5352  
                  [004C38]  5353  	br	r2, pal__restore_fpcr
                  [004C38]  5354  pal__restore_fpcr:
                  [004C38]  5355  	addq	r2, #<restore_fpcr_offset+1>, r2	; past stall in palmode
                  [004C38]  5356  	mt_fpcr	f0					; restore FPCR
                  [004C38]  5357  	bsr	r31, .					; push prediction stack
                  [004C38]  5358  	PVC_JSR restore_fpcr
                  [004C38]  5359  	hw_ret_stall (r2)				; pop prediction stack
                  [004C38]  5360  	PVC_JSR restore_fpcr, dest=1
                  [004C38]  5361  pal__restore_fpcr_done:
                  [004C38]  5362  
                  [004C38]  5363  	t=0
                  [004C38]  5364  	.repeat 31
                  [004C38]  5365  	RESTORE_REG \t, srn=r0, irn=r1, fpu=1
                  [004C38]  5366  	t=t+1
                  [004C38]  5367  	.endr
                  [004C38]  5368  
                  [004C38]  5369  .endc
                  [004C38]  5319I 
                  [004C38]  5320I ;
                  [004C38]  5321I ; Restore floating point registers. First make sure FEN is on.
                  [004C38]  5322I ;
                  [004C38]  5323I 	GET_16CONS	r0, <1@EV6__PROCESS_CONTEXT__FPE__S>, r31
File: ev6_pal_macros.mar
                  [004C38]   244i 	ASSUME <<1@EV6__PROCESS_CONTEXT__FPE__S>> le  <^x7FFF>
         201F0004 [004C38]   245i 	lda	r0,<1@EV6__PROCESS_CONTEXT__FPE__S>(r31) ; r31+xxx<15:0>
File: ev6_osf_pal.mar
         77E05010 [004C3C]  5324I 	hw_mtpr	r0, EV6__FPE			; (4,0L) write new fpe
                  [004C40]  5325I 
                  [004C40]  5326I 	ALIGN_FETCH_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
                  [004C40]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [004C40]  5327I 
         77E05010 [004C40]  5328I 	hw_mtpr	r0, EV6__FPE			; (4,0L) force retire
         47FF041F [004C44]  5329I 	bis	r31, r31, r31
         47FF041F [004C48]  5330I 	bis	r31, r31, r31
         47FF041F [004C4C]  5331I 	bis	r31, r31, r31
                  [004C50]  5332I 
         44000400 [004C50]  5333I 	bis	r0, r0, r0			; buffer block 1
         47FF041F [004C54]  5334I 	bis	r31, r31, r31
         47FF041F [004C58]  5335I 	bis	r31, r31, r31
         47FF041F [004C5C]  5336I 	bis	r31, r31, r31
                  [004C60]  5337I 
         44000400 [004C60]  5338I 	bis	r0, r0, r0			; buffer block 2
         47FF041F [004C64]  5339I 	bis	r31, r31, r31
         47FF041F [004C68]  5340I 	bis	r31, r31, r31
         47FF041F [004C6C]  5341I 	bis	r31, r31, r31
                  [004C70]  5342I 
         44000400 [004C70]  5343I 	bis	r0, r0, r0			; buffer block 3
         44000400 [004C74]  5344I 	bis	r0, r0, r0			; for pvc #7
         44000400 [004C78]  5345I 	bis	r0, r0, r0
         44000400 [004C7C]  5346I 	bis	r0, r0, r0
                  [004C80]  5347I 
         6C011318 [004C80]  5348I 	hw_ldq/p r0, CNS__FPCR(r1)		; get FPCR
         501F0480 [004C84]  5349I 	itoft	r0, f0				; convert to float
                  [004C88]  5350I 
                  [004C88]  5351I restore_fpcr_offset = < pal__restore_fpcr_done - pal__restore_fpcr>
                  [004C88]  5352I 
         C0400000 [004C88]  5353I 	br	r2, pal__restore_fpcr
                  [004C8C]  5354I pal__restore_fpcr:
         40423402 [004C8C]  5355I 	addq	r2, #<restore_fpcr_offset+1>, r2	; past stall in palmode
         5C000480 [004C90]  5356I 	mt_fpcr	f0					; restore FPCR
         D3E00000 [004C94]  5357I 	bsr	r31, .					; push prediction stack
                  [004C98]  5358I 	PVC_JSR restore_fpcr
File: ev6_pal_macros.mar
                  [004C98]   526i  pvc_lbl \pcv_index, \pcv_jsr_restore_fpcr0, osf
File: ev6_osf_pal.mar
         7BE2A000 [004C98]  5359I 	hw_ret_stall (r2)				; pop prediction stack
                  [004C9C]  5360I 	PVC_JSR restore_fpcr, dest=1
File: ev6_pal_macros.mar
                  [004C9C]   529i  pvc_lbl \pcv_index, \pcv_jsr_restore_fpcr0, osf, \pcv_jsr_restore_fpcr0_inst
File: ev6_osf_pal.mar
                  [004C9C]  5361I pal__restore_fpcr_done:
                  [004C9C]  5362I 
                  [004C9C]  5363I 	t=0
                  [004C9C]  5364I 	.repeat 31
                  [004C9C]  5365I 	RESTORE_REG \t, srn=r0, irn=r1, fpu=1
                  [004C9C]  5366I 	t=t+1
                  [004C9C]  5367I 	.endr
                  [004C9C]  5365R 	RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004C9C]   486r     ASSUME <1+0+0> lt 2
         6C011110 [004C9C]   493i 	hw_ldq/p r0, CNS__F0(r1)
         501F0480 [004CA0]   494i 	itoft	r0, f0
File: ev6_osf_pal.mar
                  [004CA4]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CA4]   486r     ASSUME <1+0+0> lt 2
         6C011118 [004CA4]   493i 	hw_ldq/p r0, CNS__F1(r1)
         501F0481 [004CA8]   494i 	itoft	r0, f1
File: ev6_osf_pal.mar
                  [004CAC]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CAC]   486r     ASSUME <1+0+0> lt 2
         6C011120 [004CAC]   493i 	hw_ldq/p r0, CNS__F2(r1)
         501F0482 [004CB0]   494i 	itoft	r0, f2
File: ev6_osf_pal.mar
                  [004CB4]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CB4]   486r     ASSUME <1+0+0> lt 2
         6C011128 [004CB4]   493i 	hw_ldq/p r0, CNS__F3(r1)
         501F0483 [004CB8]   494i 	itoft	r0, f3
File: ev6_osf_pal.mar
                  [004CBC]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CBC]   486r     ASSUME <1+0+0> lt 2
         6C011130 [004CBC]   493i 	hw_ldq/p r0, CNS__F4(r1)
         501F0484 [004CC0]   494i 	itoft	r0, f4
File: ev6_osf_pal.mar
                  [004CC4]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CC4]   486r     ASSUME <1+0+0> lt 2
         6C011138 [004CC4]   493i 	hw_ldq/p r0, CNS__F5(r1)
         501F0485 [004CC8]   494i 	itoft	r0, f5
File: ev6_osf_pal.mar
                  [004CCC]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CCC]   486r     ASSUME <1+0+0> lt 2
         6C011140 [004CCC]   493i 	hw_ldq/p r0, CNS__F6(r1)
         501F0486 [004CD0]   494i 	itoft	r0, f6
File: ev6_osf_pal.mar
                  [004CD4]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CD4]   486r     ASSUME <1+0+0> lt 2
         6C011148 [004CD4]   493i 	hw_ldq/p r0, CNS__F7(r1)
         501F0487 [004CD8]   494i 	itoft	r0, f7
File: ev6_osf_pal.mar
                  [004CDC]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CDC]   486r     ASSUME <1+0+0> lt 2
         6C011150 [004CDC]   493i 	hw_ldq/p r0, CNS__F8(r1)
         501F0488 [004CE0]   494i 	itoft	r0, f8
File: ev6_osf_pal.mar
                  [004CE4]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CE4]   486r     ASSUME <1+0+0> lt 2
         6C011158 [004CE4]   493i 	hw_ldq/p r0, CNS__F9(r1)
         501F0489 [004CE8]   494i 	itoft	r0, f9
File: ev6_osf_pal.mar
                  [004CEC]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CEC]   486r     ASSUME <1+0+0> lt 2
         6C011160 [004CEC]   493i 	hw_ldq/p r0, CNS__F10(r1)
         501F048A [004CF0]   494i 	itoft	r0, f10
File: ev6_osf_pal.mar
                  [004CF4]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CF4]   486r     ASSUME <1+0+0> lt 2
         6C011168 [004CF4]   493i 	hw_ldq/p r0, CNS__F11(r1)
         501F048B [004CF8]   494i 	itoft	r0, f11
File: ev6_osf_pal.mar
                  [004CFC]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004CFC]   486r     ASSUME <1+0+0> lt 2
         6C011170 [004CFC]   493i 	hw_ldq/p r0, CNS__F12(r1)
         501F048C [004D00]   494i 	itoft	r0, f12
File: ev6_osf_pal.mar
                  [004D04]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D04]   486r     ASSUME <1+0+0> lt 2
         6C011178 [004D04]   493i 	hw_ldq/p r0, CNS__F13(r1)
         501F048D [004D08]   494i 	itoft	r0, f13
File: ev6_osf_pal.mar
                  [004D0C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D0C]   486r     ASSUME <1+0+0> lt 2
         6C011180 [004D0C]   493i 	hw_ldq/p r0, CNS__F14(r1)
         501F048E [004D10]   494i 	itoft	r0, f14
File: ev6_osf_pal.mar
                  [004D14]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D14]   486r     ASSUME <1+0+0> lt 2
         6C011188 [004D14]   493i 	hw_ldq/p r0, CNS__F15(r1)
         501F048F [004D18]   494i 	itoft	r0, f15
File: ev6_osf_pal.mar
                  [004D1C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D1C]   486r     ASSUME <1+0+0> lt 2
         6C011190 [004D1C]   493i 	hw_ldq/p r0, CNS__F16(r1)
         501F0490 [004D20]   494i 	itoft	r0, f16
File: ev6_osf_pal.mar
                  [004D24]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D24]   486r     ASSUME <1+0+0> lt 2
         6C011198 [004D24]   493i 	hw_ldq/p r0, CNS__F17(r1)
         501F0491 [004D28]   494i 	itoft	r0, f17
File: ev6_osf_pal.mar
                  [004D2C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D2C]   486r     ASSUME <1+0+0> lt 2
         6C0111A0 [004D2C]   493i 	hw_ldq/p r0, CNS__F18(r1)
         501F0492 [004D30]   494i 	itoft	r0, f18
File: ev6_osf_pal.mar
                  [004D34]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D34]   486r     ASSUME <1+0+0> lt 2
         6C0111A8 [004D34]   493i 	hw_ldq/p r0, CNS__F19(r1)
         501F0493 [004D38]   494i 	itoft	r0, f19
File: ev6_osf_pal.mar
                  [004D3C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D3C]   486r     ASSUME <1+0+0> lt 2
         6C0111B0 [004D3C]   493i 	hw_ldq/p r0, CNS__F20(r1)
         501F0494 [004D40]   494i 	itoft	r0, f20
File: ev6_osf_pal.mar
                  [004D44]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D44]   486r     ASSUME <1+0+0> lt 2
         6C0111B8 [004D44]   493i 	hw_ldq/p r0, CNS__F21(r1)
         501F0495 [004D48]   494i 	itoft	r0, f21
File: ev6_osf_pal.mar
                  [004D4C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D4C]   486r     ASSUME <1+0+0> lt 2
         6C0111C0 [004D4C]   493i 	hw_ldq/p r0, CNS__F22(r1)
         501F0496 [004D50]   494i 	itoft	r0, f22
File: ev6_osf_pal.mar
                  [004D54]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D54]   486r     ASSUME <1+0+0> lt 2
         6C0111C8 [004D54]   493i 	hw_ldq/p r0, CNS__F23(r1)
         501F0497 [004D58]   494i 	itoft	r0, f23
File: ev6_osf_pal.mar
                  [004D5C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D5C]   486r     ASSUME <1+0+0> lt 2
         6C0111D0 [004D5C]   493i 	hw_ldq/p r0, CNS__F24(r1)
         501F0498 [004D60]   494i 	itoft	r0, f24
File: ev6_osf_pal.mar
                  [004D64]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D64]   486r     ASSUME <1+0+0> lt 2
         6C0111D8 [004D64]   493i 	hw_ldq/p r0, CNS__F25(r1)
         501F0499 [004D68]   494i 	itoft	r0, f25
File: ev6_osf_pal.mar
                  [004D6C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D6C]   486r     ASSUME <1+0+0> lt 2
         6C0111E0 [004D6C]   493i 	hw_ldq/p r0, CNS__F26(r1)
         501F049A [004D70]   494i 	itoft	r0, f26
File: ev6_osf_pal.mar
                  [004D74]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D74]   486r     ASSUME <1+0+0> lt 2
         6C0111E8 [004D74]   493i 	hw_ldq/p r0, CNS__F27(r1)
         501F049B [004D78]   494i 	itoft	r0, f27
File: ev6_osf_pal.mar
                  [004D7C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D7C]   486r     ASSUME <1+0+0> lt 2
         6C0111F0 [004D7C]   493i 	hw_ldq/p r0, CNS__F28(r1)
         501F049C [004D80]   494i 	itoft	r0, f28
File: ev6_osf_pal.mar
                  [004D84]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D84]   486r     ASSUME <1+0+0> lt 2
         6C0111F8 [004D84]   493i 	hw_ldq/p r0, CNS__F29(r1)
         501F049D [004D88]   494i 	itoft	r0, f29
File: ev6_osf_pal.mar
                  [004D8C]  5365R 		RESTORE_REG \t, srn=r0, irn=r1, fpu=1
File: ev6_pal_macros.mar
                  [004D8C]   486r     ASSUME <1+0+0> lt 2
         6C011200 [004D8C]   493i 	hw_ldq/p r0, CNS__F30(r1)
         501F049E [004D90]   494i 	itoft	r0, f30
File: ev6_osf_pal.mar
                  [004D94]  5368I 	
                  [004D94]  5370  
                  [004D94]  5371  ;
                  [004D94]  5372  ; Now restore the important PALtemps.
                  [004D94]  5373  ; We assume the following did not change or were restored by exit_console
                  [004D94]  5374  ;	p_temp
                  [004D94]  5375  ;	PT__IMPURE
                  [004D94]  5376  ;	PT__WHAMI
                  [004D94]  5377  ;
                  [004D94]  5378  	RESTORE_REG <SCC>, srn=r0, irn=r1, pal=1
File: ev6_pal_macros.mar
                  [004D94]   486M     ASSUME <0+1+0> lt 2
         6C011228 [004D94]   498i 	hw_ldq/p r0, CNS__SCC(r1)
         7C1510D8 [004D98]   499i 	hw_stq/p r0, PT__SCC(p_temp)
File: ev6_osf_pal.mar
                  [004D9C]  5379  	RESTORE_REG <PRBR>, srn=r0, irn=r1, pal=1
File: ev6_pal_macros.mar
                  [004D9C]   486M     ASSUME <0+1+0> lt 2
         6C011230 [004D9C]   498i 	hw_ldq/p r0, CNS__PRBR(r1)
         7C151030 [004DA0]   499i 	hw_stq/p r0, PT__PRBR(p_temp)
File: ev6_osf_pal.mar
                  [004DA4]  5380  	RESTORE_REG <PTBR>, srn=r0, irn=r1, pal=1
File: ev6_pal_macros.mar
                  [004DA4]   486M     ASSUME <0+1+0> lt 2
         6C011238 [004DA4]   498i 	hw_ldq/p r0, CNS__PTBR(r1)
         7C151008 [004DA8]   499i 	hw_stq/p r0, PT__PTBR(p_temp)
File: ev6_osf_pal.mar
                  [004DAC]  5381  .if ne separate_page_tables					; 1.55
                  [004DAC]  5382  	RESTORE_REG <VIRBND>, srn=r0, irn=r1, pal=1		; 1.55
                  [004DAC]  5383  	RESTORE_REG <SYSPTBR>, srn=r0, irn=r1, pal=1		; 1.55
                  [004DAC]  5384  .endc								; 1.55
                  [004DAC]  5385  	RESTORE_REG <KSP>, srn=r0, irn=r1, pal=1
File: ev6_pal_macros.mar
                  [004DAC]   486M     ASSUME <0+1+0> lt 2
         6C011250 [004DAC]   498i 	hw_ldq/p r0, CNS__KSP(r1)
         7C151018 [004DB0]   499i 	hw_stq/p r0, PT__KSP(p_temp)
File: ev6_osf_pal.mar
                  [004DB4]  5386  	RESTORE_REG <SCBB>, srn=r0, irn=r1, pal=1
File: ev6_pal_macros.mar
                  [004DB4]   486M     ASSUME <0+1+0> lt 2
         6C011258 [004DB4]   498i 	hw_ldq/p r0, CNS__SCBB(r1)
         7C151148 [004DB8]   499i 	hw_stq/p r0, PT__SCBB(p_temp)
File: ev6_osf_pal.mar
                  [004DBC]  5387  	RESTORE_REG <PCBB>, srn=r0, irn=r1, pal=1
File: ev6_pal_macros.mar
                  [004DBC]   486M     ASSUME <0+1+0> lt 2
         6C011260 [004DBC]   498i 	hw_ldq/p r0, CNS__PCBB(r1)
         7C151010 [004DC0]   499i 	hw_stq/p r0, PT__PCBB(p_temp)
File: ev6_osf_pal.mar
                  [004DC4]  5388  	RESTORE_REG <VPTB>, srn=r0, irn=r1, pal=1
File: ev6_pal_macros.mar
                  [004DC4]   486M     ASSUME <0+1+0> lt 2
         6C011268 [004DC4]   498i 	hw_ldq/p r0, CNS__VPTB(r1)
         7C151000 [004DC8]   499i 	hw_stq/p r0, PT__VPTB(p_temp)
File: ev6_osf_pal.mar
                  [004DCC]  5389  
                  [004DCC]  5390  ;
                  [004DCC]  5391  ; 1.51 If the SMC bits in CNS__M_CTL are zero, set to default of ^x10.
                  [004DCC]  5392  ; Restores will be from the modified CNS__M_CTL.
                  [004DCC]  5393  ;
         6C011390 [004DCC]  5394  	hw_ldq/p r0, CNS__M_CTL(r1)				; 1.51 get m_ctl
         44061002 [004DD0]  5395  	and	r0, #<3@EV6__M_CTL__SPEC_ST_CONS__S>, r2	; 1.51 get SMC
         F4400002 [004DD4]  5396  	bne	r2,  pal__restore_state_smc_ok			; 1.51
         44041400 [004DD8]  5397  	bis	r0, #<spec_st_cons@EV6__M_CTL__SPEC_ST_CONS__S>, r0	; 1.51 OR SMC
         7C011390 [004DDC]  5398  	hw_stq/p r0, CNS__M_CTL(r1)				; 1.51 write
                  [004DE0]  5399  pal__restore_state_smc_ok:					; 1.51
                  [004DE0]  5400  
                  [004DE0]  5401  .if ne kseg_hack					; kseg hack
                  [004DE0]  5402  	hw_stq/p r31, PT__M_CTL(p_temp)
                  [004DE0]  5403  .iff
                  [004DE0]  5404  	RESTORE_REG <M_CTL>, srn=r0, irn=r1, pal=1
                  [004DE0]  5405  .endc
                  [004DE0]  5404I 	RESTORE_REG <M_CTL>, srn=r0, irn=r1, pal=1
File: ev6_pal_macros.mar
                  [004DE0]   486i     ASSUME <0+1+0> lt 2
         6C011390 [004DE0]   498i 	hw_ldq/p r0, CNS__M_CTL(r1)
         7C1510E8 [004DE4]   499i 	hw_stq/p r0, PT__M_CTL(p_temp)
File: ev6_osf_pal.mar
                  [004DE8]  5406  
                  [004DE8]  5407  ;
                  [004DE8]  5408  ; Now restore the IPRs.
                  [004DE8]  5409  ;
                  [004DE8]  5410  ; Don't do I_CTL until we are ready to turn shadow registers off.
                  [004DE8]  5411  ;
                  [004DE8]  5412  ; Don't restore DC_CTL. The code has to assume this register has not
                  [004DE8]  5413  ; changed. It wouldn't do to fool with the set enables.
                  [004DE8]  5414  ;
                  [004DE8]  5415  ; Restore the VPTB portion of VA_CTL from CNS__VPTB, the generic spot
                  [004DE8]  5416  ; the firmware wants to use when it's modifying VPTB. Also restore the
                  [004DE8]  5417  ; control part to PT__VA_CTL.
                  [004DE8]  5418  ;
         6C011328 [004DE8]  5419  	hw_ldq/p r0, CNS__VA_CTL(r1)			; get va_ctl
         6C411268 [004DEC]  5420  	hw_ldq/p r2, CNS__VPTB(r1)			; get vptb
         4807B720 [004DF0]  5421  	sll	r0, #<64-EV6__VA_CTL__RSV1__S>, r0	; clean control part
         4807B680 [004DF4]  5422  	srl	r0, #<64-EV6__VA_CTL__RSV1__S>, r0
         7C1510E0 [004DF8]  5423  	hw_stq/p r0, PT__VA_CTL(p_temp)			; store control part
         4843D682 [004DFC]  5424  	srl	r2, #<EV6__VA_CTL__VPTB__S>, r2		; clean vptb part
         4843D722 [004E00]  5425  	sll	r2, #<EV6__VA_CTL__VPTB__S>, r2
         44020400 [004E04]  5426  	bis	r0, r2, r0				; combine
         77E0C420 [004E08]  5427  	hw_mtpr	r0, EV6__VA_CTL				; (5,1L)
         47FF041F [004E0C]  5428  	bis	r31, r31, r31				; 1.59
         47FF041F [004E10]  5429  	bis	r31, r31, r31				; 1.59
         47FF041F [004E14]  5430  	bis	r31, r31, r31				; 1.59
         77E0C420 [004E18]  5431  	hw_mtpr	r0, EV6__VA_CTL				; 1.59 (5,1L) retire
                  [004E1C]  5432  
                  [004E1C]  5433  	ALIGN_FETCH_BLOCK <^x47FF041F>			; 1.59
File: ev6_pal_macros.mar
         47FF041F [004E1C]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [004E20]  5434  
                  [004E20]  5435  	RESTORE_REG <IER_CM>, srn=r0, irn=r1, ipr=1		; (4,0L)
File: ev6_pal_macros.mar
                  [004E20]   486M     ASSUME <0+0+1> lt 2
         6C011338 [004E20]   503i 	hw_ldq/p r0, CNS__IER_CM(r1)
         77E00B10 [004E24]   504i 	hw_mtpr	r0, EV6__IER_CM
File: ev6_osf_pal.mar
                  [004E28]  5436  	RESTORE_REG <DTB_ALT_MODE>, srn=r0, irn=r1, ipr=1	; (6,0L)
File: ev6_pal_macros.mar
                  [004E28]   486M     ASSUME <0+0+1> lt 2
         6C011380 [004E28]   503i 	hw_ldq/p r0, CNS__DTB_ALT_MODE(r1)
         77E02640 [004E2C]   504i 	hw_mtpr	r0, EV6__DTB_ALT_MODE
File: ev6_osf_pal.mar
                  [004E30]  5437  	RESTORE_REG <SIRR>, srn=r0, irn=r1, ipr=1		; (4,0L)
File: ev6_pal_macros.mar
                  [004E30]   486M     ASSUME <0+0+1> lt 2
         6C011340 [004E30]   503i 	hw_ldq/p r0, CNS__SIRR(r1)
         77E00C10 [004E34]   504i 	hw_mtpr	r0, EV6__SIRR
File: ev6_osf_pal.mar
                  [004E38]  5438  
                  [004E38]  5439  .if ne kseg_hack						; kseg hack
                  [004E38]  5440  	hw_stq/p r31, CNS__M_CTL(r1)
                  [004E38]  5441  	hw_stq/p r31, PT__M_CTL(p_temp)	
                  [004E38]  5442  	hw_mtpr	r31, EV6__M_CTL
                  [004E38]  5443  .iff
                  [004E38]  5444  	RESTORE_REG <M_CTL>, srn=r0, irn=r1, ipr=1		; (6,0L)
                  [004E38]  5445  .endc
                  [004E38]  5444I 	RESTORE_REG <M_CTL>, srn=r0, irn=r1, ipr=1		; (6,0L)
File: ev6_pal_macros.mar
                  [004E38]   486i     ASSUME <0+0+1> lt 2
         6C011390 [004E38]   503i 	hw_ldq/p r0, CNS__M_CTL(r1)
         77E02840 [004E3C]   504i 	hw_mtpr	r0, EV6__M_CTL
File: ev6_osf_pal.mar
                  [004E40]  5446  
                  [004E40]  5447  	RESTORE_REG <PAL_BASE>, srn=r0, irn=r1, ipr=1		; (4,0L)
File: ev6_pal_macros.mar
                  [004E40]   486M     ASSUME <0+0+1> lt 2
         6C011358 [004E40]   503i 	hw_ldq/p r0, CNS__PAL_BASE(r1)
         77E01010 [004E44]   504i 	hw_mtpr	r0, EV6__PAL_BASE
File: ev6_osf_pal.mar
                  [004E48]  5448  	NOP
File: ev6_pal_macros.mar
         47FF041F [004E48]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004E4C]  5449  	NOP
File: ev6_pal_macros.mar
         47FF041F [004E4C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004E50]  5450  	NOP				; don't restore PCTR_CTL
File: ev6_pal_macros.mar
         47FF041F [004E50]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004E54]  5451  	NOP
File: ev6_pal_macros.mar
         47FF041F [004E54]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004E58]  5452  	NOP
File: ev6_pal_macros.mar
         47FF041F [004E58]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004E5C]  5453  	RESTORE_REG <PROCESS_CONTEXT>, srn=r0, irn=r1, ipr=1	; (4,0L)
File: ev6_pal_macros.mar
                  [004E5C]   486M     ASSUME <0+0+1> lt 2
         6C011370 [004E5C]   503i 	hw_ldq/p r0, CNS__PROCESS_CONTEXT(r1)
         77E05F10 [004E60]   504i 	hw_mtpr	r0, EV6__PROCESS_CONTEXT
File: ev6_osf_pal.mar
                  [004E64]  5454  
                  [004E64]  5455  .if ne ev6_p1
                  [004E64]  5456  	srl	r0, #EV6__FPE__FPE__S, r2		; shift into position
                  [004E64]  5457  	and	r2, #1, r2				; clean
                  [004E64]  5458  	hw_stq/p r2, CNS__FPE_STATE(r1)			; restore 'fpe' state
                  [004E64]  5459  .endc							; 	from pctx
                  [004E64]  5460  
                  [004E64]  5461  ;
                  [004E64]  5462  ; Current state:
                  [004E64]  5463  ;	r0		process context
                  [004E64]  5464  ;
                  [004E64]  5465  ; Grab ASN and write it to DTB_ASNx
                  [004E64]  5466  ;
         4804F680 [004E64]  5467  	srl	r0, #EV6__ASN__ASN__S, r0	; shift down
         441FF000 [004E68]  5468  	and	r0, #EV6__ASN__ASN__M, r0	; clean it
         48071720 [004E6C]  5469  	sll	r0, #EV6__DTB_ASN0__ASN__S,r0 	; ASN into mbox spot
                  [004E70]  5470  ;
                  [004E70]  5471  ; There must be a scoreboard bit -> register dependency chain to prevent
                  [004E70]  5472  ; hw_mtpr DTB_ASx from issuing while ANY of scoreboard bits <7:4> are set.
                  [004E70]  5473  ;
         645F10F0 [004E70]  5474  	hw_mfpr	r2, <EV6__PAL_BASE ! ^xF0>	; (4-7,0L)
         44420802 [004E74]  5475  	xor	r2, r2, r2			; zap r2
         44400400 [004E78]  5476  	bis	r2, r0, r0			; force register dependency
                  [004E7C]  5477  	NOP					; force fetch block
File: ev6_pal_macros.mar
         47FF041F [004E7C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [004E80]  5478  
         77E02510 [004E80]  5479  	hw_mtpr	r0, EV6__DTB_ASN0		; (4,0L)
         77E0A580 [004E84]  5480  	hw_mtpr	r0, EV6__DTB_ASN1		; (7,1L)
                  [004E88]  5481  ;
                  [004E88]  5482  ; Now restore shadows as needed.
                  [004E88]  5483  ; Analysis:
                  [004E88]  5484  ;	p4		not necessary
                  [004E88]  5485  ;	p5		not necessary
                  [004E88]  5486  ;	p6		not necessary
                  [004E88]  5487  ;	p7		return address. Do not touch.
                  [004E88]  5488  ;	p20		not necessary
                  [004E88]  5489  ;	p_temp		valid. Do not touch.
                  [004E88]  5490  ;	p_misc		restore
                  [004E88]  5491  ;	p23		restore from CNS__EXC_ADDR (or CNS__P23)
                  [004E88]  5492  ;
         6EC11308 [004E88]  5493  	hw_ldq/p p_misc, CNS__P_MISC(r1)
         6EE11330 [004E8C]  5494  	hw_ldq/p p23, CNS__EXC_ADDR(r1)
                  [004E90]  5495  ;
                  [004E90]  5496  ; Now restore integer registers. Restore I_CTL with
                  [004E90]  5497  ; sde clear. After restoring integer registers, rewrite I_CTL
                  [004E90]  5498  ; with sde set. Assumption: PALcode is running with sde set!!
                  [004E90]  5499  ;
                  [004E90]  5500  ; We need to write I_CTL twice in case we are toggling the VA_48 bit
                  [004E90]  5501  ; in order to stall the pipe during the change.
                  [004E90]  5502  ;
                  [004E90]  5503  ; Restore the VPTB portion of the I_CTL from CNS__VPTB, the generic spot
                  [004E90]  5504  ; the firmware wants to use when it's modifying VPTB.
                  [004E90]  5505  ;
         6C011360 [004E90]  5506  	hw_ldq/p r0, CNS__I_CTL(r1)
         6C411268 [004E94]  5507  	hw_ldq/p r2, CNS__VPTB(r1)			; get vptb
         48051720 [004E98]  5508  	sll	r0, #<64-EV6__I_CTL__CHIP_ID__S>, r0	; clean control part
         48051680 [004E9C]  5509  	srl	r0, #<64-EV6__I_CTL__CHIP_ID__S>, r0
         4843D682 [004EA0]  5510  	srl	r2, #<EV6__I_CTL__VPTB__S>, r2		; clean vptb part
         4843D722 [004EA4]  5511  	sll	r2, #<EV6__I_CTL__VPTB__S>, r2
                  [004EA8]  5512  
                  [004EA8]  5513  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
47FF041F 47FF041F [004EA8]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [004EB0]  5514  
         44020400 [004EB0]  5515  	bis	r0, r2, r0			; combine
         44101100 [004EB4]  5516  	bic	r0, #<1@EV6__I_CTL__SDE7__S>, r0; zap sde
                  [004EB8]  5517  	RESTORE_REG 8, irn=r1
File: ev6_pal_macros.mar
                  [004EB8]   486M     ASSUME <0+0+0> lt 2
         6D011050 [004EB8]   489i 	hw_ldq/p r8, CNS__R8(r1)
File: ev6_osf_pal.mar
                  [004EBC]  5518  	RESTORE_REG 9, irn=r1
File: ev6_pal_macros.mar
                  [004EBC]   486M     ASSUME <0+0+0> lt 2
         6D211058 [004EBC]   489i 	hw_ldq/p r9, CNS__R9(r1)
File: ev6_osf_pal.mar
                  [004EC0]  5519  
         77E01110 [004EC0]  5520  	hw_mtpr	r0, EV6__I_CTL			; (4,0L) write i_ctl
                  [004EC4]  5521  	RESTORE_REG 10, irn=r1
File: ev6_pal_macros.mar
                  [004EC4]   486M     ASSUME <0+0+0> lt 2
         6D411060 [004EC4]   489i 	hw_ldq/p r10, CNS__R10(r1)
File: ev6_osf_pal.mar
                  [004EC8]  5522  	RESTORE_REG 11, irn=r1
File: ev6_pal_macros.mar
                  [004EC8]   486M     ASSUME <0+0+0> lt 2
         6D611068 [004EC8]   489i 	hw_ldq/p r11, CNS__R11(r1)
File: ev6_osf_pal.mar
                  [004ECC]  5523  	RESTORE_REG 12, irn=r1
File: ev6_pal_macros.mar
                  [004ECC]   486M     ASSUME <0+0+0> lt 2
         6D811070 [004ECC]   489i 	hw_ldq/p r12, CNS__R12(r1)
File: ev6_osf_pal.mar
                  [004ED0]  5524  
         77E01110 [004ED0]  5525  	hw_mtpr	r0, EV6__I_CTL			; (4,0L) stall outside IQ
                  [004ED4]  5526  	RESTORE_REG 13, irn=r1
File: ev6_pal_macros.mar
                  [004ED4]   486M     ASSUME <0+0+0> lt 2
         6DA11078 [004ED4]   489i 	hw_ldq/p r13, CNS__R13(r1)
File: ev6_osf_pal.mar
                  [004ED8]  5527  	RESTORE_REG 14, irn=r1
File: ev6_pal_macros.mar
                  [004ED8]   486M     ASSUME <0+0+0> lt 2
         6DC11080 [004ED8]   489i 	hw_ldq/p r14, CNS__R14(r1)
File: ev6_osf_pal.mar
                  [004EDC]  5528  	RESTORE_REG 15, irn=r1
File: ev6_pal_macros.mar
                  [004EDC]   486M     ASSUME <0+0+0> lt 2
         6DE11088 [004EDC]   489i 	hw_ldq/p r15, CNS__R15(r1)
File: ev6_osf_pal.mar
                  [004EE0]  5529  
                  [004EE0]  5530  	RESTORE_REG 16, irn=r1			; buffer block 1
File: ev6_pal_macros.mar
                  [004EE0]   486M     ASSUME <0+0+0> lt 2
         6E011090 [004EE0]   489i 	hw_ldq/p r16, CNS__R16(r1)
File: ev6_osf_pal.mar
                  [004EE4]  5531  	RESTORE_REG 17, irn=r1
File: ev6_pal_macros.mar
                  [004EE4]   486M     ASSUME <0+0+0> lt 2
         6E211098 [004EE4]   489i 	hw_ldq/p r17, CNS__R17(r1)
File: ev6_osf_pal.mar
                  [004EE8]  5532  	RESTORE_REG 18, irn=r1
File: ev6_pal_macros.mar
                  [004EE8]   486M     ASSUME <0+0+0> lt 2
         6E4110A0 [004EE8]   489i 	hw_ldq/p r18, CNS__R18(r1)
File: ev6_osf_pal.mar
                  [004EEC]  5533  	RESTORE_REG 19, irn=r1
File: ev6_pal_macros.mar
                  [004EEC]   486M     ASSUME <0+0+0> lt 2
         6E6110A8 [004EEC]   489i 	hw_ldq/p r19, CNS__R19(r1)
File: ev6_osf_pal.mar
                  [004EF0]  5534  
                  [004EF0]  5535  	RESTORE_REG 24, irn=r1			; buffer block 2
File: ev6_pal_macros.mar
                  [004EF0]   486M     ASSUME <0+0+0> lt 2
         6F0110D0 [004EF0]   489i 	hw_ldq/p r24, CNS__R24(r1)
File: ev6_osf_pal.mar
                  [004EF4]  5536  	RESTORE_REG 25, irn=r1
File: ev6_pal_macros.mar
                  [004EF4]   486M     ASSUME <0+0+0> lt 2
         6F2110D8 [004EF4]   489i 	hw_ldq/p r25, CNS__R25(r1)
File: ev6_osf_pal.mar
                  [004EF8]  5537  	RESTORE_REG 26, irn=r1
File: ev6_pal_macros.mar
                  [004EF8]   486M     ASSUME <0+0+0> lt 2
         6F4110E0 [004EF8]   489i 	hw_ldq/p r26, CNS__R26(r1)
File: ev6_osf_pal.mar
                  [004EFC]  5538  	RESTORE_REG 27, irn=r1
File: ev6_pal_macros.mar
                  [004EFC]   486M     ASSUME <0+0+0> lt 2
         6F6110E8 [004EFC]   489i 	hw_ldq/p r27, CNS__R27(r1)
File: ev6_osf_pal.mar
                  [004F00]  5539  
                  [004F00]  5540  	RESTORE_REG 28, irn=r1			; buffer block 3
File: ev6_pal_macros.mar
                  [004F00]   486M     ASSUME <0+0+0> lt 2
         6F8110F0 [004F00]   489i 	hw_ldq/p r28, CNS__R28(r1)
File: ev6_osf_pal.mar
                  [004F04]  5541  	RESTORE_REG 29, irn=r1
File: ev6_pal_macros.mar
                  [004F04]   486M     ASSUME <0+0+0> lt 2
         6FA110F8 [004F04]   489i 	hw_ldq/p r29, CNS__R29(r1)
File: ev6_osf_pal.mar
                  [004F08]  5542  	RESTORE_REG 30, irn=r1
File: ev6_pal_macros.mar
                  [004F08]   486M     ASSUME <0+0+0> lt 2
         6FC11100 [004F08]   489i 	hw_ldq/p r30, CNS__R30(r1)
File: ev6_osf_pal.mar
         47FF041F [004F0C]  5543  	bis	r31, r31, r31
                  [004F10]  5544  
                  [004F10]  5545  	RESTORE_REG 4, irn=r1
File: ev6_pal_macros.mar
                  [004F10]   486M     ASSUME <0+0+0> lt 2
         6C811030 [004F10]   489i 	hw_ldq/p r4, CNS__R4(r1)
File: ev6_osf_pal.mar
                  [004F14]  5546  	RESTORE_REG 5, irn=r1
File: ev6_pal_macros.mar
                  [004F14]   486M     ASSUME <0+0+0> lt 2
         6CA11038 [004F14]   489i 	hw_ldq/p r5, CNS__R5(r1)
File: ev6_osf_pal.mar
                  [004F18]  5547  	RESTORE_REG 6, irn=r1
File: ev6_pal_macros.mar
                  [004F18]   486M     ASSUME <0+0+0> lt 2
         6CC11040 [004F18]   489i 	hw_ldq/p r6, CNS__R6(r1)
File: ev6_osf_pal.mar
                  [004F1C]  5548  	RESTORE_REG 7, irn=r1
File: ev6_pal_macros.mar
                  [004F1C]   486M     ASSUME <0+0+0> lt 2
         6CE11048 [004F1C]   489i 	hw_ldq/p r7, CNS__R7(r1)
File: ev6_osf_pal.mar
                  [004F20]  5549  
                  [004F20]  5550  	RESTORE_REG 20, irn=r1
File: ev6_pal_macros.mar
                  [004F20]   486M     ASSUME <0+0+0> lt 2
         6E8110B0 [004F20]   489i 	hw_ldq/p r20, CNS__R20(r1)
File: ev6_osf_pal.mar
                  [004F24]  5551  	RESTORE_REG 21, irn=r1
File: ev6_pal_macros.mar
                  [004F24]   486M     ASSUME <0+0+0> lt 2
         6EA110B8 [004F24]   489i 	hw_ldq/p r21, CNS__R21(r1)
File: ev6_osf_pal.mar
                  [004F28]  5552  	RESTORE_REG 22, irn=r1
File: ev6_pal_macros.mar
                  [004F28]   486M     ASSUME <0+0+0> lt 2
         6EC110C0 [004F28]   489i 	hw_ldq/p r22, CNS__R22(r1)
File: ev6_osf_pal.mar
                  [004F2C]  5553  	RESTORE_REG 23, irn=r1
File: ev6_pal_macros.mar
                  [004F2C]   486M     ASSUME <0+0+0> lt 2
         6EE110C8 [004F2C]   489i 	hw_ldq/p r23, CNS__R23(r1)
File: ev6_osf_pal.mar
                  [004F30]  5554  ;
                  [004F30]  5555  ; Now turn shadow registers back on.
                  [004F30]  5556  ;
         44101400 [004F30]  5557  	bis	r0, #<1@EV6__I_CTL__SDE7__S>, r0; or in sde
         77E01110 [004F34]  5558  	hw_mtpr	r0, EV6__I_CTL			; (4,0L) write i_ctl
         47FF041F [004F38]  5559  	bis 	r31, r31, r31
         47FF041F [004F3C]  5560  	bis 	r31, r31, r31
                  [004F40]  5561  
         77E01110 [004F40]  5562  	hw_mtpr	r0, EV6__I_CTL			; (4,0L) stall outside IQ
         47FF041F [004F44]  5563  	bis	r31, r31, r31
         47FF041F [004F48]  5564  	bis	r31, r31, r31
         47FF041F [004F4C]  5565  	bis	r31, r31, r31
                  [004F50]  5566  
         44000400 [004F50]  5567  	bis	r0, r0, r0			; buffer block 1
         47FF041F [004F54]  5568  	bis	r31, r31, r31
         47FF041F [004F58]  5569  	bis	r31, r31, r31
         47FF041F [004F5C]  5570  	bis	r31, r31, r31
                  [004F60]  5571  
         44000400 [004F60]  5572  	bis	r0, r0, r0			; buffer block 2
         47FF041F [004F64]  5573  	bis	r31, r31, r31
         47FF041F [004F68]  5574  	bis	r31, r31, r31
         47FF041F [004F6C]  5575  	bis	r31, r31, r31
                  [004F70]  5576  
         44000400 [004F70]  5577  	bis	r0, r0, r0			; buffer block 3
         47FF041F [004F74]  5578  	bis	r31, r31, r31
         47FF041F [004F78]  5579  	bis	r31, r31, r31
         47FF041F [004F7C]  5580  	bis	r31, r31, r31
                  [004F80]  5581  ;
                  [004F80]  5582  ; Now restore r0-r3.
                  [004F80]  5583  ;
         443F0404 [004F80]  5584  	bis	r1, r31, p4			; base of impure area
                  [004F84]  5585  
                  [004F84]  5586  	RESTORE_REG 0, irn=p4			; restore r0
File: ev6_pal_macros.mar
                  [004F84]   486M     ASSUME <0+0+0> lt 2
         6C041010 [004F84]   489i 	hw_ldq/p r0, CNS__R0(p4)
File: ev6_osf_pal.mar
                  [004F88]  5587  	RESTORE_REG 1, irn=p4			; restore r1
File: ev6_pal_macros.mar
                  [004F88]   486M     ASSUME <0+0+0> lt 2
         6C241018 [004F88]   489i 	hw_ldq/p r1, CNS__R1(p4)
File: ev6_osf_pal.mar
                  [004F8C]  5588  	RESTORE_REG 2, irn=p4			; restore r2
File: ev6_pal_macros.mar
                  [004F8C]   486M     ASSUME <0+0+0> lt 2
         6C441020 [004F8C]   489i 	hw_ldq/p r2, CNS__R2(p4)
File: ev6_osf_pal.mar
                  [004F90]  5589  	RESTORE_REG 3, irn=p4			; restore r3
File: ev6_pal_macros.mar
                  [004F90]   486M     ASSUME <0+0+0> lt 2
         6C641028 [004F90]   489i 	hw_ldq/p r3, CNS__R3(p4)
File: ev6_osf_pal.mar
                  [004F94]  5590  ;
                  [004F94]  5591  ; Clear dump flag and return.
                  [004F94]  5592  ;
         7FE41000 [004F94]  5593  	hw_stq/p r31, CNS__FLAG(p4)		; clear dump flag
                  [004F98]  5594  
         44E03407 [004F98]  5595  	bis	p7, #1, p7			; return in pal mode
                  [004F9C]  5596  	PVC_JSR restore_state, bsr=1, dest=1
File: ev6_pal_macros.mar
                  [004F9C]   529i  pvc_lbl \pcv_index, \pcv_jsr_restore_state0, osf, \pcv_jsr_restore_state0_inst
File: ev6_osf_pal.mar
         7BE7A000 [004F9C]  5597  	hw_ret_stall (p7)			; add stall for pvc
                  [004FA0]  5598  
                  [004FA0]  5599  	END_FREE_CODE
                  [004FA0]  5600  
                  [004FA0]  5601  ;========================================================================
                  [004FA0]  5602  
                  [000C00]  5603  	.=^xC00
                  [000C00]  5604  
                  [000C00]  5605  INITIAL_PCBB:
                  [000C00]  5606  	.repeat	8
                  [000C00]  5607  	    .quad 0
                  [000C00]  5608  	.endr
00000000 00000000 [000C00]  5607R 	    .quad 0
00000000 00000000 [000C08]  5607R 		    .quad 0
00000000 00000000 [000C10]  5607R 		    .quad 0
00000000 00000000 [000C18]  5607R 		    .quad 0
00000000 00000000 [000C20]  5607R 		    .quad 0
00000000 00000000 [000C28]  5607R 		    .quad 0
00000000 00000000 [000C30]  5607R 		    .quad 0
00000000 00000000 [000C38]  5607R 		    .quad 0
                  [000C40]  5609  	
                  [000C40]  5610  	ASSUME <.> le <^x0C88> 
                  [000C40]  5611  
                  [000C40]  5612  ;========================================================================
                  [000C40]  5613  ;+
                  [000C40]  5614  ; Beginning of CALL_PAL instructions.
                  [000C40]  5615  ;-
                  [000C40]  5616  ;
                  [000C40]  5617  ; HACK ALERT!!!!!!!!!! ??? Bug in HAL!!!!!!! ???
                  [000C40]  5618  ; If this code contains a branch, HAL will later re-compute the branch and
                  [000C40]  5619  ; overwrite the code that was supposed to overwrite this code.
                  [000C40]  5620  ;
                  [000C40]  5621  ; This has been fixed, I think, but leave as is for now.
                  [000C40]  5622  ;
                  [000C40]  5623  ; We should probably also add check for pal mode. (??)
                  [000C40]  5624  ;-
                  [000C40]  5625  
                  [000C40]  5626  opcdec_offset = <<trap__opcdec_call_pal - trap__pal_base>>
                  [000C40]  5627  
                  [002000]  5628  	. = ^x2000
                  [002000]  5629  CALL_PAL__START:
                  [002000]  5630      .if eq add_extra_ret			; 1.47 add_extra_ret
                  [002000]  5631  	.repeat 128
                  [002000]  5632  	hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
                  [002000]  5633  	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
                  [002000]  5634  	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
                  [002000]  5635  	bis	p6, #1, p6			; pal mode
                  [002000]  5636  	bsr	r31, .				; push prediction stack
                  [002000]  5637  	PVC_VIOLATE <1007>
                  [002000]  5638  	hw_ret	(p6)				; pop prediction stack
                  [002000]  5639  						; post
                  [002000]  5640  	.align 6
                  [002000]  5641  	.endr
                  [002000]  5642      .iff					; 1.47 add_extra_ret
                  [002000]  5643  ;
                  [002000]  5644  ; Just delete the bsr to push the stack, and we're all set
                  [002000]  5645  ;
                  [002000]  5646  	.repeat 128
                  [002000]  5647  	hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
                  [002000]  5648  	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
                  [002000]  5649  	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
                  [002000]  5650  	bis	p6, #1, p6			; pal mode
                  [002000]  5651  	PVC_VIOLATE <1007>
                  [002000]  5652  	hw_ret	(p6)				; pop prediction stack
                  [002000]  5653  						; post
                  [002000]  5654  	.align 6
                  [002000]  5655  	.endr
                  [002000]  5656      .endc					; 1.47 add_extra_ret
                  [002000]  5643I ;
                  [002000]  5644I ; Just delete the bsr to push the stack, and we're all set
                  [002000]  5645I ;
                  [002000]  5646I 	.repeat 128
                  [002000]  5647I 	hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
                  [002000]  5648I 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
                  [002000]  5649I 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
                  [002000]  5650I 	bis	p6, #1, p6			; pal mode
                  [002000]  5651I 	PVC_VIOLATE <1007>
                  [002000]  5652I 	hw_ret	(p6)				; pop prediction stack
                  [002000]  5653I 						; post
                  [002000]  5654I 	.align 6
                  [002000]  5655I 	.endr
         64DF1010 [002000]  5647R 	hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002004]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002008]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00200C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002010]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002010]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002010]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002014]  5654R 	.align 6
00000000 00000000 [00201C]
00000000 00000000 [002024]
00000000 00000000 [00202C]
00000000 00000000 [002034]
         00000000 [00203C]
         64DF1010 [002040]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002044]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002048]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00204C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002050]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002050]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002050]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002054]  5654R 	.align 6
00000000 00000000 [00205C]
00000000 00000000 [002064]
00000000 00000000 [00206C]
00000000 00000000 [002074]
         00000000 [00207C]
         64DF1010 [002080]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002084]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002088]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00208C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002090]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002090]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002090]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002094]  5654R 	.align 6
00000000 00000000 [00209C]
00000000 00000000 [0020A4]
00000000 00000000 [0020AC]
00000000 00000000 [0020B4]
         00000000 [0020BC]
         64DF1010 [0020C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0020C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0020C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0020CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0020D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0020D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0020D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0020D4]  5654R 	.align 6
00000000 00000000 [0020DC]
00000000 00000000 [0020E4]
00000000 00000000 [0020EC]
00000000 00000000 [0020F4]
         00000000 [0020FC]
         64DF1010 [002100]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002104]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002108]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00210C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002110]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002110]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002110]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002114]  5654R 	.align 6
00000000 00000000 [00211C]
00000000 00000000 [002124]
00000000 00000000 [00212C]
00000000 00000000 [002134]
         00000000 [00213C]
         64DF1010 [002140]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002144]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002148]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00214C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002150]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002150]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002150]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002154]  5654R 	.align 6
00000000 00000000 [00215C]
00000000 00000000 [002164]
00000000 00000000 [00216C]
00000000 00000000 [002174]
         00000000 [00217C]
         64DF1010 [002180]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002184]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002188]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00218C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002190]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002190]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002190]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002194]  5654R 	.align 6
00000000 00000000 [00219C]
00000000 00000000 [0021A4]
00000000 00000000 [0021AC]
00000000 00000000 [0021B4]
         00000000 [0021BC]
         64DF1010 [0021C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0021C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0021C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0021CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0021D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0021D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0021D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0021D4]  5654R 	.align 6
00000000 00000000 [0021DC]
00000000 00000000 [0021E4]
00000000 00000000 [0021EC]
00000000 00000000 [0021F4]
         00000000 [0021FC]
         64DF1010 [002200]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002204]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002208]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00220C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002210]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002210]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002210]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002214]  5654R 	.align 6
00000000 00000000 [00221C]
00000000 00000000 [002224]
00000000 00000000 [00222C]
00000000 00000000 [002234]
         00000000 [00223C]
         64DF1010 [002240]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002244]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002248]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00224C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002250]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002250]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002250]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002254]  5654R 	.align 6
00000000 00000000 [00225C]
00000000 00000000 [002264]
00000000 00000000 [00226C]
00000000 00000000 [002274]
         00000000 [00227C]
         64DF1010 [002280]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002284]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002288]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00228C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002290]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002290]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002290]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002294]  5654R 	.align 6
00000000 00000000 [00229C]
00000000 00000000 [0022A4]
00000000 00000000 [0022AC]
00000000 00000000 [0022B4]
         00000000 [0022BC]
         64DF1010 [0022C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0022C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0022C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0022CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0022D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0022D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0022D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0022D4]  5654R 	.align 6
00000000 00000000 [0022DC]
00000000 00000000 [0022E4]
00000000 00000000 [0022EC]
00000000 00000000 [0022F4]
         00000000 [0022FC]
         64DF1010 [002300]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002304]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002308]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00230C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002310]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002310]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002310]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002314]  5654R 	.align 6
00000000 00000000 [00231C]
00000000 00000000 [002324]
00000000 00000000 [00232C]
00000000 00000000 [002334]
         00000000 [00233C]
         64DF1010 [002340]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002344]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002348]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00234C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002350]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002350]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002350]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002354]  5654R 	.align 6
00000000 00000000 [00235C]
00000000 00000000 [002364]
00000000 00000000 [00236C]
00000000 00000000 [002374]
         00000000 [00237C]
         64DF1010 [002380]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002384]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002388]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00238C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002390]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002390]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002390]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002394]  5654R 	.align 6
00000000 00000000 [00239C]
00000000 00000000 [0023A4]
00000000 00000000 [0023AC]
00000000 00000000 [0023B4]
         00000000 [0023BC]
         64DF1010 [0023C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0023C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0023C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0023CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0023D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0023D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0023D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0023D4]  5654R 	.align 6
00000000 00000000 [0023DC]
00000000 00000000 [0023E4]
00000000 00000000 [0023EC]
00000000 00000000 [0023F4]
         00000000 [0023FC]
         64DF1010 [002400]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002404]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002408]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00240C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002410]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002410]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002410]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002414]  5654R 	.align 6
00000000 00000000 [00241C]
00000000 00000000 [002424]
00000000 00000000 [00242C]
00000000 00000000 [002434]
         00000000 [00243C]
         64DF1010 [002440]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002444]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002448]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00244C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002450]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002450]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002450]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002454]  5654R 	.align 6
00000000 00000000 [00245C]
00000000 00000000 [002464]
00000000 00000000 [00246C]
00000000 00000000 [002474]
         00000000 [00247C]
         64DF1010 [002480]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002484]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002488]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00248C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002490]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002490]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002490]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002494]  5654R 	.align 6
00000000 00000000 [00249C]
00000000 00000000 [0024A4]
00000000 00000000 [0024AC]
00000000 00000000 [0024B4]
         00000000 [0024BC]
         64DF1010 [0024C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0024C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0024C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0024CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0024D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0024D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0024D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0024D4]  5654R 	.align 6
00000000 00000000 [0024DC]
00000000 00000000 [0024E4]
00000000 00000000 [0024EC]
00000000 00000000 [0024F4]
         00000000 [0024FC]
         64DF1010 [002500]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002504]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002508]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00250C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002510]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002510]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002510]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002514]  5654R 	.align 6
00000000 00000000 [00251C]
00000000 00000000 [002524]
00000000 00000000 [00252C]
00000000 00000000 [002534]
         00000000 [00253C]
         64DF1010 [002540]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002544]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002548]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00254C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002550]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002550]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002550]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002554]  5654R 	.align 6
00000000 00000000 [00255C]
00000000 00000000 [002564]
00000000 00000000 [00256C]
00000000 00000000 [002574]
         00000000 [00257C]
         64DF1010 [002580]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002584]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002588]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00258C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002590]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002590]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002590]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002594]  5654R 	.align 6
00000000 00000000 [00259C]
00000000 00000000 [0025A4]
00000000 00000000 [0025AC]
00000000 00000000 [0025B4]
         00000000 [0025BC]
         64DF1010 [0025C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0025C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0025C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0025CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0025D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0025D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0025D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0025D4]  5654R 	.align 6
00000000 00000000 [0025DC]
00000000 00000000 [0025E4]
00000000 00000000 [0025EC]
00000000 00000000 [0025F4]
         00000000 [0025FC]
         64DF1010 [002600]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002604]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002608]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00260C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002610]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002610]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002610]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002614]  5654R 	.align 6
00000000 00000000 [00261C]
00000000 00000000 [002624]
00000000 00000000 [00262C]
00000000 00000000 [002634]
         00000000 [00263C]
         64DF1010 [002640]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002644]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002648]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00264C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002650]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002650]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002650]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002654]  5654R 	.align 6
00000000 00000000 [00265C]
00000000 00000000 [002664]
00000000 00000000 [00266C]
00000000 00000000 [002674]
         00000000 [00267C]
         64DF1010 [002680]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002684]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002688]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00268C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002690]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002690]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002690]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002694]  5654R 	.align 6
00000000 00000000 [00269C]
00000000 00000000 [0026A4]
00000000 00000000 [0026AC]
00000000 00000000 [0026B4]
         00000000 [0026BC]
         64DF1010 [0026C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0026C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0026C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0026CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0026D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0026D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0026D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0026D4]  5654R 	.align 6
00000000 00000000 [0026DC]
00000000 00000000 [0026E4]
00000000 00000000 [0026EC]
00000000 00000000 [0026F4]
         00000000 [0026FC]
         64DF1010 [002700]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002704]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002708]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00270C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002710]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002710]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002710]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002714]  5654R 	.align 6
00000000 00000000 [00271C]
00000000 00000000 [002724]
00000000 00000000 [00272C]
00000000 00000000 [002734]
         00000000 [00273C]
         64DF1010 [002740]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002744]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002748]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00274C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002750]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002750]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002750]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002754]  5654R 	.align 6
00000000 00000000 [00275C]
00000000 00000000 [002764]
00000000 00000000 [00276C]
00000000 00000000 [002774]
         00000000 [00277C]
         64DF1010 [002780]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002784]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002788]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00278C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002790]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002790]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002790]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002794]  5654R 	.align 6
00000000 00000000 [00279C]
00000000 00000000 [0027A4]
00000000 00000000 [0027AC]
00000000 00000000 [0027B4]
         00000000 [0027BC]
         64DF1010 [0027C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0027C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0027C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0027CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0027D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0027D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0027D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0027D4]  5654R 	.align 6
00000000 00000000 [0027DC]
00000000 00000000 [0027E4]
00000000 00000000 [0027EC]
00000000 00000000 [0027F4]
         00000000 [0027FC]
         64DF1010 [002800]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002804]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002808]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00280C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002810]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002810]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002810]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002814]  5654R 	.align 6
00000000 00000000 [00281C]
00000000 00000000 [002824]
00000000 00000000 [00282C]
00000000 00000000 [002834]
         00000000 [00283C]
         64DF1010 [002840]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002844]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002848]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00284C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002850]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002850]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002850]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002854]  5654R 	.align 6
00000000 00000000 [00285C]
00000000 00000000 [002864]
00000000 00000000 [00286C]
00000000 00000000 [002874]
         00000000 [00287C]
         64DF1010 [002880]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002884]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002888]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00288C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002890]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002890]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002890]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002894]  5654R 	.align 6
00000000 00000000 [00289C]
00000000 00000000 [0028A4]
00000000 00000000 [0028AC]
00000000 00000000 [0028B4]
         00000000 [0028BC]
         64DF1010 [0028C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0028C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0028C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0028CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0028D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0028D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0028D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0028D4]  5654R 	.align 6
00000000 00000000 [0028DC]
00000000 00000000 [0028E4]
00000000 00000000 [0028EC]
00000000 00000000 [0028F4]
         00000000 [0028FC]
         64DF1010 [002900]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002904]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002908]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00290C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002910]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002910]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002910]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002914]  5654R 	.align 6
00000000 00000000 [00291C]
00000000 00000000 [002924]
00000000 00000000 [00292C]
00000000 00000000 [002934]
         00000000 [00293C]
         64DF1010 [002940]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002944]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002948]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00294C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002950]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002950]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002950]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002954]  5654R 	.align 6
00000000 00000000 [00295C]
00000000 00000000 [002964]
00000000 00000000 [00296C]
00000000 00000000 [002974]
         00000000 [00297C]
         64DF1010 [002980]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002984]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002988]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00298C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002990]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002990]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002990]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002994]  5654R 	.align 6
00000000 00000000 [00299C]
00000000 00000000 [0029A4]
00000000 00000000 [0029AC]
00000000 00000000 [0029B4]
         00000000 [0029BC]
         64DF1010 [0029C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0029C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0029C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0029CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0029D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0029D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0029D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0029D4]  5654R 	.align 6
00000000 00000000 [0029DC]
00000000 00000000 [0029E4]
00000000 00000000 [0029EC]
00000000 00000000 [0029F4]
         00000000 [0029FC]
         64DF1010 [002A00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002A04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002A08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002A0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002A10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002A10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002A10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002A14]  5654R 	.align 6
00000000 00000000 [002A1C]
00000000 00000000 [002A24]
00000000 00000000 [002A2C]
00000000 00000000 [002A34]
         00000000 [002A3C]
         64DF1010 [002A40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002A44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002A48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002A4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002A50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002A50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002A50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002A54]  5654R 	.align 6
00000000 00000000 [002A5C]
00000000 00000000 [002A64]
00000000 00000000 [002A6C]
00000000 00000000 [002A74]
         00000000 [002A7C]
         64DF1010 [002A80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002A84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002A88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002A8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002A90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002A90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002A90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002A94]  5654R 	.align 6
00000000 00000000 [002A9C]
00000000 00000000 [002AA4]
00000000 00000000 [002AAC]
00000000 00000000 [002AB4]
         00000000 [002ABC]
         64DF1010 [002AC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002AC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002AC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002ACC]  5650R 	bis	p6, #1, p6			; pal mode
                  [002AD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002AD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002AD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002AD4]  5654R 	.align 6
00000000 00000000 [002ADC]
00000000 00000000 [002AE4]
00000000 00000000 [002AEC]
00000000 00000000 [002AF4]
         00000000 [002AFC]
         64DF1010 [002B00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002B04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002B08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002B0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002B10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002B10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002B10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002B14]  5654R 	.align 6
00000000 00000000 [002B1C]
00000000 00000000 [002B24]
00000000 00000000 [002B2C]
00000000 00000000 [002B34]
         00000000 [002B3C]
         64DF1010 [002B40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002B44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002B48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002B4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002B50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002B50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002B50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002B54]  5654R 	.align 6
00000000 00000000 [002B5C]
00000000 00000000 [002B64]
00000000 00000000 [002B6C]
00000000 00000000 [002B74]
         00000000 [002B7C]
         64DF1010 [002B80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002B84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002B88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002B8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002B90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002B90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002B90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002B94]  5654R 	.align 6
00000000 00000000 [002B9C]
00000000 00000000 [002BA4]
00000000 00000000 [002BAC]
00000000 00000000 [002BB4]
         00000000 [002BBC]
         64DF1010 [002BC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002BC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002BC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002BCC]  5650R 	bis	p6, #1, p6			; pal mode
                  [002BD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002BD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002BD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002BD4]  5654R 	.align 6
00000000 00000000 [002BDC]
00000000 00000000 [002BE4]
00000000 00000000 [002BEC]
00000000 00000000 [002BF4]
         00000000 [002BFC]
         64DF1010 [002C00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002C04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002C08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002C0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002C10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002C10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002C10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002C14]  5654R 	.align 6
00000000 00000000 [002C1C]
00000000 00000000 [002C24]
00000000 00000000 [002C2C]
00000000 00000000 [002C34]
         00000000 [002C3C]
         64DF1010 [002C40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002C44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002C48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002C4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002C50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002C50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002C50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002C54]  5654R 	.align 6
00000000 00000000 [002C5C]
00000000 00000000 [002C64]
00000000 00000000 [002C6C]
00000000 00000000 [002C74]
         00000000 [002C7C]
         64DF1010 [002C80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002C84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002C88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002C8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002C90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002C90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002C90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002C94]  5654R 	.align 6
00000000 00000000 [002C9C]
00000000 00000000 [002CA4]
00000000 00000000 [002CAC]
00000000 00000000 [002CB4]
         00000000 [002CBC]
         64DF1010 [002CC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002CC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002CC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002CCC]  5650R 	bis	p6, #1, p6			; pal mode
                  [002CD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002CD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002CD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002CD4]  5654R 	.align 6
00000000 00000000 [002CDC]
00000000 00000000 [002CE4]
00000000 00000000 [002CEC]
00000000 00000000 [002CF4]
         00000000 [002CFC]
         64DF1010 [002D00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002D04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002D08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002D0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002D10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002D10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002D10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002D14]  5654R 	.align 6
00000000 00000000 [002D1C]
00000000 00000000 [002D24]
00000000 00000000 [002D2C]
00000000 00000000 [002D34]
         00000000 [002D3C]
         64DF1010 [002D40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002D44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002D48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002D4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002D50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002D50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002D50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002D54]  5654R 	.align 6
00000000 00000000 [002D5C]
00000000 00000000 [002D64]
00000000 00000000 [002D6C]
00000000 00000000 [002D74]
         00000000 [002D7C]
         64DF1010 [002D80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002D84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002D88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002D8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002D90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002D90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002D90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002D94]  5654R 	.align 6
00000000 00000000 [002D9C]
00000000 00000000 [002DA4]
00000000 00000000 [002DAC]
00000000 00000000 [002DB4]
         00000000 [002DBC]
         64DF1010 [002DC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002DC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002DC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002DCC]  5650R 	bis	p6, #1, p6			; pal mode
                  [002DD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002DD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002DD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002DD4]  5654R 	.align 6
00000000 00000000 [002DDC]
00000000 00000000 [002DE4]
00000000 00000000 [002DEC]
00000000 00000000 [002DF4]
         00000000 [002DFC]
         64DF1010 [002E00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002E04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002E08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002E0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002E10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002E10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002E10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002E14]  5654R 	.align 6
00000000 00000000 [002E1C]
00000000 00000000 [002E24]
00000000 00000000 [002E2C]
00000000 00000000 [002E34]
         00000000 [002E3C]
         64DF1010 [002E40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002E44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002E48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002E4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002E50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002E50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002E50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002E54]  5654R 	.align 6
00000000 00000000 [002E5C]
00000000 00000000 [002E64]
00000000 00000000 [002E6C]
00000000 00000000 [002E74]
         00000000 [002E7C]
         64DF1010 [002E80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002E84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002E88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002E8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002E90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002E90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002E90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002E94]  5654R 	.align 6
00000000 00000000 [002E9C]
00000000 00000000 [002EA4]
00000000 00000000 [002EAC]
00000000 00000000 [002EB4]
         00000000 [002EBC]
         64DF1010 [002EC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002EC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002EC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002ECC]  5650R 	bis	p6, #1, p6			; pal mode
                  [002ED0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002ED0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002ED0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002ED4]  5654R 	.align 6
00000000 00000000 [002EDC]
00000000 00000000 [002EE4]
00000000 00000000 [002EEC]
00000000 00000000 [002EF4]
         00000000 [002EFC]
         64DF1010 [002F00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002F04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002F08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002F0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002F10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002F10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002F10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002F14]  5654R 	.align 6
00000000 00000000 [002F1C]
00000000 00000000 [002F24]
00000000 00000000 [002F2C]
00000000 00000000 [002F34]
         00000000 [002F3C]
         64DF1010 [002F40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002F44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002F48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002F4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002F50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002F50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002F50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002F54]  5654R 	.align 6
00000000 00000000 [002F5C]
00000000 00000000 [002F64]
00000000 00000000 [002F6C]
00000000 00000000 [002F74]
         00000000 [002F7C]
         64DF1010 [002F80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002F84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002F88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002F8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [002F90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002F90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002F90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002F94]  5654R 	.align 6
00000000 00000000 [002F9C]
00000000 00000000 [002FA4]
00000000 00000000 [002FAC]
00000000 00000000 [002FB4]
         00000000 [002FBC]
         64DF1010 [002FC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [002FC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [002FC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [002FCC]  5650R 	bis	p6, #1, p6			; pal mode
                  [002FD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [002FD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [002FD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [002FD4]  5654R 	.align 6
00000000 00000000 [002FDC]
00000000 00000000 [002FE4]
00000000 00000000 [002FEC]
00000000 00000000 [002FF4]
         00000000 [002FFC]
         64DF1010 [003000]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003004]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003008]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00300C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003010]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003010]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003010]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003014]  5654R 	.align 6
00000000 00000000 [00301C]
00000000 00000000 [003024]
00000000 00000000 [00302C]
00000000 00000000 [003034]
         00000000 [00303C]
         64DF1010 [003040]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003044]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003048]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00304C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003050]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003050]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003050]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003054]  5654R 	.align 6
00000000 00000000 [00305C]
00000000 00000000 [003064]
00000000 00000000 [00306C]
00000000 00000000 [003074]
         00000000 [00307C]
         64DF1010 [003080]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003084]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003088]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00308C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003090]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003090]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003090]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003094]  5654R 	.align 6
00000000 00000000 [00309C]
00000000 00000000 [0030A4]
00000000 00000000 [0030AC]
00000000 00000000 [0030B4]
         00000000 [0030BC]
         64DF1010 [0030C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0030C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0030C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0030CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0030D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0030D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0030D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0030D4]  5654R 	.align 6
00000000 00000000 [0030DC]
00000000 00000000 [0030E4]
00000000 00000000 [0030EC]
00000000 00000000 [0030F4]
         00000000 [0030FC]
         64DF1010 [003100]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003104]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003108]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00310C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003110]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003110]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003110]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003114]  5654R 	.align 6
00000000 00000000 [00311C]
00000000 00000000 [003124]
00000000 00000000 [00312C]
00000000 00000000 [003134]
         00000000 [00313C]
         64DF1010 [003140]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003144]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003148]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00314C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003150]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003150]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003150]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003154]  5654R 	.align 6
00000000 00000000 [00315C]
00000000 00000000 [003164]
00000000 00000000 [00316C]
00000000 00000000 [003174]
         00000000 [00317C]
         64DF1010 [003180]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003184]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003188]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00318C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003190]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003190]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003190]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003194]  5654R 	.align 6
00000000 00000000 [00319C]
00000000 00000000 [0031A4]
00000000 00000000 [0031AC]
00000000 00000000 [0031B4]
         00000000 [0031BC]
         64DF1010 [0031C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0031C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0031C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0031CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0031D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0031D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0031D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0031D4]  5654R 	.align 6
00000000 00000000 [0031DC]
00000000 00000000 [0031E4]
00000000 00000000 [0031EC]
00000000 00000000 [0031F4]
         00000000 [0031FC]
         64DF1010 [003200]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003204]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003208]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00320C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003210]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003210]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003210]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003214]  5654R 	.align 6
00000000 00000000 [00321C]
00000000 00000000 [003224]
00000000 00000000 [00322C]
00000000 00000000 [003234]
         00000000 [00323C]
         64DF1010 [003240]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003244]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003248]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00324C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003250]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003250]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003250]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003254]  5654R 	.align 6
00000000 00000000 [00325C]
00000000 00000000 [003264]
00000000 00000000 [00326C]
00000000 00000000 [003274]
         00000000 [00327C]
         64DF1010 [003280]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003284]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003288]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00328C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003290]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003290]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003290]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003294]  5654R 	.align 6
00000000 00000000 [00329C]
00000000 00000000 [0032A4]
00000000 00000000 [0032AC]
00000000 00000000 [0032B4]
         00000000 [0032BC]
         64DF1010 [0032C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0032C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0032C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0032CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0032D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0032D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0032D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0032D4]  5654R 	.align 6
00000000 00000000 [0032DC]
00000000 00000000 [0032E4]
00000000 00000000 [0032EC]
00000000 00000000 [0032F4]
         00000000 [0032FC]
         64DF1010 [003300]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003304]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003308]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00330C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003310]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003310]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003310]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003314]  5654R 	.align 6
00000000 00000000 [00331C]
00000000 00000000 [003324]
00000000 00000000 [00332C]
00000000 00000000 [003334]
         00000000 [00333C]
         64DF1010 [003340]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003344]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003348]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00334C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003350]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003350]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003350]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003354]  5654R 	.align 6
00000000 00000000 [00335C]
00000000 00000000 [003364]
00000000 00000000 [00336C]
00000000 00000000 [003374]
         00000000 [00337C]
         64DF1010 [003380]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003384]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003388]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00338C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003390]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003390]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003390]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003394]  5654R 	.align 6
00000000 00000000 [00339C]
00000000 00000000 [0033A4]
00000000 00000000 [0033AC]
00000000 00000000 [0033B4]
         00000000 [0033BC]
         64DF1010 [0033C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0033C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0033C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0033CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0033D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0033D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0033D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0033D4]  5654R 	.align 6
00000000 00000000 [0033DC]
00000000 00000000 [0033E4]
00000000 00000000 [0033EC]
00000000 00000000 [0033F4]
         00000000 [0033FC]
         64DF1010 [003400]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003404]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003408]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00340C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003410]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003410]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003410]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003414]  5654R 	.align 6
00000000 00000000 [00341C]
00000000 00000000 [003424]
00000000 00000000 [00342C]
00000000 00000000 [003434]
         00000000 [00343C]
         64DF1010 [003440]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003444]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003448]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00344C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003450]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003450]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003450]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003454]  5654R 	.align 6
00000000 00000000 [00345C]
00000000 00000000 [003464]
00000000 00000000 [00346C]
00000000 00000000 [003474]
         00000000 [00347C]
         64DF1010 [003480]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003484]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003488]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00348C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003490]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003490]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003490]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003494]  5654R 	.align 6
00000000 00000000 [00349C]
00000000 00000000 [0034A4]
00000000 00000000 [0034AC]
00000000 00000000 [0034B4]
         00000000 [0034BC]
         64DF1010 [0034C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0034C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0034C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0034CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0034D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0034D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0034D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0034D4]  5654R 	.align 6
00000000 00000000 [0034DC]
00000000 00000000 [0034E4]
00000000 00000000 [0034EC]
00000000 00000000 [0034F4]
         00000000 [0034FC]
         64DF1010 [003500]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003504]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003508]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00350C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003510]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003510]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003510]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003514]  5654R 	.align 6
00000000 00000000 [00351C]
00000000 00000000 [003524]
00000000 00000000 [00352C]
00000000 00000000 [003534]
         00000000 [00353C]
         64DF1010 [003540]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003544]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003548]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00354C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003550]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003550]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003550]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003554]  5654R 	.align 6
00000000 00000000 [00355C]
00000000 00000000 [003564]
00000000 00000000 [00356C]
00000000 00000000 [003574]
         00000000 [00357C]
         64DF1010 [003580]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003584]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003588]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00358C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003590]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003590]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003590]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003594]  5654R 	.align 6
00000000 00000000 [00359C]
00000000 00000000 [0035A4]
00000000 00000000 [0035AC]
00000000 00000000 [0035B4]
         00000000 [0035BC]
         64DF1010 [0035C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0035C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0035C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0035CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0035D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0035D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0035D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0035D4]  5654R 	.align 6
00000000 00000000 [0035DC]
00000000 00000000 [0035E4]
00000000 00000000 [0035EC]
00000000 00000000 [0035F4]
         00000000 [0035FC]
         64DF1010 [003600]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003604]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003608]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00360C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003610]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003610]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003610]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003614]  5654R 	.align 6
00000000 00000000 [00361C]
00000000 00000000 [003624]
00000000 00000000 [00362C]
00000000 00000000 [003634]
         00000000 [00363C]
         64DF1010 [003640]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003644]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003648]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00364C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003650]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003650]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003650]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003654]  5654R 	.align 6
00000000 00000000 [00365C]
00000000 00000000 [003664]
00000000 00000000 [00366C]
00000000 00000000 [003674]
         00000000 [00367C]
         64DF1010 [003680]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003684]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003688]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00368C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003690]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003690]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003690]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003694]  5654R 	.align 6
00000000 00000000 [00369C]
00000000 00000000 [0036A4]
00000000 00000000 [0036AC]
00000000 00000000 [0036B4]
         00000000 [0036BC]
         64DF1010 [0036C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0036C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0036C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0036CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0036D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0036D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0036D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0036D4]  5654R 	.align 6
00000000 00000000 [0036DC]
00000000 00000000 [0036E4]
00000000 00000000 [0036EC]
00000000 00000000 [0036F4]
         00000000 [0036FC]
         64DF1010 [003700]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003704]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003708]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00370C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003710]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003710]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003710]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003714]  5654R 	.align 6
00000000 00000000 [00371C]
00000000 00000000 [003724]
00000000 00000000 [00372C]
00000000 00000000 [003734]
         00000000 [00373C]
         64DF1010 [003740]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003744]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003748]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00374C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003750]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003750]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003750]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003754]  5654R 	.align 6
00000000 00000000 [00375C]
00000000 00000000 [003764]
00000000 00000000 [00376C]
00000000 00000000 [003774]
         00000000 [00377C]
         64DF1010 [003780]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003784]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003788]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00378C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003790]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003790]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003790]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003794]  5654R 	.align 6
00000000 00000000 [00379C]
00000000 00000000 [0037A4]
00000000 00000000 [0037AC]
00000000 00000000 [0037B4]
         00000000 [0037BC]
         64DF1010 [0037C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0037C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0037C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0037CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0037D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0037D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0037D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0037D4]  5654R 	.align 6
00000000 00000000 [0037DC]
00000000 00000000 [0037E4]
00000000 00000000 [0037EC]
00000000 00000000 [0037F4]
         00000000 [0037FC]
         64DF1010 [003800]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003804]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003808]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00380C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003810]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003810]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003810]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003814]  5654R 	.align 6
00000000 00000000 [00381C]
00000000 00000000 [003824]
00000000 00000000 [00382C]
00000000 00000000 [003834]
         00000000 [00383C]
         64DF1010 [003840]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003844]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003848]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00384C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003850]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003850]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003850]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003854]  5654R 	.align 6
00000000 00000000 [00385C]
00000000 00000000 [003864]
00000000 00000000 [00386C]
00000000 00000000 [003874]
         00000000 [00387C]
         64DF1010 [003880]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003884]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003888]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00388C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003890]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003890]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003890]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003894]  5654R 	.align 6
00000000 00000000 [00389C]
00000000 00000000 [0038A4]
00000000 00000000 [0038AC]
00000000 00000000 [0038B4]
         00000000 [0038BC]
         64DF1010 [0038C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0038C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0038C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0038CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0038D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0038D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0038D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0038D4]  5654R 	.align 6
00000000 00000000 [0038DC]
00000000 00000000 [0038E4]
00000000 00000000 [0038EC]
00000000 00000000 [0038F4]
         00000000 [0038FC]
         64DF1010 [003900]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003904]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003908]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00390C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003910]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003910]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003910]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003914]  5654R 	.align 6
00000000 00000000 [00391C]
00000000 00000000 [003924]
00000000 00000000 [00392C]
00000000 00000000 [003934]
         00000000 [00393C]
         64DF1010 [003940]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003944]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003948]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00394C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003950]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003950]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003950]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003954]  5654R 	.align 6
00000000 00000000 [00395C]
00000000 00000000 [003964]
00000000 00000000 [00396C]
00000000 00000000 [003974]
         00000000 [00397C]
         64DF1010 [003980]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003984]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003988]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [00398C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003990]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003990]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003990]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003994]  5654R 	.align 6
00000000 00000000 [00399C]
00000000 00000000 [0039A4]
00000000 00000000 [0039AC]
00000000 00000000 [0039B4]
         00000000 [0039BC]
         64DF1010 [0039C0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [0039C4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [0039C8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [0039CC]  5650R 	bis	p6, #1, p6			; pal mode
                  [0039D0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0039D0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [0039D0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [0039D4]  5654R 	.align 6
00000000 00000000 [0039DC]
00000000 00000000 [0039E4]
00000000 00000000 [0039EC]
00000000 00000000 [0039F4]
         00000000 [0039FC]
         64DF1010 [003A00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003A04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003A08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003A0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003A10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003A10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003A10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003A14]  5654R 	.align 6
00000000 00000000 [003A1C]
00000000 00000000 [003A24]
00000000 00000000 [003A2C]
00000000 00000000 [003A34]
         00000000 [003A3C]
         64DF1010 [003A40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003A44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003A48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003A4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003A50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003A50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003A50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003A54]  5654R 	.align 6
00000000 00000000 [003A5C]
00000000 00000000 [003A64]
00000000 00000000 [003A6C]
00000000 00000000 [003A74]
         00000000 [003A7C]
         64DF1010 [003A80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003A84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003A88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003A8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003A90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003A90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003A90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003A94]  5654R 	.align 6
00000000 00000000 [003A9C]
00000000 00000000 [003AA4]
00000000 00000000 [003AAC]
00000000 00000000 [003AB4]
         00000000 [003ABC]
         64DF1010 [003AC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003AC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003AC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003ACC]  5650R 	bis	p6, #1, p6			; pal mode
                  [003AD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003AD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003AD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003AD4]  5654R 	.align 6
00000000 00000000 [003ADC]
00000000 00000000 [003AE4]
00000000 00000000 [003AEC]
00000000 00000000 [003AF4]
         00000000 [003AFC]
         64DF1010 [003B00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003B04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003B08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003B0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003B10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003B10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003B10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003B14]  5654R 	.align 6
00000000 00000000 [003B1C]
00000000 00000000 [003B24]
00000000 00000000 [003B2C]
00000000 00000000 [003B34]
         00000000 [003B3C]
         64DF1010 [003B40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003B44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003B48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003B4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003B50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003B50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003B50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003B54]  5654R 	.align 6
00000000 00000000 [003B5C]
00000000 00000000 [003B64]
00000000 00000000 [003B6C]
00000000 00000000 [003B74]
         00000000 [003B7C]
         64DF1010 [003B80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003B84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003B88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003B8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003B90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003B90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003B90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003B94]  5654R 	.align 6
00000000 00000000 [003B9C]
00000000 00000000 [003BA4]
00000000 00000000 [003BAC]
00000000 00000000 [003BB4]
         00000000 [003BBC]
         64DF1010 [003BC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003BC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003BC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003BCC]  5650R 	bis	p6, #1, p6			; pal mode
                  [003BD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003BD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003BD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003BD4]  5654R 	.align 6
00000000 00000000 [003BDC]
00000000 00000000 [003BE4]
00000000 00000000 [003BEC]
00000000 00000000 [003BF4]
         00000000 [003BFC]
         64DF1010 [003C00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003C04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003C08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003C0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003C10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003C10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003C10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003C14]  5654R 	.align 6
00000000 00000000 [003C1C]
00000000 00000000 [003C24]
00000000 00000000 [003C2C]
00000000 00000000 [003C34]
         00000000 [003C3C]
         64DF1010 [003C40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003C44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003C48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003C4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003C50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003C50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003C50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003C54]  5654R 	.align 6
00000000 00000000 [003C5C]
00000000 00000000 [003C64]
00000000 00000000 [003C6C]
00000000 00000000 [003C74]
         00000000 [003C7C]
         64DF1010 [003C80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003C84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003C88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003C8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003C90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003C90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003C90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003C94]  5654R 	.align 6
00000000 00000000 [003C9C]
00000000 00000000 [003CA4]
00000000 00000000 [003CAC]
00000000 00000000 [003CB4]
         00000000 [003CBC]
         64DF1010 [003CC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003CC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003CC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003CCC]  5650R 	bis	p6, #1, p6			; pal mode
                  [003CD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003CD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003CD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003CD4]  5654R 	.align 6
00000000 00000000 [003CDC]
00000000 00000000 [003CE4]
00000000 00000000 [003CEC]
00000000 00000000 [003CF4]
         00000000 [003CFC]
         64DF1010 [003D00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003D04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003D08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003D0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003D10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003D10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003D10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003D14]  5654R 	.align 6
00000000 00000000 [003D1C]
00000000 00000000 [003D24]
00000000 00000000 [003D2C]
00000000 00000000 [003D34]
         00000000 [003D3C]
         64DF1010 [003D40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003D44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003D48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003D4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003D50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003D50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003D50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003D54]  5654R 	.align 6
00000000 00000000 [003D5C]
00000000 00000000 [003D64]
00000000 00000000 [003D6C]
00000000 00000000 [003D74]
         00000000 [003D7C]
         64DF1010 [003D80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003D84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003D88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003D8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003D90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003D90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003D90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003D94]  5654R 	.align 6
00000000 00000000 [003D9C]
00000000 00000000 [003DA4]
00000000 00000000 [003DAC]
00000000 00000000 [003DB4]
         00000000 [003DBC]
         64DF1010 [003DC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003DC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003DC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003DCC]  5650R 	bis	p6, #1, p6			; pal mode
                  [003DD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003DD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003DD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003DD4]  5654R 	.align 6
00000000 00000000 [003DDC]
00000000 00000000 [003DE4]
00000000 00000000 [003DEC]
00000000 00000000 [003DF4]
         00000000 [003DFC]
         64DF1010 [003E00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003E04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003E08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003E0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003E10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003E10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003E10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003E14]  5654R 	.align 6
00000000 00000000 [003E1C]
00000000 00000000 [003E24]
00000000 00000000 [003E2C]
00000000 00000000 [003E34]
         00000000 [003E3C]
         64DF1010 [003E40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003E44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003E48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003E4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003E50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003E50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003E50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003E54]  5654R 	.align 6
00000000 00000000 [003E5C]
00000000 00000000 [003E64]
00000000 00000000 [003E6C]
00000000 00000000 [003E74]
         00000000 [003E7C]
         64DF1010 [003E80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003E84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003E88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003E8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003E90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003E90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003E90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003E94]  5654R 	.align 6
00000000 00000000 [003E9C]
00000000 00000000 [003EA4]
00000000 00000000 [003EAC]
00000000 00000000 [003EB4]
         00000000 [003EBC]
         64DF1010 [003EC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003EC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003EC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003ECC]  5650R 	bis	p6, #1, p6			; pal mode
                  [003ED0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003ED0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003ED0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003ED4]  5654R 	.align 6
00000000 00000000 [003EDC]
00000000 00000000 [003EE4]
00000000 00000000 [003EEC]
00000000 00000000 [003EF4]
         00000000 [003EFC]
         64DF1010 [003F00]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003F04]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003F08]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003F0C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003F10]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003F10]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003F10]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003F14]  5654R 	.align 6
00000000 00000000 [003F1C]
00000000 00000000 [003F24]
00000000 00000000 [003F2C]
00000000 00000000 [003F34]
         00000000 [003F3C]
         64DF1010 [003F40]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003F44]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003F48]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003F4C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003F50]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003F50]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003F50]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003F54]  5654R 	.align 6
00000000 00000000 [003F5C]
00000000 00000000 [003F64]
00000000 00000000 [003F6C]
00000000 00000000 [003F74]
         00000000 [003F7C]
         64DF1010 [003F80]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003F84]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003F88]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003F8C]  5650R 	bis	p6, #1, p6			; pal mode
                  [003F90]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003F90]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003F90]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003F94]  5654R 	.align 6
00000000 00000000 [003F9C]
00000000 00000000 [003FA4]
00000000 00000000 [003FAC]
00000000 00000000 [003FB4]
         00000000 [003FBC]
         64DF1010 [003FC0]  5647R 		hw_mfpr	p6, EV6__PAL_BASE		; (4,0L) need pal base
         24C60000 [003FC4]  5648R 	ldah	p6,<<opcdec_offset>+32768>@-16(p6)
         20C60418 [003FC8]  5649R 	lda	p6,<<opcdec_offset> & ^xFFFF>(p6)
         44C03406 [003FCC]  5650R 	bis	p6, #1, p6			; pal mode
                  [003FD0]  5651R 	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [003FD0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE68000 [003FD0]  5652R 	hw_ret	(p6)				; pop prediction stack
00000000 00000000 [003FD4]  5654R 	.align 6
00000000 00000000 [003FDC]
00000000 00000000 [003FE4]
00000000 00000000 [003FEC]
00000000 00000000 [003FF4]
         00000000 [003FFC]
                  [004000]  5657  	    
                  [004000]  5658  	GOTO_FREE_CODE
File: ev6_pal_macros.mar
00000000 00000000 [004FA0]    62M     .align 6
00000000 00000000 [004FA8]
00000000 00000000 [004FB0]
00000000 00000000 [004FB8]
File: ev6_osf_pal.mar
                  [004FC0]  5659  
                  [004FC0]  5660  ;------------------------------------------------------------------------
                  [004FC0]  5661  ;+
                  [004FC0]  5662  ; CALL_PAL__HALT -- PALcode for halt instruction
                  [004FC0]  5663  ;
                  [004FC0]  5664  ; Entry:
                  [004FC0]  5665  ;	p23	pc of instruction following the call_pal instruction
                  [004FC0]  5666  ;
                  [004FC0]  5667  ; Function:
                  [004FC0]  5668  ;	Set PT__HALT_CODE to HALT__SW_HALT. Decrement pc in p23,
                  [004FC0]  5669  ;	and branch off to save PCB and enter console.
                  [004FC0]  5670  ;
                  [004FC0]  5671  ; Exit state:
                  [004FC0]  5672  ;	PT__HALT_CODE	HALT__SW_HALT
                  [004FC0]  5673  ;	p23		pc of halt instruction
                  [004FC0]  5674  ;-
                  [004FC0]  5675  	START_CALL_PAL <HALT>
File: ev6_pal_macros.mar
                  [004FC0]   131i         ASSUME <<OSFPAL_FUNC__HALT> & <^x40>> eq 0
                  [004FC0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002000]   143M CALL_PAL__HALT::
         47FF041F [002000]   145M 	bis	r31, r31, r31
         47FF041F [002004]   146M 	bis	r31, r31, r31
         C0800000 [002008]   147M 	br	p4, s_HALT
                  [00200C]   148M s_HALT:
         40813404 [00200C]   149M 	addq	p4, #<<e_HALT - s_HALT>+1>, p4
                  [002010]   150M 	PVC_JSR	p_HALT
                  [002010]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_halt0, osf
         7BE48000 [002010]   151M 	hw_ret	(p4)
                  [002014]   152M 	PVC_JSR p_HALT, dest=1
                  [002014]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_halt0, osf, \pcv_jsr_p_halt0_inst
                  [002014]   153M e_HALT:
         47FF041F [002014]   154M 	bis	r31, r31, r31
         47FF041F [002018]   155M 	bis	r31, r31, r31
         C3E00BE8 [00201C]   156M 	br	r31, CALL_PAL__HALT_CONT_EXTRA
                  [002020]   159M     GOTO_FREE_CODE
                  [004FC0]    62M     .align 6
                  [004FC0]   160M CALL_PAL__HALT_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [004FC0]  5676  
                  [004FC0]  5677  .if ne debug_err
                  [004FC0]  5678      .if ne pci_debug_io
                  [004FC0]  5679  
                  [004FC0]  5680  	; r0 gets trashed here.  Shouldn't matter since we're about to reenter
                  [004FC0]  5681  
                  [004FC0]  5682  	DBGREG_PCI_RAW LED__ERR_HLT,p23,r0
                  [004FC0]  5683      .endc
                  [004FC0]  5684      .if ne srom_debug_io
                  [004FC0]  5685  
                  [004FC0]  5686  	; r16 gets trashed here.  Shouldn't matter since we're about to reenter
                  [004FC0]  5687  
                  [004FC0]  5688  	GET_32CONS      r16, ^x43414C4C, r31    ; CALLHALT
                  [004FC0]  5689  	sll             r16, #32, r16
                  [004FC0]  5690  	GET_32CONS      r16, ^x48414C54, r16    ;
                  [004FC0]  5691  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [004FC0]  5692  
                  [004FC0]  5693  	bis             p23, r31, r16
                  [004FC0]  5694  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [004FC0]  5695      .endc
                  [004FC0]  5696  .endc
         42E09537 [004FC0]  5697  	subq	p23, #4, p23			; adjust pc
         229F0005 [004FC4]  5698  	lda	p20, HALT__SW_HALT(r31)		; halt code
         7E9510F0 [004FC8]  5699  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; store (??)
         C3FFFE2C [004FCC]  5700  	br	r31, trap__update_pcb_and_halt
                  [004FD0]  5701  
                  [004FD0]  5702  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [004FD0]   171M         GOTO_FREE_CODE
00000000 00000000 [004FD0]    62M     .align 6
00000000 00000000 [004FD8]
00000000 00000000 [004FE0]
00000000 00000000 [004FE8]
00000000 00000000 [004FF0]
00000000 00000000 [004FF8]
File: ev6_osf_pal.mar
                  [005000]  5703  
                  [005000]  5704  
                  [005000]  5705  ;------------------------------------------------------------------------
                  [005000]  5706  ;+
                  [005000]  5707  ; CALL_PAL__CFLUSH
                  [005000]  5708  ;
                  [005000]  5709  ; Entry:
                  [005000]  5710  ;	r16(a0)	page frame number (PFN) of page to be flushed
                  [005000]  5711  ;	p23	pc of instruction following call_pal instruction
                  [005000]  5712  ;
                  [005000]  5713  ; Function:
                  [005000]  5714  ;	Flush all dstream caches of 1 entire page.
                  [005000]  5715  ;
                  [005000]  5716  ; Note on implementation:
                  [005000]  5717  ;	Since the dcache is two-way set associative, we need to
                  [005000]  5718  ;	do two passes with different tags.
                  [005000]  5719  ;-
                  [005000]  5720  	START_CALL_PAL <CFLUSH>
File: ev6_pal_macros.mar
                  [005000]   131i         ASSUME <<OSFPAL_FUNC__CFLUSH> & <^x40>> eq 0
                  [005000]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002040]   143M CALL_PAL__CFLUSH::
         47FF041F [002040]   145M 	bis	r31, r31, r31
         47FF041F [002044]   146M 	bis	r31, r31, r31
         C0800000 [002048]   147M 	br	p4, s_CFLUSH
                  [00204C]   148M s_CFLUSH:
         40813404 [00204C]   149M 	addq	p4, #<<e_CFLUSH - s_CFLUSH>+1>, p4
                  [002050]   150M 	PVC_JSR	p_CFLUSH
                  [002050]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_cflush0, osf
         7BE48000 [002050]   151M 	hw_ret	(p4)
                  [002054]   152M 	PVC_JSR p_CFLUSH, dest=1
                  [002054]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_cflush0, osf, \pcv_jsr_p_cflush0_inst
                  [002054]   153M e_CFLUSH:
         47FF041F [002054]   154M 	bis	r31, r31, r31
         47FF041F [002058]   155M 	bis	r31, r31, r31
         C3E00BE8 [00205C]   156M 	br	r31, CALL_PAL__CFLUSH_CONT_EXTRA
                  [002060]   159M     GOTO_FREE_CODE
                  [005000]    62M     .align 6
                  [005000]   160M CALL_PAL__CFLUSH_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005000]  5721  
         C3E003FF [005000]  5722  	br	r31, sys__cflush		; handle in system module
                  [005004]  5723  
                  [005004]  5724  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005004]   171M         GOTO_FREE_CODE
00000000 00000000 [005004]    62M     .align 6
00000000 00000000 [00500C]
00000000 00000000 [005014]
00000000 00000000 [00501C]
00000000 00000000 [005024]
00000000 00000000 [00502C]
00000000 00000000 [005034]
         00000000 [00503C]
File: ev6_osf_pal.mar
                  [005040]  5725  
                  [005040]  5726  
                  [005040]  5727  ;------------------------------------------------------------------------
                  [005040]  5728  ;+
                  [005040]  5729  ; CALL_PAL__DRAINA
                  [005040]  5730  ;
                  [005040]  5731  ; Entry:
                  [005040]  5732  ;	p23	pc of instruction following the call_pal instruction
                  [005040]  5733  ;
                  [005040]  5734  ; Function:
                  [005040]  5735  ;	Stall instruction issuing until all prior instruction are
                  [005040]  5736  ;	guaranteed to complete without incurring aborts.
                  [005040]  5737  ;
                  [005040]  5738  ; Note:
                  [005040]  5739  ;	This call_pal is not all that useful, since it could incur
                  [005040]  5740  ;	a machine_check_while_in_pal, which is not a very useful
                  [005040]  5741  ;	state to get in to. However, as long as the machine check
                  [005040]  5742  ;	flow does not write into p23, we could conceivably, in the
                  [005040]  5743  ;	machine check flow, determine we were in a draina, and do a
                  [005040]  5744  ;	recoverable machine check.
                  [005040]  5745  ;
                  [005040]  5746  ; Do an MB to drain all the queues, and a hw_ret_stall to synchronize
                  [005040]  5747  ; retires.
                  [005040]  5748  ;-
                  [005040]  5749  	START_CALL_PAL <DRAINA>
File: ev6_pal_macros.mar
                  [005040]   131i         ASSUME <<OSFPAL_FUNC__DRAINA> & <^x40>> eq 0
                  [005040]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002080]   143M CALL_PAL__DRAINA::
         47FF041F [002080]   145M 	bis	r31, r31, r31
         47FF041F [002084]   146M 	bis	r31, r31, r31
         C0800000 [002088]   147M 	br	p4, s_DRAINA
                  [00208C]   148M s_DRAINA:
         40813404 [00208C]   149M 	addq	p4, #<<e_DRAINA - s_DRAINA>+1>, p4
                  [002090]   150M 	PVC_JSR	p_DRAINA
                  [002090]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_draina0, osf
         7BE48000 [002090]   151M 	hw_ret	(p4)
                  [002094]   152M 	PVC_JSR p_DRAINA, dest=1
                  [002094]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_draina0, osf, \pcv_jsr_p_draina0_inst
                  [002094]   153M e_DRAINA:
         47FF041F [002094]   154M 	bis	r31, r31, r31
         47FF041F [002098]   155M 	bis	r31, r31, r31
         C3E00BE8 [00209C]   156M 	br	r31, CALL_PAL__DRAINA_CONT_EXTRA
                  [0020A0]   159M     GOTO_FREE_CODE
                  [005040]    62M     .align 6
                  [005040]   160M CALL_PAL__DRAINA_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005040]  5750  
         63FF4000 [005040]  5751  	mb
                  [005044]  5752  	NOP					; no hw_ret in 1st fetchblock
File: ev6_pal_macros.mar
         47FF041F [005044]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005048]  5753  	NOP
File: ev6_pal_macros.mar
         47FF041F [005048]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00504C]  5754  	NOP
File: ev6_pal_macros.mar
         47FF041F [00504C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005050]  5755  
         7BF7A000 [005050]  5756  	hw_ret_stall (p23)			; return with stall
                  [005054]  5757  
                  [005054]  5758  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005054]   171M         GOTO_FREE_CODE
00000000 00000000 [005054]    62M     .align 6
00000000 00000000 [00505C]
00000000 00000000 [005064]
00000000 00000000 [00506C]
00000000 00000000 [005074]
         00000000 [00507C]
File: ev6_osf_pal.mar
                  [005080]  5759  
                  [005080]  5760  ;------------------------------------------------------------------------
                  [005080]  5761  ;+
                  [005080]  5762  ; CALL_PAL__CSERVE
                  [005080]  5763  ;
                  [005080]  5764  ; Entry:
                  [005080]  5765  ;	p23		pc of instruction following the call_pal instruction
                  [005080]  5766  ;
                  [005080]  5767  ; Function:
                  [005080]  5768  ;	Do an implementation specific console service.
                  [005080]  5769  ;
                  [005080]  5770  ; Exit state:
                  [005080]  5771  ;	Exit to sys__cserve
                  [005080]  5772  ;
                  [005080]  5773  ;-
                  [005080]  5774  	START_CALL_PAL <CSERVE>
File: ev6_pal_macros.mar
                  [005080]   131i         ASSUME <<OSFPAL_FUNC__CSERVE> & <^x40>> eq 0
                  [005080]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002240]   143M CALL_PAL__CSERVE::
         47FF041F [002240]   145M 	bis	r31, r31, r31
         47FF041F [002244]   146M 	bis	r31, r31, r31
         C0800000 [002248]   147M 	br	p4, s_CSERVE
                  [00224C]   148M s_CSERVE:
         40813404 [00224C]   149M 	addq	p4, #<<e_CSERVE - s_CSERVE>+1>, p4
                  [002250]   150M 	PVC_JSR	p_CSERVE
                  [002250]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_cserve0, osf
         7BE48000 [002250]   151M 	hw_ret	(p4)
                  [002254]   152M 	PVC_JSR p_CSERVE, dest=1
                  [002254]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_cserve0, osf, \pcv_jsr_p_cserve0_inst
                  [002254]   153M e_CSERVE:
         47FF041F [002254]   154M 	bis	r31, r31, r31
         47FF041F [002258]   155M 	bis	r31, r31, r31
         C3E00B88 [00225C]   156M 	br	r31, CALL_PAL__CSERVE_CONT_EXTRA
                  [002260]   159M     GOTO_FREE_CODE
                  [005080]    62M     .align 6
                  [005080]   160M CALL_PAL__CSERVE_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005080]  5775  
         C3E00815 [005080]  5776  	br	r31, sys__cserve		; handle in system code
                  [005084]  5777  
                  [005084]  5778  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005084]   171M         GOTO_FREE_CODE
00000000 00000000 [005084]    62M     .align 6
00000000 00000000 [00508C]
00000000 00000000 [005094]
00000000 00000000 [00509C]
00000000 00000000 [0050A4]
00000000 00000000 [0050AC]
00000000 00000000 [0050B4]
         00000000 [0050BC]
File: ev6_osf_pal.mar
                  [0050C0]  5779  
                  [0050C0]  5780  ;------------------------------------------------------------------------
                  [0050C0]  5781  ;+
                  [0050C0]  5782  ; CALL_PAL__SWPPAL
                  [0050C0]  5783  ;
                  [0050C0]  5784  ; Entry:
                  [0050C0]  5785  ;	p23		pc of instruction following the call_pal instruction
                  [0050C0]  5786  ;
                  [0050C0]  5787  ; Function:
                  [0050C0]  5788  ;	Swap control to another PALcode.
                  [0050C0]  5789  ;
                  [0050C0]  5790  ; Register use:
                  [0050C0]  5791  ;	r16(a0)	new PALcode identifier
                  [0050C0]  5792  ;			0 	=> new PALcode at address 0
                  [0050C0]  5793  ;			2 	=> OSFPAL
                  [0050C0]  5794  ;			>255	=> new PALcode at address in r16
                  [0050C0]  5795  ;	r17(a1)	new PC
                  [0050C0]  5796  ;	r18(a2)	new PCBB
                  [0050C0]  5797  ;	r19	new VPTB
                  [0050C0]  5798  ;
                  [0050C0]  5799  ; Exit state:
                  [0050C0]  5800  ;	r0(v0)	0	success (PALcode was switched)
                  [0050C0]  5801  ;		1	unknown PALcode variant
                  [0050C0]  5802  ;		2	know PALcode variant, but not loaded
                  [0050C0]  5803  ;-
                  [0050C0]  5804  	START_CALL_PAL <SWPPAL>
File: ev6_pal_macros.mar
                  [0050C0]   131i         ASSUME <<OSFPAL_FUNC__SWPPAL> & <^x40>> eq 0
                  [0050C0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002280]   143M CALL_PAL__SWPPAL::
         47FF041F [002280]   145M 	bis	r31, r31, r31
         47FF041F [002284]   146M 	bis	r31, r31, r31
         C0800000 [002288]   147M 	br	p4, s_SWPPAL
                  [00228C]   148M s_SWPPAL:
         40813404 [00228C]   149M 	addq	p4, #<<e_SWPPAL - s_SWPPAL>+1>, p4
                  [002290]   150M 	PVC_JSR	p_SWPPAL
                  [002290]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_swppal0, osf
         7BE48000 [002290]   151M 	hw_ret	(p4)
                  [002294]   152M 	PVC_JSR p_SWPPAL, dest=1
                  [002294]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_swppal0, osf, \pcv_jsr_p_swppal0_inst
                  [002294]   153M e_SWPPAL:
         47FF041F [002294]   154M 	bis	r31, r31, r31
         47FF041F [002298]   155M 	bis	r31, r31, r31
         C3E00B88 [00229C]   156M 	br	r31, CALL_PAL__SWPPAL_CONT_EXTRA
                  [0022A0]   159M     GOTO_FREE_CODE
                  [0050C0]    62M     .align 6
                  [0050C0]   160M CALL_PAL__SWPPAL_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [0050C0]  5805  
                  [0050C0]  5806  .if ne pci_debug_io*debug_swap
                  [0050C0]  5807  	DBGREG_PCI LED__DBG_SWPPAL,r17
                  [0050C0]  5808  	DBGREG_PCI LED__DBG_SWPPAL,r18
                  [0050C0]  5809  	DBGREG_PCI LED__DBG_SWPPAL,r19
                  [0050C0]  5810  .endc
                  [0050C0]  5811  
         421FF7A0 [0050C0]  5812  	cmpule	r16, #255, r0			; see if a variant
         46100480 [0050C4]  5813  	cmoveq	r16, r16, r0			; r16 = 0 is a valid address
         461F0405 [0050C8]  5814  	bis	r16, r31, p5			; will jump through p5
         E0000015 [0050CC]  5815  	blbc	r0, call_pal__swppal_addr	; try as an address
                  [0050D0]  5816  
         420055A0 [0050D0]  5817  	cmpeq	r16, #2, r0			; see if our buddy OSFPAL
         E0000018 [0050D4]  5818  	blbc	r0, call_pal__swppal_fail	; nope, don't know this fellow
                  [0050D8]  5819  
                  [0050D8]  5820  .iif eq <.&4>, NOP
                  [0050D8]  5820I  NOP
File: ev6_pal_macros.mar
         47FF041F [0050D8]   278i 	bis	r31, r31, r31
File: ev6_osf_pal.mar
         C0800002 [0050DC]  5821  	br	p4, call_pal__swppal_osf
00000000 00310000 [0050E0]  5822  	.quad	PAL__ENTER_OSF			; address must fit in a quadword
                  [0050E8]  5823  call_pal__swppal_osf:
         6C841000 [0050E8]  5824  	hw_ldq/p p4, 0(p4)			; fetch target address pointer
         6CA41000 [0050EC]  5825  	hw_ldq/p p5, 0(p4)			; fetch target address
                  [0050F0]  5826  
         ECA00011 [0050F0]  5827  	ble	p5, call_pal__swppal_fail	; if not linked, say not loaded
         209F7FFF [0050F4]  5828  	lda	p4, ^x7FFF(r31)			; checker for pal base
         44A40004 [0050F8]  5829  	and	p5, p4, p4			; get low 15 bits
                  [0050FC]  5830  
                  [0050FC]  5831  	CONT_CALL_PAL <SWPPAL>
File: ev6_pal_macros.mar
         C3E00000 [0050FC]   201i 	br	r31, CALL_PAL__SWPPAL_CONT
                  [005100]   204i     .align 4, <^x47FF041F>
                  [005100]   205i CALL_PAL__SWPPAL_CONT:
File: ev6_osf_pal.mar
                  [005100]  5832  
         408015A0 [005100]  5833  	cmpeq	p4, #0, r0			; check for non-zero bits
         E000000C [005104]  5834  	blbc	r0, call_pal__swppal_fail	; if not clear, say unknown
                  [005108]  5835  ;
                  [005108]  5836  ; Current state:
                  [005108]  5837  ;	p5	address
                  [005108]  5838  ;
         47E03404 [005108]  5839  	bis	r31, #1, p4			; get a '1'
         4887D724 [00510C]  5840  	sll	p4, #OSF_P_MISC__SWITCH__S,p4	; switch bit into position
         46C40416 [005110]  5841  	bis	p_misc, p4, p_misc		; mark 'switch'
                  [005114]  5842  
         47FF0400 [005114]  5843  	bis	r31, r31, r0			; status to success
         44A03405 [005118]  5844  	bis	p5, #1, p5			; set pal mode bit
         D3E00000 [00511C]  5845  	bsr	r31, .				; push prediction stack
                  [005120]  5846  	PVC_VIOLATE <1007>			; go to it
File: ev6_pal_macros.mar
                  [005120]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_pal.mar
         7BE58000 [005120]  5847  	hw_ret	(p5)				; pop prediction stack
                  [005124]  5848  ;
                  [005124]  5849  ; Looks like an address, either 0 or > 255. Check low bits.
                  [005124]  5850  ; Current state:
                  [005124]  5851  ;	p5	address
                  [005124]  5852  ;
                  [005124]  5853  call_pal__swppal_addr:
         209F7FFF [005124]  5854  	lda	p4, ^x7FFF(r31)			; checker for pal base
         44A40004 [005128]  5855  	and	p5, p4, p4			; get low 15 bits
         408015A0 [00512C]  5856  	cmpeq	p4, #0, r0			; check for non-zero bits
         E0000001 [005130]  5857  	blbc	r0, call_pal__swppal_fail	; if not clear, say unknown
         C3FFFFF2 [005134]  5858  	br	r31, call_pal__swppal_cont	; address ok, so continue
                  [005138]  5859  ;
                  [005138]  5860  ; We have failed.
                  [005138]  5861  ; Current state:
                  [005138]  5862  ;	r0	0	unknown variant or bad address
                  [005138]  5863  ;		1	osfpal, but not loaded
                  [005138]  5864  ; Exit state:
                  [005138]  5865  ;	r0	1	unknown variant or bad address
                  [005138]  5866  ;		2	osfpal, but not loaded
                  [005138]  5867  ;
                  [005138]  5868  call_pal__swppal_fail:
                  [005138]  5869  	
         40003400 [005138]  5870  	addq	r0, #1, r0			; affect r0
         7BF78000 [00513C]  5871  	hw_ret	(p23)				; return
                  [005140]  5872  
                  [005140]  5873  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005140]   171M         GOTO_FREE_CODE
                  [005140]    62M     .align 6
File: ev6_osf_pal.mar
                  [005140]  5874  
                  [005140]  5875  
                  [005140]  5876  ;------------------------------------------------------------------------
                  [005140]  5877  ;+
                  [005140]  5878  ; CALL_PAL__WRIPIR
                  [005140]  5879  ;
                  [005140]  5880  ; Entry:
                  [005140]  5881  ;	p23		pc of instruction following the call_pal instruction
                  [005140]  5882  ;
                  [005140]  5883  ; Function:
                  [005140]  5884  ;	IPIR <- r16(a0)
                  [005140]  5885  ;	Handled in system-specific code.
                  [005140]  5886  ;-
                  [005140]  5887  	START_CALL_PAL <WRIPIR>
File: ev6_pal_macros.mar
                  [005140]   131i         ASSUME <<OSFPAL_FUNC__WRIPIR> & <^x40>> eq 0
                  [005140]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002340]   143M CALL_PAL__WRIPIR::
         47FF041F [002340]   145M 	bis	r31, r31, r31
         47FF041F [002344]   146M 	bis	r31, r31, r31
         C0800000 [002348]   147M 	br	p4, s_WRIPIR
                  [00234C]   148M s_WRIPIR:
         40813404 [00234C]   149M 	addq	p4, #<<e_WRIPIR - s_WRIPIR>+1>, p4
                  [002350]   150M 	PVC_JSR	p_WRIPIR
                  [002350]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wripir0, osf
         7BE48000 [002350]   151M 	hw_ret	(p4)
                  [002354]   152M 	PVC_JSR p_WRIPIR, dest=1
                  [002354]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wripir0, osf, \pcv_jsr_p_wripir0_inst
                  [002354]   153M e_WRIPIR:
         47FF041F [002354]   154M 	bis	r31, r31, r31
         47FF041F [002358]   155M 	bis	r31, r31, r31
         C3E00B78 [00235C]   156M 	br	r31, CALL_PAL__WRIPIR_CONT_EXTRA
                  [002360]   159M     GOTO_FREE_CODE
                  [005140]    62M     .align 6
                  [005140]   160M CALL_PAL__WRIPIR_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005140]  5888  
         C3E003DF [005140]  5889  	br	r31, sys__wripir
                  [005144]  5890  
                  [005144]  5891  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005144]   171M         GOTO_FREE_CODE
00000000 00000000 [005144]    62M     .align 6
00000000 00000000 [00514C]
00000000 00000000 [005154]
00000000 00000000 [00515C]
00000000 00000000 [005164]
00000000 00000000 [00516C]
00000000 00000000 [005174]
         00000000 [00517C]
File: ev6_osf_pal.mar
                  [005180]  5892  
                  [005180]  5893  
                  [005180]  5894  ;------------------------------------------------------------------------
                  [005180]  5895  ;+
                  [005180]  5896  ; CALL_PAL__RDMCES
                  [005180]  5897  ;
                  [005180]  5898  ; Entry:
                  [005180]  5899  ;	p23		pc of instruction following the call_pal instruction
                  [005180]  5900  ;
                  [005180]  5901  ; Function:
                  [005180]  5902  ;	Return in r0(v0) the MCES IPR.
                  [005180]  5903  ;	r0(v0) <- ZEXT(MCES)
                  [005180]  5904  ;
                  [005180]  5905  ; Exit state:
                  [005180]  5906  ;	r0(v0)		MCES
                  [005180]  5907  ;-
                  [005180]  5908  	START_CALL_PAL <RDMCES>
File: ev6_pal_macros.mar
                  [005180]   131i         ASSUME <<OSFPAL_FUNC__RDMCES> & <^x40>> eq 0
                  [005180]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002400]   143M CALL_PAL__RDMCES::
         47FF041F [002400]   145M 	bis	r31, r31, r31
         47FF041F [002404]   146M 	bis	r31, r31, r31
         C0800000 [002408]   147M 	br	p4, s_RDMCES
                  [00240C]   148M s_RDMCES:
         40813404 [00240C]   149M 	addq	p4, #<<e_RDMCES - s_RDMCES>+1>, p4
                  [002410]   150M 	PVC_JSR	p_RDMCES
                  [002410]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_rdmces0, osf
         7BE48000 [002410]   151M 	hw_ret	(p4)
                  [002414]   152M 	PVC_JSR p_RDMCES, dest=1
                  [002414]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_rdmces0, osf, \pcv_jsr_p_rdmces0_inst
                  [002414]   153M e_RDMCES:
         47FF041F [002414]   154M 	bis	r31, r31, r31
         47FF041F [002418]   155M 	bis	r31, r31, r31
         C3E00B58 [00241C]   156M 	br	r31, CALL_PAL__RDMCES_CONT_EXTRA
                  [002420]   159M     GOTO_FREE_CODE
                  [005180]    62M     .align 6
                  [005180]   160M CALL_PAL__RDMCES_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005180]  5909  
                  [005180]  5910  ASSUME OSF_P_MISC__MCES__MCHK__S eq 16
                  [005180]  5911  
         4AC050C0 [005180]  5912  	extbl	p_misc, #2, r0			; get mces from p_misc
                  [005184]  5913  	NOP					; no ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005184]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005188]  5914  	NOP
File: ev6_pal_macros.mar
         47FF041F [005188]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00518C]  5915  	NOP
File: ev6_pal_macros.mar
         47FF041F [00518C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005190]  5916  
         7BF78000 [005190]  5917  	hw_ret	(p23)				; return
                  [005194]  5918  
                  [005194]  5919  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005194]   171M         GOTO_FREE_CODE
00000000 00000000 [005194]    62M     .align 6
00000000 00000000 [00519C]
00000000 00000000 [0051A4]
00000000 00000000 [0051AC]
00000000 00000000 [0051B4]
         00000000 [0051BC]
File: ev6_osf_pal.mar
                  [0051C0]  5920  
                  [0051C0]  5921  ;------------------------------------------------------------------------
                  [0051C0]  5922  ;+
                  [0051C0]  5923  ; CALL_PAL__WRMCES
                  [0051C0]  5924  ;
                  [0051C0]  5925  ; Entry:
                  [0051C0]  5926  ;	p23		pc of instruction following the call_pal instruction
                  [0051C0]  5927  ;	r16(a0)		mces information
                  [0051C0]  5928  ;
                  [0051C0]  5929  ; Function:
                  [0051C0]  5930  ;	if (r16<0> eq 1) then MCES<0> <- 0	mchk
                  [0051C0]  5931  ;	if (r16<1> eq 1) then MCES<1> <- 0	system correctable -- sce
                  [0051C0]  5932  ;	if (r16<2> eq 1) then MCES<2> <- 0	processor correctable -- pce
                  [0051C0]  5933  ;	MCES<3> <- r16<3>			set <- disable pce -- dpc
                  [0051C0]  5934  ;	MCES<4> <- r16<4>			set <- disable sce -- dsc
                  [0051C0]  5935  ;
                  [0051C0]  5936  ;-
                  [0051C0]  5937  	START_CALL_PAL <WRMCES>
File: ev6_pal_macros.mar
                  [0051C0]   131i         ASSUME <<OSFPAL_FUNC__WRMCES> & <^x40>> eq 0
                  [0051C0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002440]   143M CALL_PAL__WRMCES::
         47FF041F [002440]   145M 	bis	r31, r31, r31
         47FF041F [002444]   146M 	bis	r31, r31, r31
         C0800000 [002448]   147M 	br	p4, s_WRMCES
                  [00244C]   148M s_WRMCES:
         40813404 [00244C]   149M 	addq	p4, #<<e_WRMCES - s_WRMCES>+1>, p4
                  [002450]   150M 	PVC_JSR	p_WRMCES
                  [002450]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrmces0, osf
         7BE48000 [002450]   151M 	hw_ret	(p4)
                  [002454]   152M 	PVC_JSR p_WRMCES, dest=1
                  [002454]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrmces0, osf, \pcv_jsr_p_wrmces0_inst
                  [002454]   153M e_WRMCES:
         47FF041F [002454]   154M 	bis	r31, r31, r31
         47FF041F [002458]   155M 	bis	r31, r31, r31
         C3E00B58 [00245C]   156M 	br	r31, CALL_PAL__WRMCES_CONT_EXTRA
                  [002460]   159M     GOTO_FREE_CODE
                  [0051C0]    62M     .align 6
                  [0051C0]   160M CALL_PAL__WRMCES_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [0051C0]  5938  
                  [0051C0]  5939  ASSUME OSF_P_MISC__MCES__MCHK__S eq 16
                  [0051C0]  5940  
                  [0051C0]  5941  mces_clear = <<1@MCES__MCHK__S> ! <1@MCES__SCE__S> ! <1@MCES__PCE__S>>
                  [0051C0]  5942  mces_dis = <<1@MCES__DPC__S> ! <1@MCES__DSC__S>>
                  [0051C0]  5943  
                  [0051C0]  5944  ASSUME mces_clear eq <^x7>
                  [0051C0]  5945  ASSUME mces_dis le <^x18>
                  [0051C0]  5946  
         4AC050C4 [0051C0]  5947  	extbl	p_misc, #2, p4		; get mces from p_misc
                  [0051C4]  5948  
         4600F006 [0051C4]  5949  	and	r16, #mces_clear, p6	; get mchk, sce, pce
         47E60506 [0051C8]  5950  	ornot	r31, p6, p6		; flip mchk, sce, pce bits
         46031007 [0051CC]  5951  	and	r16, #mces_dis, p7	; get disable bits
                  [0051D0]  5952  
         44860004 [0051D0]  5953  	and	p4, p6, p4		; update mchk, sce, pce
         44831104 [0051D4]  5954  	bic	p4, #mces_dis, p4	; clear old dpc, dsc
         44870404 [0051D8]  5955  	or	p4, p7, p4		; update dpc, dsc
                  [0051DC]  5956  
         4AC09616 [0051DC]  5957  	zap	p_misc, #4, p_misc			; clear out old mces
         48821724 [0051E0]  5958  	sll	p4, #OSF_P_MISC__MCES__MCHK__S, p4	; move into position
         46C40416 [0051E4]  5959  	bis	p_misc, p4, p_misc			; or new mces in
                  [0051E8]  5960  
         7BF78000 [0051E8]  5961  	hw_ret	(p23)			; return to user
                  [0051EC]  5962  
                  [0051EC]  5963  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [0051EC]   171M         GOTO_FREE_CODE
00000000 00000000 [0051EC]    62M     .align 6
00000000 00000000 [0051F4]
         00000000 [0051FC]
File: ev6_osf_pal.mar
                  [005200]  5964  
                  [005200]  5965  .if ne separate_page_tables			; 1.55
                  [005200]  5966  ;------------------------------------------------------------------------
                  [005200]  5967  ;+
                  [005200]  5968  ; CALL_PAL__WRVIRBND
                  [005200]  5969  ;
                  [005200]  5970  ; Entry:
                  [005200]  5971  ;	p23		pc of instruction following the call_pal instruction
                  [005200]  5972  ;	r16(a0)		virtual address boundary
                  [005200]  5973  ;
                  [005200]  5974  ; Function:
                  [005200]  5975  ;	VIRBND <- a0	unpredictable if not quadword aligned
                  [005200]  5976  ;-
                  [005200]  5977  	START_CALL_PAL <WRVIRBND>
                  [005200]  5978  	hw_stq/p r16, PT__VIRBND(p_temp)	; write virbnd
                  [005200]  5979  	NOP					; no hw_ret in 1st fetch block
                  [005200]  5980  	NOP
                  [005200]  5981  	NOP
                  [005200]  5982  
                  [005200]  5983  	hw_ret	(p23)				; return to user
                  [005200]  5984  
                  [005200]  5985  	END_CALL_PAL
                  [005200]  5986  
                  [005200]  5987  ;------------------------------------------------------------------------
                  [005200]  5988  ;+
                  [005200]  5989  ; CALL_PAL__WRSYSPTB
                  [005200]  5990  ;
                  [005200]  5991  ; Entry:
                  [005200]  5992  ;	p23		pc of instruction following the call_pal instruction
                  [005200]  5993  ;	r16(a0)		pfn of the highest level page table to be used
                  [005200]  5994  ;				for system-wide addresses equal to or
                  [005200]  5995  ;				above the value of the VIRBND.
                  [005200]  5996  ;
                  [005200]  5997  ; Function:
                  [005200]  5998  ;	SYSPTBR <- pfn in a0 converted to an address
                  [005200]  5999  ;-
                  [005200]  6000  	START_CALL_PAL <WRSYSPTB>
                  [005200]  6001  
                  [005200]  6002  	sll	r16, #page_offset_size_bits, p4	; convert PFN
                  [005200]  6003  	hw_stq/p p4, PT__SYSPTBR(p_temp)	; write sysptbr
                  [005200]  6004  	NOP					; no hw_ret in 1st fetch block
                  [005200]  6005  	NOP
                  [005200]  6006  
                  [005200]  6007  	hw_ret	(p23)				; return to user
                  [005200]  6008  	END_CALL_PAL
                  [005200]  6009  .endc						; 1.55 separate_page_tables
                  [005200]  6010  
                  [005200]  6011  ;------------------------------------------------------------------------
                  [005200]  6012  ;+
                  [005200]  6013  ; CALL_PAL__WRFEN
                  [005200]  6014  ;
                  [005200]  6015  ; Entry:
                  [005200]  6016  ;	p23		pc of instruction following the call_pal instruction
                  [005200]  6017  ;	r16(a0)<0>	new fen bit
                  [005200]  6018  ;
                  [005200]  6019  ; Function:
                  [005200]  6020  ;	FEN 	   	<- R16<0>
                  [005200]  6021  ;	(PCB+40)<0>	<- FEN
                  [005200]  6022  ;	r16(a0)		unpredictable
                  [005200]  6023  ;-
                  [005200]  6024  	START_CALL_PAL <WRFEN>
File: ev6_pal_macros.mar
                  [005200]   131i         ASSUME <<OSFPAL_FUNC__WRFEN> & <^x40>> eq 0
                  [005200]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002AC0]   143M CALL_PAL__WRFEN::
         47FF041F [002AC0]   145M 	bis	r31, r31, r31
         47FF041F [002AC4]   146M 	bis	r31, r31, r31
         C0800000 [002AC8]   147M 	br	p4, s_WRFEN
                  [002ACC]   148M s_WRFEN:
         40813404 [002ACC]   149M 	addq	p4, #<<e_WRFEN - s_WRFEN>+1>, p4
                  [002AD0]   150M 	PVC_JSR	p_WRFEN
                  [002AD0]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrfen0, osf
         7BE48000 [002AD0]   151M 	hw_ret	(p4)
                  [002AD4]   152M 	PVC_JSR p_WRFEN, dest=1
                  [002AD4]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrfen0, osf, \pcv_jsr_p_wrfen0_inst
                  [002AD4]   153M e_WRFEN:
         47FF041F [002AD4]   154M 	bis	r31, r31, r31
         47FF041F [002AD8]   155M 	bis	r31, r31, r31
         C3E009C8 [002ADC]   156M 	br	r31, CALL_PAL__WRFEN_CONT_EXTRA
                  [002AE0]   159M     GOTO_FREE_CODE
                  [005200]    62M     .align 6
                  [005200]   160M CALL_PAL__WRFEN_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005200]  6025  
         6C951010 [005200]  6026  	hw_ldq/p p4, PT__PCBB(p_temp)		; get PCBB
         46003010 [005204]  6027  	and	r16, #1, r16			; clean new fen
         4A005727 [005208]  6028  	sll	r16, #EV6__FPE__FPE__S, p7	; shift into position
         77E75010 [00520C]  6029  	hw_mtpr	p7, EV6__FPE			; (4,0L) write new fpe
                  [005210]  6030  
         77E75010 [005210]  6031  	hw_mtpr p7, EV6__FPE			; (4,0L) force retire
         7E040028 [005214]  6032  	hw_stl/p r16, OSF_PCB__FEN(p4)		; store FEN in PCB
         47FF041F [005218]  6033  	bis	r31, r31, r31
         47FF041F [00521C]  6034  	bis	r31, r31, r31
                  [005220]  6035  
         44000400 [005220]  6036  	bis	r0, r0, r0			; buffer block 1
         47FF041F [005224]  6037  	bis	r31, r31, r31
         47FF041F [005228]  6038  	bis	r31, r31, r31
         47FF041F [00522C]  6039  	bis	r31, r31, r31
                  [005230]  6040  
         44000400 [005230]  6041  	bis	r0, r0, r0			; buffer block 2
         47FF041F [005234]  6042  	bis	r31, r31, r31
         47FF041F [005238]  6043  	bis	r31, r31, r31
                  [00523C]  6044  	CONT_CALL_PAL <WRFEN>
File: ev6_pal_macros.mar
         C3E00000 [00523C]   201i 	br	r31, CALL_PAL__WRFEN_CONT
                  [005240]   204i     .align 4, <^x47FF041F>
                  [005240]   205i CALL_PAL__WRFEN_CONT:
File: ev6_osf_pal.mar
                  [005240]  6045  
         44000400 [005240]  6046  	bis	r0, r0, r0			; buffer block 3
         47FF041F [005244]  6047  	bis	r31, r31, r31
         47FF041F [005248]  6048  	bis	r31, r31, r31
         47FF041F [00524C]  6049  	bis	r31, r31, r31
                  [005250]  6050  
                  [005250]  6051  .if ne ev6_p1
                  [005250]  6052  	hw_ldq/p p5, PT__IMPURE(p_temp)		; get impure pointer
                  [005250]  6053  	hw_stq/p r16, CNS__FPE_STATE(p5)	; save 'fpe' state
                  [005250]  6054  .endc
                  [005250]  6055  
         7BF7A000 [005250]  6056  	hw_ret_stall (p23)			; stall for pvc
                  [005254]  6057  
                  [005254]  6058  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005254]   171M         GOTO_FREE_CODE
00000000 00000000 [005254]    62M     .align 6
00000000 00000000 [00525C]
00000000 00000000 [005264]
00000000 00000000 [00526C]
00000000 00000000 [005274]
         00000000 [00527C]
File: ev6_osf_pal.mar
                  [005280]  6059  
                  [005280]  6060  
                  [005280]  6061  ;------------------------------------------------------------------------
                  [005280]  6062  ;+
                  [005280]  6063  ; CALL_PAL__WRVPTPTR
                  [005280]  6064  ;
                  [005280]  6065  ; Entry:
                  [005280]  6066  ;	p23		pc of instruction following the call_pal instruction
                  [005280]  6067  ;	r16(a0)		new VPTPTR
                  [005280]  6068  ;
                  [005280]  6069  ; Function:
                  [005280]  6070  ;	VPTPTR <- r16
                  [005280]  6071  ;	r16(a0)		unpredictable
                  [005280]  6072  ;
                  [005280]  6073  ; Note: We clean <29:0> before storing.
                  [005280]  6074  ;-
                  [005280]  6075  	START_CALL_PAL <WRVPTPTR>
File: ev6_pal_macros.mar
                  [005280]   131i         ASSUME <<OSFPAL_FUNC__WRVPTPTR> & <^x40>> eq 0
                  [005280]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002B40]   143M CALL_PAL__WRVPTPTR::
         47FF041F [002B40]   145M 	bis	r31, r31, r31
         47FF041F [002B44]   146M 	bis	r31, r31, r31
         C0800000 [002B48]   147M 	br	p4, s_WRVPTPTR
                  [002B4C]   148M s_WRVPTPTR:
         40813404 [002B4C]   149M 	addq	p4, #<<e_WRVPTPTR - s_WRVPTPTR>+1>, p4
                  [002B50]   150M 	PVC_JSR	p_WRVPTPTR
                  [002B50]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrvptptr0, osf
         7BE48000 [002B50]   151M 	hw_ret	(p4)
                  [002B54]   152M 	PVC_JSR p_WRVPTPTR, dest=1
                  [002B54]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrvptptr0, osf, \pcv_jsr_p_wrvptptr0_inst
                  [002B54]   153M e_WRVPTPTR:
         47FF041F [002B54]   154M 	bis	r31, r31, r31
         47FF041F [002B58]   155M 	bis	r31, r31, r31
         C3E009C8 [002B5C]   156M 	br	r31, CALL_PAL__WRVPTPTR_CONT_EXTRA
                  [002B60]   159M     GOTO_FREE_CODE
                  [005280]    62M     .align 6
                  [005280]   160M CALL_PAL__WRVPTPTR_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005280]  6076  
                  [005280]  6077  ASSUME EV6__I_CTL__VPTB__S eq EV6__VA_CTL__VPTB__S
                  [005280]  6078  ;
                  [005280]  6079  ; 1.48 Reorder code to force retire of va_ctl before hw_ret_stall.
                  [005280]  6080  ;
                  [005280]  6081  
         64DF1110 [005280]  6082  	hw_mfpr	p6, EV6__I_CTL			; (4,0L) get i_ctl
         6CF510E0 [005284]  6083  	hw_ldq/p p7, PT__VA_CTL(p_temp)		; get control part of va_ctl
                  [005288]  6084  
         44F00407 [005288]  6085  	bis	p7, r16, p7			; new va_ctl
         7E151000 [00528C]  6086  	hw_stq/p r16, PT__VPTB(p_temp)		; new vptb
         77E7C420 [005290]  6087  	hw_mtpr	p7, EV6__VA_CTL			; (5,0L)
                  [005294]  6088  
         4A03D690 [005294]  6089  	srl	r16, #EV6__I_CTL__VPTB__S, r16	; shift new vptb to clean
         4A03D730 [005298]  6090  	sll	r16, #EV6__I_CTL__VPTB__S, r16	; shift back into position
                  [00529C]  6091  
         48C45726 [00529C]  6092  	sll	p6, #<64 - EV6__I_CTL__VPTB__S>, p6	; clean
         48C45686 [0052A0]  6093  	srl	p6, #<64 - EV6__I_CTL__VPTB__S>, p6	; move back
         44D00406 [0052A4]  6094  	bis	p6, r16, p6				; or new vptb
         77E61130 [0052A8]  6095  	hw_mtpr	p6, <EV6__I_CTL ! ^x20>		; 1.48 (4&5,0L) write i_ctl
                  [0052AC]  6096  
                  [0052AC]  6097  	ALIGN_FETCH_BLOCK <^x47FF041F>		; 1.48
File: ev6_pal_macros.mar
         47FF041F [0052AC]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
         7BF7A000 [0052B0]  6098  	hw_ret_stall (p23)			; return with stall
                  [0052B4]  6099  
                  [0052B4]  6100  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [0052B4]   171M         GOTO_FREE_CODE
00000000 00000000 [0052B4]    62M     .align 6
         00000000 [0052BC]
File: ev6_osf_pal.mar
                  [0052C0]  6101  
                  [0052C0]  6102  ;------------------------------------------------------------------------
                  [0052C0]  6103  ;+
                  [0052C0]  6104  ; CALL_PAL__SWPCTX
                  [0052C0]  6105  ;
                  [0052C0]  6106  ; Entry:
                  [0052C0]  6107  ;	p23	pc of instruction following the call_pal instruction
                  [0052C0]  6108  ;	r16(a0)	address of new PCB
                  [0052C0]  6109  ;
                  [0052C0]  6110  ; Function:
                  [0052C0]  6111  ;	The swap process context instruction saves the current process
                  [0052C0]  6112  ;	data in the current PCB. Then swpctx switches to the PCB passed in
                  [0052C0]  6113  ;	a0 and loads the new process context. The old PCBB is returned in v0.
                  [0052C0]  6114  ;
                  [0052C0]  6115  ;-
                  [0052C0]  6116  	START_CALL_PAL <SWPCTX>
File: ev6_pal_macros.mar
                  [0052C0]   131i         ASSUME <<OSFPAL_FUNC__SWPCTX> & <^x40>> eq 0
                  [0052C0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002C00]   143M CALL_PAL__SWPCTX::
         47FF041F [002C00]   145M 	bis	r31, r31, r31
         47FF041F [002C04]   146M 	bis	r31, r31, r31
         C0800000 [002C08]   147M 	br	p4, s_SWPCTX
                  [002C0C]   148M s_SWPCTX:
         40813404 [002C0C]   149M 	addq	p4, #<<e_SWPCTX - s_SWPCTX>+1>, p4
                  [002C10]   150M 	PVC_JSR	p_SWPCTX
                  [002C10]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_swpctx0, osf
         7BE48000 [002C10]   151M 	hw_ret	(p4)
                  [002C14]   152M 	PVC_JSR p_SWPCTX, dest=1
                  [002C14]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_swpctx0, osf, \pcv_jsr_p_swpctx0_inst
                  [002C14]   153M e_SWPCTX:
         47FF041F [002C14]   154M 	bis	r31, r31, r31
         47FF041F [002C18]   155M 	bis	r31, r31, r31
         C3E009A8 [002C1C]   156M 	br	r31, CALL_PAL__SWPCTX_CONT_EXTRA
                  [002C20]   159M     GOTO_FREE_CODE
                  [0052C0]    62M     .align 6
                  [0052C0]   160M CALL_PAL__SWPCTX_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [0052C0]  6117  
         6C151010 [0052C0]  6118  	hw_ldq/p r0, PT__PCBB(p_temp)		; get old PCBB
                  [0052C4]  6119  
         609FC000 [0052C4]  6120  	rpcc	p4				; get cycle counter
         48841686 [0052C8]  6121  	srl	p4, #32, p6			; shift offset
         40860006 [0052CC]  6122  	addl	p4, p6, p6			; merge to compute cpc
                  [0052D0]  6123  
         6CF51020 [0052D0]  6124  	hw_ldq/p p7, PT__USP(p_temp)		; get usp
         7FC01000 [0052D4]  6125  	hw_stq/p r30, OSF_PCB__KSP(r0)		; store ksp
         7CE01008 [0052D8]  6126  	hw_stq/p p7, OSF_PCB__USP(r0)		; store usp
         7CC00018 [0052DC]  6127  	hw_stl/p p6, OSF_PCB__CPC(r0)		; store cpc
                  [0052E0]  6128  
         6CD01018 [0052E0]  6129  	hw_ldq/p p6, OSF_PCB__CPC(r16)		; get new cpc/asn
         6CB01028 [0052E4]  6130  	hw_ldq/p p5, OSF_PCB__FEN(r16)		; get new fen/pme
         7E151010 [0052E8]  6131  	hw_stq/p r16, PT__PCBB(p_temp)		; set new PCBB
                  [0052EC]  6132  ;
                  [0052EC]  6133  ; Compute new cc offset
                  [0052EC]  6134  ;
         40C40124 [0052EC]  6135  	subl	p6, p4, p4			; generate new cc offset
         48841724 [0052F0]  6136  	sll	p4, #32, p4			; move into position
         77E4C020 [0052F4]  6137  	hw_mtpr	p4, EV6__CC			; (5,1L) write it
                  [0052F8]  6138  
                  [0052F8]  6139  	CONT_CALL_PAL <SWPCTX>
File: ev6_pal_macros.mar
         C3E00001 [0052F8]   201i 	br	r31, CALL_PAL__SWPCTX_CONT
         47FF041F [0052FC]   204i     .align 4, <^x47FF041F>
                  [005300]   205i CALL_PAL__SWPCTX_CONT:
File: ev6_osf_pal.mar
                  [005300]  6140  
                  [005300]  6141  .if ne pci_debug_io*debug_swap			; debug_swap
                  [005300]  6142  	DBGREG_PCI LED__SWPCTX,r16		; dump new PCBB
                  [005300]  6143  .endc						; debug_swap
                  [005300]  6144  
         77E4C020 [005300]  6145  	hw_mtpr	p4, EV6__CC			; 1.48 (5,1L) force retire
                  [005304]  6146  ;
                  [005304]  6147  ; Now write ASN to DTB_ASNx.
                  [005304]  6148  ;
                  [005304]  6149  ; Current state:
                  [005304]  6150  ;	p5	fen/pme quadword
                  [005304]  6151  ;	p6	cpc/asn quadword
                  [005304]  6152  ;
                  [005304]  6153  ASSUME OSF_PCB__ASN__M eq ^xFF
                  [005304]  6154  
         48C41686 [005304]  6155  	srl	p6, #OSF_PCB__ASN__S, p6	; shift down ASN
         44DFF006 [005308]  6156  	and	p6, #OSF_PCB__ASN__M, p6	; clean ASN
         48C71726 [00530C]  6157  	sll	p6, #EV6__DTB_ASN0__ASN__S, p6	; ASN into mbox spot
                  [005310]  6158  ;
                  [005310]  6159  ; There must be a scoreboard bit -> register dependency chain to prevent
                  [005310]  6160  ; hw_mtpr DTB_ASx from issuing while ANY of scoreboard bits <7:4> are set.
                  [005310]  6161  ;
         64FF10F0 [005310]  6162  	hw_mfpr	p7, <EV6__PAL_BASE ! ^xF0>	; (4-7,0L)
         44E70807 [005314]  6163  	xor	p7, p7, p7			; zap p7
         44E60406 [005318]  6164  	bis	p7, p6, p6			; force register dependency
                  [00531C]  6165  	NOP					; force fetch block
File: ev6_pal_macros.mar
         47FF041F [00531C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005320]  6166  
         77E62510 [005320]  6167  	hw_mtpr	p6, EV6__DTB_ASN0		; (4,0L)
         77E6A580 [005324]  6168  	hw_mtpr	p6, EV6__DTB_ASN1		; (7,1L)
                  [005328]  6169  ;
                  [005328]  6170  ; Create Ibox Process Context IPR, filling in ASN, FPE, PPCE
                  [005328]  6171  ;
                  [005328]  6172  ; Current state:
                  [005328]  6173  ;	p5	fen/pme quadword
                  [005328]  6174  ;	p6	asn in DTB_ASNx position
                  [005328]  6175  ;
                  [005328]  6176  ASSUME EV6__DTB_ASN0__ASN__S eq 56
                  [005328]  6177  ASSUME EV6__ASN__ASN__S eq 39
                  [005328]  6178  ASSUME EV6__FPE__FPE__S eq 2
                  [005328]  6179  ASSUME EV6__PPCE__PPCE__S eq 1
                  [005328]  6180  asn_shift = <EV6__DTB_ASN0__ASN__S - EV6__ASN__ASN__S>
                  [005328]  6181  fpe_shift = <EV6__FPE__FPE__S - OSF_PCB__FEN__S>
                  [005328]  6182  ppce_shift = <OSF_PCB__PME__S - EV6__PPCE__PPCE__S>
                  [005328]  6183  
         48C23686 [005328]  6184  	srl	p6, #<asn_shift>, p6		; ASN back into ibox position
         48A05724 [00532C]  6185  	sll	p5, #fpe_shift, p4		; get FEN into position
         44809004 [005330]  6186  	and	p4, #<1@EV6__FPE__FPE__S>, p4	; clean it
         44C40406 [005334]  6187  	bis	p6, p4, p6			; or in FEN enable
                  [005338]  6188  
                  [005338]  6189  .if ne ev6_p1
                  [005338]  6190  	hw_ldq/p p7, PT__IMPURE(p_temp)		; get impure pointer
                  [005338]  6191  	and	p5, #1, p4			; clean PCB FEN bit
                  [005338]  6192  	hw_stq/p p4, CNS__FPE_STATE(p7)		; write FPE_STATE
                  [005338]  6193  .endc
                  [005338]  6194  
                  [005338]  6195  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
47FF041F 47FF041F [005338]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
                  [005340]  6196  
         48A7B684 [005340]  6197  	srl	p5, #ppce_shift, p4		; get pme into position
         44805004 [005344]  6198  	and	p4, #<1@EV6__PPCE__PPCE__S>, p4	; clean it
         44C40406 [005348]  6199  	bis	p6, p4, p6			; or in ppce bit
         77E65F10 [00534C]  6200  	hw_mtpr	p6, EV6__PROCESS_CONTEXT	; (4,0L) write it
                  [005350]  6201  ;
                  [005350]  6202  ; Write new PTBR, get new USP and SP, save USP.
                  [005350]  6203  ;
         77E65F10 [005350]  6204  	hw_mtpr	p6, EV6__PROCESS_CONTEXT	; (4,0L) force retire
         6C901010 [005354]  6205  	hw_ldq/p p4, OSF_PCB__PTBR(r16)		; get new PTBR
         6CB01008 [005358]  6206  	hw_ldq/p p5, OSF_PCB__USP(r16)		; get new USP
         6FD01000 [00535C]  6207  	hw_ldq/p r30, OSF_PCB__KSP(r16)		; get new KSP
                  [005360]  6208  
         4881B724 [005360]  6209  	sll	p4, #page_offset_size_bits, p4	; convert PFN
         7C951008 [005364]  6210  	hw_stq/p p4, PT__PTBR(p_temp)		; store new PTBR
         7CB51020 [005368]  6211  	hw_stq/p p5, PT__USP(p_temp)		; save USP
         47FF041F [00536C]  6212  	bis	r31, r31, r31			; buffer block 1
                  [005370]  6213  
         44000400 [005370]  6214  	bis	r0, r0, r0			; buffer block 2
         47FF041F [005374]  6215  	bis	r31, r31, r31
         47FF041F [005378]  6216  	bis	r31, r31, r31
         47FF041F [00537C]  6217  	bis	r31, r31, r31
                  [005380]  6218  
         44000400 [005380]  6219  	bis	r0, r0, r0			; buffer block 3
         47FF041F [005384]  6220  	bis	r31, r31, r31
         47FF041F [005388]  6221  	bis	r31, r31, r31
         47FF041F [00538C]  6222  	bis	r31, r31, r31
                  [005390]  6223  
         7BF7A000 [005390]  6224  	hw_ret_stall (p23)			; return
                  [005394]  6225  
                  [005394]  6226  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005394]   171M         GOTO_FREE_CODE
00000000 00000000 [005394]    62M     .align 6
00000000 00000000 [00539C]
00000000 00000000 [0053A4]
00000000 00000000 [0053AC]
00000000 00000000 [0053B4]
         00000000 [0053BC]
File: ev6_osf_pal.mar
                  [0053C0]  6227  
                  [0053C0]  6228  ;------------------------------------------------------------------------
                  [0053C0]  6229  ;+
                  [0053C0]  6230  ; CALL_PAL__WRVAL
                  [0053C0]  6231  ;
                  [0053C0]  6232  ; Entry:
                  [0053C0]  6233  ;	p23		pc of instruction following the call_pal instruction
                  [0053C0]  6234  ;	r16(a0)		new sysvalue
                  [0053C0]  6235  ;
                  [0053C0]  6236  ; Function:
                  [0053C0]  6237  ;	sysvalue <- r16
                  [0053C0]  6238  ;	r16(a0)		unpredictable
                  [0053C0]  6239  ;
                  [0053C0]  6240  ;-
                  [0053C0]  6241  	START_CALL_PAL <WRVAL>
File: ev6_pal_macros.mar
                  [0053C0]   131i         ASSUME <<OSFPAL_FUNC__WRVAL> & <^x40>> eq 0
                  [0053C0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002C40]   143M CALL_PAL__WRVAL::
         47FF041F [002C40]   145M 	bis	r31, r31, r31
         47FF041F [002C44]   146M 	bis	r31, r31, r31
         C0800000 [002C48]   147M 	br	p4, s_WRVAL
                  [002C4C]   148M s_WRVAL:
         40813404 [002C4C]   149M 	addq	p4, #<<e_WRVAL - s_WRVAL>+1>, p4
                  [002C50]   150M 	PVC_JSR	p_WRVAL
                  [002C50]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrval0, osf
         7BE48000 [002C50]   151M 	hw_ret	(p4)
                  [002C54]   152M 	PVC_JSR p_WRVAL, dest=1
                  [002C54]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrval0, osf, \pcv_jsr_p_wrval0_inst
                  [002C54]   153M e_WRVAL:
         47FF041F [002C54]   154M 	bis	r31, r31, r31
         47FF041F [002C58]   155M 	bis	r31, r31, r31
         C3E009D8 [002C5C]   156M 	br	r31, CALL_PAL__WRVAL_CONT_EXTRA
                  [002C60]   159M     GOTO_FREE_CODE
                  [0053C0]    62M     .align 6
                  [0053C0]   160M CALL_PAL__WRVAL_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [0053C0]  6242  
         7E1510B8 [0053C0]  6243  	hw_stq/p r16, PT__SYSVAL(p_temp)	; write sysvalue
                  [0053C4]  6244  	NOP					; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [0053C4]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [0053C8]  6245  	NOP
File: ev6_pal_macros.mar
         47FF041F [0053C8]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [0053CC]  6246  	NOP
File: ev6_pal_macros.mar
         47FF041F [0053CC]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [0053D0]  6247  
         7BF78000 [0053D0]  6248  	hw_ret	(p23)				; return to user
                  [0053D4]  6249  
                  [0053D4]  6250  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [0053D4]   171M         GOTO_FREE_CODE
00000000 00000000 [0053D4]    62M     .align 6
00000000 00000000 [0053DC]
00000000 00000000 [0053E4]
00000000 00000000 [0053EC]
00000000 00000000 [0053F4]
         00000000 [0053FC]
File: ev6_osf_pal.mar
                  [005400]  6251  
                  [005400]  6252  ;------------------------------------------------------------------------
                  [005400]  6253  ;+
                  [005400]  6254  ; CALL_PAL__RDVAL
                  [005400]  6255  ;
                  [005400]  6256  ; Entry:
                  [005400]  6257  ;	p23		pc of instruction following the call_pal instruction
                  [005400]  6258  ;
                  [005400]  6259  ; Function:
                  [005400]  6260  ;	r0(v0) <- sysvalue
                  [005400]  6261  ;
                  [005400]  6262  ;-
                  [005400]  6263  	START_CALL_PAL <RDVAL>
File: ev6_pal_macros.mar
                  [005400]   131i         ASSUME <<OSFPAL_FUNC__RDVAL> & <^x40>> eq 0
                  [005400]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002C80]   143M CALL_PAL__RDVAL::
         47FF041F [002C80]   145M 	bis	r31, r31, r31
         47FF041F [002C84]   146M 	bis	r31, r31, r31
         C0800000 [002C88]   147M 	br	p4, s_RDVAL
                  [002C8C]   148M s_RDVAL:
         40813404 [002C8C]   149M 	addq	p4, #<<e_RDVAL - s_RDVAL>+1>, p4
                  [002C90]   150M 	PVC_JSR	p_RDVAL
                  [002C90]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_rdval0, osf
         7BE48000 [002C90]   151M 	hw_ret	(p4)
                  [002C94]   152M 	PVC_JSR p_RDVAL, dest=1
                  [002C94]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_rdval0, osf, \pcv_jsr_p_rdval0_inst
                  [002C94]   153M e_RDVAL:
         47FF041F [002C94]   154M 	bis	r31, r31, r31
         47FF041F [002C98]   155M 	bis	r31, r31, r31
         C3E009D8 [002C9C]   156M 	br	r31, CALL_PAL__RDVAL_CONT_EXTRA
                  [002CA0]   159M     GOTO_FREE_CODE
                  [005400]    62M     .align 6
                  [005400]   160M CALL_PAL__RDVAL_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005400]  6264  
         6C1510B8 [005400]  6265  	hw_ldq/p r0, PT__SYSVAL(p_temp)		; read sysvalue
                  [005404]  6266  	NOP					; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005404]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005408]  6267  	NOP
File: ev6_pal_macros.mar
         47FF041F [005408]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00540C]  6268  	NOP
File: ev6_pal_macros.mar
         47FF041F [00540C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005410]  6269  
         7BF78000 [005410]  6270  	hw_ret	(p23)				; return to user
                  [005414]  6271  
                  [005414]  6272  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005414]   171M         GOTO_FREE_CODE
00000000 00000000 [005414]    62M     .align 6
00000000 00000000 [00541C]
00000000 00000000 [005424]
00000000 00000000 [00542C]
00000000 00000000 [005434]
         00000000 [00543C]
File: ev6_osf_pal.mar
                  [005440]  6273  
                  [005440]  6274  
                  [005440]  6275  ;------------------------------------------------------------------------
                  [005440]  6276  ;+
                  [005440]  6277  ; CALL_PAL__TBI
                  [005440]  6278  ;
                  [005440]  6279  ; Entry:
                  [005440]  6280  ;	p23		pc of instruction following the call_pal instruction
                  [005440]  6281  ;
                  [005440]  6282  ; Function:
                  [005440]  6283  ;	case r16(a0) begin	
                  [005440]  6284  ;		 1:	! tbisi
                  [005440]  6285  ;			{invalidate ITB entry for va = r17(a1)}
                  [005440]  6286  ;			break;
                  [005440]  6287  ;		 2:	! tbisd
                  [005440]  6288  ;			{invalidate DTB entry for va = r17(a1)}
                  [005440]  6289  ;			break;
                  [005440]  6290  ;		 3:	! tbis
                  [005440]  6291  ;			{invalidate both TB entries for va = r17(a1)}
                  [005440]  6292  ;			break;
                  [005440]  6293  ;		-1:	! tbiap
                  [005440]  6294  ;			{invalidate all TB entries with ASM=0}
                  [005440]  6295  ;			break;
                  [005440]  6296  ;		-2:	! tbia
                  [005440]  6297  ;			{flush all TBs}
                  [005440]  6298  ;			break;
                  [005440]  6299  ;		other:
                  [005440]  6300  ;			break;
                  [005440]  6301  ;	endcase;
                  [005440]  6302  ;
                  [005440]  6303  ; Exit state:
                  [005440]  6304  ;	r16(a0)		unpredictable
                  [005440]  6305  ;	r17(a1)		unpredictable
                  [005440]  6306  ;-
                  [005440]  6307  	START_CALL_PAL <TBI>
File: ev6_pal_macros.mar
                  [005440]   131i         ASSUME <<OSFPAL_FUNC__TBI> & <^x40>> eq 0
                  [005440]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002CC0]   143M CALL_PAL__TBI::
         47FF041F [002CC0]   145M 	bis	r31, r31, r31
         47FF041F [002CC4]   146M 	bis	r31, r31, r31
         C0800000 [002CC8]   147M 	br	p4, s_TBI
                  [002CCC]   148M s_TBI:
         40813404 [002CCC]   149M 	addq	p4, #<<e_TBI - s_TBI>+1>, p4
                  [002CD0]   150M 	PVC_JSR	p_TBI
                  [002CD0]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_tbi0, osf
         7BE48000 [002CD0]   151M 	hw_ret	(p4)
                  [002CD4]   152M 	PVC_JSR p_TBI, dest=1
                  [002CD4]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_tbi0, osf, \pcv_jsr_p_tbi0_inst
                  [002CD4]   153M e_TBI:
         47FF041F [002CD4]   154M 	bis	r31, r31, r31
         47FF041F [002CD8]   155M 	bis	r31, r31, r31
         C3E009D8 [002CDC]   156M 	br	r31, CALL_PAL__TBI_CONT_EXTRA
                  [002CE0]   159M     GOTO_FREE_CODE
                  [005440]    62M     .align 6
                  [005440]   160M CALL_PAL__TBI_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005440]  6308  
                  [005440]  6309  TBI_FUNCTION_POWER = 6					; 64 bytes (16 inst)
                  [005440]  6310  
         42005410 [005440]  6311  	addq	r16, #2, r16				; create positive range
         C0800000 [005444]  6312  	br	p4, call_pal__tbi_addr
                  [005448]  6313  
                  [005448]  6314  call_pal__tbi_addr:
         4200D3A5 [005448]  6315  	cmpult	r16, #6, p5				; see if in range
         20840038 [00544C]  6316  	lda	p4, <tbi_tbl - call_pal__tbi_addr>(p4)	; base of table
         4A00D730 [005450]  6317  	sll	r16, #TBI_FUNCTION_POWER, r16		; function power
         E0A00004 [005454]  6318  	blbc	p5, call_pal__tbi_out			; branch if not in range
                  [005458]  6319  
         40900404 [005458]  6320  	addq	p4, r16, p4				; point to function
         44803404 [00545C]  6321  	bis	p4, #1, p4				; make pal mode
         D3E00000 [005460]  6322  	bsr	r31, .					; push prediction stack
                  [005464]  6323  	PVC_JSR	tbi
File: ev6_pal_macros.mar
                  [005464]   526i  pvc_lbl \pcv_index, \pcv_jsr_tbi0, osf
File: ev6_osf_pal.mar
         7BE48000 [005464]  6324  	hw_ret	(p4)					; push prediction stack
                  [005468]  6325  							; go do it
                  [005468]  6326  call_pal__tbi_out:
         7BF78000 [005468]  6327  	hw_ret	(p23)					; out of range
                  [00546C]  6328  
                  [00546C]  6329  	CONT_CALL_PAL
                  [00546C]  6330  ;
                  [00546C]  6331  ; tbi_tbl
                  [00546C]  6332  ;
                  [00546C]  6333  ; Table to do tbi instructions.
                  [00546C]  6334  ;
                  [00546C]  6335  ; ?? Should we do this differently, as the slot requirements are so
                  [00546C]  6336  ; different??
                  [00546C]  6337  ;
                  [00546C]  6338  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [00546C]   270i 	.align 6
00000000 00000000 [005474]
         00000000 [00547C]
File: ev6_osf_pal.mar
                  [005480]  6339  tbi_tbl:
                  [005480]  6340  	; -2 tbia
                  [005480]  6341  	PVC_JSR tbi, dest=1
File: ev6_pal_macros.mar
                  [005480]   529i  pvc_lbl \pcv_index, \pcv_jsr_tbi0, osf, \pcv_jsr_tbi0_inst
File: ev6_osf_pal.mar
         77FF0310 [005480]  6342  	hw_mtpr r31, EV6__ITB_IA		; (4,0L)
         77FFA380 [005484]  6343  	hw_mtpr	r31, EV6__DTB_IA		; (7,0L)
                  [005488]  6344  	NOP
File: ev6_pal_macros.mar
         47FF041F [005488]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00548C]  6345  	NOP
File: ev6_pal_macros.mar
         47FF041F [00548C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
         77FF1310 [005490]  6346  	hw_mtpr	r31, EV6__IC_FLUSH		; (4,0L) flush icache
         F7E00000 [005494]  6347  	bne	r31, .				; pvc #24
         7BF7A000 [005498]  6348  	hw_ret_stall (p23)			; return with stall
                  [00549C]  6349  
                  [00549C]  6350  	; -1 tbiap
00000000 00000000 [00549C]  6351  	.ALIGN TBI_FUNCTION_POWER
00000000 00000000 [0054A4]
00000000 00000000 [0054AC]
00000000 00000000 [0054B4]
         00000000 [0054BC]
                  [0054C0]  6352  	PVC_JSR tbi, dest=1
File: ev6_pal_macros.mar
                  [0054C0]   529i  pvc_lbl \pcv_index, \pcv_jsr_tbi0, osf, \pcv_jsr_tbi0_inst
File: ev6_osf_pal.mar
         77FF0210 [0054C0]  6353  	hw_mtpr r31, EV6__ITB_IAP		; (4,0L)
         77FFA280 [0054C4]  6354  	hw_mtpr r31, EV6__DTB_IAP		; (7,0L)
                  [0054C8]  6355  	NOP
File: ev6_pal_macros.mar
         47FF041F [0054C8]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [0054CC]  6356  	NOP
File: ev6_pal_macros.mar
         47FF041F [0054CC]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
         77FF1210 [0054D0]  6357  	hw_mtpr	r31, EV6__IC_FLUSH_ASM		; (4,0L) flush icache
         F7E00000 [0054D4]  6358  	bne	r31, .				; pvc #24
         7BF7A000 [0054D8]  6359  	hw_ret_stall (p23)			; return with stall
                  [0054DC]  6360  
                  [0054DC]  6361  	; 0 unused
00000000 00000000 [0054DC]  6362  	.ALIGN TBI_FUNCTION_POWER
00000000 00000000 [0054E4]
00000000 00000000 [0054EC]
00000000 00000000 [0054F4]
         00000000 [0054FC]
                  [005500]  6363  	PVC_JSR tbi, dest=1
File: ev6_pal_macros.mar
                  [005500]   529i  pvc_lbl \pcv_index, \pcv_jsr_tbi0, osf, \pcv_jsr_tbi0_inst
File: ev6_osf_pal.mar
         7BF78000 [005500]  6364  	hw_ret (p23)				; return
                  [005504]  6365  
                  [005504]  6366  	; 1 tbisi
00000000 00000000 [005504]  6367  	.ALIGN TBI_FUNCTION_POWER
00000000 00000000 [00550C]
00000000 00000000 [005514]
00000000 00000000 [00551C]
00000000 00000000 [005524]
00000000 00000000 [00552C]
00000000 00000000 [005534]
         00000000 [00553C]
                  [005540]  6368  	PVC_JSR tbi, dest=1
File: ev6_pal_macros.mar
                  [005540]   529i  pvc_lbl \pcv_index, \pcv_jsr_tbi0, osf, \pcv_jsr_tbi0_inst
File: ev6_osf_pal.mar
         77F10450 [005540]  6369  	hw_mtpr	r17, EV6__ITB_IS		; (4&6,0L)
         7BF7A000 [005544]  6370  	hw_ret_stall (p23)			; return with stall
                  [005548]  6371  
                  [005548]  6372  	; 2 tbisd
00000000 00000000 [005548]  6373  	.ALIGN TBI_FUNCTION_POWER
00000000 00000000 [005550]
00000000 00000000 [005558]
00000000 00000000 [005560]
00000000 00000000 [005568]
00000000 00000000 [005570]
00000000 00000000 [005578]
                  [005580]  6374  	PVC_JSR tbi, dest=1
File: ev6_pal_macros.mar
                  [005580]   529i  pvc_lbl \pcv_index, \pcv_jsr_tbi0, osf, \pcv_jsr_tbi0_inst
File: ev6_osf_pal.mar
                  [005580]  6375  ;
                  [005580]  6376  ; There must be a scoreboard bit -> register dependency chain to prevent
                  [005580]  6377  ; hw_mtpr DTB_ISx from issuing while ANY of scoreboard bits <7:4> are set.
                  [005580]  6378  ;
         64DF10F0 [005580]  6379  	hw_mfpr	p6, <EV6__PAL_BASE ! ^xF0>	; (4-7,0L)
         44C60806 [005584]  6380  	xor	p6, p6, p6			; zap p6
         44D10411 [005588]  6381  	bis	p6, r17, r17			; force register dependency
                  [00558C]  6382  	NOP					; force fetch block
File: ev6_pal_macros.mar
         47FF041F [00558C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005590]  6383  
         77F12440 [005590]  6384  	hw_mtpr	r17, EV6__DTB_IS0		; (6,0L)
         77F1A480 [005594]  6385  	hw_mtpr	r17, EV6__DTB_IS1		; (7,1L)
                  [005598]  6386  	NOP					; force fetch block
File: ev6_pal_macros.mar
         47FF041F [005598]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00559C]  6387  	NOP					; are these necessary?
File: ev6_pal_macros.mar
         47FF041F [00559C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [0055A0]  6388  
         7BF7A000 [0055A0]  6389  	hw_ret_stall (p23)			; return with stall
                  [0055A4]  6390  
                  [0055A4]  6391  	; 3 tbis
00000000 00000000 [0055A4]  6392  	.ALIGN TBI_FUNCTION_POWER
00000000 00000000 [0055AC]
00000000 00000000 [0055B4]
         00000000 [0055BC]
                  [0055C0]  6393  	PVC_JSR tbi, dest=1
File: ev6_pal_macros.mar
                  [0055C0]   529i  pvc_lbl \pcv_index, \pcv_jsr_tbi0, osf, \pcv_jsr_tbi0_inst
File: ev6_osf_pal.mar
                  [0055C0]  6394  ;
                  [0055C0]  6395  ; There must be a scoreboard bit -> register dependency chain to prevent
                  [0055C0]  6396  ; hw_mtpr DTB_ISx from issuing while ANY of scoreboard bits <7:4> are set.
                  [0055C0]  6397  ;
         64DF10F0 [0055C0]  6398  	hw_mfpr	p6, <EV6__PAL_BASE ! ^xF0>	; (4-7,0L)
         44C60806 [0055C4]  6399  	xor	p6, p6, p6			; zap p6
         44D10411 [0055C8]  6400  	bis	p6, r17, r17			; force register dependency
                  [0055CC]  6401  	NOP					; force fetch block
File: ev6_pal_macros.mar
         47FF041F [0055CC]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [0055D0]  6402  
         77F12440 [0055D0]  6403  	hw_mtpr	r17, EV6__DTB_IS0		; (6,0L)
         77F1A480 [0055D4]  6404  	hw_mtpr	r17, EV6__DTB_IS1		; (7,1L)
                  [0055D8]  6405  	NOP					; force fetch block
File: ev6_pal_macros.mar
         47FF041F [0055D8]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [0055DC]  6406  	NOP
File: ev6_pal_macros.mar
         47FF041F [0055DC]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [0055E0]  6407  
         77F10450 [0055E0]  6408  	hw_mtpr	r17, EV6__ITB_IS		; (4&6,0L)
         7BF7A000 [0055E4]  6409  	hw_ret_stall (p23)			; return with stall
                  [0055E8]  6410  
                  [0055E8]  6411  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [0055E8]   171M         GOTO_FREE_CODE
00000000 00000000 [0055E8]    62M     .align 6
00000000 00000000 [0055F0]
00000000 00000000 [0055F8]
File: ev6_osf_pal.mar
                  [005600]  6412  
                  [005600]  6413  ;------------------------------------------------------------------------
                  [005600]  6414  ;+
                  [005600]  6415  ; CALL_PAL__WRENT
                  [005600]  6416  ;
                  [005600]  6417  ; Entry:
                  [005600]  6418  ;	p23		pc of instruction following the call_pal instruction
                  [005600]  6419  ;
                  [005600]  6420  ; Function:
                  [005600]  6421  ;	case r17(a1) begin
                  [005600]  6422  ;		0:	entInt	<- r16(a0); break;
                  [005600]  6423  ;		1:	entArith<- r16(a0); break;
                  [005600]  6424  ;		2:	entMM	<- r16(a0); break;
                  [005600]  6425  ;		3:	entIF	<- r16(a0); break;
                  [005600]  6426  ;		4:	entUna	<- r16(a0); break;
                  [005600]  6427  ;		5:	entSys	<- r16(a0); break;
                  [005600]  6428  ;	    other:	break;
                  [005600]  6429  ;	endcase;
                  [005600]  6430  ;
                  [005600]  6431  ; Exit state:
                  [005600]  6432  ;	r16(a0)		unpredictable
                  [005600]  6433  ;	r17(a1)		unpredictable
                  [005600]  6434  ;-
                  [005600]  6435  	START_CALL_PAL <WRENT>
File: ev6_pal_macros.mar
                  [005600]   131i         ASSUME <<OSFPAL_FUNC__WRENT> & <^x40>> eq 0
                  [005600]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002D00]   143M CALL_PAL__WRENT::
         47FF041F [002D00]   145M 	bis	r31, r31, r31
         47FF041F [002D04]   146M 	bis	r31, r31, r31
         C0800000 [002D08]   147M 	br	p4, s_WRENT
                  [002D0C]   148M s_WRENT:
         40813404 [002D0C]   149M 	addq	p4, #<<e_WRENT - s_WRENT>+1>, p4
                  [002D10]   150M 	PVC_JSR	p_WRENT
                  [002D10]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrent0, osf
         7BE48000 [002D10]   151M 	hw_ret	(p4)
                  [002D14]   152M 	PVC_JSR p_WRENT, dest=1
                  [002D14]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrent0, osf, \pcv_jsr_p_wrent0_inst
                  [002D14]   153M e_WRENT:
         47FF041F [002D14]   154M 	bis	r31, r31, r31
         47FF041F [002D18]   155M 	bis	r31, r31, r31
         C3E00A38 [002D1C]   156M 	br	r31, CALL_PAL__WRENT_CONT_EXTRA
                  [002D20]   159M     GOTO_FREE_CODE
                  [005600]    62M     .align 6
                  [005600]   160M CALL_PAL__WRENT_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005600]  6436  
         C0800000 [005600]  6437  	br	p4, call_pal__wrent_addr
                  [005604]  6438  call_pal__wrent_addr:
         422173A5 [005604]  6439  	cmpult	r17, #11, p5				; see if in range
         2084003C [005608]  6440  	lda	p4, <wrent_tbl-call_pal__wrent_addr>(p4); base of table
         4A207731 [00560C]  6441  	sll	r17, #3, r17				; * 8
         E0A00005 [005610]  6442  	blbc	p5, call_pal__wrent_out			; branch if not in range
                  [005614]  6443  
         40910404 [005614]  6444  	addq	p4, r17, p4				; point to function
         46007110 [005618]  6445  	bic	r16, #3, r16				; clean pc
         44803404 [00561C]  6446  	bis	p4, #1, p4				; make pal mode
         D3E00000 [005620]  6447  	bsr	r31, .					; push prediction stack
                  [005624]  6448  	PVC_JSR	wrent				
File: ev6_pal_macros.mar
                  [005624]   526i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf
File: ev6_osf_pal.mar
         7BE48000 [005624]  6449  	hw_ret	(p4)					; pop prediction stack
                  [005628]  6450  							; go do it
                  [005628]  6451  call_pal__wrent_out:
         7BF78000 [005628]  6452  	hw_ret	(p23)					; out of range
                  [00562C]  6453  
                  [00562C]  6454  	CONT_CALL_PAL
                  [00562C]  6455  ;
                  [00562C]  6456  ; wrent table
                  [00562C]  6457  ;
                  [00562C]  6458  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [00562C]   270i 	.align 6
00000000 00000000 [005634]
         00000000 [00563C]
File: ev6_osf_pal.mar
                  [005640]  6459  wrent_tbl:
                  [005640]  6460  	; 0 entInt
                  [005640]  6461  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005640]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151068 [005640]  6462  	hw_stq/p r16, PT__ENT_INT(p_temp)		; write it
         7BF78000 [005644]  6463  	hw_ret	(p23)					; return
                  [005648]  6464  
                  [005648]  6465  	; 1 entArith
                  [005648]  6466  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005648]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151040 [005648]  6467  	hw_stq/p r16, PT__ENT_ARITH(p_temp)		; write it
         7BF78000 [00564C]  6468  	hw_ret	(p23)					; return
                  [005650]  6469  
                  [005650]  6470  	; 2 entMM
                  [005650]  6471  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005650]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151050 [005650]  6472  	hw_stq/p r16, PT__ENT_MM(p_temp)		; write it
         7BF78000 [005654]  6473  	hw_ret	(p23)					; return
                  [005658]  6474  
                  [005658]  6475  	; 3 entIF
                  [005658]  6476  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005658]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151048 [005658]  6477  	hw_stq/p r16, PT__ENT_IF(p_temp)		; write it
         7BF78000 [00565C]  6478  	hw_ret	(p23)					; return
                  [005660]  6479  
                  [005660]  6480  	; 4 entUna
                  [005660]  6481  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005660]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151060 [005660]  6482  	hw_stq/p r16, PT__ENT_UNA(p_temp)		; write it
         7BF78000 [005664]  6483  	hw_ret	(p23)					; return
                  [005668]  6484  
                  [005668]  6485  	; 5 entSys
                  [005668]  6486  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005668]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151058 [005668]  6487  	hw_stq/p r16, PT__ENT_SYS(p_temp)		; write it
         7BF78000 [00566C]  6488  	hw_ret	(p23)					; return
                  [005670]  6489  
                  [005670]  6490  	; 6 entInt_dev
                  [005670]  6491  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005670]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151070 [005670]  6492  	hw_stq/p r16, PT__ENTINT_DEV(p_temp)		; write it
         7BF78000 [005674]  6493  	hw_ret	(p23)					; return
                  [005678]  6494  
                  [005678]  6495  	; 7 entInt_rtc
                  [005678]  6496  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005678]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151078 [005678]  6497  	hw_stq/p r16, PT__ENTINT_RTC(p_temp)		; write it
         7BF78000 [00567C]  6498  	hw_ret	(p23)					; return
                  [005680]  6499  	
                  [005680]  6500  	; 8 entInt_ipi
                  [005680]  6501  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005680]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151080 [005680]  6502  	hw_stq/p r16, PT__ENTINT_IPI(p_temp)		; write it
         7BF78000 [005684]  6503  	hw_ret	(p23)					; return
                  [005688]  6504  
                  [005688]  6505  	; 9 entInt_mchk
                  [005688]  6506  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005688]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151088 [005688]  6507  	hw_stq/p r16, PT__ENTINT_MCHK(p_temp)		; write it
         7BF78000 [00568C]  6508  	hw_ret	(p23)					; return
                  [005690]  6509  
                  [005690]  6510  	; 10 entInt_perf
                  [005690]  6511  	PVC_JSR wrent, dest=1
File: ev6_pal_macros.mar
                  [005690]   529i  pvc_lbl \pcv_index, \pcv_jsr_wrent0, osf, \pcv_jsr_wrent0_inst
File: ev6_osf_pal.mar
         7E151090 [005690]  6512  	hw_stq/p r16, PT__ENTINT_PERF(p_temp)		; write it
         7BF78000 [005694]  6513  	hw_ret	(p23)					; return
                  [005698]  6514  
                  [005698]  6515  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005698]   171M         GOTO_FREE_CODE
00000000 00000000 [005698]    62M     .align 6
00000000 00000000 [0056A0]
00000000 00000000 [0056A8]
00000000 00000000 [0056B0]
00000000 00000000 [0056B8]
File: ev6_osf_pal.mar
                  [0056C0]  6516  
                  [0056C0]  6517  ;------------------------------------------------------------------------
                  [0056C0]  6518  ;+
                  [0056C0]  6519  ; CALL_PAL__SWPIPL
                  [0056C0]  6520  ;
                  [0056C0]  6521  ; Entry:
                  [0056C0]  6522  ;	p23		pc of instruction following the call_pal instruction
                  [0056C0]  6523  ;	r16(a0)<2:0>	new ipl
                  [0056C0]  6524  ;
                  [0056C0]  6525  ; Function:
                  [0056C0]  6526  ;	Return the current interrupt priority level in r0(v0), and set the
                  [0056C0]  6527  ;	interrupt priority level to the value in r16. The new ier bits
                  [0056C0]  6528  ;	are taken from an ipl-indexed table of quadwords.
                  [0056C0]  6529  ;
                  [0056C0]  6530  ; Exit state:
                  [0056C0]  6531  ;	r0(v0)		PS<IPL>
                  [0056C0]  6532  ;-
                  [0056C0]  6533  	START_CALL_PAL <SWPIPL>
File: ev6_pal_macros.mar
                  [0056C0]   131i         ASSUME <<OSFPAL_FUNC__SWPIPL> & <^x40>> eq 0
                  [0056C0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002D40]   143M CALL_PAL__SWPIPL::
         47FF041F [002D40]   145M 	bis	r31, r31, r31
         47FF041F [002D44]   146M 	bis	r31, r31, r31
         C0800000 [002D48]   147M 	br	p4, s_SWPIPL
                  [002D4C]   148M s_SWPIPL:
         40813404 [002D4C]   149M 	addq	p4, #<<e_SWPIPL - s_SWPIPL>+1>, p4
                  [002D50]   150M 	PVC_JSR	p_SWPIPL
                  [002D50]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_swpipl0, osf
         7BE48000 [002D50]   151M 	hw_ret	(p4)
                  [002D54]   152M 	PVC_JSR p_SWPIPL, dest=1
                  [002D54]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_swpipl0, osf, \pcv_jsr_p_swpipl0_inst
                  [002D54]   153M e_SWPIPL:
         47FF041F [002D54]   154M 	bis	r31, r31, r31
         47FF041F [002D58]   155M 	bis	r31, r31, r31
         C3E00A58 [002D5C]   156M 	br	r31, CALL_PAL__SWPIPL_CONT_EXTRA
                  [002D60]   159M     GOTO_FREE_CODE
                  [0056C0]    62M     .align 6
                  [0056C0]   160M CALL_PAL__SWPIPL_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [0056C0]  6534  
                  [0056C0]  6535  ASSUME OSF_P_MISC__IPL__S eq 0
                  [0056C0]  6536  
                  [0056C0]  6537  .if ne intercept_change_ipl
                  [0056C0]  6538  	br	r31, call_pal__swpipl_intercept
                  [0056C0]  6539  call_pal__swpipl_intercept_return:
                  [0056C0]  6540  .endc
         649F1010 [0056C0]  6541  	hw_mfpr	p4, EV6__PAL_BASE		; (4,0L) get pal base
                  [0056C4]  6542  
         4600F010 [0056C4]  6543  	and	r16, #7, r16			; clean ipl
         42040644 [0056C8]  6544  	s8addq	r16, p4, p4			; pal base + index
         20840D00 [0056CC]  6545  	lda	p4, ipl_offset(p4)		; pal base + table base + index
         6C841000 [0056D0]  6546  	hw_ldq/p p4, (p4)			; get new ier
                  [0056D4]  6547  
         46C0F000 [0056D4]  6548  	and	p_misc, #<OSF_P_MISC__IPL__M>, r0	; old ipl to r0
         46C0F116 [0056D8]  6549  	bic	p_misc, #<OSF_P_MISC__IPL__M>, p_misc	; clear out old ipl
         46D00416 [0056DC]  6550  	or	p_misc, r16, p_misc			; put new ipl in p_misc
                  [0056E0]  6551  
         77E40A10 [0056E0]  6552  	hw_mtpr	p4, EV6__IER			; (4,0L) write new ier
                  [0056E4]  6553  
                  [0056E4]  6554  .if ne pci_debug_io*debug_ipl
                  [0056E4]  6555  	DBGREG_PCI LED__DBG_IPL,r16		; dump new IPL value
                  [0056E4]  6556  	DBGREG_PCI LED__DBG_IPL,p4		; dump IER setting
                  [0056E4]  6557  .endc
                  [0056E4]  6558  
         7BF7A000 [0056E4]  6559  	hw_ret_stall (p23)			; return with stall
                  [0056E8]  6560  
                  [0056E8]  6561  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [0056E8]   171M         GOTO_FREE_CODE
00000000 00000000 [0056E8]    62M     .align 6
00000000 00000000 [0056F0]
00000000 00000000 [0056F8]
File: ev6_osf_pal.mar
                  [005700]  6562  
                  [005700]  6563  
                  [005700]  6564  ;------------------------------------------------------------------------
                  [005700]  6565  ;+
                  [005700]  6566  ; CALL_PAL__RDPS
                  [005700]  6567  ;
                  [005700]  6568  ; Entry:
                  [005700]  6569  ;	p23		pc of instruction following the call_pal instruction
                  [005700]  6570  ;
                  [005700]  6571  ; Function:
                  [005700]  6572  ;	r0(v0) <- PS
                  [005700]  6573  ;
                  [005700]  6574  ; Exit state:
                  [005700]  6575  ;	r0(v0)		PS
                  [005700]  6576  ;-
                  [005700]  6577  ASSUME OSF_P_MISC__PS__S eq 0
                  [005700]  6578  
                  [005700]  6579  	START_CALL_PAL <RDPS>
File: ev6_pal_macros.mar
                  [005700]   131i         ASSUME <<OSFPAL_FUNC__RDPS> & <^x40>> eq 0
                  [005700]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002D80]   143M CALL_PAL__RDPS::
         47FF041F [002D80]   145M 	bis	r31, r31, r31
         47FF041F [002D84]   146M 	bis	r31, r31, r31
         C0800000 [002D88]   147M 	br	p4, s_RDPS
                  [002D8C]   148M s_RDPS:
         40813404 [002D8C]   149M 	addq	p4, #<<e_RDPS - s_RDPS>+1>, p4
                  [002D90]   150M 	PVC_JSR	p_RDPS
                  [002D90]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_rdps0, osf
         7BE48000 [002D90]   151M 	hw_ret	(p4)
                  [002D94]   152M 	PVC_JSR p_RDPS, dest=1
                  [002D94]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_rdps0, osf, \pcv_jsr_p_rdps0_inst
                  [002D94]   153M e_RDPS:
         47FF041F [002D94]   154M 	bis	r31, r31, r31
         47FF041F [002D98]   155M 	bis	r31, r31, r31
         C3E00A58 [002D9C]   156M 	br	r31, CALL_PAL__RDPS_CONT_EXTRA
                  [002DA0]   159M     GOTO_FREE_CODE
                  [005700]    62M     .align 6
                  [005700]   160M CALL_PAL__RDPS_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005700]  6580  
         46C1F000 [005700]  6581  	and	p_misc, #OSF_P_MISC__PS__M, r0	; just get PS
                  [005704]  6582  	NOP					; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005704]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005708]  6583  	NOP
File: ev6_pal_macros.mar
         47FF041F [005708]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00570C]  6584  	NOP
File: ev6_pal_macros.mar
         47FF041F [00570C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005710]  6585  
         7BF78000 [005710]  6586  	hw_ret	(p23)				; return
                  [005714]  6587  
                  [005714]  6588  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005714]   171M         GOTO_FREE_CODE
00000000 00000000 [005714]    62M     .align 6
00000000 00000000 [00571C]
00000000 00000000 [005724]
00000000 00000000 [00572C]
00000000 00000000 [005734]
         00000000 [00573C]
File: ev6_osf_pal.mar
                  [005740]  6589  
                  [005740]  6590  ;------------------------------------------------------------------------
                  [005740]  6591  ;+
                  [005740]  6592  ; CALL_PAL__WRKGP
                  [005740]  6593  ;
                  [005740]  6594  ; Entry:
                  [005740]  6595  ;	p23		pc of instruction following the call_pal instruction
                  [005740]  6596  ;
                  [005740]  6597  ; Function:
                  [005740]  6598  ;	KGP <- r16(a0)
                  [005740]  6599  ;-
                  [005740]  6600  	START_CALL_PAL <WRKGP>
File: ev6_pal_macros.mar
                  [005740]   131i         ASSUME <<OSFPAL_FUNC__WRKGP> & <^x40>> eq 0
                  [005740]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002DC0]   143M CALL_PAL__WRKGP::
         47FF041F [002DC0]   145M 	bis	r31, r31, r31
         47FF041F [002DC4]   146M 	bis	r31, r31, r31
         C0800000 [002DC8]   147M 	br	p4, s_WRKGP
                  [002DCC]   148M s_WRKGP:
         40813404 [002DCC]   149M 	addq	p4, #<<e_WRKGP - s_WRKGP>+1>, p4
                  [002DD0]   150M 	PVC_JSR	p_WRKGP
                  [002DD0]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrkgp0, osf
         7BE48000 [002DD0]   151M 	hw_ret	(p4)
                  [002DD4]   152M 	PVC_JSR p_WRKGP, dest=1
                  [002DD4]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrkgp0, osf, \pcv_jsr_p_wrkgp0_inst
                  [002DD4]   153M e_WRKGP:
         47FF041F [002DD4]   154M 	bis	r31, r31, r31
         47FF041F [002DD8]   155M 	bis	r31, r31, r31
         C3E00A58 [002DDC]   156M 	br	r31, CALL_PAL__WRKGP_CONT_EXTRA
                  [002DE0]   159M     GOTO_FREE_CODE
                  [005740]    62M     .align 6
                  [005740]   160M CALL_PAL__WRKGP_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005740]  6601  
         7E151028 [005740]  6602  	hw_stq/p r16, PT__KGP(p_temp)		; write kgp
                  [005744]  6603  	NOP					; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005744]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005748]  6604  	NOP
File: ev6_pal_macros.mar
         47FF041F [005748]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00574C]  6605  	NOP
File: ev6_pal_macros.mar
         47FF041F [00574C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005750]  6606  
         7BF78000 [005750]  6607  	hw_ret	(p23)				; return
                  [005754]  6608  
                  [005754]  6609  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005754]   171M         GOTO_FREE_CODE
00000000 00000000 [005754]    62M     .align 6
00000000 00000000 [00575C]
00000000 00000000 [005764]
00000000 00000000 [00576C]
00000000 00000000 [005774]
         00000000 [00577C]
File: ev6_osf_pal.mar
                  [005780]  6610  
                  [005780]  6611  ;------------------------------------------------------------------------
                  [005780]  6612  ;+
                  [005780]  6613  ; CALL_PAL__WRUSP
                  [005780]  6614  ;
                  [005780]  6615  ; Entry:
                  [005780]  6616  ;	p23		pc of instruction following the call_pal instruction
                  [005780]  6617  ;
                  [005780]  6618  ; Function:
                  [005780]  6619  ;	USP <- r16(a0)
                  [005780]  6620  ;-
                  [005780]  6621  	START_CALL_PAL <WRUSP>
File: ev6_pal_macros.mar
                  [005780]   131i         ASSUME <<OSFPAL_FUNC__WRUSP> & <^x40>> eq 0
                  [005780]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002E00]   143M CALL_PAL__WRUSP::
         47FF041F [002E00]   145M 	bis	r31, r31, r31
         47FF041F [002E04]   146M 	bis	r31, r31, r31
         C0800000 [002E08]   147M 	br	p4, s_WRUSP
                  [002E0C]   148M s_WRUSP:
         40813404 [002E0C]   149M 	addq	p4, #<<e_WRUSP - s_WRUSP>+1>, p4
                  [002E10]   150M 	PVC_JSR	p_WRUSP
                  [002E10]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrusp0, osf
         7BE48000 [002E10]   151M 	hw_ret	(p4)
                  [002E14]   152M 	PVC_JSR p_WRUSP, dest=1
                  [002E14]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrusp0, osf, \pcv_jsr_p_wrusp0_inst
                  [002E14]   153M e_WRUSP:
         47FF041F [002E14]   154M 	bis	r31, r31, r31
         47FF041F [002E18]   155M 	bis	r31, r31, r31
         C3E00A58 [002E1C]   156M 	br	r31, CALL_PAL__WRUSP_CONT_EXTRA
                  [002E20]   159M     GOTO_FREE_CODE
                  [005780]    62M     .align 6
                  [005780]   160M CALL_PAL__WRUSP_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005780]  6622  
         7E151020 [005780]  6623  	hw_stq/p r16, PT__USP(p_temp)		; write usp
                  [005784]  6624  	NOP					; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005784]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005788]  6625  	NOP
File: ev6_pal_macros.mar
         47FF041F [005788]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [00578C]  6626  	NOP
File: ev6_pal_macros.mar
         47FF041F [00578C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005790]  6627  
         7BF78000 [005790]  6628  	hw_ret	(p23)				; return
                  [005794]  6629  
                  [005794]  6630  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005794]   171M         GOTO_FREE_CODE
00000000 00000000 [005794]    62M     .align 6
00000000 00000000 [00579C]
00000000 00000000 [0057A4]
00000000 00000000 [0057AC]
00000000 00000000 [0057B4]
         00000000 [0057BC]
File: ev6_osf_pal.mar
                  [0057C0]  6631  
                  [0057C0]  6632  ;+
                  [0057C0]  6633  ; CALL_PAL__MTPR_PERFMON
                  [0057C0]  6634  ;
                  [0057C0]  6635  ; Entry:
                  [0057C0]  6636  ;	p23		pc of instruction following the call_pal instruction
                  [0057C0]  6637  ;	r16(a0)		function select
                  [0057C0]  6638  ;	r17(a1)		value
                  [0057C0]  6639  ;
                  [0057C0]  6640  ; Function:
                  [0057C0]  6641  ;	Execute indicated performance monitoring function.
                  [0057C0]  6642  ;
                  [0057C0]  6643  ; Exit state:
                  [0057C0]  6644  ;	r0(v0)		Value returned for read
                  [0057C0]  6645  ;	r17(a1)		UNPREDICTABLE
                  [0057C0]  6646  ;-
                  [0057C0]  6647  
                  [0057C0]  6648  
                  [0057C0]  6649  ;-----------------------------------------------------------------------
                  [0057C0]  6650  ;	Arguments and Actions
                  [0057C0]  6651  ;-----------------------------------------------------------------------
                  [0057C0]  6652  ;	r16(a0) = 0		Disable performance monitoring
                  [0057C0]  6653  ;	r17(a1) = bitmask	r17(a1)<0>=1	disable CTR0
                  [0057C0]  6654  ;				r17(a1)<1>=1	disable CTR1
                  [0057C0]  6655  ;
                  [0057C0]  6656  ;	Action: Clear PCTx_EN in I_CTL as directed. If CTRx is already
                  [0057C0]  6657  ;		disabled, it stays disabled.
                  [0057C0]  6658  ;-----------------------------------------------------------------------
                  [0057C0]  6659  ;	r16(a0) = 1		Enable performance monitoring
                  [0057C0]  6660  ;	r17(a1) = bitmask	r17(a1)<0>=1	enable CTR0
                  [0057C0]  6661  ;				r17(a1)<1>=1	enable CTR1
                  [0057C0]  6662  ;
                  [0057C0]  6663  ;	Action: Set PCTx_EN in I_CTL as directed. If CTRx is already
                  [0057C0]  6664  ;		enabled, it stays enabled.
                  [0057C0]  6665  ;-----------------------------------------------------------------------
                  [0057C0]  6666  ;	r16(a0) = 2		Mux select
                  [0057C0]  6667  ;	r17(a1) = pctr_ctl	r17(a1)<3:0>	SL1 pass 2.3 (see table)
                  [0057C0]  6668  ;				r17(a1)<3:2>	SL1 pass 3   (see table)
                  [0057C0]  6669  ;				r17(a1)<4>	SL0 (see table below)
                  [0057C0]  6670  ;	Action: Write PCTR_CTL SLx fields.
                  [0057C0]  6671  ;-----------------------------------------------------------------------
                  [0057C0]  6672  ;	r16(a0) = 3		Options
                  [0057C0]  6673  ;	r17(a1) = options	r17(a1)<0>	logging option
                  [0057C0]  6674  ;					0 => log all processes
                  [0057C0]  6675  ;					1 => log only selected processes
                  [0057C0]  6676  ;	Action: If r17(a1)<0> is clear, set SPCE bit in I_CTL
                  [0057C0]  6677  ;-----------------------------------------------------------------------
                  [0057C0]  6678  ;	r16(a0) = 5		Read counters
                  [0057C0]  6679  ;
                  [0057C0]  6680  ;	Action: Return in r0(v0) the counters of PCTR_CTL
                  [0057C0]  6681  ;-----------------------------------------------------------------------
                  [0057C0]  6682  ;	r16(a0) = 6		Write counters
                  [0057C0]  6683  ;	r17(a1)			r17(a1)<0> Write counter 0
                  [0057C0]  6684  ;				r17(a1)<1> Write counter 1
                  [0057C0]  6685  ;				r17(a1)<25:6>  new pctr1 value
                  [0057C0]  6686  ;				r17(a1)<47:28> new pctr0 value
                  [0057C0]  6687  ;	Action: Selectively write counter fields in PCTR_CTL
                  [0057C0]  6688  ;-----------------------------------------------------------------------
                  [0057C0]  6689  ;	r16(a0) = 7		Enable and write selected counters
                  [0057C0]  6690  ;	r17(a1) = bitmask	r17(a1)<0>=1	enable and clear PCTR0
                  [0057C0]  6691  ;				r17(a1)<1>=1	enable and clear PCTR1
                  [0057C0]  6692  ;
                  [0057C0]  6693  ;	Action: Write specified counter(s) as directed
                  [0057C0]  6694  ;		Set PCTx_EN in I_CTL as directed
                  [0057C0]  6695  ;		User requests a clear by having 0 in the counter fields
                  [0057C0]  6696  ;-----------------------------------------------------------------------
                  [0057C0]  6697  ;	r16(a0) = 8		Read i_stat (ProfileMe)
                  [0057C0]  6698  ;
                  [0057C0]  6699  ;	Action: Return in r0(v0) the i_stat values
                  [0057C0]  6700  ;-----------------------------------------------------------------------
                  [0057C0]  6701  ;	r16(a0) = 9		Read pmpc (ProfileMe)
                  [0057C0]  6702  ;
                  [0057C0]  6703  ;	Action: Return in r0(v0) the PC of the last profiled instruction
                  [0057C0]  6704  ;-----------------------------------------------------------------------
                  [0057C0]  6705  ;-----------------------------------------------------------------------
                  [0057C0]  6706  ; Pass 2.3 Aggregate mode
                  [0057C0]  6707  ;
                  [0057C0]  6708  ; SL0 mux values
                  [0057C0]  6709  ;	0	PCTR0 <- cycles
                  [0057C0]  6710  ;	1	PCTR0 <- retired instructions
                  [0057C0]  6711  ; SL1 mux values
                  [0057C0]  6712  ;	0000 	PCTR1 <- cycles
                  [0057C0]  6713  ;	0001 	PCTR1 <- retired conditional branches
                  [0057C0]  6714  ;	0010 	PCTR1 <- cycles (retired branch mispredicts not implemented)
                  [0057C0]  6715  ;	0011 	PCTR1 <- retired dtb single misses * 2 (bats 943)
                  [0057C0]  6716  ;	0100 	PCTR1 <- retired dtb double misses
                  [0057C0]  6717  ;	0101 	PCTR1 <- retired itb misses
                  [0057C0]  6718  ;	0110 	PCTR1 <- retired unaligned traps
                  [0057C0]  6719  ;	0111 	PCTR1 <- replay traps
                  [0057C0]  6720  ;-----------------------------------------------------------------------
                  [0057C0]  6721  ; Pass 3 or higher Aggregate mode
                  [0057C0]  6722  ;
                  [0057C0]  6723  ; SL0 mux values
                  [0057C0]  6724  ;	0	aggregate mode
                  [0057C0]  6725  ; SL1 mux values
                  [0057C0]  6726  ;	00	PCTR0 <- retired  PCTR1 <- cycles
                  [0057C0]  6727  ;	01	PCTR0 <- cycles	  PCTR1 <- undefined
                  [0057C0]  6728  ;	10	PCTR0 <- retired  PCTR1 <- bcache misses/long probe latency
                  [0057C0]  6729  ;	11	PCTR0 <- cycles	  PCTR1 <- Mbox replay traps
                  [0057C0]  6730  ;-----------------------------------------------------------------------
                  [0057C0]  6731  ; Pass 3 or higher ProfileMe mode
                  [0057C0]  6732  ;
                  [0057C0]  6733  ; SL0 mux values
                  [0057C0]  6734  ;	1	ProfileMe mode
                  [0057C0]  6735  ; SL1 mux values
                  [0057C0]  6736  ;	00	PCTR0 <- retired  PCTR1 <- cycles
                  [0057C0]  6737  ;	01	PCTR0 <- cycles	  PCTR1 <- cycles of delayed retire ptr advance
                  [0057C0]  6738  ;	10	PCTR0 <- retired  PCTR1 <- bcache misses/long probe latency
                  [0057C0]  6739  ;	11	PCTR0 <- cycles	  PCTR1 <- Mbox replay traps
                  [0057C0]  6740  ;-----------------------------------------------------------------------
                  [0057C0]  6741  ;-----------------------------------------------------------------------
                  [0057C0]  6742  ; Note that the PPCE (per process counter enable) bit in PCTX, is
                  [0057C0]  6743  ; set/cleared on swap context, and does not get changed as a result of
                  [0057C0]  6744  ; a perfmon call.
                  [0057C0]  6745  ;-----------------------------------------------------------------------
                  [0057C0]  6746  
                  [0057C0]  6747  	START_CALL_PAL <WRPERFMON>
File: ev6_pal_macros.mar
                  [0057C0]   131i         ASSUME <<OSFPAL_FUNC__WRPERFMON> & <^x40>> eq 0
                  [0057C0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002E40]   143M CALL_PAL__WRPERFMON::
         47FF041F [002E40]   145M 	bis	r31, r31, r31
         47FF041F [002E44]   146M 	bis	r31, r31, r31
         C0800000 [002E48]   147M 	br	p4, s_WRPERFMON
                  [002E4C]   148M s_WRPERFMON:
         40813404 [002E4C]   149M 	addq	p4, #<<e_WRPERFMON - s_WRPERFMON>+1>, p4
                  [002E50]   150M 	PVC_JSR	p_WRPERFMON
                  [002E50]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrperfmon0, osf
         7BE48000 [002E50]   151M 	hw_ret	(p4)
                  [002E54]   152M 	PVC_JSR p_WRPERFMON, dest=1
                  [002E54]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrperfmon0, osf, \pcv_jsr_p_wrperfmon0_inst
                  [002E54]   153M e_WRPERFMON:
         47FF041F [002E54]   154M 	bis	r31, r31, r31
         47FF041F [002E58]   155M 	bis	r31, r31, r31
         C3E00A58 [002E5C]   156M 	br	r31, CALL_PAL__WRPERFMON_CONT_EXTRA
                  [002E60]   159M     GOTO_FREE_CODE
                  [0057C0]    62M     .align 6
                  [0057C0]   160M CALL_PAL__WRPERFMON_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [0057C0]  6748  
                  [0057C0]  6749  ASSUME EV6__I_CTL__PCT0_EN__S eq ^x12
                  [0057C0]  6750  ASSUME EV6__I_CTL__PCT1_EN__S eq ^x13
                  [0057C0]  6751  
         4200B5A0 [0057C0]  6752  	cmpeq	r16, #5, r0			; check for read counters
         F400006E [0057C4]  6753  	bne	r0, call_pal__perfmon_rd	; branch if so
         4200D5A0 [0057C8]  6754  	cmpeq	r16, #6, r0			; check for write counters
         F400007C [0057CC]  6755  	bne	r0, call_pal__perfmon_wr	; branch if so
         420115A0 [0057D0]  6756  	cmpeq	r16, #8, r0			; check for read i_stat
         F40000AA [0057D4]  6757  	bne	r0, call_pal__perfmon_rd_istat	; branch if so
         420135A0 [0057D8]  6758  	cmpeq	r16, #9, r0			; check for read pmpc
         F40000AE [0057DC]  6759  	bne	r0, call_pal__perfmon_rd_pmpc	; branch if so
         420035A0 [0057E0]  6760  	cmpeq	r16, #1, r0			; check for enable
         F4000036 [0057E4]  6761  	bne	r0, call_pal__perfmon_en	; branch if so
         420055A0 [0057E8]  6762  	cmpeq	r16, #2, r0			; check for mux select
         F4000044 [0057EC]  6763  	bne	r0, call_pal__perfmon_mux	; branch if so
         420075A0 [0057F0]  6764  	cmpeq	r16, #3, r0			; check for options
         F4000052 [0057F4]  6765  	bne	r0, call_pal__perfmon_opt	; branch if so
                  [0057F8]  6766  
                  [0057F8]  6767  	CONT_CALL_PAL<WRPERFMON>
File: ev6_pal_macros.mar
         C3E00001 [0057F8]   201i 	br	r31, CALL_PAL__WRPERFMON_CONT
         47FF041F [0057FC]   204i     .align 4, <^x47FF041F>
                  [005800]   205i CALL_PAL__WRPERFMON_CONT:
File: ev6_osf_pal.mar
                  [005800]  6768  
         4200F5A0 [005800]  6769  	cmpeq	r16, #7, r0			; check for enable and write
         F400008E [005804]  6770  	bne	r0, call_pal__perfmon_en_wr	; branch if so
         F60000A6 [005808]  6771  	bne	r16, call_pal__perfmon_unknown	; branch for unknown
         C3E0000C [00580C]  6772  	br	r31, call_pal__perfmon_dis	; branch for disable
                  [005810]  6773  ;
                  [005810]  6774  ; Disable
                  [005810]  6775  ;	r17(a1) = bitmask	r17(a1)<0>=1	disable CTR0
                  [005810]  6776  ;				r17(a1)<1>=1	disable CTR1
                  [005810]  6777  ;
                  [005810]  6778  ;	Action: Clear PCTx_EN in I_CTL as directed
                  [005810]  6779  ;
                  [005810]  6780  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [005810]   270i 	.align 6
00000000 00000000 [005818]
00000000 00000000 [005820]
00000000 00000000 [005828]
00000000 00000000 [005830]
00000000 00000000 [005838]
File: ev6_osf_pal.mar
                  [005840]  6781  call_pal__perfmon_dis:
         649F1110 [005840]  6782  	hw_mfpr	p4, EV6__I_CTL			; (4,0L) get current control
         46207005 [005844]  6783  	and	r17, #3, p5			; clean input
         48A25725 [005848]  6784  	sll	p5, #EV6__I_CTL__PCT0_EN__S, p5	; shift into position
         44850104 [00584C]  6785  	bic	p4, p5, p4			; clear bits as requested
         77E41110 [005850]  6786  	hw_mtpr	p4, EV6__I_CTL			; (4,0L)
                  [005854]  6787  ;
                  [005854]  6788  ; Make sure that the counters are not near overflow so that we
                  [005854]  6789  ; avoid interrupts being blocked in anticipation of an overflow interrupt.
                  [005854]  6790  ; Rather than checking the whole count, just look at the most significant bit.
                  [005854]  6791  ; Zap low nibble of count if most significant bit of count is set and
                  [005854]  6792  ; we were asked to disable that counter.
                  [005854]  6793  ;
                  [005854]  6794  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
47FF041F 47FF041F [005854]   260i 	.align 4, <^x47FF041F>
         47FF041F [00585C]
File: ev6_osf_pal.mar
                  [005860]  6795  
         649F1410 [005860]  6796  	hw_mfpr	p4, EV6__PCTR_CTL			; (4,0L) get PCTR_CTL
                  [005864]  6797  
         47E1F405 [005864]  6798  	bis	r31, #^xF, p5				; get an ^xF
         4885F686 [005868]  6799  	srl	p4, #<EV6__PCTR_CTL__PCTR0__S+19>, p6 	; pctr0 msbit to lsbit
         44DF02C5 [00586C]  6800  	cmovlbc	p6, r31, p5				; zap mask if lsbit=0
         46203006 [005870]  6801  	and	r17, #1, p6				; check for disable
         44DF0485 [005874]  6802  	cmoveq	p6, r31, p5				; zap mask if dis=0
                  [005878]  6803  
         47E1F407 [005878]  6804  	bis	r31, #^xF, p7				; get an ^xF
         48833686 [00587C]  6805  	srl	p4, #<EV6__PCTR_CTL__PCTR1__S+19>, p6 	; pctr1 msbit to lsbit
         44DF02C7 [005880]  6806  	cmovlbc	p6, r31, p7				; zap mask if lsbit=0
         46205006 [005884]  6807  	and	r17, #2, p6				; check for disable
         44DF0487 [005888]  6808  	cmoveq	p6, r31, p7				; zap mask if dis=0
                  [00588C]  6809  
         48A39725 [00588C]  6810  	sll	p5, #EV6__PCTR_CTL__PCTR0__S,  p5	; shift mask into place
         48E0D727 [005890]  6811  	sll	p7, #EV6__PCTR_CTL__PCTR1__S,  p7	; shift mask into place
         44A70407 [005894]  6812  	bis	p5, p7, p7				; or together
         F4E00002 [005898]  6813  	bne	p7, call_pal__perfmon_zap		; zap if non-zero
                  [00589C]  6814  
         77FF2710 [00589C]  6815  	hw_mtpr	r31, <EV6__MM_STAT ! ^x10>		; (4,0L) force retire
         7BF7A000 [0058A0]  6816  	hw_ret_stall (p23)				; return with stall
                  [0058A4]  6817  
                  [0058A4]  6818  call_pal__perfmon_zap:
         44870104 [0058A4]  6819  	bic	p4, p7, p4				; clear as needed
         77E41410 [0058A8]  6820  	hw_mtpr	p4, EV6__PCTR_CTL			; (4,0L) write PCTR_CTL
                  [0058AC]  6821  
                  [0058AC]  6822  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
         47FF041F [0058AC]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
         77FF2710 [0058B0]  6823  	hw_mtpr	r31, <EV6__MM_STAT ! ^x10>		; (4,0L) force retire
                  [0058B4]  6824  
         7BF7A000 [0058B4]  6825  	hw_ret_stall (p23)				; return with stall
                  [0058B8]  6826  ;
                  [0058B8]  6827  ; Enable
                  [0058B8]  6828  ;	r17(a1) = bitmask	r17(a1)<0>=1	enable CTR0
                  [0058B8]  6829  ;				r17(a1)<1>=1	enable CTR1
                  [0058B8]  6830  ;
                  [0058B8]  6831  ;	Action: Set PCTx_EN in I_CTL as directed. If CTRx is already enabled,
                  [0058B8]  6832  ;		it stays enabled.
                  [0058B8]  6833  ;
                  [0058B8]  6834  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [0058B8]   270i 	.align 6
File: ev6_osf_pal.mar
                  [0058C0]  6835  call_pal__perfmon_en:
         649F1110 [0058C0]  6836   	hw_mfpr	p4, EV6__I_CTL			; (4,0L) get current control
         46207005 [0058C4]  6837  	and	r17, #3, p5			; clean input
         48A25725 [0058C8]  6838  	sll	p5, #EV6__I_CTL__PCT0_EN__S, p5	; shift into position
         44850404 [0058CC]  6839  	bis	p4, p5, p4			; enable bits as requested
         77E41110 [0058D0]  6840  	hw_mtpr	p4, EV6__I_CTL			; (4,0L)
                  [0058D4]  6841  
                  [0058D4]  6842  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
47FF041F 47FF041F [0058D4]   260i 	.align 4, <^x47FF041F>
         47FF041F [0058DC]
File: ev6_osf_pal.mar
         77FF2710 [0058E0]  6843  	hw_mtpr	r31, <EV6__MM_STAT ! ^x10>	; (4,0L) force retire
                  [0058E4]  6844  
         7BF7A000 [0058E4]  6845  	hw_ret_stall (p23)			; return with stall
                  [0058E8]  6846  ;
                  [0058E8]  6847  ; Mux select
                  [0058E8]  6848  ;	r17(a1) = pctr_ctl	r17(a1)<3:0>	SL1
                  [0058E8]  6849  ;				r17(a1)<4>	SL0
                  [0058E8]  6850  ;					0 => cycles
                  [0058E8]  6851  ;					1 => retired instructions
                  [0058E8]  6852  ;	Action: Write PCTR_CTL SLx fields.
                  [0058E8]  6853  ;
                  [0058E8]  6854  ASSUME EV6__PCTR_CTL__SL1__S eq 2
                  [0058E8]  6855  ASSUME EV6__PCTR_CTL__SL0__S eq 4
                  [0058E8]  6856  
                  [0058E8]  6857  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [0058E8]   270i 	.align 6
00000000 00000000 [0058F0]
00000000 00000000 [0058F8]
File: ev6_osf_pal.mar
                  [005900]  6858  call_pal__perfmon_mux:
         649F1410 [005900]  6859  	hw_mfpr	p4, EV6__PCTR_CTL		; (4,0L) get current control
         47E3F406 [005904]  6860  	bis	r31, #^x1F, p6			; cleaning mask
         4623F005 [005908]  6861  	and	r17, #^x1F, p5			; clean input
         44860104 [00590C]  6862  	bic	p4, p6, p4			; clean mux
         44850404 [005910]  6863  	bis	p4, p5, p4			; or in new mux values
         77E41410 [005914]  6864  	hw_mtpr	p4, EV6__PCTR_CTL		; (4,0L)
                  [005918]  6865  
                  [005918]  6866  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
47FF041F 47FF041F [005918]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
         77FF2710 [005920]  6867  	hw_mtpr	r31, <EV6__MM_STAT ! ^x10>	; (4,0L) force retire
                  [005924]  6868  
         7BF7A000 [005924]  6869  	hw_ret_stall (p23)			; return with stall
                  [005928]  6870  ;
                  [005928]  6871  ; Options
                  [005928]  6872  ;	r17(a1) = options	r17(a1)<0>	logging option
                  [005928]  6873  ;					0 => log all processes
                  [005928]  6874  ;					1 => log only selected processes
                  [005928]  6875  ;	Action: If r17(a1)<0> is clear, set SPCE bit in I_CTL
                  [005928]  6876  ;
                  [005928]  6877  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [005928]   270i 	.align 6
00000000 00000000 [005930]
00000000 00000000 [005938]
File: ev6_osf_pal.mar
                  [005940]  6878  call_pal__perfmon_opt:
         649F1110 [005940]  6879  	hw_mfpr	p4, EV6__I_CTL			; (4,0L) get I_CTL
         47E03405 [005944]  6880  	bis	r31, #1, p5			; get a 1
         48A01725 [005948]  6881  	sll	p5, #EV6__I_CTL__SPCE__S, p5	; get into spce position
         44850104 [00594C]  6882  	bic	p4, p5, p4			; clear spce
         463F0285 [005950]  6883  	cmovlbs	r17, r31, p5			; if lbs, just selected process
         44850404 [005954]  6884  	bis	p4, p5, p4			; or new spce in
         77E41110 [005958]  6885  	hw_mtpr	p4, EV6__I_CTL			; (4,0L) write I_CTL
                  [00595C]  6886  
                  [00595C]  6887  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
         47FF041F [00595C]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
         77FF2710 [005960]  6888  	hw_mtpr	r31, <EV6__MM_STAT ! ^x10>	; (4,0L) force retire
                  [005964]  6889  
         7BF7A000 [005964]  6890  	hw_ret_stall (p23)			; return with stall
                  [005968]  6891  ;
                  [005968]  6892  ; Read counters
                  [005968]  6893  ;
                  [005968]  6894  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [005968]   270i 	.align 6
00000000 00000000 [005970]
00000000 00000000 [005978]
File: ev6_osf_pal.mar
                  [005980]  6895  call_pal__perfmon_rd:
         641F1410 [005980]  6896  	hw_mfpr	r0, EV6__PCTR_CTL		; (4,0L) get PCTR_CTL
                  [005984]  6897  
         7BF78000 [005984]  6898  	hw_ret	(p23)				; just return, no changes
                  [005988]  6899  ;
                  [005988]  6900  ; Write counters selectively
                  [005988]  6901  ;	r17(a1)			r17(a1)<0> Write counter 0
                  [005988]  6902  ;				r17(a1)<1> Write counter 1
                  [005988]  6903  ;				r17(a1)<25:6>  new ctr1 value
                  [005988]  6904  ;				r17(a1)<47:28> new ctr0 value
                  [005988]  6905  ;	Action: Selectively write counter fields in PCTR_CTL
                  [005988]  6906  ;
                  [005988]  6907  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [005988]   270i 	.align 6
00000000 00000000 [005990]
00000000 00000000 [005998]
00000000 00000000 [0059A0]
00000000 00000000 [0059A8]
00000000 00000000 [0059B0]
00000000 00000000 [0059B8]
File: ev6_osf_pal.mar
                  [0059C0]  6908  call_pal__perfmon_wr:
         649F1410 [0059C0]  6909  	hw_mfpr	p4, EV6__PCTR_CTL		; (4,0L) get PCTR_CTL
                  [0059C4]  6910  	GET_32CONS p5, <^xFFFFF>, r31		; get mask for count field
File: ev6_pal_macros.mar
                  [0059C4]   234i  ASSUME <^xFFFFF> le  <^x7FFFFFFF>
         24BF0010 [0059C4]   235M 	ldah	p5,<<^xFFFFF>+32768>@-16(r31); + xxx<31:16>
         20A5FFFF [0059C8]   236M 	lda	p5,<<^xFFFFF> & ^XFFFF>(p5) ; r31+xxx<15:0>
File: ev6_osf_pal.mar
                  [0059CC]  6911  
         E2200004 [0059CC]  6912  	blbc	r17, call_pal__perfmon_wr_1	; if clear, don't write 0
         48A39726 [0059D0]  6913  	sll	p5, #EV6__PCTR_CTL__PCTR0__S, p6; mask for pctr0
         46260007 [0059D4]  6914  	and	r17, p6, p7			; new pctr0
         44860104 [0059D8]  6915  	bic	p4, p6, p4			; clear old pctr0
         44870404 [0059DC]  6916  	bis	p4, p7, p4			; or in new pctr0
                  [0059E0]  6917  
                  [0059E0]  6918  call_pal__perfmon_wr_1:
         4A203686 [0059E0]  6919  	srl	r17, #1, p6			; now look at pctr1
         E0C00004 [0059E4]  6920  	blbc	p6, call_pal__perfmon_wr_ipr	; if clear, go on to write
         48A0D726 [0059E8]  6921  	sll	p5, #EV6__PCTR_CTL__PCTR1__S, p6; mask for pctr1
         46260007 [0059EC]  6922  	and	r17, p6, p7			; new pctr1
         44860104 [0059F0]  6923  	bic	p4, p6, p4			; clear old pctr1
         44870404 [0059F4]  6924  	bis	p4, p7, p4			; or in new pctr1
                  [0059F8]  6925  
                  [0059F8]  6926  call_pal__perfmon_wr_ipr:
                  [0059F8]  6927  ;
                  [0059F8]  6928  ; To make counter accurate, we no longer zap the lower nibble. But the user
                  [0059F8]  6929  ; must be careful with the values! If the counter is near overflow and
                  [0059F8]  6930  ; counting is disabled, interrupts can be blocked in anticipation of an
                  [0059F8]  6931  ; overflow interrupt.
                  [0059F8]  6932  ;
         77E41410 [0059F8]  6933  	hw_mtpr	p4, EV6__PCTR_CTL		; (4,0L) write PCTR_CTL
                  [0059FC]  6934  
                  [0059FC]  6935  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
         47FF041F [0059FC]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_pal.mar
         77FF2710 [005A00]  6936  	hw_mtpr	r31, <EV6__MM_STAT ! ^x10>	; (4,0L) force retire
                  [005A04]  6937  
         7BF7A000 [005A04]  6938  	hw_ret_stall (p23)			; return with stall
                  [005A08]  6939  ;
                  [005A08]  6940  ; Enable and write specified counters
                  [005A08]  6941  ;	r17(a1) = bitmask	r17(a1)<0>=1	enable CTR0
                  [005A08]  6942  ;				r17(a1)<1>=1	enable CTR1
                  [005A08]  6943  ;
                  [005A08]  6944  ;	Action: Write specified counter(s)
                  [005A08]  6945  ;		Set PCTx_EN in I_CTL as directed
                  [005A08]  6946  ;
                  [005A08]  6947  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [005A08]   270i 	.align 6
00000000 00000000 [005A10]
00000000 00000000 [005A18]
00000000 00000000 [005A20]
00000000 00000000 [005A28]
00000000 00000000 [005A30]
00000000 00000000 [005A38]
File: ev6_osf_pal.mar
                  [005A40]  6948  call_pal__perfmon_en_wr:
         649F1110 [005A40]  6949   	hw_mfpr	p4, EV6__I_CTL			; (4,0L) get current control
         46207005 [005A44]  6950  	and	r17, #3, p5			; clean input
         48A25725 [005A48]  6951  	sll	p5, #EV6__I_CTL__PCT0_EN__S, p5	; shift into position
         44850404 [005A4C]  6952  	bis	p4, p5, p4			; enable bits as requested
         77E41110 [005A50]  6953  	hw_mtpr	p4, EV6__I_CTL			; (4,0L)
         C3FFFFDA [005A54]  6954  	br	r31, call_pal__perfmon_wr	; write selected counters
                  [005A58]  6955  ;
                  [005A58]  6956  ; Read I_STAT
                  [005A58]  6957  ;
                  [005A58]  6958  EV6__I_STAT__PRFME__S = ^x1e	
                  [005A58]  6959  EV6__I_STAT__PRFME__V = ^xb	
                  [005A58]  6960  EV6__I_STAT__PRFME__M = ^x7FF
                  [005A58]  6961  
                  [005A58]  6962  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [005A58]   270i 	.align 6
00000000 00000000 [005A60]
00000000 00000000 [005A68]
00000000 00000000 [005A70]
00000000 00000000 [005A78]
File: ev6_osf_pal.mar
                  [005A80]  6963  
                  [005A80]  6964  call_pal__perfmon_rd_istat:
         641F1610 [005A80]  6965  	hw_mfpr	r0, EV6__I_STAT			; (4,0L) get I_STAT
         4803D680 [005A84]  6966  	srl	r0, #EV6__I_STAT__PRFME__S, r0	; clean <29:0>
         209F07FF [005A88]  6967  	lda	p4, EV6__I_STAT__PRFME__M(r31)	; mask for cleaning
         44800000 [005A8C]  6968  	and	p4, r0, r0			; mask
         4803D720 [005A90]  6969  	sll	r0, #EV6__I_STAT__PRFME__S,r0	; shift back
         7BF78000 [005A94]  6970  	hw_ret	(p23)				; just return, no changes
                  [005A98]  6971  ;
                  [005A98]  6972  ; Read pmpc
                  [005A98]  6973  ;
                  [005A98]  6974  call_pal__perfmon_rd_pmpc:
         641F0510 [005A98]  6975  	hw_mfpr	r0, EV6__PMPC			; get PMPC
         44005100 [005A9C]  6976  	bic	r0, #2, r0			; clear RAZ bit to be neat
         7BF78000 [005AA0]  6977  	hw_ret	(p23)				; just return, no changes
                  [005AA4]  6978  ;
                  [005AA4]  6979  ; Unknown function
                  [005AA4]  6980  ;
                  [005AA4]  6981  call_pal__perfmon_unknown:
                  [005AA4]  6982  
         7BF78000 [005AA4]  6983  	hw_ret	(p23)				; just return
                  [005AA8]  6984  
                  [005AA8]  6985  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005AA8]   171M         GOTO_FREE_CODE
00000000 00000000 [005AA8]    62M     .align 6
00000000 00000000 [005AB0]
00000000 00000000 [005AB8]
File: ev6_osf_pal.mar
                  [005AC0]  6986  
                  [005AC0]  6987  ;------------------------------------------------------------------------
                  [005AC0]  6988  ;+
                  [005AC0]  6989  ; CALL_PAL__RDUSP
                  [005AC0]  6990  ;
                  [005AC0]  6991  ; Entry:
                  [005AC0]  6992  ;	p23		pc of instruction following the call_pal instruction
                  [005AC0]  6993  ;
                  [005AC0]  6994  ; Function:
                  [005AC0]  6995  ;	r0(v0) <- USP
                  [005AC0]  6996  ;-
                  [005AC0]  6997  	START_CALL_PAL <RDUSP>
File: ev6_pal_macros.mar
                  [005AC0]   131i         ASSUME <<OSFPAL_FUNC__RDUSP> & <^x40>> eq 0
                  [005AC0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002E80]   143M CALL_PAL__RDUSP::
         47FF041F [002E80]   145M 	bis	r31, r31, r31
         47FF041F [002E84]   146M 	bis	r31, r31, r31
         C0800000 [002E88]   147M 	br	p4, s_RDUSP
                  [002E8C]   148M s_RDUSP:
         40813404 [002E8C]   149M 	addq	p4, #<<e_RDUSP - s_RDUSP>+1>, p4
                  [002E90]   150M 	PVC_JSR	p_RDUSP
                  [002E90]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_rdusp0, osf
         7BE48000 [002E90]   151M 	hw_ret	(p4)
                  [002E94]   152M 	PVC_JSR p_RDUSP, dest=1
                  [002E94]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_rdusp0, osf, \pcv_jsr_p_rdusp0_inst
                  [002E94]   153M e_RDUSP:
         47FF041F [002E94]   154M 	bis	r31, r31, r31
         47FF041F [002E98]   155M 	bis	r31, r31, r31
         C3E00B08 [002E9C]   156M 	br	r31, CALL_PAL__RDUSP_CONT_EXTRA
                  [002EA0]   159M     GOTO_FREE_CODE
                  [005AC0]    62M     .align 6
                  [005AC0]   160M CALL_PAL__RDUSP_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005AC0]  6998  
         6C151020 [005AC0]  6999  	hw_ldq/p r0, PT__USP(p_temp)		; read usp
                  [005AC4]  7000  	NOP					; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005AC4]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005AC8]  7001  	NOP
File: ev6_pal_macros.mar
         47FF041F [005AC8]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005ACC]  7002  	NOP
File: ev6_pal_macros.mar
         47FF041F [005ACC]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005AD0]  7003  
         7BF78000 [005AD0]  7004  	hw_ret	(p23)				; return
                  [005AD4]  7005  
                  [005AD4]  7006  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005AD4]   171M         GOTO_FREE_CODE
00000000 00000000 [005AD4]    62M     .align 6
00000000 00000000 [005ADC]
00000000 00000000 [005AE4]
00000000 00000000 [005AEC]
00000000 00000000 [005AF4]
         00000000 [005AFC]
File: ev6_osf_pal.mar
                  [005B00]  7007  
                  [005B00]  7008  
                  [005B00]  7009  ;------------------------------------------------------------------------
                  [005B00]  7010  ;+
                  [005B00]  7011  
                  [005B00]  7012  ;------------------------------------------------------------------------
                  [005B00]  7013  ;+
                  [005B00]  7014  ; CALL_PAL__WHAMI
                  [005B00]  7015  ;
                  [005B00]  7016  ; Entry:
                  [005B00]  7017  ;	p23		pc of instruction following the call_pal instruction
                  [005B00]  7018  ;
                  [005B00]  7019  ; Function:
                  [005B00]  7020  ;	r0(v0) <- WHAMI
                  [005B00]  7021  ;-
                  [005B00]  7022  	START_CALL_PAL <WHAMI>
File: ev6_pal_macros.mar
                  [005B00]   131i         ASSUME <<OSFPAL_FUNC__WHAMI> & <^x40>> eq 0
                  [005B00]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002F00]   143M CALL_PAL__WHAMI::
         47FF041F [002F00]   145M 	bis	r31, r31, r31
         47FF041F [002F04]   146M 	bis	r31, r31, r31
         C0800000 [002F08]   147M 	br	p4, s_WHAMI
                  [002F0C]   148M s_WHAMI:
         40813404 [002F0C]   149M 	addq	p4, #<<e_WHAMI - s_WHAMI>+1>, p4
                  [002F10]   150M 	PVC_JSR	p_WHAMI
                  [002F10]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_whami0, osf
         7BE48000 [002F10]   151M 	hw_ret	(p4)
                  [002F14]   152M 	PVC_JSR p_WHAMI, dest=1
                  [002F14]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_whami0, osf, \pcv_jsr_p_whami0_inst
                  [002F14]   153M e_WHAMI:
         47FF041F [002F14]   154M 	bis	r31, r31, r31
         47FF041F [002F18]   155M 	bis	r31, r31, r31
         C3E00AF8 [002F1C]   156M 	br	r31, CALL_PAL__WHAMI_CONT_EXTRA
                  [002F20]   159M     GOTO_FREE_CODE
                  [005B00]    62M     .align 6
                  [005B00]   160M CALL_PAL__WHAMI_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005B00]  7023  
         6C1510D0 [005B00]  7024  	hw_ldq/p r0, PT__WHAMI(p_temp)		; get whami
                  [005B04]  7025  	NOP
File: ev6_pal_macros.mar
         47FF041F [005B04]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005B08]  7026  	NOP
File: ev6_pal_macros.mar
         47FF041F [005B08]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005B0C]  7027  	NOP					; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005B0C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005B10]  7028  
         7BF78000 [005B10]  7029  	hw_ret	(p23)				; return
                  [005B14]  7030  
                  [005B14]  7031  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005B14]   171M         GOTO_FREE_CODE
00000000 00000000 [005B14]    62M     .align 6
00000000 00000000 [005B1C]
00000000 00000000 [005B24]
00000000 00000000 [005B2C]
00000000 00000000 [005B34]
         00000000 [005B3C]
File: ev6_osf_pal.mar
                  [005B40]  7032  
                  [005B40]  7033  ;------------------------------------------------------------------------
                  [005B40]  7034  ;+
                  [005B40]  7035  ; CALL_PAL__RETSYS
                  [005B40]  7036  ;
                  [005B40]  7037  ; Entry:
                  [005B40]  7038  ;	p23		pc of instruction following the call_pal instruction
                  [005B40]  7039  ;
                  [005B40]  7040  ; Function:
                  [005B40]  7041  ;	The return from system call instruction pops the return address
                  [005B40]  7042  ;	and the user mode global pointer form the kernel stack. It then
                  [005B40]  7043  ;	saves the kernel stack pointer, sets the mode to user, sets the
                  [005B40]  7044  ;	IPL to 0, and enters the user mode code at the address popped
                  [005B40]  7045  ;	off the stack. In addition the interrupt and load lock flags
                  [005B40]  7046  ;	have been cleared.
                  [005B40]  7047  ;
                  [005B40]  7048  ; Note:
                  [005B40]  7049  ;	For now save pc+4. To be more accurate, we may want to save pc.
                  [005B40]  7050  ;	For ev5, just pc+4 was used. This pc is used for ksp not valid
                  [005B40]  7051  ;	halts.
                  [005B40]  7052  ; Note:
                  [005B40]  7053  ;	Any load below clears the lock flag.
                  [005B40]  7054  ;-
                  [005B40]  7055  	START_CALL_PAL <RETSYS>
File: ev6_pal_macros.mar
                  [005B40]   131i         ASSUME <<OSFPAL_FUNC__RETSYS> & <^x40>> eq 0
                  [005B40]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002F40]   143M CALL_PAL__RETSYS::
         47FF041F [002F40]   145M 	bis	r31, r31, r31
         47FF041F [002F44]   146M 	bis	r31, r31, r31
         C0800000 [002F48]   147M 	br	p4, s_RETSYS
                  [002F4C]   148M s_RETSYS:
         40813404 [002F4C]   149M 	addq	p4, #<<e_RETSYS - s_RETSYS>+1>, p4
                  [002F50]   150M 	PVC_JSR	p_RETSYS
                  [002F50]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_retsys0, osf
         7BE48000 [002F50]   151M 	hw_ret	(p4)
                  [002F54]   152M 	PVC_JSR p_RETSYS, dest=1
                  [002F54]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_retsys0, osf, \pcv_jsr_p_retsys0_inst
                  [002F54]   153M e_RETSYS:
         47FF041F [002F54]   154M 	bis	r31, r31, r31
         47FF041F [002F58]   155M 	bis	r31, r31, r31
         C3E00AF8 [002F5C]   156M 	br	r31, CALL_PAL__RETSYS_CONT_EXTRA
                  [002F60]   159M     GOTO_FREE_CODE
                  [005B40]    62M     .align 6
                  [005B40]   160M CALL_PAL__RETSYS_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005B40]  7056  
                  [005B40]  7057  ASSUME OSF_P_MISC__PS__S eq 0
                  [005B40]  7058  ASSUME EV6__PS__CM__S eq 3
                  [005B40]  7059  
         7EF51098 [005B40]  7060  	hw_stq/p p23, PT__STACK_PC(p_temp)		; in case of fault
                  [005B44]  7061  
         A69E0008 [005B44]  7062  	ldq	p20, OSF_FRM__PC(r30)			; get pc
         A7BE0010 [005B48]  7063  	ldq	r29, OSF_FRM__GP(r30)			; get gp
                  [005B4C]  7064  
         46807117 [005B4C]  7065  	bic	p20, #3, p23				; clean pc, move to p23
         63FFE000 [005B50]  7066  	rc	r31					; clear interrupt flag
                  [005B54]  7067  
         229E0030 [005B54]  7068  	lda	p20, OSF_FRM__SIZE(r30)			; pop kernel stack
         6FD51020 [005B58]  7069  	hw_ldq/p r30, PT__USP(p_temp)			; get usp
         7E951018 [005B5C]  7070  	hw_stq/p p20, PT__KSP(p_temp)			; save kernel stack
                  [005B60]  7071  ;
                  [005B60]  7072  ; Now set up for cm=1 and ipl=0.
                  [005B60]  7073  ;
         649F1010 [005B60]  7074  	hw_mfpr	p4, EV6__PAL_BASE			; (4,0L) get pal base
         20840D00 [005B64]  7075  	lda	p4, ipl_offset(p4)			; pal base + table base
         6C841000 [005B68]  7076  	hw_ldq/p p4, (p4)				; get new ier
                  [005B6C]  7077  
                  [005B6C]  7078  	CONT_CALL_PAL <RETSYS>				; finish in new space
File: ev6_pal_macros.mar
         C3E00000 [005B6C]   201i 	br	r31, CALL_PAL__RETSYS_CONT
                  [005B70]   204i     .align 4, <^x47FF041F>
                  [005B70]   205i CALL_PAL__RETSYS_CONT:
File: ev6_osf_pal.mar
                  [005B70]  7079  
         46C1F116 [005B70]  7080  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; clean ps
         46C11416 [005B74]  7081  	bis	p_misc, #<1@OSF_P_MISC__CM__S>, p_misc	; new ps with mode=user
         44811404 [005B78]  7082  	bis	p4, #<1@EV6__PS__CM__S>, p4		; new ier and new cm
                  [005B7C]  7083  
         77E40B10 [005B7C]  7084  	hw_mtpr	p4, EV6__IER_CM				; (4,0L) new ier_cm
                  [005B80]  7085  
         7BF7A000 [005B80]  7086  	hw_ret_stall (p23)				; return
                  [005B84]  7087  
                  [005B84]  7088  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005B84]   171M         GOTO_FREE_CODE
00000000 00000000 [005B84]    62M     .align 6
00000000 00000000 [005B8C]
00000000 00000000 [005B94]
00000000 00000000 [005B9C]
00000000 00000000 [005BA4]
00000000 00000000 [005BAC]
00000000 00000000 [005BB4]
         00000000 [005BBC]
File: ev6_osf_pal.mar
                  [005BC0]  7089  
                  [005BC0]  7090  ;------------------------------------------------------------------------
                  [005BC0]  7091  ;+
                  [005BC0]  7092  ; CALL_PAL__WTINT
                  [005BC0]  7093  ;
                  [005BC0]  7094  ; Entry:
                  [005BC0]  7095  ;	p23		pc of instruction following the call_pal instruction
                  [005BC0]  7096  ;	r16(a0)		maximum nmber of interval clock ticks to skip
                  [005BC0]  7097  ;
                  [005BC0]  7098  ; Function:
                  [005BC0]  7099  ;	The wait for interrupt instruction requests that, if possible, the
                  [005BC0]  7100  ;	PALcode wait for the first of either of the following conditions
                  [005BC0]  7101  ;	before returning:
                  [005BC0]  7102  ;		any interrupt other than a clock tick
                  [005BC0]  7103  ;		the first clock tick after the specified number
                  [005BC0]  7104  ;
                  [005BC0]  7105  ; Exit state:
                  [005BC0]  7106  ;	r0(v0)		number of interval clock ticks actually skipped
                  [005BC0]  7107  ;
                  [005BC0]  7108  ;-
                  [005BC0]  7109  
                  [005BC0]  7110  	START_CALL_PAL <WTINT>
File: ev6_pal_macros.mar
                  [005BC0]   131i         ASSUME <<OSFPAL_FUNC__WTINT> & <^x40>> eq 0
                  [005BC0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002F80]   143M CALL_PAL__WTINT::
         47FF041F [002F80]   145M 	bis	r31, r31, r31
         47FF041F [002F84]   146M 	bis	r31, r31, r31
         C0800000 [002F88]   147M 	br	p4, s_WTINT
                  [002F8C]   148M s_WTINT:
         40813404 [002F8C]   149M 	addq	p4, #<<e_WTINT - s_WTINT>+1>, p4
                  [002F90]   150M 	PVC_JSR	p_WTINT
                  [002F90]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wtint0, osf
         7BE48000 [002F90]   151M 	hw_ret	(p4)
                  [002F94]   152M 	PVC_JSR p_WTINT, dest=1
                  [002F94]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wtint0, osf, \pcv_jsr_p_wtint0_inst
                  [002F94]   153M e_WTINT:
         47FF041F [002F94]   154M 	bis	r31, r31, r31
         47FF041F [002F98]   155M 	bis	r31, r31, r31
         C3E00B08 [002F9C]   156M 	br	r31, CALL_PAL__WTINT_CONT_EXTRA
                  [002FA0]   159M     GOTO_FREE_CODE
                  [005BC0]    62M     .align 6
                  [005BC0]   160M CALL_PAL__WTINT_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005BC0]  7111  
                  [005BC0]  7112  .if ne nautilus_platform
                  [005BC0]  7113  
                  [005BC0]  7114  	lda	r0, 0(r31)
                  [005BC0]  7115  	hw_ret	(p23)				; return
                  [005BC0]  7116  
                  [005BC0]  7117  .iff
                  [005BC0]  7118  
                  [005BC0]  7119  	br	r31, sys__wtint			; handle in system module
                  [005BC0]  7120  
                  [005BC0]  7121  .endc
                  [005BC0]  7118I 
         C3E0014C [005BC0]  7119I 	br	r31, sys__wtint			; handle in system module
                  [005BC4]  7120I 
                  [005BC4]  7122  
                  [005BC4]  7123  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005BC4]   171M         GOTO_FREE_CODE
00000000 00000000 [005BC4]    62M     .align 6
00000000 00000000 [005BCC]
00000000 00000000 [005BD4]
00000000 00000000 [005BDC]
00000000 00000000 [005BE4]
00000000 00000000 [005BEC]
00000000 00000000 [005BF4]
         00000000 [005BFC]
File: ev6_osf_pal.mar
                  [005C00]  7124  
                  [005C00]  7125  
                  [005C00]  7126  ;------------------------------------------------------------------------
                  [005C00]  7127  ;+
                  [005C00]  7128  ; CALL_PAL__RTI
                  [005C00]  7129  ;
                  [005C00]  7130  ; Entry:
                  [005C00]  7131  ;	p23		pc of instruction following the call_pal instruction
                  [005C00]  7132  ;
                  [005C00]  7133  ; Function:
                  [005C00]  7134  ;	The return from fault, trap, or interrupt instruction pops the
                  [005C00]  7135  ;	kernel stack, restoring a0..a2, PS, PC, GP. If the new mode is user,
                  [005C00]  7136  ;	the kernel stack is saved and the user stack is restored.
                  [005C00]  7137  ;	Any load below clears the lock flag.
                  [005C00]  7138  ;-
                  [005C00]  7139  	START_CALL_PAL <RTI>
File: ev6_pal_macros.mar
                  [005C00]   131i         ASSUME <<OSFPAL_FUNC__RTI> & <^x40>> eq 0
                  [005C00]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [002FC0]   143M CALL_PAL__RTI::
         47FF041F [002FC0]   145M 	bis	r31, r31, r31
         47FF041F [002FC4]   146M 	bis	r31, r31, r31
         C0800000 [002FC8]   147M 	br	p4, s_RTI
                  [002FCC]   148M s_RTI:
         40813404 [002FCC]   149M 	addq	p4, #<<e_RTI - s_RTI>+1>, p4
                  [002FD0]   150M 	PVC_JSR	p_RTI
                  [002FD0]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_rti0, osf
         7BE48000 [002FD0]   151M 	hw_ret	(p4)
                  [002FD4]   152M 	PVC_JSR p_RTI, dest=1
                  [002FD4]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_rti0, osf, \pcv_jsr_p_rti0_inst
                  [002FD4]   153M e_RTI:
         47FF041F [002FD4]   154M 	bis	r31, r31, r31
         47FF041F [002FD8]   155M 	bis	r31, r31, r31
         C3E00B08 [002FDC]   156M 	br	r31, CALL_PAL__RTI_CONT_EXTRA
                  [002FE0]   159M     GOTO_FREE_CODE
                  [005C00]    62M     .align 6
                  [005C00]   160M CALL_PAL__RTI_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005C00]  7140  
                  [005C00]  7141  ASSUME OSF_P_MISC__PS__S eq 0
                  [005C00]  7142  
         7EF51098 [005C00]  7143  	hw_stq/p p23, PT__STACK_PC(p_temp)		; in case of fault
                  [005C04]  7144  
         A69E0000 [005C04]  7145  	ldq	p20, OSF_FRM__PS(r30)			; get ps
         A65E0028 [005C08]  7146  	ldq	r18, OSF_FRM__A2(r30)			; get a2
                  [005C0C]  7147  							; 1.39 last possible
                  [005C0C]  7148  							;   dfault or tnv
                  [005C0C]  7149  
         A7BE0010 [005C0C]  7150  	ldq	r29, OSF_FRM__GP(r30)			; get gp
         A61E0018 [005C10]  7151  	ldq	r16, OSF_FRM__A0(r30)			; get a0
         A63E0020 [005C14]  7152  	ldq	r17, OSF_FRM__A1(r30)			; get a1
                  [005C18]  7153  
         A6FE0008 [005C18]  7154  	ldq	p23, OSF_FRM__PC(r30)			; 1.39 get pc
         46E07117 [005C1C]  7155  	bic	p23, #3, p23				; clean return pc
         63FFE000 [005C20]  7156  	rc	r31					; clear interrupt flag
                  [005C24]  7157  
         46811004 [005C24]  7158  	and	p20, #<1@OSF_PS__CM__S>, p4		; get mode
         E4800013 [005C28]  7159  	beq	p4, call_pal__rti_to_kern		; br if rti to kernel
                  [005C2C]  7160  
                  [005C2C]  7161  	CONT_CALL_PAL <RTI>
File: ev6_pal_macros.mar
         C3E00000 [005C2C]   201i 	br	r31, CALL_PAL__RTI_CONT
                  [005C30]   204i     .align 4, <^x47FF041F>
                  [005C30]   205i CALL_PAL__RTI_CONT:
File: ev6_osf_pal.mar
                  [005C30]  7162  ;
                  [005C30]  7163  ; rti to user mode
                  [005C30]  7164  ;
                  [005C30]  7165  .if ne srom_debug_io*debug_err				; srom_debug_io
                  [005C30]  7166  	bis		r16, r31, p4			; save scratch reg
                  [005C30]  7167  
                  [005C30]  7168  	GET_32CONS      r16, ^x52544920, r31            ; "RTI USER"
                  [005C30]  7169  	sll             r16, #32, r16
                  [005C30]  7170  	GET_32CONS      r16, ^x55534552, r16            ;
                  [005C30]  7171  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [005C30]  7172  
                  [005C30]  7173  	bis		p20, r31, r16
                  [005C30]  7174  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [005C30]  7175  
                  [005C30]  7176  	bis		p4, r31, r16			; restore scratch
                  [005C30]  7177  .endc							; srom_debug_io
                  [005C30]  7178  
                  [005C30]  7179  .if ne	check_interrupt_pending
                  [005C30]  7180  
                  [005C30]  7181      ; Some platforms, such as those with tsunami, have a problem with the
                  [005C30]  7182      ; latency between clearing an interrupt and the interrupt being deasserted.
                  [005C30]  7183      ; Those platforms are opting to, on isum<device_irq> set, write to
                  [005C30]  7184      ; a tsunami csr to deassert the interrupt. A real interrupt will
                  [005C30]  7185      ; re-assert on the next polling loop.
                  [005C30]  7186  
                  [005C30]  7187  	hw_mfpr	p6, EV6__ISUM				; (0L) get ISUM
                  [005C30]  7188  .endc
                  [005C30]  7180I 
                  [005C30]  7181I     ; Some platforms, such as those with tsunami, have a problem with the
                  [005C30]  7182I     ; latency between clearing an interrupt and the interrupt being deasserted.
                  [005C30]  7183I     ; Those platforms are opting to, on isum<device_irq> set, write to
                  [005C30]  7184I     ; a tsunami csr to deassert the interrupt. A real interrupt will
                  [005C30]  7185I     ; re-assert on the next polling loop.
                  [005C30]  7186I 
         64DF0D00 [005C30]  7187I 	hw_mfpr	p6, EV6__ISUM				; (0L) get ISUM
                  [005C34]  7189  
         229E0030 [005C34]  7190  	lda	p20, OSF_FRM__SIZE(r30)			; pop kernel stack
         6FD51020 [005C38]  7191  	hw_ldq/p r30, PT__USP(p_temp)			; get usp
         7E951018 [005C3C]  7192  	hw_stq/p p20, PT__KSP(p_temp)			; save kernel stack
                  [005C40]  7193  ;
                  [005C40]  7194  ; Now set up for cm=1 and ipl=0.
                  [005C40]  7195  ;
         649F1010 [005C40]  7196  	hw_mfpr	p4, EV6__PAL_BASE			; (4,0L) get pal base
         20840D00 [005C44]  7197  	lda	p4, ipl_offset(p4)			; pal base + table base
         6C841000 [005C48]  7198  	hw_ldq/p p4, (p4)				; get new ier
                  [005C4C]  7199  
         46C1F116 [005C4C]  7200  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; clean ps
         46C11416 [005C50]  7201  	bis	p_misc, #<1@OSF_P_MISC__CM__S>, p_misc	; new ps with mode=user
         44811404 [005C54]  7202  	bis	p4, #<1@EV6__PS__CM__S>, p4		; new ier and new cm
                  [005C58]  7203  
                  [005C58]  7204  .if ne	check_interrupt_pending
                  [005C58]  7205  	xor	p6, p6, p5			; interlock isum and ier
                  [005C58]  7206  	bis	p5, p4, p4			; interlock isum and ier
                  [005C58]  7207  .endc
         44C60805 [005C58]  7205I 	xor	p6, p6, p5			; interlock isum and ier
         44A40404 [005C5C]  7206I 	bis	p5, p4, p4			; interlock isum and ier
                  [005C60]  7208  
         77E40B10 [005C60]  7209  	hw_mtpr	p4, EV6__IER_CM			; (4,0L) new ier_cm
                  [005C64]  7210  
                  [005C64]  7211  .if eq	check_interrupt_pending
                  [005C64]  7212  	hw_ret_stall (p23)			; rei to non-kern
                  [005C64]  7213  .iff
                  [005C64]  7214  	lda	p4, IRQ_DEV(r31)		; mask of IRQ(s) (IRQ1)
                  [005C64]  7215  	sll	p4, #EV6__ISUM__EI__S, p4	; shift into position
                  [005C64]  7216  	and	p6, p4, p4			; check for IRQ
                  [005C64]  7217  
                  [005C64]  7218  	bne	p4, sys__deassert_interrupt	; go off to deassert
                  [005C64]  7219  	hw_ret_stall (p23)			; otherwise finish the rei
                  [005C64]  7220  .endc
         209F0002 [005C64]  7214I 	lda	p4, IRQ_DEV(r31)		; mask of IRQ(s) (IRQ1)
         48843724 [005C68]  7215I 	sll	p4, #EV6__ISUM__EI__S, p4	; shift into position
         44C40004 [005C6C]  7216I 	and	p6, p4, p4			; check for IRQ
                  [005C70]  7217I 
         F48001B3 [005C70]  7218I 	bne	p4, sys__deassert_interrupt	; go off to deassert
         7BF7A000 [005C74]  7219I 	hw_ret_stall (p23)			; otherwise finish the rei
                  [005C78]  7221  
                  [005C78]  7222  ;
                  [005C78]  7223  ; rti to kernel mode
                  [005C78]  7224  ;
                  [005C78]  7225  ; Current state:
                  [005C78]  7226  ;	p20		new ps
                  [005C78]  7227  ;	p23		new pc, cleaned
                  [005C78]  7228  ;
                  [005C78]  7229  ; Note: probably don't need to save kernel stack to PT__KSP,
                  [005C78]  7230  ;	but it doesn't hurt.
                  [005C78]  7231  ;
                  [005C78]  7232  ; Some platforms, such as those with tsunami, have a problem with the
                  [005C78]  7233  ; latency between clearing an interrupt and the interrupt being deasserted.
                  [005C78]  7234  ; Those platforms are opting to, on isum<device_irq> set, write to
                  [005C78]  7235  ; a tsunami csr to deassert the interrupt. A real interrupt will
                  [005C78]  7236  ; re-assert on the next polling loop.
                  [005C78]  7237  ;
                  [005C78]  7238  call_pal__rti_to_kern:
                  [005C78]  7239  
                  [005C78]  7240  .if ne	check_interrupt_pending
                  [005C78]  7241  	hw_mfpr	p6, EV6__ISUM				; (0L) get ISUM	
                  [005C78]  7242  .endc
         64DF0D00 [005C78]  7241I 	hw_mfpr	p6, EV6__ISUM				; (0L) get ISUM	
                  [005C7C]  7243  
         23DE0030 [005C7C]  7244  	lda	r30, OSF_FRM__SIZE(r30)			; pop kernel stack
         7FD51018 [005C80]  7245  	hw_stq/p r30, PT__KSP(p_temp)			; save kernel stack
                  [005C84]  7246  ;
                  [005C84]  7247  ; Now set up for new PS with cm=0, new ipl.
                  [005C84]  7248  ;
         649F1010 [005C84]  7249  	hw_mfpr	p4, EV6__PAL_BASE			; (4,0L) get pal base
                  [005C88]  7250  
         4680F014 [005C88]  7251  	and	p20, #OSF_P_MISC__IPL__M, p20	; clean ps
         42840644 [005C8C]  7252  	s8addq	p20, p4, p4			; pal base + index
         20840D00 [005C90]  7253  	lda	p4, ipl_offset(p4)		; pal base + table base + index
         6C841000 [005C94]  7254  	hw_ldq/p p4, (p4)			; get new ier
                  [005C98]  7255  
         46C0F116 [005C98]  7256  	bic	p_misc, #<OSF_P_MISC__IPL__M>, p_misc	; clear out old ipl
         46D40416 [005C9C]  7257  	or	p_misc, p20, p_misc			; put new ipl in p_misc
                  [005CA0]  7258  
                  [005CA0]  7259  .if ne	check_interrupt_pending
                  [005CA0]  7260  	xor	p6, p6, p5			; interlock isum and ier
                  [005CA0]  7261  	bis	p5, p4, p4			; interlock isum and ier
                  [005CA0]  7262  .endc
         44C60805 [005CA0]  7260I 	xor	p6, p6, p5			; interlock isum and ier
         44A40404 [005CA4]  7261I 	bis	p5, p4, p4			; interlock isum and ier
                  [005CA8]  7263  
         77E40A10 [005CA8]  7264  	hw_mtpr	p4, EV6__IER			; (4,0L) write new ier
                  [005CAC]  7265  
                  [005CAC]  7266  .if eq	check_interrupt_pending
                  [005CAC]  7267  	hw_ret_stall (p23)			; rei to non-kern
                  [005CAC]  7268  .iff
                  [005CAC]  7269  	lda	p4, IRQ_DEV(r31)		; mask of IRQ(s) (IRQ1)
                  [005CAC]  7270  	sll	p4, #EV6__ISUM__EI__S, p4	; shift into position
                  [005CAC]  7271  	and	p6, p4, p4			; check for IRQ
                  [005CAC]  7272  
                  [005CAC]  7273  	bne	p4, sys__deassert_interrupt	; go off to deassert
                  [005CAC]  7274  	hw_ret_stall (p23)			; otherwise finish the rei
                  [005CAC]  7275  .endc
         209F0002 [005CAC]  7269I 	lda	p4, IRQ_DEV(r31)		; mask of IRQ(s) (IRQ1)
         48843724 [005CB0]  7270I 	sll	p4, #EV6__ISUM__EI__S, p4	; shift into position
         44C40004 [005CB4]  7271I 	and	p6, p4, p4			; check for IRQ
                  [005CB8]  7272I 
         F48001A1 [005CB8]  7273I 	bne	p4, sys__deassert_interrupt	; go off to deassert
         7BF7A000 [005CBC]  7274I 	hw_ret_stall (p23)			; otherwise finish the rei
                  [005CC0]  7276  
                  [005CC0]  7277  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005CC0]   171M         GOTO_FREE_CODE
                  [005CC0]    62M     .align 6
File: ev6_osf_pal.mar
                  [005CC0]  7278  
                  [005CC0]  7279  ;------------------------------------------------------------------------
                  [005CC0]  7280  ;+
                  [005CC0]  7281  ; CALL_PAL__BPT
                  [005CC0]  7282  ;
                  [005CC0]  7283  ; Entry:
                  [005CC0]  7284  ;	p23		pc of instruction following the call_pal instruction
                  [005CC0]  7285  ;
                  [005CC0]  7286  ; Function:
                  [005CC0]  7287  ;	The breakpoint trap instruction switches mode to kernel, builds a
                  [005CC0]  7288  ;	stack frame on the kernel stack, loads the GP with the KGP, loads
                  [005CC0]  7289  ;	a value of 0 into a0, and dispatches to the breakpoint code pointed
                  [005CC0]  7290  ;	to by the entIF register. The saved PC at (SP+08) is the address
                  [005CC0]  7291  ;	of the instruction following the trap instruction that caused the
                  [005CC0]  7292  ;	trap.
                  [005CC0]  7293  ;-
                  [005CC0]  7294  	START_CALL_PAL <BPT>
File: ev6_pal_macros.mar
                  [005CC0]   131i         ASSUME <<OSFPAL_FUNC__BPT> & <^x40>> eq 0
                  [005CC0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [003000]   143M CALL_PAL__BPT::
         47FF041F [003000]   145M 	bis	r31, r31, r31
         47FF041F [003004]   146M 	bis	r31, r31, r31
         C0800000 [003008]   147M 	br	p4, s_BPT
                  [00300C]   148M s_BPT:
         40813404 [00300C]   149M 	addq	p4, #<<e_BPT - s_BPT>+1>, p4
                  [003010]   150M 	PVC_JSR	p_BPT
                  [003010]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_bpt0, osf
         7BE48000 [003010]   151M 	hw_ret	(p4)
                  [003014]   152M 	PVC_JSR p_BPT, dest=1
                  [003014]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_bpt0, osf, \pcv_jsr_p_bpt0_inst
                  [003014]   153M e_BPT:
         47FF041F [003014]   154M 	bis	r31, r31, r31
         47FF041F [003018]   155M 	bis	r31, r31, r31
         C3E00B28 [00301C]   156M 	br	r31, CALL_PAL__BPT_CONT_EXTRA
                  [003020]   159M     GOTO_FREE_CODE
                  [005CC0]    62M     .align 6
                  [005CC0]   160M CALL_PAL__BPT_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005CC0]  7295  
         47E01404 [005CC0]  7296  	bis	r31, #OSF_A0__BPT, p4			; new a0
         7C9510A0 [005CC4]  7297  	hw_stq/p p4, PT__NEW_A0(p_temp)			; save it away
         C3E00000 [005CC8]  7298  	br	r31, call_pal__bpt_post_if		; merge to complete
                  [005CCC]  7299  
                  [005CCC]  7300  	CONT_CALL_PAL
                  [005CCC]  7301  ;
                  [005CCC]  7302  ; Merge bpt, bugchk, and gentrap to finish up.
                  [005CCC]  7303  ;
                  [005CCC]  7304  call_pal__bpt_post_if:
                  [005CCC]  7305  
         46C11004 [005CCC]  7306  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         46C1F014 [005CD0]  7307  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4800008 [005CD4]  7308  	beq	p4, trap__bpt_stack			; skip switch if kernel
                  [005CD8]  7309  ;
                  [005CD8]  7310  ; Switch to kernel mode. 
                  [005CD8]  7311  ;
                  [005CD8]  7312  bpt_cm_offset = <trap__bpt_stack - trap__bpt_cm>
                  [005CD8]  7313  
         7FD51020 [005CD8]  7314  	hw_stq/p r30, PT__USP(p_temp)			; save user SP
         6FD51018 [005CDC]  7315  	hw_ldq/p r30, PT__KSP(p_temp)			; get kernel SP
         46C1F116 [005CE0]  7316  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; cm=0, ipl=0
                  [005CE4]  7317  
         C0C00000 [005CE4]  7318  	br	p6, trap__bpt_cm			; change mode to kernel
                  [005CE8]  7319  trap__bpt_cm:
         40C23406 [005CE8]  7320  	addq	p6, #<bpt_cm_offset+1>, p6		; jump past in palmode
         77FF0910 [005CEC]  7321  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [005CF0]  7322  	bsr	r31, .					; push prediction stack
                  [005CF4]  7323  	PVC_JSR	bpt_cm					; synch up
File: ev6_pal_macros.mar
                  [005CF4]   526i  pvc_lbl \pcv_index, \pcv_jsr_bpt_cm0, osf
File: ev6_osf_pal.mar
         7BE6A000 [005CF4]  7324  	hw_ret_stall (p6)				; pop prediction stack
                  [005CF8]  7325  	PVC_JSR	bpt_cm, dest=1
File: ev6_pal_macros.mar
                  [005CF8]   529i  pvc_lbl \pcv_index, \pcv_jsr_bpt_cm0, osf, \pcv_jsr_bpt_cm0_inst
File: ev6_osf_pal.mar
                  [005CF8]  7326  ;
                  [005CF8]  7327  ; Take the trap. Be careful of tb miss!
                  [005CF8]  7328  ; Current state:
                  [005CF8]  7329  ;	p_misc__ps	if we were in kernel, original ps
                  [005CF8]  7330  ;			if we were in user, new ps = 0 (cm=0, ipl=0)
                  [005CF8]  7331  ;	p20		original ps
                  [005CF8]  7332  ;	p23		nextpc
                  [005CF8]  7333  ;
                  [005CF8]  7334  trap__bpt_stack:
         7EF51098 [005CF8]  7335  	hw_stq/p p23, PT__STACK_PC(p_temp)		; store away nextpc
                  [005CFC]  7336  
         23DEFFD0 [005CFC]  7337  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [005D00]  7338  
         B69E0000 [005D00]  7339  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [005D04]  7340  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [005D08]  7341  
         6E951098 [005D08]  7342  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get pc back
                  [005D0C]  7343  
         B7BE0010 [005D0C]  7344  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [005D10]  7345  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [005D14]  7346  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [005D18]  7347  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save next pc
                  [005D1C]  7348  
                  [005D1C]  7349  .if ne srom_debug_io*debug_err
                  [005D1C]  7350  
                  [005D1C]  7351  	GET_32CONS      r16, ^x42554720, r31		; "BUG TRAP"
                  [005D1C]  7352  	sll             r16, #32, r16
                  [005D1C]  7353  	GET_32CONS      r16, ^x54524150, r16		;
                  [005D1C]  7354  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [005D1C]  7355  
                  [005D1C]  7356  	; dump faulting PC
                  [005D1C]  7357  	bis             p23, r31, r16
                  [005D1C]  7358  	bsr             p7, Sys_Cserve_Srom_Putnum
                  [005D1C]  7359  
                  [005D1C]  7360  	; dump faulting RA (gives a clue of where we were going back to)
                  [005D1C]  7361  	bis		r26, r31, r16
                  [005D1C]  7362  	bsr		p7, Sys_Cserve_Srom_Putnum
                  [005D1C]  7363  .endc							; srom_debug_io
                  [005D1C]  7364  
         6EF51048 [005D1C]  7365  	hw_ldq/p p23, PT__ENT_IF(p_temp)		; get entry point
         6FB51028 [005D20]  7366  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         6E1510A0 [005D24]  7367  	hw_ldq/p r16, PT__NEW_A0(p_temp)		; a0 <- type code
                  [005D28]  7368  
         7BF78000 [005D28]  7369  	hw_ret	(p23)					; to os
                  [005D2C]  7370  
                  [005D2C]  7371  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005D2C]   171M         GOTO_FREE_CODE
00000000 00000000 [005D2C]    62M     .align 6
00000000 00000000 [005D34]
         00000000 [005D3C]
File: ev6_osf_pal.mar
                  [005D40]  7372  
                  [005D40]  7373  ;------------------------------------------------------------------------
                  [005D40]  7374  ;+
                  [005D40]  7375  ; CALL_PAL__BUGCHK
                  [005D40]  7376  ;
                  [005D40]  7377  ; Entry:
                  [005D40]  7378  ;	p23		pc of instruction following the call_pal instruction
                  [005D40]  7379  ;
                  [005D40]  7380  ; Function:
                  [005D40]  7381  ;	The bugchk instruction switches mode to kernel, builds a
                  [005D40]  7382  ;	stack frame on the kernel stack, loads the GP with the KGP, loads
                  [005D40]  7383  ;	a value of 1 into a0, and dispatches to the breakpoint code pointed
                  [005D40]  7384  ;	to by the entIF register. The saved PC at (SP+08) is the address
                  [005D40]  7385  ;	of the instruction following the trap instruction that caused the
                  [005D40]  7386  ;	trap.
                  [005D40]  7387  ;-
                  [005D40]  7388  	START_CALL_PAL <BUGCHK>
File: ev6_pal_macros.mar
                  [005D40]   131i         ASSUME <<OSFPAL_FUNC__BUGCHK> & <^x40>> eq 0
                  [005D40]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [003040]   143M CALL_PAL__BUGCHK::
         47FF041F [003040]   145M 	bis	r31, r31, r31
         47FF041F [003044]   146M 	bis	r31, r31, r31
         C0800000 [003048]   147M 	br	p4, s_BUGCHK
                  [00304C]   148M s_BUGCHK:
         40813404 [00304C]   149M 	addq	p4, #<<e_BUGCHK - s_BUGCHK>+1>, p4
                  [003050]   150M 	PVC_JSR	p_BUGCHK
                  [003050]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_bugchk0, osf
         7BE48000 [003050]   151M 	hw_ret	(p4)
                  [003054]   152M 	PVC_JSR p_BUGCHK, dest=1
                  [003054]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_bugchk0, osf, \pcv_jsr_p_bugchk0_inst
                  [003054]   153M e_BUGCHK:
         47FF041F [003054]   154M 	bis	r31, r31, r31
         47FF041F [003058]   155M 	bis	r31, r31, r31
         C3E00B38 [00305C]   156M 	br	r31, CALL_PAL__BUGCHK_CONT_EXTRA
                  [003060]   159M     GOTO_FREE_CODE
                  [005D40]    62M     .align 6
                  [005D40]   160M CALL_PAL__BUGCHK_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005D40]  7389  
         47E03404 [005D40]  7390  	bis	r31, #OSF_A0__BUGCHK, p4		; new a0
         7C9510A0 [005D44]  7391  	hw_stq/p p4, PT__NEW_A0(p_temp)			; save it away
         C3FFFFE0 [005D48]  7392  	br	r31, call_pal__bpt_post_if		; merge to complete
                  [005D4C]  7393  
                  [005D4C]  7394  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005D4C]   171M         GOTO_FREE_CODE
00000000 00000000 [005D4C]    62M     .align 6
00000000 00000000 [005D54]
00000000 00000000 [005D5C]
00000000 00000000 [005D64]
00000000 00000000 [005D6C]
00000000 00000000 [005D74]
         00000000 [005D7C]
File: ev6_osf_pal.mar
                  [005D80]  7395  
                  [005D80]  7396  ;------------------------------------------------------------------------
                  [005D80]  7397  ;+
                  [005D80]  7398  ; CALL_PAL__CALLSYS
                  [005D80]  7399  ;
                  [005D80]  7400  ; Entry:
                  [005D80]  7401  ;	p23		pc of instruction following the call_pal instruction
                  [005D80]  7402  ;
                  [005D80]  7403  ; Function:
                  [005D80]  7404  ;	The system call instruction is supported only from user mode.
                  [005D80]  7405  ;	Issuing a callsys from kernel mode causes a machine check exception.
                  [005D80]  7406  ;	The callsys instruction switches mode to kernel and builds a
                  [005D80]  7407  ;	callsys stack frame. The GP is loaded with the KGP. The exception
                  [005D80]  7408  ;	then dispatches to the system call code pointed to by the
                  [005D80]  7409  ;	entSys register.
                  [005D80]  7410  ;-
                  [005D80]  7411  	START_CALL_PAL <CALLSYS>
File: ev6_pal_macros.mar
                  [005D80]   131i         ASSUME <<OSFPAL_FUNC__CALLSYS> & <^x40>> eq 0
                  [005D80]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [0030C0]   143M CALL_PAL__CALLSYS::
         47FF041F [0030C0]   145M 	bis	r31, r31, r31
         47FF041F [0030C4]   146M 	bis	r31, r31, r31
         C0800000 [0030C8]   147M 	br	p4, s_CALLSYS
                  [0030CC]   148M s_CALLSYS:
         40813404 [0030CC]   149M 	addq	p4, #<<e_CALLSYS - s_CALLSYS>+1>, p4
                  [0030D0]   150M 	PVC_JSR	p_CALLSYS
                  [0030D0]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_callsys0, osf
         7BE48000 [0030D0]   151M 	hw_ret	(p4)
                  [0030D4]   152M 	PVC_JSR p_CALLSYS, dest=1
                  [0030D4]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_callsys0, osf, \pcv_jsr_p_callsys0_inst
                  [0030D4]   153M e_CALLSYS:
         47FF041F [0030D4]   154M 	bis	r31, r31, r31
         47FF041F [0030D8]   155M 	bis	r31, r31, r31
         C3E00B28 [0030DC]   156M 	br	r31, CALL_PAL__CALLSYS_CONT_EXTRA
                  [0030E0]   159M     GOTO_FREE_CODE
                  [005D80]    62M     .align 6
                  [005D80]   160M CALL_PAL__CALLSYS_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005D80]  7412  
         46C11004 [005D80]  7413  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         46C1F014 [005D84]  7414  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E49FE9E5 [005D88]  7415  	beq	p4, trap__pal_os_bugcheck		; mchk if kernel mode
                  [005D8C]  7416  ;
                  [005D8C]  7417  ; Switch to kernel mode. 
                  [005D8C]  7418  ;
                  [005D8C]  7419  callsys_cm_offset = <trap__callsys_cm_done - trap__callsys_cm>
                  [005D8C]  7420  
         7FD51020 [005D8C]  7421  	hw_stq/p r30, PT__USP(p_temp)			; save user SP
         6FD51018 [005D90]  7422  	hw_ldq/p r30, PT__KSP(p_temp)			; get kernel SP
         46C1F116 [005D94]  7423  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; cm=0, ipl=0
                  [005D98]  7424  
         C0C00000 [005D98]  7425  	br	p6, trap__callsys_cm			; change mode to kernel
                  [005D9C]  7426  trap__callsys_cm:
         40C23406 [005D9C]  7427  	addq	p6, #<callsys_cm_offset+1>, p6		; jump past in palmode
         77FF0910 [005DA0]  7428  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [005DA4]  7429  	bsr	r31, .					; push prediciton stack
                  [005DA8]  7430  	PVC_JSR	callsys_cm				; synch up
File: ev6_pal_macros.mar
                  [005DA8]   526i  pvc_lbl \pcv_index, \pcv_jsr_callsys_cm0, osf
File: ev6_osf_pal.mar
         7BE6A000 [005DA8]  7431  	hw_ret_stall (p6)				; pop prediction stack
                  [005DAC]  7432  	PVC_JSR	callsys_cm, dest=1
File: ev6_pal_macros.mar
                  [005DAC]   529i  pvc_lbl \pcv_index, \pcv_jsr_callsys_cm0, osf, \pcv_jsr_callsys_cm0_inst
File: ev6_osf_pal.mar
                  [005DAC]  7433  trap__callsys_cm_done:
                  [005DAC]  7434  
                  [005DAC]  7435  	CONT_CALL_PAL <CALLSYS>
File: ev6_pal_macros.mar
         C3E00000 [005DAC]   201i 	br	r31, CALL_PAL__CALLSYS_CONT
                  [005DB0]   204i     .align 4, <^x47FF041F>
                  [005DB0]   205i CALL_PAL__CALLSYS_CONT:
File: ev6_osf_pal.mar
                  [005DB0]  7436  ;
                  [005DB0]  7437  ; Take the trap. Be careful of tb miss!
                  [005DB0]  7438  ; Current state:
                  [005DB0]  7439  ;	p_misc__ps	new ps = 0 (cm=0, ipl=0)
                  [005DB0]  7440  ;	p20		original ps (cm=1, ipl=0)
                  [005DB0]  7441  ;	p23		nextpc
                  [005DB0]  7442  ;
         7EF51098 [005DB0]  7443  	hw_stq/p p23, PT__STACK_PC(p_temp)		; store away nextpc
                  [005DB4]  7444  
         23DEFFD0 [005DB4]  7445  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [005DB8]  7446  
         B69E0000 [005DB8]  7447  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B7BE0010 [005DBC]  7448  	stq	r29, OSF_FRM__GP(r30)			; save gp
                  [005DC0]  7449  
         6E951098 [005DC0]  7450  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get nextpc back
                  [005DC4]  7451  
         B69E0008 [005DC4]  7452  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save nextpc
                  [005DC8]  7453  
         6EF51058 [005DC8]  7454  	hw_ldq/p p23, PT__ENT_SYS(p_temp)		; get entry point
         6FB51028 [005DCC]  7455  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
                  [005DD0]  7456  
         7BF78000 [005DD0]  7457  	hw_ret	(p23)					; to os
                  [005DD4]  7458  
                  [005DD4]  7459  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005DD4]   171M         GOTO_FREE_CODE
00000000 00000000 [005DD4]    62M     .align 6
00000000 00000000 [005DDC]
00000000 00000000 [005DE4]
00000000 00000000 [005DEC]
00000000 00000000 [005DF4]
         00000000 [005DFC]
File: ev6_osf_pal.mar
                  [005E00]  7460  
                  [005E00]  7461  ;------------------------------------------------------------------------
                  [005E00]  7462  ;+
                  [005E00]  7463  ; CALL_PAL__IMB
                  [005E00]  7464  ;
                  [005E00]  7465  ; Entry:
                  [005E00]  7466  ;	p23		pc of instruction following the call_pal instruction
                  [005E00]  7467  ;
                  [005E00]  7468  ; Function:
                  [005E00]  7469  ;	Make instruction stream coherent with data stream. Does not
                  [005E00]  7470  ;	guarantee other processors see a modification of the instruction
                  [005E00]  7471  ;	stream.
                  [005E00]  7472  ;-
                  [005E00]  7473  	START_CALL_PAL <IMB>
File: ev6_pal_macros.mar
                  [005E00]   131i         ASSUME <<OSFPAL_FUNC__IMB> & <^x40>> eq 0
                  [005E00]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [003180]   143M CALL_PAL__IMB::
         47FF041F [003180]   145M 	bis	r31, r31, r31
         47FF041F [003184]   146M 	bis	r31, r31, r31
         C0800000 [003188]   147M 	br	p4, s_IMB
                  [00318C]   148M s_IMB:
         40813404 [00318C]   149M 	addq	p4, #<<e_IMB - s_IMB>+1>, p4
                  [003190]   150M 	PVC_JSR	p_IMB
                  [003190]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_imb0, osf
         7BE48000 [003190]   151M 	hw_ret	(p4)
                  [003194]   152M 	PVC_JSR p_IMB, dest=1
                  [003194]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_imb0, osf, \pcv_jsr_p_imb0_inst
                  [003194]   153M e_IMB:
         47FF041F [003194]   154M 	bis	r31, r31, r31
         47FF041F [003198]   155M 	bis	r31, r31, r31
         C3E00B18 [00319C]   156M 	br	r31, CALL_PAL__IMB_CONT_EXTRA
                  [0031A0]   159M     GOTO_FREE_CODE
                  [005E00]    62M     .align 6
                  [005E00]   160M CALL_PAL__IMB_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005E00]  7474  
         63FF4000 [005E00]  7475  	MB					; force memory operations
                  [005E04]  7476  	NOP
File: ev6_pal_macros.mar
         47FF041F [005E04]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005E08]  7477  	NOP
File: ev6_pal_macros.mar
         47FF041F [005E08]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005E0C]  7478  	NOP
File: ev6_pal_macros.mar
         47FF041F [005E0C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005E10]  7479  
         77FF1310 [005E10]  7480  	hw_mtpr	r31, EV6__IC_FLUSH		; (4,0L) flush the icache
         F7E00000 [005E14]  7481  	bne	r31, .				; pvc #24
         7BF7A000 [005E18]  7482  	hw_ret_stall (p23)			; return with stall
                  [005E1C]  7483  
                  [005E1C]  7484  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005E1C]   171M         GOTO_FREE_CODE
00000000 00000000 [005E1C]    62M     .align 6
00000000 00000000 [005E24]
00000000 00000000 [005E2C]
00000000 00000000 [005E34]
         00000000 [005E3C]
File: ev6_osf_pal.mar
                  [005E40]  7485  
                  [005E40]  7486  
                  [005E40]  7487  ASSUME <clrmap+force_ecc> ne 2
                  [005E40]  7488  .if ne force_ecc
                  [005E40]  7489  ;------------------------------------------------------------------------
                  [005E40]  7490  ;+
                  [005E40]  7491  ; CALL_PAL__ECC_ERROR
                  [005E40]  7492  ;
                  [005E40]  7493  ; Entry:
                  [005E40]  7494  ;	r16		address
                  [005E40]  7495  ;	r17		data
                  [005E40]  7496  ;       p23             pc of instruction following the call_pal instruction
                  [005E40]  7497  ;
                  [005E40]  7498  ; Function:
                  [005E40]  7499  ;	Force ecc error.
                  [005E40]  7500  ;
                  [005E40]  7501  ; Current state:
                  [005E40]  7502  ;	p21	p_temp
                  [005E40]  7503  ;	p22	p_misc
                  [005E40]  7504  ;	p23	linkage register
                  [005E40]  7505  ;
                  [005E40]  7506  ; Exit state:
                  [005E40]  7507  ;       r0	clobbered
                  [005E40]  7508  ;
                  [005E40]  7509  ; Note: This is a debugging call_pal. It is not particularly robust.
                  [005E40]  7510  ; In particular, it does not expect any exceptions on the virtual accesses.
                  [005E40]  7511  ;-
                  [005E40]  7512  
                  [005E40]  7513  OSFPAL_FUNC__ECCTEST        = ^x87
                  [005E40]  7514  
                  [005E40]  7515          START_CALL_PAL <ECCTEST>
                  [005E40]  7516  
                  [005E40]  7517          mb					; force completion
                  [005E40]  7518          hw_ldq/p p20, PT__IMPURE(p_temp)	; impure base
                  [005E40]  7519          hw_ldq/p r0, CNS__DC_CTL(p20)		; get old DC_CTL value
                  [005E40]  7520          ldq     p20, (r16)			; (xL,4) read the data
                  [005E40]  7521  
                  [005E40]  7522          mb					; force completion
                  [005E40]  7523          xor     p20, r17, p20
                  [005E40]  7524          bis     r0, #^x20, r0
                  [005E40]  7525          hw_mtpr r0, EV6__DC_CTL			; (6,0L) write DC_CTL
                  [005E40]  7526  
                  [005E40]  7527          bis     r31, r31, r31			
                  [005E40]  7528          bis     r31, r31, r31
                  [005E40]  7529          mb					; force completion
                  [005E40]  7530          hw_mtpr r0, EV6__DC_CTL			; (6,0L) force retire
                  [005E40]  7531  
                  [005E40]  7532  	CONT_CALL_PAL <ECCTEST>
                  [005E40]  7533  
                  [005E40]  7534          ASSUME_FETCH_BLOCK
                  [005E40]  7535  
                  [005E40]  7536          stq     p20, (r16)			; (xL,4) write the data
                  [005E40]  7537          mb					; force completion
                  [005E40]  7538          bic     r0, #^x20, r0
                  [005E40]  7539          hw_mtpr r0, EV6__DC_CTL			; (6,0L) restore DC_CTL
                  [005E40]  7540  
                  [005E40]  7541          bis     r31, r31, r31
                  [005E40]  7542          bis     r31, r31, r31
                  [005E40]  7543          mb					; force completion
                  [005E40]  7544          hw_mtpr r0, EV6__DC_CTL			; (6,0L) force retire
                  [005E40]  7545  
                  [005E40]  7546          bis     r31, r31, r31
                  [005E40]  7547          hw_ret  (p23)				; return
                  [005E40]  7548  
                  [005E40]  7549          END_CALL_PAL
                  [005E40]  7550  .endc
                  [005E40]  7551  
                  [005E40]  7552  
                  [005E40]  7553  .if ne clrmap
                  [005E40]  7554  ;------------------------------------------------------------------------
                  [005E40]  7555  ;+
                  [005E40]  7556  ; CALL_PAL__CLRMAP
                  [005E40]  7557  ;
                  [005E40]  7558  ; Entry:
                  [005E40]  7559  ;       p23             pc of instruction following the call_pal instruction
                  [005E40]  7560  ;
                  [005E40]  7561  ; Function:
                  [005E40]  7562  ;	Clear the register map
                  [005E40]  7563  ;
                  [005E40]  7564  ; Current state:
                  [005E40]  7565  ;	p21	p_temp
                  [005E40]  7566  ;	p22	p_misc
                  [005E40]  7567  ;	p23	linkage register
                  [005E40]  7568  ;
                  [005E40]  7569  ; Exit state:
                  [005E40]  7570  ;       restored
                  [005E40]  7571  ;-
                  [005E40]  7572  
                  [005E40]  7573  OSFPAL_FUNC__CLRMAP        = ^x87
                  [005E40]  7574  
                  [005E40]  7575          START_CALL_PAL <CLRMAP>
                  [005E40]  7576  
                  [005E40]  7577    .if eq ev6_p1
                  [005E40]  7578  	hw_ret	(p23)				; just return if not p1
                  [005E40]  7579    .iff
                  [005E40]  7580  
                  [005E40]  7581          hw_mfpr p7, EV6__PAL_BASE		; (4,0L) pal base
                  [005E40]  7582  	hw_ldq/p p6, PT__WHAMI(p_temp)		; get my cpu number
                  [005E40]  7583  	s8addq	p6, p7, p7			; (cpu*8)+base
                  [005E40]  7584  	hw_stq/p p_temp, ^x30(p7)		; p_temp at ^x30+(cpu*8)+base
                  [005E40]  7585  
                  [005E40]  7586          hw_ldq/p p4, PT__IMPURE(p_temp)		; get base of impure area
                  [005E40]  7587          hw_stq/p p_misc, CNS__P_MISC(p4)	; store p_misc
                  [005E40]  7588          hw_stq/p p23, CNS__P23(p4)		; store call_pal linkage
                  [005E40]  7589  	hw_mfpr	p5, EV6__SIRR			; (4,0L) get sirr
                  [005E40]  7590  
                  [005E40]  7591  	hw_stq/p p5, CNS__SIRR(p4)		; store sirr
                  [005E40]  7592  	sll	p6, #EV6__SIRR__SIR__S, p6	; cpu number into place
                  [005E40]  7593  	hw_mtpr	p6, EV6__SIRR			; (4,0L) save cpu number
                  [005E40]  7594  	bis	r31, r31, r31			; pad fetch block
                  [005E40]  7595  
                  [005E40]  7596          hw_mfpr  p5, EV6__I_CTL                 ; (4,0L) get i_ctl
                  [005E40]  7597  
                  [005E40]  7598  	CONT_CALL_PAL <CLRMASK>
                  [005E40]  7599  
                  [005E40]  7600          ASSUME_FETCH_BLOCK
                  [005E40]  7601  
                  [005E40]  7602  	GET_32CONS p20, <^x804000>, r31		; hack for ev6isp
                  [005E40]  7603  	bic	p5, p20, p5			; clear unpredictables
                  [005E40]  7604          hw_stq/p p5, CNS__I_CTL(p4)		; store i_ctl
                  [005E40]  7605  
                  [005E40]  7606          hw_stq/p r0, CNS__R0(p4)           	; save r0
                  [005E40]  7607          hw_stq/p r1, CNS__R1(p4)           	; save r1
                  [005E40]  7608          hw_stq/p r2, CNS__R2(p4)           	; save r2
                  [005E40]  7609          hw_mfpr r2, EV6__I_CTL                  ; (4,0L) get i_ctl
                  [005E40]  7610  
                  [005E40]  7611          bis     p4, r31, r1                     ; impure base into r1
                  [005E40]  7612          bic     r2, #<2@EV6__I_CTL__SDE__S>, r2 ; zap sde
                  [005E40]  7613          hw_stq/p r3, CNS__R3(p4)           	; save r3
                  [005E40]  7614          hw_stq/p r8, CNS__R8(r1)           	; save gpr
                  [005E40]  7615  
                  [005E40]  7616          hw_mtpr r2, EV6__I_CTL                  ; (4,0L) write i_ctl
                  [005E40]  7617          hw_stq/p r9, CNS__R9(r1)           	; save gpr
                  [005E40]  7618          hw_stq/p r10, CNS__R10(r1)         	; save gpr
                  [005E40]  7619          hw_stq/p r11, CNS__R11(r1)         	; save gpr
                  [005E40]  7620  
                  [005E40]  7621          hw_mtpr r2, EV6__I_CTL                  ; (4,0L) stall outside IQ
                  [005E40]  7622          hw_stq/p r12, CNS__R12(r1)         	; save gpr
                  [005E40]  7623          hw_stq/p r13, CNS__R13(r1)         	; save gpr
                  [005E40]  7624          hw_stq/p r14, CNS__R14(r1)         	; save gpr
                  [005E40]  7625  
                  [005E40]  7626          hw_stq/p r15, CNS__R15(r1)         	; buffer block 1 -- save gpr
                  [005E40]  7627          hw_stq/p r16, CNS__R16(r1)         	; save gpr
                  [005E40]  7628          hw_stq/p r17, CNS__R17(r1)         	; save gpr
                  [005E40]  7629          hw_stq/p r18, CNS__R18(r1)         	; save gpr
                  [005E40]  7630  
                  [005E40]  7631          hw_stq/p r19, CNS__R19(r1)         	; buffer block 2 -- save gpr
                  [005E40]  7632          hw_stq/p r24, CNS__R24(r1)         	; save gpr
                  [005E40]  7633          hw_stq/p r25, CNS__R25(r1)         	; save gpr
                  [005E40]  7634          hw_stq/p r26, CNS__R26(r1)         	; save gpr
                  [005E40]  7635  
                  [005E40]  7636          hw_stq/p r27, CNS__R27(r1)         	; buffer block 3 -- save gpr
                  [005E40]  7637          hw_stq/p r28, CNS__R28(r1)         	; save gpr
                  [005E40]  7638          hw_stq/p r29, CNS__R29(r1)         	; save gpr
                  [005E40]  7639          hw_stq/p r30, CNS__R30(r1)         	; save gpr
                  [005E40]  7640  
                  [005E40]  7641          hw_stq/p r4, CNS__R4(r1)           	; save gpr
                  [005E40]  7642          hw_stq/p r5, CNS__R5(r1)           	; save gpr
                  [005E40]  7643          hw_stq/p r6, CNS__R6(r1)           	; save gpr
                  [005E40]  7644          hw_stq/p r7, CNS__R7(r1)           	; save gpr
                  [005E40]  7645  
                  [005E40]  7646          hw_stq/p r20, CNS__R20(r1)         	; save gpr
                  [005E40]  7647          hw_stq/p r21, CNS__R21(r1)         	; save gpr
                  [005E40]  7648          hw_stq/p r22, CNS__R22(r1)         	; save gpr
                  [005E40]  7649          hw_stq/p r23, CNS__R23(r1)         	; save gpr
                  [005E40]  7650  
                  [005E40]  7651          hw_stq/p r31, CNS__R31(r1)         	; save gpr
                  [005E40]  7652  	bis	r31, r31, r31
                  [005E40]  7653  	bis	r31, r31, r31
                  [005E40]  7654  	mb					; dll -- add mb
                  [005E40]  7655  
                  [005E40]  7656          hw_mfpr r0, EV6__I_CTL			; (4,0L) get i_ctl
                  [005E40]  7657          or	r31, #EV6__I_CTL__SBE__M, r3	; form SBE mask
                  [005E40]  7658          sll 	r3, #EV6__I_CTL__SBE__S, r3
                  [005E40]  7659          bic	r0, r3, r0			; zap SBE bits
                  [005E40]  7660  
                  [005E40]  7661  clr_map_1_offset = <clr_map_1_done - clr_map_1>
                  [005E40]  7662  
                  [005E40]  7663          hw_mtpr r0, EV6__I_CTL			; (4,0L) turn off stream buffers
                  [005E40]  7664  	br	r2, clr_map_1
                  [005E40]  7665  clr_map_1:
                  [005E40]  7666  	addq	r2, #<clr_map_1_offset+1>, r2	; jump past in palmode
                  [005E40]  7667  	bsr	r31, .				; push prediction stack
                  [005E40]  7668  
                  [005E40]  7669          hw_mtpr r31, EV6__IC_FLUSH		; flush icache
                  [005E40]  7670  	bne	r31, .
                  [005E40]  7671  	PVC_JSR	clr_map_1			; synch up
                  [005E40]  7672  	hw_ret_stall (r2)			; pop prediction stack
                  [005E40]  7673  	PVC_JSR	clr_map_1, dest=1
                  [005E40]  7674  
                  [005E40]  7675          .ALIGN 6 ,<^X47FF041F>
                  [005E40]  7676  clr_map_1_done:
                  [005E40]  7677          hw_mtpr r0, EV6__CLR_MAP      		; (4-7,0L) clear map
                  [005E40]  7678  	NOP
                  [005E40]  7679  	NOP
                  [005E40]  7680  	NOP
                  [005E40]  7681  
                  [005E40]  7682  	NOP					; dll - add quiet stuff
                  [005E40]  7683  	NOP
                  [005E40]  7684  	NOP
                  [005E40]  7685  	NOP
                  [005E40]  7686  
                  [005E40]  7687  clr_map_2_offset = <real_code_1 - clr_map_2>
                  [005E40]  7688  
                  [005E40]  7689  	NOP
                  [005E40]  7690  	NOP
                  [005E40]  7691  	bsr	r31, .				; push prediction stack
                  [005E40]  7692  	lda	r3, <clr_map_2_offset>(r31)
                  [005E40]  7693  
                  [005E40]  7694  	br	r2, clr_map_2
                  [005E40]  7695  clr_map_2:
                  [005E40]  7696  	addq	r2, r3, r2
                  [005E40]  7697  	addq	r2, #<1>, r2			; jump past in palmode
                  [005E40]  7698  	PVC_JSR	clr_map_2			; synch up
                  [005E40]  7699  	hw_ret_stall (r2)			; pop prediction stack
                  [005E40]  7700  	PVC_JSR	clr_map_2, dest=1
                  [005E40]  7701  
                  [005E40]  7702  	NOP					; dll - add more quiet stuff
                  [005E40]  7703  	NOP
                  [005E40]  7704  	NOP
                  [005E40]  7705  	NOP
                  [005E40]  7706  
                  [005E40]  7707  	.ALIGN 6,<^X47FF041F>
                  [005E40]  7708  	NOP
                  [005E40]  7709  	NOP
                  [005E40]  7710  	NOP
                  [005E40]  7711  	NOP
                  [005E40]  7712  
                  [005E40]  7713  	.ALIGN 6,<^X47FF041F>
                  [005E40]  7714  	NOP
                  [005E40]  7715  	NOP
                  [005E40]  7716  	NOP
                  [005E40]  7717  	NOP
                  [005E40]  7718  
                  [005E40]  7719  	.ALIGN 6,<^X47FF041F>
                  [005E40]  7720  	NOP
                  [005E40]  7721  	NOP
                  [005E40]  7722  	NOP
                  [005E40]  7723  	NOP
                  [005E40]  7724  
                  [005E40]  7725  	.ALIGN 6,<^X47FF041F>
                  [005E40]  7726  	NOP
                  [005E40]  7727  	NOP
                  [005E40]  7728  	NOP
                  [005E40]  7729  	NOP
                  [005E40]  7730  
                  [005E40]  7731  	.ALIGN 6,<^X47FF041F>
                  [005E40]  7732  	NOP
                  [005E40]  7733  	NOP
                  [005E40]  7734  	NOP
                  [005E40]  7735  	NOP
                  [005E40]  7736  ;
                  [005E40]  7737  ; Now do the mapper again
                  [005E40]  7738  ;
                  [005E40]  7739          .ALIGN 6 ,<^X47FF041F>
                  [005E40]  7740  real_code_1:
                  [005E40]  7741          addq    r31,r31,r0
                  [005E40]  7742          addq    r31,r31,r1
                  [005E40]  7743          addq    r31,r31,r2
                  [005E40]  7744          addq    r31,r31,r3
                  [005E40]  7745  
                  [005E40]  7746          addq    r31,r31,r4
                  [005E40]  7747          addq    r31,r31,r5
                  [005E40]  7748          addq    r31,r31,r6
                  [005E40]  7749          addq    r31,r31,r7
                  [005E40]  7750  
                  [005E40]  7751          addq    r31,r31,r8
                  [005E40]  7752          addq    r31,r31,r9
                  [005E40]  7753          addq    r31,r31,r10
                  [005E40]  7754          addq    r31,r31,r11
                  [005E40]  7755  
                  [005E40]  7756          addq    r31,r31,r12
                  [005E40]  7757          addq    r31,r31,r13
                  [005E40]  7758          addq    r31,r31,r14
                  [005E40]  7759          addq    r31,r31,r15
                  [005E40]  7760  
                  [005E40]  7761          addq    r31,r31,r16
                  [005E40]  7762          addq    r31,r31,r17
                  [005E40]  7763          addq    r31,r31,r18
                  [005E40]  7764          addq    r31,r31,r19
                  [005E40]  7765  
                  [005E40]  7766          addq    r31,r31,r20
                  [005E40]  7767          addq    r31,r31,r21
                  [005E40]  7768          addq    r31,r31,r22
                  [005E40]  7769          addq    r31,r31,r23
                  [005E40]  7770  
                  [005E40]  7771          addq    r31,r31,r24
                  [005E40]  7772          addq    r31,r31,r25
                  [005E40]  7773          addq    r31,r31,r26
                  [005E40]  7774          addq    r31,r31,r27
                  [005E40]  7775  
                  [005E40]  7776          addq    r31,r31,r28
                  [005E40]  7777          addq    r31,r31,r29
                  [005E40]  7778          addq    r31,r31,r30
                  [005E40]  7779          addq    r31,r31,r0			; done 32
                  [005E40]  7780  
                  [005E40]  7781          addq    r31,r31,r0
                  [005E40]  7782          addq    r31,r31,r1
                  [005E40]  7783          addq    r31,r31,r2
                  [005E40]  7784          addq    r31,r31,r3
                  [005E40]  7785  
                  [005E40]  7786          addq    r31,r31,r4
                  [005E40]  7787          addq    r31,r31,r5
                  [005E40]  7788          addq    r31,r31,r6
                  [005E40]  7789          addq    r31,r31,r7
                  [005E40]  7790  
                  [005E40]  7791          addq    r31,r31,r8
                  [005E40]  7792          addq    r31,r31,r9
                  [005E40]  7793          addq    r31,r31,r10
                  [005E40]  7794          addq    r31,r31,r11
                  [005E40]  7795  
                  [005E40]  7796          addq    r31,r31,r12
                  [005E40]  7797          addq    r31,r31,r13
                  [005E40]  7798          addq    r31,r31,r14
                  [005E40]  7799          addq    r31,r31,r15
                  [005E40]  7800  
                  [005E40]  7801          addq    r31,r31,r16
                  [005E40]  7802          addq    r31,r31,r17
                  [005E40]  7803          addq    r31,r31,r18
                  [005E40]  7804          addq    r31,r31,r19
                  [005E40]  7805  
                  [005E40]  7806          addq    r31,r31,r20
                  [005E40]  7807          addq    r31,r31,r21
                  [005E40]  7808          addq    r31,r31,r22
                  [005E40]  7809          addq    r31,r31,r23
                  [005E40]  7810  
                  [005E40]  7811          addq    r31,r31,r24
                  [005E40]  7812          addq    r31,r31,r25
                  [005E40]  7813          addq    r31,r31,r26
                  [005E40]  7814          addq    r31,r31,r27
                  [005E40]  7815  
                  [005E40]  7816          addq    r31,r31,r28
                  [005E40]  7817          addq    r31,r31,r29
                  [005E40]  7818          addq    r31,r31,r30
                  [005E40]  7819  	addq	r31,r31,r0			; done 64
                  [005E40]  7820  
                  [005E40]  7821          addq    r31,r31,r0
                  [005E40]  7822          addq    r31,r31,r1
                  [005E40]  7823          addq    r31,r31,r2
                  [005E40]  7824          addq    r31,r31,r3
                  [005E40]  7825  
                  [005E40]  7826          addq    r31,r31,r4
                  [005E40]  7827          addq    r31,r31,r5
                  [005E40]  7828          addq    r31,r31,r6
                  [005E40]  7829          addq    r31,r31,r7
                  [005E40]  7830  
                  [005E40]  7831          addq    r31,r31,r8
                  [005E40]  7832          addq    r31,r31,r9
                  [005E40]  7833          addq    r31,r31,r10
                  [005E40]  7834          addq    r31,r31,r11
                  [005E40]  7835  
                  [005E40]  7836          addq    r31,r31,r12
                  [005E40]  7837          addq    r31,r31,r13
                  [005E40]  7838          addq    r31,r31,r14
                  [005E40]  7839          addq    r31,r31,r15			; done 80
                  [005E40]  7840  ;
                  [005E40]  7841  ; Now turn on mapper source enables
                  [005E40]  7842  ;
                  [005E40]  7843          hw_mtpr r31,EV6__ITB_IA         ; (4,0L) flush ITB, enable source map
                  [005E40]  7844          hw_mtpr r31,EV6__DTB_IA         ; (7,1L) flush DTB
                  [005E40]  7845          addq    r31,r31,r0              ; nop
                  [005E40]  7846          addq    r31,r31,r0              ; nop
                  [005E40]  7847  ;
                  [005E40]  7848  ; Create a stall outside the IQ until the mtpr EV6__ITB_IA retires.
                  [005E40]  7849  ;
                  [005E40]  7850  	PVC_VIOLATE <21>
                  [005E40]  7851          hw_mtpr r31,<EV6__MM_STAT ! ^x90>    ; (4&7,0L) IQ stall.
                  [005E40]  7852          addq    r31,r31,r0              ; nop
                  [005E40]  7853          addq    r31,r31,r0              ; nop
                  [005E40]  7854          addq    r31,r31,r0              ; nop
                  [005E40]  7855  
                  [005E40]  7856          addq    r31,r31,r0              ; 1st buffer fetch block. IMAP stall
                  [005E40]  7857          addq    r31,r31,r0              ; nop
                  [005E40]  7858          addq    r31,r31,r0              ; nop
                  [005E40]  7859          addq    r31,r31,r0              ; nop
                  [005E40]  7860  
                  [005E40]  7861          addq    r31,r31,r0              ; 2nd buffer fetch block. FMAP stall
                  [005E40]  7862          addq    r31,r31,r0              ; nop
                  [005E40]  7863          addq    r31,r31,r0              ; nop
                  [005E40]  7864          addq    r31,r31,r0              ; nop
                  [005E40]  7865  ;
                  [005E40]  7866  ; Now map the shadow registers
                  [005E40]  7867  ;
                  [005E40]  7868          lda     r0,^x0086(r31)          ; load I_CTL.....
                  [005E40]  7869  	bis	r0, r0, r0
                  [005E40]  7870  	bis	r0, r0, r0
                  [005E40]  7871  	bis	r0, r0, r0
                  [005E40]  7872  
                  [005E40]  7873          hw_mtpr r0,EV6__I_CTL           ; .....SDE=2, IC_EN=3 (SCRBRD=4)
                  [005E40]  7874  	bis	r0, r0, r0
                  [005E40]  7875  	bis	r0, r0, r0
                  [005E40]  7876  	bis	r0, r0, r0
                  [005E40]  7877  
                  [005E40]  7878          hw_mtpr r0,EV6__I_CTL           ; .....SDE=2, IC_EN=3 (SCRBRD=4)
                  [005E40]  7879          addq    r31,r31,r0              ; nop
                  [005E40]  7880          addq    r31,r31,r0              ; nop
                  [005E40]  7881          addq    r31,r31,r0              ; nop
                  [005E40]  7882  
                  [005E40]  7883          addq    r31,r31,r0              ; 1st buffer fetch block for above map-stall
                  [005E40]  7884          addq    r31,r31,r0              ; nop
                  [005E40]  7885          addq    r31,r31,r0              ; nop
                  [005E40]  7886          addq    r31,r31,r0              ; nop
                  [005E40]  7887  
                  [005E40]  7888          addq    r31,r31,r0              ; 2nd buffer fetch block for above map-stall
                  [005E40]  7889          addq    r31,r31,r0              ; nop
                  [005E40]  7890          addq    r31,r31,r0              ; nop
                  [005E40]  7891          addq    r31,r31,r0              ; nop
                  [005E40]  7892  
                  [005E40]  7893          addq    r31,r31,r0              ; need 3rd buffer fetch block to get sde bit
                  [005E40]  7894          addq    r31,r31,r0              ; nop
                  [005E40]  7895          addq    r31,r31,r0              ; nop
                  [005E40]  7896          addq    r31,r31,r0              ; nop
                  [005E40]  7897  ;
                  [005E40]  7898  ; map shadow registers
                  [005E40]  7899  ;
                  [005E40]  7900          addq    r31,r31,r4
                  [005E40]  7901          addq    r31,r31,r5
                  [005E40]  7902          addq    r31,r31,r6
                  [005E40]  7903          addq    r31,r31,r7
                  [005E40]  7904  
                  [005E40]  7905          addq    r31,r31,r20
                  [005E40]  7906          addq    r31,r31,r21
                  [005E40]  7907          addq    r31,r31,r22
                  [005E40]  7908          addq    r31,r31,r23
                  [005E40]  7909  ;
                  [005E40]  7910  ; Now restore stuff
                  [005E40]  7911  ;	p21 = p_temp
                  [005E40]  7912  ;	p22 = p_misc
                  [005E40]  7913  ;	p23 = linkage
                  [005E40]  7914  ;
                  [005E40]  7915  ;	(pal_base+^x30+(8*cpu)) = p_temp
                  [005E40]  7916  ;	CNS__P_MISC =  p_misc
                  [005E40]  7917  ;	CNS__P23    = linkage
                  [005E40]  7918  ;	CNS__I_CTL  = i_ctl
                  [005E40]  7919  ;	CNS__SIRR   = sirr value
                  [005E40]  7920  ;
                  [005E40]  7921  	ASSUME_FETCH_BLOCK
                  [005E40]  7922  
                  [005E40]  7923  	hw_mfpr	p6, EV6__SIRR			; (4,0L) get cpu number
                  [005E40]  7924  	srl	p6, #EV6__SIRR__SIR__S, p6	; shift into place
                  [005E40]  7925  	bis	r31, r31, r31
                  [005E40]  7926  	bis	r31, r31, r31
                  [005E40]  7927  
                  [005E40]  7928  	hw_mfpr	r2, EV6__PAL_BASE		; (4,0L) pal base
                  [005E40]  7929  	s8addq	p6, r2, r2			; (cpu*8)+base
                  [005E40]  7930  	hw_ldq/p p_temp, ^x30(r2)		; restore p_temp
                  [005E40]  7931  	hw_ldq/p r1, PT__IMPURE(p_temp)		; get base of impure area
                  [005E40]  7932  
                  [005E40]  7933          hw_ldq/p p_misc, CNS__P_MISC(r1)	; restore p_misc
                  [005E40]  7934          hw_ldq/p p23, CNS__P23(r1)		; restore call_pal linkage
                  [005E40]  7935  	hw_ldq/p p5, CNS__SIRR(r1)		; get SIRR back
                  [005E40]  7936  	hw_mtpr	p5, EV6__SIRR			; (4,0L) restore it
                  [005E40]  7937  
                  [005E40]  7938          hw_ldq/p r0, CNS__I_CTL(r1)		; get saved i_ctl
                  [005E40]  7939          bic     r0, #<2@EV6__I_CTL__SDE__S>, r2 ; zap sde
                  [005E40]  7940          hw_ldq/p r8, CNS__R8(r1)           	; restore gpr
                  [005E40]  7941          hw_ldq/p r9, CNS__R9(r1)           	; restore gpr
                  [005E40]  7942  
                  [005E40]  7943          hw_mtpr r2, EV6__I_CTL                  ; (4,0L) write i_ctl
                  [005E40]  7944          hw_ldq/p r10, CNS__R10(r1)         	; restore gpr
                  [005E40]  7945          hw_ldq/p r11, CNS__R11(r1)         	; restore gpr
                  [005E40]  7946          hw_ldq/p r12, CNS__R12(r1)         	; restore gpr
                  [005E40]  7947  
                  [005E40]  7948          hw_mtpr r2, EV6__I_CTL                  ; stall outside IQ
                  [005E40]  7949          hw_ldq/p r13, CNS__R13(r1)         	; restore gpr
                  [005E40]  7950          hw_ldq/p r14, CNS__R14(r1)         	; restore gpr
                  [005E40]  7951          hw_ldq/p r15, CNS__R15(r1)         	; restore gpr
                  [005E40]  7952  
                  [005E40]  7953          hw_ldq/p r16, CNS__R16(r1)         	; buffer block 1 -- restore gpr
                  [005E40]  7954          hw_ldq/p r17, CNS__R17(r1)         	; restore gpr
                  [005E40]  7955          hw_ldq/p r18, CNS__R18(r1)         	; restore gpr
                  [005E40]  7956          hw_ldq/p r19, CNS__R19(r1)         	; restore gpr
                  [005E40]  7957  
                  [005E40]  7958          hw_ldq/p r24, CNS__R24(r1)         	; buffer block 2 -- restore gpr
                  [005E40]  7959          hw_ldq/p r25, CNS__R25(r1)         	; restore gpr
                  [005E40]  7960          hw_ldq/p r26, CNS__R26(r1)         	; restore gpr
                  [005E40]  7961          hw_ldq/p r27, CNS__R27(r1)         	; restore gpr
                  [005E40]  7962  
                  [005E40]  7963          hw_ldq/p r28, CNS__R28(r1)         	; buffer block 3 -- restore gpr
                  [005E40]  7964          hw_ldq/p r29, CNS__R29(r1)         	; restore gpr
                  [005E40]  7965          hw_ldq/p r30, CNS__R30(r1)         	; restore gpr
                  [005E40]  7966          bis     r31, r31, r31
                  [005E40]  7967  
                  [005E40]  7968          hw_ldq/p r4, CNS__R4(r1)           	; restore gpr
                  [005E40]  7969          hw_ldq/p r5, CNS__R5(r1)           	; restore gpr
                  [005E40]  7970          hw_ldq/p r6, CNS__R6(r1)           	; restore gpr
                  [005E40]  7971          hw_ldq/p r7, CNS__R7(r1)           	; restore gpr
                  [005E40]  7972  
                  [005E40]  7973          hw_ldq/p r20, CNS__R20(r1)         	; restore gpr
                  [005E40]  7974          hw_ldq/p r21, CNS__R21(r1)         	; restore gpr
                  [005E40]  7975          hw_ldq/p r22, CNS__R22(r1)         	; restore gpr
                  [005E40]  7976          hw_ldq/p r23, CNS__R23(r1)         	; restore gpr
                  [005E40]  7977  ;
                  [005E40]  7978  ; Now turn shadow mode back on.
                  [005E40]  7979  ;
                  [005E40]  7980          bis     r2, #<2@EV6__I_CTL__SDE__S>, r2 ; enable sde
                  [005E40]  7981          hw_mtpr r2, EV6__I_CTL                  ; (4,0L) write i_ctl
                  [005E40]  7982          bis     r31, r31, r31
                  [005E40]  7983          bis     r31, r31, r31
                  [005E40]  7984  
                  [005E40]  7985          hw_mtpr r2, EV6__I_CTL                  ; (4,0L) stall outside IQ
                  [005E40]  7986          bis     r31, r31, r31
                  [005E40]  7987          bis     r31, r31, r31
                  [005E40]  7988          bis     r31, r31, r31
                  [005E40]  7989  
                  [005E40]  7990          bis     r0, r0, r0                      ; buffer block 1
                  [005E40]  7991          bis     r31, r31, r31
                  [005E40]  7992          bis     r31, r31, r31
                  [005E40]  7993          bis     r31, r31, r31
                  [005E40]  7994  
                  [005E40]  7995          bis     r0, r0, r0                      ; buffer block 2
                  [005E40]  7996          bis     r31, r31, r31
                  [005E40]  7997          bis     r31, r31, r31
                  [005E40]  7998          bis     r31, r31, r31
                  [005E40]  7999  
                  [005E40]  8000          bis     r0, r0, r0                      ; buffer block 3
                  [005E40]  8001          bis     r31, r31, r31
                  [005E40]  8002          bis     r31, r31, r31
                  [005E40]  8003          bis     r31, r31, r31
                  [005E40]  8004  
                  [005E40]  8005          bis     r1, #0, p4                      ; impure pointer
                  [005E40]  8006          hw_ldq/p r0, CNS__R0(p4)           	; restore r0
                  [005E40]  8007          hw_ldq/p r1, CNS__R1(p4)           	; restore r1
                  [005E40]  8008          hw_ldq/p r2, CNS__R2(p4)           	; restore r2
                  [005E40]  8009  
                  [005E40]  8010          hw_ldq/p r3, CNS__R3(p4)           	; restore r3
                  [005E40]  8011          hw_ret_stall  (p23)                     ; return
                  [005E40]  8012  
                  [005E40]  8013    .endc						; if/iff eq ev6_p1
                  [005E40]  8014  
                  [005E40]  8015          END_CALL_PAL
                  [005E40]  8016  .endc						; if ne clrmap
                  [005E40]  8017  
                  [005E40]  8018  ;------------------------------------------------------------------------
                  [005E40]  8019  ;+
                  [005E40]  8020  ; CALL_PAL__URTI
                  [005E40]  8021  ;
                  [005E40]  8022  ; Entry:
                  [005E40]  8023  ;	p23		pc of instruction following the call_pal instruction
                  [005E40]  8024  ;
                  [005E40]  8025  ; Function:
                  [005E40]  8026  ;	The return from user mode trap insruction pops the user registers
                  [005E40]  8027  ;	(a0..a2, and GP), the new user AT, SP, PC and PS from the user stack.
                  [005E40]  8028  ;
                  [005E40]  8029  ; Stack Frame:
                  [005E40]  8030  ;	---------------------------------------------------------
                  [005E40]  8031  ;	|			at				|:00
                  [005E40]  8032  ;	---------------------------------------------------------
                  [005E40]  8033  ;	|			SP				|:08
                  [005E40]  8034  ;	---------------------------------------------------------
                  [005E40]  8035  ;	|			PS				|:16
                  [005E40]  8036  ;	---------------------------------------------------------
                  [005E40]  8037  ;	|			PC				|:24
                  [005E40]  8038  ;	---------------------------------------------------------
                  [005E40]  8039  ;	|			GP				|:32
                  [005E40]  8040  ;	---------------------------------------------------------
                  [005E40]  8041  ;	|			a0				|:40
                  [005E40]  8042  ;	---------------------------------------------------------
                  [005E40]  8043  ;	|			a1				|:48
                  [005E40]  8044  ;	---------------------------------------------------------
                  [005E40]  8045  ;	|			a2				|:56
                  [005E40]  8046  ;	---------------------------------------------------------
                  [005E40]  8047  ;
                  [005E40]  8048  ; Algorithm:
                  [005E40]  8049  ;	if (PS<mode> EQ 0) then
                  [005E40]  8050  ;		machineCheck
                  [005E40]  8051  ;	 endif
                  [005E40]  8052  ;	if {SP<5:0> NE 0 }
                  [005E40]  8053  ;		{ initiate illegal operand exception }
                  [005E40]  8054  ;	tempps  <- (SP+16)              ! Check access to stack frame
                  [005E40]  8055  ;	if {{ tempps<mode> EQ 0 } OR {tempps<IPL> NE 0 }} then
                  [005E40]  8056  ;		{ initiate illegal operand exception }
                  [005E40]  8057  ;	endif
                  [005E40]  8058  ;
                  [005E40]  8059  ;	at      <- (SP+0)
                  [005E40]  8060  ;	tempsp  <- (SP+8)
                  [005E40]  8061  ;	temppc  <- (SP+24)
                  [005E40]  8062  ;	GP      <- (SP+32)
                  [005E40]  8063  ;	a0      <- (SP+40)
                  [005E40]  8064  ;	a1      <- (SP+48)
                  [005E40]  8065  ;	a2      <- (SP+56)
                  [005E40]  8066  ;
                  [005E40]  8067  ;	intr_flag = 0
                  [005E40]  8068  ;	lock_flag = 0
                  [005E40]  8069  ;
                  [005E40]  8070  ;	SP      <- tempsp
                  [005E40]  8071  ;	PC      <- temppc
                  [005E40]  8072  ;
                  [005E40]  8073  ; Note: On a multiprocessor system, the other CPU can mark the in-memory
                  [005E40]  8074  ; PTE with fault bits to indicate it is a LRU candidate for the VM
                  [005E40]  8075  ; system. The PALcode must ensure it sees the same PTE throughout the
                  [005E40]  8076  ; operation. By doing a scoreboard stall, we ensure that we either
                  [005E40]  8077  ; get what's already in the TB for the entire operation, or take the
                  [005E40]  8078  ; miss and get a new PTE that we use for the entire operation.
                  [005E40]  8079  ;-
                  [005E40]  8080  	START_CALL_PAL <URTI>
File: ev6_pal_macros.mar
                  [005E40]   131i         ASSUME <<OSFPAL_FUNC__URTI> & <^x40>> eq 0
                  [005E40]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [003480]   143M CALL_PAL__URTI::
         47FF041F [003480]   145M 	bis	r31, r31, r31
         47FF041F [003484]   146M 	bis	r31, r31, r31
         C0800000 [003488]   147M 	br	p4, s_URTI
                  [00348C]   148M s_URTI:
         40813404 [00348C]   149M 	addq	p4, #<<e_URTI - s_URTI>+1>, p4
                  [003490]   150M 	PVC_JSR	p_URTI
                  [003490]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_urti0, osf
         7BE48000 [003490]   151M 	hw_ret	(p4)
                  [003494]   152M 	PVC_JSR p_URTI, dest=1
                  [003494]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_urti0, osf, \pcv_jsr_p_urti0_inst
                  [003494]   153M e_URTI:
         47FF041F [003494]   154M 	bis	r31, r31, r31
         47FF041F [003498]   155M 	bis	r31, r31, r31
         C3E00A68 [00349C]   156M 	br	r31, CALL_PAL__URTI_CONT_EXTRA
                  [0034A0]   159M     GOTO_FREE_CODE
                  [005E40]    62M     .align 6
                  [005E40]   160M CALL_PAL__URTI_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005E40]  8081  
         77FF27F0 [005E40]  8082  	hw_mtpr	r31, <EV6__MM_STAT ! ^xF0>	; 1.40 wait for pte write
                  [005E44]  8083  
         7EF51098 [005E44]  8084  	hw_stq/p p23, PT__STACK_PC(p_temp)		; in case of fault
                  [005E48]  8085  
         46C11004 [005E48]  8086  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         47C7F005 [005E4C]  8087  	and	r30, #^x3F, p5				; check alignment
         63FFE000 [005E50]  8088  	rc	r31					; clear interrrupt flag
                  [005E54]  8089  
         E49FE9B2 [005E54]  8090  	beq	p4, trap__pal_os_bugcheck		; mchk if kernel mode
         F4A0000E [005E58]  8091  	bne	p5, call_pal__urti_illop		; error if unaligned
                  [005E5C]  8092  ;
                  [005E5C]  8093  ; The stack is naturally aligned, so we don't need to probe the ends.
                  [005E5C]  8094  ; TNV and DFaults can occur on the first read. We also must
                  [005E5C]  8095  ; avoid misses anywhere after the first read because another cpu
                  [005E5C]  8096  ; may have marked the in memory PTE with fault bits to indicate it is a LRU
                  [005E5C]  8097  ; candidate in the VM handler. We must ensure we see the same PTE the entire
                  [005E5C]  8098  ; flow. So, at the beginning of this flow, we did a scoreboard stall to
                  [005E5C]  8099  ; avoid having a mid-stream PTE/TAG  write retire and kick our entry out.
                  [005E5C]  8100  ;
                  [005E5C]  8101  call_pal__urti_ldq:
         A69E0010 [005E5C]  8102  	ldq	p20, 16(r30)				; fetch new ps
         4681F004 [005E60]  8103  	and	p20, #^xF, p4				; check <3:0>
                  [005E64]  8104  							; 1.37 take out urti_stq
         44811804 [005E64]  8105  	xor	p4, #<1@OSF_PS__CM__S>, p4		; test cm=1, ipl=0
         F480000A [005E68]  8106  	bne	p4, call_pal__urti_illop
                  [005E6C]  8107  
                  [005E6C]  8108  	CONT_CALL_PAL <URTI>
File: ev6_pal_macros.mar
         C3E00000 [005E6C]   201i 	br	r31, CALL_PAL__URTI_CONT
                  [005E70]   204i     .align 4, <^x47FF041F>
                  [005E70]   205i CALL_PAL__URTI_CONT:
File: ev6_osf_pal.mar
                  [005E70]  8109  
         A69E0018 [005E70]  8110  	ldq	p20, 24(r30)				; 1.39 new pc
         46807114 [005E74]  8111  	bic	p20, #3, p20				; 1.39 clean pc
                  [005E78]  8112  
         A61E0028 [005E78]  8113  	ldq	r16, 40(r30)				; a0
         A63E0030 [005E7C]  8114  	ldq	r17, 48(r30)				; a1
         A65E0038 [005E80]  8115  	ldq	r18, 56(r30)				; a2
         A7BE0020 [005E84]  8116  	ldq	r29, 32(r30)				; gp
         A79E0000 [005E88]  8117  	ldq	r28, 0(r30)				; at
         A7DE0008 [005E8C]  8118  	ldq	r30, 8(r30)				; sp
                  [005E90]  8119  
         7BF48000 [005E90]  8120  	hw_ret	(p20)					; 1.39 return
                  [005E94]  8121  ;
                  [005E94]  8122  ; Illop. Either stack not aligned or new ps wrong.
                  [005E94]  8123  ;
                  [005E94]  8124  call_pal__urti_illop:
         6EF51098 [005E94]  8125  	hw_ldq/p p23, PT__STACK_PC(p_temp)		; 1.37 get pc back
         47E0B404 [005E98]  8126  	bis	r31, #OSF_A0__ILLOP, p4			; new a0
         7C9510A0 [005E9C]  8127  	hw_stq/p p4, PT__NEW_A0(p_temp)			; save it away
         42E09537 [005EA0]  8128  	subq	p23, #4, p23				; want pc of urti
         C3FFFF89 [005EA4]  8129  	br	r31, call_pal__bpt_post_if		; merge to complete
                  [005EA8]  8130  
                  [005EA8]  8131  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005EA8]   171M         GOTO_FREE_CODE
00000000 00000000 [005EA8]    62M     .align 6
00000000 00000000 [005EB0]
00000000 00000000 [005EB8]
File: ev6_osf_pal.mar
                  [005EC0]  8132  
                  [005EC0]  8133  ;------------------------------------------------------------------------
                  [005EC0]  8134  ;+
                  [005EC0]  8135  ; CALL_PAL__RDUNIQUE
                  [005EC0]  8136  ;
                  [005EC0]  8137  ; Entry:
                  [005EC0]  8138  ;	p23		pc of instruction following the call_pal instruction
                  [005EC0]  8139  ;
                  [005EC0]  8140  ; Function:
                  [005EC0]  8141  ;	Write into r0(v0) the hardware process (thread) unique context value.
                  [005EC0]  8142  ;
                  [005EC0]  8143  ; Exit state:
                  [005EC0]  8144  ;	r0(v0)		process unique context
                  [005EC0]  8145  ;
                  [005EC0]  8146  ;-
                  [005EC0]  8147  	START_CALL_PAL <RDUNIQUE>
File: ev6_pal_macros.mar
                  [005EC0]   131i         ASSUME <<OSFPAL_FUNC__RDUNIQUE> & <^x40>> eq 0
                  [005EC0]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [003780]   143M CALL_PAL__RDUNIQUE::
         47FF041F [003780]   145M 	bis	r31, r31, r31
         47FF041F [003784]   146M 	bis	r31, r31, r31
         C0800000 [003788]   147M 	br	p4, s_RDUNIQUE
                  [00378C]   148M s_RDUNIQUE:
         40813404 [00378C]   149M 	addq	p4, #<<e_RDUNIQUE - s_RDUNIQUE>+1>, p4
                  [003790]   150M 	PVC_JSR	p_RDUNIQUE
                  [003790]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_rdunique0, osf
         7BE48000 [003790]   151M 	hw_ret	(p4)
                  [003794]   152M 	PVC_JSR p_RDUNIQUE, dest=1
                  [003794]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_rdunique0, osf, \pcv_jsr_p_rdunique0_inst
                  [003794]   153M e_RDUNIQUE:
         47FF041F [003794]   154M 	bis	r31, r31, r31
         47FF041F [003798]   155M 	bis	r31, r31, r31
         C3E009C8 [00379C]   156M 	br	r31, CALL_PAL__RDUNIQUE_CONT_EXTRA
                  [0037A0]   159M     GOTO_FREE_CODE
                  [005EC0]    62M     .align 6
                  [005EC0]   160M CALL_PAL__RDUNIQUE_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005EC0]  8148  
         6C151010 [005EC0]  8149  	hw_ldq/p r0, PT__PCBB(p_temp)	; get PCBB
         6C001020 [005EC4]  8150  	hw_ldq/p r0, OSF_PCB__UNQ(r0)	; get UNQ
                  [005EC8]  8151  	NOP				; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005EC8]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005ECC]  8152  	NOP
File: ev6_pal_macros.mar
         47FF041F [005ECC]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005ED0]  8153  
         7BF78000 [005ED0]  8154  	hw_ret	(p23)			; return
                  [005ED4]  8155  
                  [005ED4]  8156  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005ED4]   171M         GOTO_FREE_CODE
00000000 00000000 [005ED4]    62M     .align 6
00000000 00000000 [005EDC]
00000000 00000000 [005EE4]
00000000 00000000 [005EEC]
00000000 00000000 [005EF4]
         00000000 [005EFC]
File: ev6_osf_pal.mar
                  [005F00]  8157  
                  [005F00]  8158  ;------------------------------------------------------------------------
                  [005F00]  8159  ;+
                  [005F00]  8160  ; CALL_PAL__WRUNIQUE
                  [005F00]  8161  ;
                  [005F00]  8162  ; Entry:
                  [005F00]  8163  ;	p23		pc of instruction following the call_pal instruction
                  [005F00]  8164  ;
                  [005F00]  8165  ; Function:
                  [005F00]  8166  ;	Store the value of r16(a0) in the hardware process (thread) unique
                  [005F00]  8167  ;	context value.
                  [005F00]  8168  ;-
                  [005F00]  8169  	START_CALL_PAL <WRUNIQUE>
File: ev6_pal_macros.mar
                  [005F00]   131i         ASSUME <<OSFPAL_FUNC__WRUNIQUE> & <^x40>> eq 0
                  [005F00]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [0037C0]   143M CALL_PAL__WRUNIQUE::
         47FF041F [0037C0]   145M 	bis	r31, r31, r31
         47FF041F [0037C4]   146M 	bis	r31, r31, r31
         C0800000 [0037C8]   147M 	br	p4, s_WRUNIQUE
                  [0037CC]   148M s_WRUNIQUE:
         40813404 [0037CC]   149M 	addq	p4, #<<e_WRUNIQUE - s_WRUNIQUE>+1>, p4
                  [0037D0]   150M 	PVC_JSR	p_WRUNIQUE
                  [0037D0]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_wrunique0, osf
         7BE48000 [0037D0]   151M 	hw_ret	(p4)
                  [0037D4]   152M 	PVC_JSR p_WRUNIQUE, dest=1
                  [0037D4]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_wrunique0, osf, \pcv_jsr_p_wrunique0_inst
                  [0037D4]   153M e_WRUNIQUE:
         47FF041F [0037D4]   154M 	bis	r31, r31, r31
         47FF041F [0037D8]   155M 	bis	r31, r31, r31
         C3E009C8 [0037DC]   156M 	br	r31, CALL_PAL__WRUNIQUE_CONT_EXTRA
                  [0037E0]   159M     GOTO_FREE_CODE
                  [005F00]    62M     .align 6
                  [005F00]   160M CALL_PAL__WRUNIQUE_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005F00]  8170  
         6C951010 [005F00]  8171  	hw_ldq/p p4, PT__PCBB(p_temp)	; get PCBB
         7E041020 [005F04]  8172  	hw_stq/p r16, OSF_PCB__UNQ(p4)	; write UNQ
                  [005F08]  8173  	NOP				; no hw_ret in 1st fetch block
File: ev6_pal_macros.mar
         47FF041F [005F08]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005F0C]  8174  	NOP
File: ev6_pal_macros.mar
         47FF041F [005F0C]   278M 	bis	r31, r31, r31
File: ev6_osf_pal.mar
                  [005F10]  8175  
         7BF78000 [005F10]  8176  	hw_ret	(p23)			; return
                  [005F14]  8177  
                  [005F14]  8178  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005F14]   171M         GOTO_FREE_CODE
00000000 00000000 [005F14]    62M     .align 6
00000000 00000000 [005F1C]
00000000 00000000 [005F24]
00000000 00000000 [005F2C]
00000000 00000000 [005F34]
         00000000 [005F3C]
File: ev6_osf_pal.mar
                  [005F40]  8179  
                  [005F40]  8180  
                  [005F40]  8181  ;------------------------------------------------------------------------
                  [005F40]  8182  ;+
                  [005F40]  8183  ; CALL_PAL__GENTRAP
                  [005F40]  8184  ;
                  [005F40]  8185  ; Entry:
                  [005F40]  8186  ;	p23		pc of instruction following the call_pal instruction
                  [005F40]  8187  ;
                  [005F40]  8188  ; Function:
                  [005F40]  8189  ;	The gentrap instruction switches mode to kernel, builds a
                  [005F40]  8190  ;	stack frame on the kernel stack, loads the GP with the KGP, loads
                  [005F40]  8191  ;	a value of 2 into a0, and dispatches to the breakpoint code pointed
                  [005F40]  8192  ;	to by the entIF register. The saved PC at (SP+08) is the address
                  [005F40]  8193  ;	of the instruction following the trap instruction that caused the
                  [005F40]  8194  ;	trap.
                  [005F40]  8195  ;-
                  [005F40]  8196  	START_CALL_PAL <GENTRAP>
File: ev6_pal_macros.mar
                  [005F40]   131i         ASSUME <<OSFPAL_FUNC__GENTRAP> & <^x40>> eq 0
                  [005F40]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [003A80]   143M CALL_PAL__GENTRAP::
         47FF041F [003A80]   145M 	bis	r31, r31, r31
         47FF041F [003A84]   146M 	bis	r31, r31, r31
         C0800000 [003A88]   147M 	br	p4, s_GENTRAP
                  [003A8C]   148M s_GENTRAP:
         40813404 [003A8C]   149M 	addq	p4, #<<e_GENTRAP - s_GENTRAP>+1>, p4
                  [003A90]   150M 	PVC_JSR	p_GENTRAP
                  [003A90]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_gentrap0, osf
         7BE48000 [003A90]   151M 	hw_ret	(p4)
                  [003A94]   152M 	PVC_JSR p_GENTRAP, dest=1
                  [003A94]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_gentrap0, osf, \pcv_jsr_p_gentrap0_inst
                  [003A94]   153M e_GENTRAP:
         47FF041F [003A94]   154M 	bis	r31, r31, r31
         47FF041F [003A98]   155M 	bis	r31, r31, r31
         C3E00928 [003A9C]   156M 	br	r31, CALL_PAL__GENTRAP_CONT_EXTRA
                  [003AA0]   159M     GOTO_FREE_CODE
                  [005F40]    62M     .align 6
                  [005F40]   160M CALL_PAL__GENTRAP_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005F40]  8197  
         47E05404 [005F40]  8198  	bis	r31, #OSF_A0__GENTRAP, p4		; new a0
         7C9510A0 [005F44]  8199  	hw_stq/p p4, PT__NEW_A0(p_temp)			; save it away
         C3FFFF60 [005F48]  8200  	br	r31, call_pal__bpt_post_if		; merge to complete
                  [005F4C]  8201  
                  [005F4C]  8202  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005F4C]   171M         GOTO_FREE_CODE
00000000 00000000 [005F4C]    62M     .align 6
00000000 00000000 [005F54]
00000000 00000000 [005F5C]
00000000 00000000 [005F64]
00000000 00000000 [005F6C]
00000000 00000000 [005F74]
         00000000 [005F7C]
File: ev6_osf_pal.mar
                  [005F80]  8203  
                  [005F80]  8204  
                  [005F80]  8205  
                  [005F80]  8206  .if ne ev6_p1
                  [005F80]  8207      .if ne fp_count
                  [005F80]  8208  
                  [005F80]  8209  ;------------------------------------------------------------------------
                  [005F80]  8210  ;+
                  [005F80]  8211  ; CALL_PAL__FP_COUNT
                  [005F80]  8212  ;
                  [005F80]  8213  ; Entry:
                  [005F80]  8214  ;	p23		pc of instruction following the call_pal instruction
                  [005F80]  8215  ;
                  [005F80]  8216  ; Function:
                  [005F80]  8217  ;	r0(v0) <- fp counter
                  [005F80]  8218  ;
                  [005F80]  8219  ;-
                  [005F80]  8220  
                  [005F80]  8221  OSFPAL_FUNC__00AD = ^xAD
                  [005F80]  8222  
                  [005F80]  8223  	START_CALL_PAL <00AD>
                  [005F80]  8224  
                  [005F80]  8225  	hw_ldq/p r0, PT__RSV_FOR_PAL(p_temp)	; read fp counter
                  [005F80]  8226  	NOP					; no hw_ret in 1st fetch block
                  [005F80]  8227  	NOP
                  [005F80]  8228  	NOP
                  [005F80]  8229  
                  [005F80]  8230  	hw_ret	(p23)				; return to user
                  [005F80]  8231  
                  [005F80]  8232  	END_CALL_PAL
                  [005F80]  8233  
                  [005F80]  8234      .endc
                  [005F80]  8235  .endc
                  [005F80]  8236  
                  [005F80]  8237  
                  [005F80]  8238  ;------------------------------------------------------------------------
                  [005F80]  8239  ;+
                  [005F80]  8240  ; CALL_PAL__CLRFEN
                  [005F80]  8241  ;
                  [005F80]  8242  ; Entry:
                  [005F80]  8243  ;	p23		pc of instruction following the call_pal instruction
                  [005F80]  8244  ;
                  [005F80]  8245  ; Function:
                  [005F80]  8246  ;	The clear floating-point enable (CLRFEN) instruction writes a
                  [005F80]  8247  ;	zero to the floating-point enable register and to the PCB
                  [005F80]  8248  ;	at offset (PCBB+FEN)<0>.
                  [005F80]  8249  ;
                  [005F80]  8250  ;	FEN 	   <- 0
                  [005F80]  8251  ;	(PCB+FEN) <- FEN
                  [005F80]  8252  ;-
                  [005F80]  8253  	START_CALL_PAL <CLRFEN>
File: ev6_pal_macros.mar
                  [005F80]   131i         ASSUME <<OSFPAL_FUNC__CLRFEN> & <^x40>> eq 0
                  [005F80]   138M     ASSUME <_pal_func_in_prog> eq 0
                  [003B80]   143M CALL_PAL__CLRFEN::
         47FF041F [003B80]   145M 	bis	r31, r31, r31
         47FF041F [003B84]   146M 	bis	r31, r31, r31
         C0800000 [003B88]   147M 	br	p4, s_CLRFEN
                  [003B8C]   148M s_CLRFEN:
         40813404 [003B8C]   149M 	addq	p4, #<<e_CLRFEN - s_CLRFEN>+1>, p4
                  [003B90]   150M 	PVC_JSR	p_CLRFEN
                  [003B90]   526i  pvc_lbl \pcv_index, \pcv_jsr_p_clrfen0, osf
         7BE48000 [003B90]   151M 	hw_ret	(p4)
                  [003B94]   152M 	PVC_JSR p_CLRFEN, dest=1
                  [003B94]   529i  pvc_lbl \pcv_index, \pcv_jsr_p_clrfen0, osf, \pcv_jsr_p_clrfen0_inst
                  [003B94]   153M e_CLRFEN:
         47FF041F [003B94]   154M 	bis	r31, r31, r31
         47FF041F [003B98]   155M 	bis	r31, r31, r31
         C3E008F8 [003B9C]   156M 	br	r31, CALL_PAL__CLRFEN_CONT_EXTRA
                  [003BA0]   159M     GOTO_FREE_CODE
                  [005F80]    62M     .align 6
                  [005F80]   160M CALL_PAL__CLRFEN_CONT_EXTRA:
File: ev6_osf_pal.mar
                  [005F80]  8254  
         6C951010 [005F80]  8255  	hw_ldq/p p4, PT__PCBB(p_temp)		; get PCBB
         77FF5010 [005F84]  8256  	hw_mtpr	r31, EV6__FPE			; (4,0L) write new fpe
         7FE40028 [005F88]  8257  	hw_stl/p r31, OSF_PCB__FEN(p4)		; store cleared FEN in PCB
         47FF041F [005F8C]  8258  	bis	r31, r31, r31
                  [005F90]  8259  
         77FF5010 [005F90]  8260  	hw_mtpr	r31, EV6__FPE			; (4,0L) force retire
         47FF041F [005F94]  8261  	bis	r31, r31, r31
         47FF041F [005F98]  8262  	bis	r31, r31, r31
         47FF041F [005F9C]  8263  	bis	r31, r31, r31
                  [005FA0]  8264  
         44000400 [005FA0]  8265  	bis	r0, r0, r0			; buffer block 1
         47FF041F [005FA4]  8266  	bis	r31, r31, r31
         47FF041F [005FA8]  8267  	bis	r31, r31, r31
         47FF041F [005FAC]  8268  	bis	r31, r31, r31
                  [005FB0]  8269  
         44000400 [005FB0]  8270  	bis	r0, r0, r0			; buffer block 2
         47FF041F [005FB4]  8271  	bis	r31, r31, r31
         47FF041F [005FB8]  8272  	bis	r31, r31, r31
                  [005FBC]  8273  	CONT_CALL_PAL <CLRFEN>
File: ev6_pal_macros.mar
         C3E00000 [005FBC]   201i 	br	r31, CALL_PAL__CLRFEN_CONT
                  [005FC0]   204i     .align 4, <^x47FF041F>
                  [005FC0]   205i CALL_PAL__CLRFEN_CONT:
File: ev6_osf_pal.mar
                  [005FC0]  8274  
         44000400 [005FC0]  8275  	bis	r0, r0, r0			; buffer block 3
         47FF041F [005FC4]  8276  	bis	r31, r31, r31
         47FF041F [005FC8]  8277  	bis	r31, r31, r31
         47FF041F [005FCC]  8278  	bis	r31, r31, r31
                  [005FD0]  8279  
                  [005FD0]  8280  .if ne ev6_p1
                  [005FD0]  8281  	hw_ldq/p p5, PT__IMPURE(p_temp)		; get impure pointer
                  [005FD0]  8282  	hw_stq/p r31, CNS__FPE_STATE(p5)	; clear FPE state	
                  [005FD0]  8283  .endc
                  [005FD0]  8284  
         7BF7A000 [005FD0]  8285  	hw_ret_stall (p23)			; return with stall
                  [005FD4]  8286  
                  [005FD4]  8287  	END_CALL_PAL
File: ev6_pal_macros.mar
                  [005FD4]   171M         GOTO_FREE_CODE
00000000 00000000 [005FD4]    62M     .align 6
00000000 00000000 [005FDC]
00000000 00000000 [005FE4]
00000000 00000000 [005FEC]
00000000 00000000 [005FF4]
         00000000 [005FFC]
File: ev6_osf_pal.mar
                  [006000]  8288  
                  [006000]  8289  	END_FREE_CODE
File: sromcsrv.mar
                  [006000]     0  ;/*
                  [006000]     1  ;*****************************************************************************
                  [006000]     2  ;**                                                                          *
                  [006000]     3  ;**  Copyright  1994							    *
                  [006000]     4  ;**  by Digital Equipment Corporation, Maynard, Massachusetts.		    *
                  [006000]     5  ;**                                                                          *
                  [006000]     6  ;**  All Rights Reserved						    *
                  [006000]     7  ;**                                                                          *
                  [006000]     8  ;**  Permission  is  hereby  granted  to  use, copy, modify and distribute   *
                  [006000]     9  ;**  this  software  and  its  documentation,  in  both  source  code  and   *
                  [006000]    10  ;**  object  code  form,  and without fee, for the purpose of distribution   *
                  [006000]    11  ;**  of this software  or  modifications  of this software within products   *
                  [006000]    12  ;**  incorporating  an  integrated   circuit  implementing  Digital's  AXP   *
                  [006000]    13  ;**  architecture,  regardless  of the  source of such integrated circuit,   *
                  [006000]    14  ;**  provided that the  above copyright  notice and this permission notice   *
                  [006000]    15  ;**  appear  in  all copies,  and  that  the  name  of  Digital  Equipment   *
                  [006000]    16  ;**  Corporation  not  be  used  in advertising or publicity pertaining to   *
                  [006000]    17  ;**  distribution of the  document  or  software without specific, written   *
                  [006000]    18  ;**  prior permission.							    *
                  [006000]    19  ;**                                                                          *
                  [006000]    20  ;**  Digital  Equipment  Corporation   disclaims  all   warranties  and/or   *
                  [006000]    21  ;**  guarantees  with  regard  to  this  software,  including  all implied   *
                  [006000]    22  ;**  warranties of fitness for  a  particular purpose and merchantability,   *
                  [006000]    23  ;**  and makes  no  representations  regarding  the use of, or the results   *
                  [006000]    24  ;**  of the use of, the software and documentation in terms of correctness,  *
                  [006000]    25  ;**  accuracy,  reliability,  currentness  or  otherwise;  and you rely on   *
                  [006000]    26  ;**  the software, documentation and results solely at your own risk.	    *
                  [006000]    27  ;**                                                                          *
                  [006000]    28  ;**  AXP is a trademark of Digital Equipment Corporation.		    *
                  [006000]    29  ;**                                                                          *
                  [006000]    30  ;*****************************************************************************
                  [006000]    31  ;**
                  [006000]    32  ;**  FACILITY:	
                  [006000]    33  ;**
                  [006000]    34  ;**	DECchip 21064/21066/211164 OSF/1 PALcode
                  [006000]    35  ;**
                  [006000]    36  ;**  MODULE:
                  [006000]    37  ;**
                  [006000]    38  ;** 	sromcsrv.s
                  [006000]    39  ;** 
                  [006000]    40  ;**  MODULE DESCRIPTION:
                  [006000]    41  ;** 
                  [006000]    42  ;**	Interface to SROM Serial Port I/O routines.
                  [006000]    43  ;** 
                  [006000]    44  ;**  AUTHOR: Franklin Hooker
                  [006000]    45  ;** 
                  [006000]    46  ;**  CREATION-DATE: 13-May-1996
                  [006000]    47  ;**
                  [006000]    48  ;**  $Id: sromcsrv.mar,v 1.10 2000/07/13 17:28:42 stig Exp $
                  [006000]    49  ;**
                  [006000]    50  ;**  MODIFICATION HISTORY: 
                  [006000]    51  ;**
                  [006000]    52  ;**  $Log: sromcsrv.mar,v $
                  [006000]    53  ;**  Revision 1.10  2000/07/13 17:28:42  stig
                  [006000]    54  ;**  Update for diags 1.41pre1
                  [006000]    55  ;**
                  [006000]    56  ;**  Revision 1.8  2000/06/29 21:02:24  stig
                  [006000]    57  ;**  sync up for return to Bristol
                  [006000]    58  ;**
                  [006000]    59  ;**  Revision 1.7  2000/06/27 01:53:37  stig
                  [006000]    60  ;**  Updates for diags 1.4-devel
                  [006000]    61  ;**
                  [006000]    62  ;**  Revision 1.6  2000/06/10 19:25:45  stig
                  [006000]    63  ;**  Further aspects of processor mode made configurable - for debug the I_CTL
                  [006000]    64  ;**  stream buffer and single issue bits can be twiddled.
                  [006000]    65  ;**
                  [006000]    66  ;**  Modified the layout of SROM putstr routine to be more space-efficient.
                  [006000]    67  ;**  BUG(S) FIXED:
                  [006000]    68  ;**  BACKEND RELATED:
                  [006000]    69  ;**
                  [006000]    70  ;**  Revision 1.5  2000/06/07 19:15:09  stig
                  [006000]    71  ;**  Added framework support for building Tinosa/Caspian PALcode
                  [006000]    72  ;**  More debugging points in the code
                  [006000]    73  ;**  BUG(S) FIXED:
                  [006000]    74  ;**  BACKEND RELATED:
                  [006000]    75  ;**
                  [006000]    76  ;**  Revision 1.4  2000/01/30 23:39:21  stig
                  [006000]    77  ;**  For diagnostics release 1.2
                  [006000]    78  ;**  BUG(S) FIXED:
                  [006000]    79  ;**  BACKEND RELATED:
                  [006000]    80  ;**
                  [006000]    81  ;**  Revision 1.3  2000/01/23 19:10:26  stig
                  [006000]    82  ;**  Fixed issue with swappal trashing the impure region pointer in system_pal
                  [006000]    83  ;**  Implementation of higher-level SROM UART functions enabling debugging strings
                  [006000]    84  ;**  and numbers to be dumped to the UART by PALcode.
                  [006000]    85  ;**  BUG(S) FIXED:
                  [006000]    86  ;**  BACKEND RELATED:
                  [006000]    87  ;**
                  [006000]    88  ;**  Revision 1.2  1999/08/18 14:12:08  stig
                  [006000]    89  ;**  contains minor fixes for NXM on posting an interrupt to OS
                  [006000]    90  ;**
                  [006000]    91  ;**  Revision 1.2  1999/01/21 19:05:27  gries
                  [006000]    92  ;**  First Release to cvs gries
                  [006000]    93  ;**
                  [006000]    94  ;** Revision 1.4  1998/12/29  16:30:57  samberg
                  [006000]    95  ;** In srom_init, load mc_m_echo (^x100) into r0 instead of trying to use it as a literal.
                  [006000]    96  ;**
                  [006000]    97  ;** Revision 1.3  1997/11/12  15:31:21  samberg
                  [006000]    98  ;** Make pvc clean
                  [006000]    99  ;**
                  [006000]   100  ;** Revision 1.2  1997/10/20  17:30:10  samberg
                  [006000]   101  ;** checkin to my library
                  [006000]   102  ;**
                  [006000]   103  ;** Revision 1.1  1997/10/20  16:40:10  samberg
                  [006000]   104  ;** Initial revision
                  [006000]   105  ;**
                  [006000]   106  ;**  Revision 1.2  1997/08/12  04:33:38  fdh
                  [006000]   107  ;**  Modified register usage for compatibility with PALcode.
                  [006000]   108  ;**
                  [006000]   109  ;**  Revision 1.1  1997/08/07  14:35:53  fdh
                  [006000]   110  ;**  Initial revision
                  [006000]   111  ;**
                  [006000]   112  ;# Revision 1.4  1997/05/02  13:45:24  pbell
                  [006000]   113  ;# Updated to use the cpu.h include file instead of all
                  [006000]   114  ;# the cpu type switches.
                  [006000]   115  ;#
                  [006000]   116  ;# Revision 1.3  1997/02/21  04:25:35  fdh
                  [006000]   117  ;# Modified to save line status in a global variable
                  [006000]   118  ;# instead of a PALtemp.
                  [006000]   119  ;#
                  [006000]   120  ;# Revision 1.2  1996/08/22  14:07:35  fdh
                  [006000]   121  ;# Save/restore r15 to/from pt11.
                  [006000]   122  ;#
                  [006000]   123  ;# Revision 1.1  1996/05/22  22:25:47  fdh
                  [006000]   124  ;# Initial revision
                  [006000]   125  ;#
                  [006000]   126  ;*/
                  [006000]   127  mc_m_echo		= ^x0100	; (1 << mc_v_echo)
                  [006000]   128  
                  [006000]   129  .macro	SROM_CSERVES func
                  [006000]   130  
                  [006000]   131  ;/*
                  [006000]   132  ;**
                  [006000]   133  ;** FUNCTIONAL DESCRIPTION:
                  [006000]   134  ;**
                  [006000]   135  ;**      Initialize the SROM serial port for character I/O.
                  [006000]   136  ;**
                  [006000]   137  ;** INPUT PARAMETERS:
                  [006000]   138  ;**
                  [006000]   139  ;**      None
                  [006000]   140  ;**
                  [006000]   141  ;** OUTPUT PARAMETERS:
                  [006000]   142  ;**
                  [006000]   143  ;**	None
                  [006000]   144  ;**
                  [006000]   145  ;** SIDE EFFECTS:
                  [006000]   146  ;**
                  [006000]   147  ;*/
                  [006000]   148  	ALIGN_FETCH_BLOCK
                  [006000]   149  
                  [006000]   150  Sys_Cserve_Srom_Init:
                  [006000]   151  	PVC_JSR	auto, bsr=1
                  [006000]   152  	bsr	p7, autobaud_sync	; do the autobaud thing	
                  [006000]   153  
                  [006000]   154  	; if autobaud_sync returns 0, we timed out
                  [006000]   155  	beq	r24, autobaud_timed_out
                  [006000]   156  	lda	r0, mc_m_echo(r31)	; get ^x100
                  [006000]   157  	bis	r24, r0, r24		; Enable echo 	
                  [006000]   158  
                  [006000]   159  autobaud_timed_out:
                  [006000]   160  	bis	r24, r31, r0		; Return Line Status	
                  [006000]   161  	hw_ret	(p23)
                  [006000]   162  
                  [006000]   163  
                  [006000]   164  ;/*
                  [006000]   165  ;**
                  [006000]   166  ;** FUNCTIONAL DESCRIPTION:
                  [006000]   167  ;**
                  [006000]   168  ;**      Output a character to the SROM serial port.
                  [006000]   169  ;**
                  [006000]   170  ;** INPUT PARAMETERS:
                  [006000]   171  ;**
                  [006000]   172  ;**      a1 (r17) - Output Character
                  [006000]   173  ;**      a3 (r19) - SROM Autobaud calibration
                  [006000]   174  ;**
                  [006000]   175  ;** OUTPUT PARAMETERS:
                  [006000]   176  ;**
                  [006000]   177  ;**	None
                  [006000]   178  ;**
                  [006000]   179  ;** SIDE EFFECTS:
                  [006000]   180  ;**
                  [006000]   181  ;*/
                  [006000]   182  	ALIGN_FETCH_BLOCK
                  [006000]   183  
                  [006000]   184  Sys_Cserve_Srom_Putc:
                  [006000]   185  	bis	r19, r31, r24
                  [006000]   186  	PVC_JSR putchar, bsr=1
                  [006000]   187  	bsr	p7, putChar
                  [006000]   188  	hw_ret	(p23)
                  [006000]   189  
                  [006000]   190  
                  [006000]   191  ;/*
                  [006000]   192  ;**
                  [006000]   193  ;** FUNCTIONAL DESCRIPTION:
                  [006000]   194  ;**
                  [006000]   195  ;**      Get a character from the SROM serial port
                  [006000]   196  ;**
                  [006000]   197  ;** INPUT PARAMETERS:
                  [006000]   198  ;**
                  [006000]   199  ;**      None
                  [006000]   200  ;**
                  [006000]   201  ;** OUTPUT PARAMETERS:
                  [006000]   202  ;**
                  [006000]   203  ;**	v0 (r0) - Input Character
                  [006000]   204  ;**
                  [006000]   205  ;** SIDE EFFECTS:
                  [006000]   206  ;**
                  [006000]   207  ;*/
                  [006000]   208  	ALIGN_FETCH_BLOCK
                  [006000]   209  
                  [006000]   210  Sys_Cserve_Srom_Getc:
                  [006000]   211  	bis	r19, r31, r24
                  [006000]   212  	PVC_JSR	getchar, bsr=1
                  [006000]   213  	bsr	p7, getChar
                  [006000]   214  	hw_ret	(p23)
                  [006000]   215  
                  [006000]   216  
                  [006000]   217  
                  [006000]   218  
                  [006000]   219  ;+
                  [006000]   220  ; API Extension:
                  [006000]   221  ;
                  [006000]   222  ; Higher-level routines for PALcode debug
                  [006000]   223  ; These routines are for PALcode debug on PRIMARY CPU ONLY... unless the SROM
                  [006000]   224  ; UART for a secondary CPU is used and has been calibrated.
                  [006000]   225  ;-
                  [006000]   226  
                  [006000]   227  ; Internal routine to put a carriage return out after a number or string
                  [006000]   228  
                  [006000]   229  sromcsrv_put_cr_and_quit:
                  [006000]   230  
                  [006000]   231          lda     r17, ^x0A(r31)
                  [006000]   232          bsr     p7, putChar
                  [006000]   233  
                  [006000]   234          lda     r17, ^x0D(r31)
                  [006000]   235          bsr     p7, putChar
                  [006000]   236  
                  [006000]   237  	; drop through...
                  [006000]   238  
                  [006000]   239  sromcsrv_quit_no_cr:
                  [006000]   240          ; restore our temporary variables (r0, r1, r2, r3, r17, p20, r24)
                  [006000]   241  
                  [006000]   242          hw_ldq/p r0,  PT__DBG0(p_temp)		;
                  [006000]   243          hw_ldq/p r1,  PT__DBG1(p_temp)		;
                  [006000]   244          hw_ldq/p r2,  PT__DBG2(p_temp)		;
                  [006000]   245          hw_ldq/p r3,  PT__DBG3(p_temp)		;
                  [006000]   246          hw_ldq/p r17, PT__DBG4(p_temp)		;
                  [006000]   247          hw_ldq/p p20, PT__DBG5(p_temp)		;
                  [006000]   248          hw_ldq/p r24, PT__DBG6(p_temp)		;
                  [006000]   249          hw_ldq/p p7,  PT__DBG7(p_temp)		; restore return address
                  [006000]   250  
                  [006000]   251          ret     r31, (p7)                       ; return to caller
                  [006000]   252  
                  [006000]   253  
                  [006000]   254  ; display a register as an 8-character string
                  [006000]   255  ; string to print is in r16 (a0)
                  [006000]   256  ; return address is passed in through p7
                  [006000]   257  
                  [006000]   258  Sys_Cserve_Srom_Putstr:
                  [006000]   259          ; save away our temporary variables (r0, r1, r2, r3, r17, p20, r24)
                  [006000]   260  	hw_stq/p r0,  PT__DBG0(p_temp)		; used here and in putChar
                  [006000]   261  	hw_stq/p r1,  PT__DBG1(p_temp)		; used in putChar
                  [006000]   262  	hw_stq/p r2,  PT__DBG2(p_temp)		; used in putChar
                  [006000]   263  	hw_stq/p r3,  PT__DBG3(p_temp)		; used in putChar
                  [006000]   264  	hw_stq/p r17, PT__DBG4(p_temp)		; argument to putChar
                  [006000]   265  	hw_stq/p p20, PT__DBG5(p_temp)		; used in putChar
                  [006000]   266  	hw_stq/p r24, PT__DBG6(p_temp)		; argument to putChar
                  [006000]   267  	hw_stq/p p7,  PT__DBG7(p_temp)		; return address
                  [006000]   268  
                  [006000]   269  	hw_ldq/p r17, PT__IMPURE(p_temp)        ; read impure pointer
                  [006000]   270  	hw_ldq/p r24, CNS__AUTOBAUD_CALIB(r17)  ; load calibration
                  [006000]   271  
                  [006000]   272  	; A dodgy autobaud value is indicated at various times by 0 or -1
                  [006000]   273  	beq	r24, sromcsrv_quit_no_cr	; if no autobaud, quit here
                  [006000]   274  	addq	r24, #1, r17
                  [006000]   275  	beq	r17, sromcsrv_quit_no_cr	; if no autobaud, quit here
                  [006000]   276  
                  [006000]   277          ; print the characters, starting with the most significant byte...
                  [006000]   278  	; we keep shifting the input up so the most significant byte is always
                  [006000]   279  	; what is to be outputted next
                  [006000]   280  	
                  [006000]   281  Sys_Cserve_Srom_Putstr_charloop:
                  [006000]   282  	extbl	r16, #7, r17
                  [006000]   283          bsr     p7, putChar
                  [006000]   284  	sll	r16, #8, r16			; move next byte up
                  [006000]   285  	bne	r16, Sys_Cserve_Srom_Putstr_charloop
                  [006000]   286  
                  [006000]   287          br      r31, sromcsrv_put_cr_and_quit	; Add carriage return & back
                  [006000]   288  
                  [006000]   289  
                  [006000]   290  ; display a register as a hex number
                  [006000]   291  ; hex number to print is in r16 (a0)
                  [006000]   292  ; return address is passed in through p7
                  [006000]   293  
                  [006000]   294  Sys_Cserve_Srom_Putnum:
                  [006000]   295  
                  [006000]   296          ; save away our temporary variables (r0, r1, r2, r3, r17, p20, r24)
                  [006000]   297          hw_stq/p r0,  PT__DBG0(p_temp)		; used here and in putChar
                  [006000]   298          hw_stq/p r1,  PT__DBG1(p_temp)		; used in putChar
                  [006000]   299          hw_stq/p r2,  PT__DBG2(p_temp)		; used in putChar
                  [006000]   300          hw_stq/p r3,  PT__DBG3(p_temp)		; used in putChar
                  [006000]   301          hw_stq/p r17, PT__DBG4(p_temp)		; argument to putChar
                  [006000]   302          hw_stq/p p20, PT__DBG5(p_temp)		; used in putChar
                  [006000]   303          hw_stq/p r24, PT__DBG6(p_temp)		; argument to putChar
                  [006000]   304          hw_stq/p p7,  PT__DBG7(p_temp)		; return address
                  [006000]   305  
                  [006000]   306          hw_ldq/p r17, PT__IMPURE(p_temp)        ; read impure pointer
                  [006000]   307          hw_ldq/p r24, CNS__AUTOBAUD_CALIB(r17)  ; load calibration
                  [006000]   308  
                  [006000]   309  	; A dodgy autobaud value is indicated at various times by 0 or -1
                  [006000]   310  	beq	r24, sromcsrv_quit_no_cr	; if no autobaud, quit here
                  [006000]   311  	addq	r24, #1, r17
                  [006000]   312  	beq	r17, sromcsrv_quit_no_cr	; if no autobaud, quit here
                  [006000]   313  
                  [006000]   314          ; print the hex digits of r16 one by one, starting with the top.
                  [006000]   315          ; ASCII character code of '0' is 0x30
                  [006000]   316  
                  [006000]   317          lda     r3, 64(r31)                     ; bits in a hex quadword
                  [006000]   318  
                  [006000]   319  sromcsrv_puthex_printbit:
                  [006000]   320  
                  [006000]   321          subq    r3, #4, r3                      ; shift down a hex digit
                  [006000]   322  
                  [006000]   323          srl     r16, r3, r1                     ; use r1 as scratch
                  [006000]   324          and     r1, #^x0F, r1                   ; isolate single hex digit
                  [006000]   325  
                  [006000]   326          lda     r2, ^x09(r31)                   ; Is it greater than 0x09?
                  [006000]   327          subq    r1, r2, r2
                  [006000]   328          bgt     r2, handle_letter
                  [006000]   329          br      r31, handle_number              ; otherwise treat as a number
                  [006000]   330  
                  [006000]   331  handle_letter:                                  ; r2 contains offset from 0x09
                  [006000]   332  
                  [006000]   333          addq    r2, #^x40, r17                  ; produces ASCII code (0x41='A')
                  [006000]   334          br      r31, got_ascii_code             ; on to next stage...
                  [006000]   335  
                  [006000]   336  handle_number:
                  [006000]   337  
                  [006000]   338          addq    r1, #^x30, r17                  ; map into ASCII code
                  [006000]   339                                                  ; ...and then drop through...
                  [006000]   340  got_ascii_code:
                  [006000]   341          bsr     p7, putChar                     ; print contents of r17
                  [006000]   342  
                  [006000]   343          bgt     r3, sromcsrv_puthex_printbit	; go back again if need be
                  [006000]   344          br      r31, sromcsrv_put_cr_and_quit	; else carriage return & back
                  [006000]   345  
                  [006000]   346  
                  [006000]   347  .endm	SROM_CSERVES
File: sromio.mar
                  [006000]     0  
                  [006000]     1  .macro	SROM_IO_FUNCTIONS func
                  [006000]     2  ;
                  [006000]     3  ; the following bits definitions are flags for the mini-debugger
                  [006000]     4  ;
                  [006000]     5  
                  [006000]     6  mc_v_qw			= 0		; qw output mode flag 			
                  [006000]     7  mc_v_display		= 1		; Display on/off flag.			
                  [006000]     8  mc_v_loop		= 2		; infinite loop flag 			
                  [006000]     9  mc_v_writeaddr		= 3		; A fill with address command.		
                  [006000]    10  mc_v_notdata		= 4		; Negate data written.                  
                  [006000]    11  mc_v_base		= 5		; base address flag 			
                  [006000]    12  mc_v_follow_w_rd	= 6		; Follow command with a read.		
                  [006000]    13  mc_v_follow_w_wr	= 7		; Follow command with a write.		
                  [006000]    14  mc_v_echo		= 8		; echo output flag 			
                  [006000]    15  mc_v_write		= 9		; write/not_read flag 			
                  [006000]    16  mc_v_xm			= 10		; An XM command has been executed.	
                  [006000]    17  mc_v_block		= 11		; block read/write flag 		
                  [006000]    18  mc_v_cmp		= 12		; A CoMpare command.			
                  [006000]    19  mc_v_cp			= 13		; A Copy command.			
                  [006000]    20  mc_v_mt			= 14		; A memory test command.		
                  [006000]    21  
                  [006000]    22  mc_m_qw			= ^x0001	; (1 << mc_v_qw)
                  [006000]    23  mc_m_display		= ^x0002	; (1 << mc_v_display)
                  [006000]    24  mc_m_loop		= ^x0004	; (1 << mc_v_loop)
                  [006000]    25  mc_m_writeaddr		= ^x0008	; (1 << mc_v_writeaddr)
                  [006000]    26  mc_m_notdata		= ^x0010	; (1 << mc_v_notdata)  
                  [006000]    27  mc_m_base		= ^x0020	; (1 << mc_v_base)	
                  [006000]    28  mc_m_follow_w_rd	= ^x0040	; (1 << mc_v_follow_w_rd)
                  [006000]    29  mc_m_follow_w_wr	= ^x0080	; (1 << mc_v_follow_w_wr)
                  [006000]    30  mc_m_echo		= ^x0100	; (1 << mc_v_echo)
                  [006000]    31  mc_m_write		= ^x0200	; (1 << mc_v_write)
                  [006000]    32  mc_m_xm			= ^x0400	; (1 << mc_v_xm)
                  [006000]    33  mc_m_block		= ^x0800	; (1 << mc_v_block)
                  [006000]    34  mc_m_cmp		= ^x1000	; (1 << mc_v_cmp)
                  [006000]    35  mc_m_cp			= ^x2000	; (1 << mc_v_cp)
                  [006000]    36  mc_m_mt			= ^x4000	; (1 << mc_v_mt)
                  [006000]    37  
                  [006000]    38  ascii_X			= ^x58
                  [006000]    39  
                  [006000]    40  
                  [006000]    41  ; ======================================================================
                  [006000]    42  ; = keypressed - detect if user pressed a key				=
                  [006000]    43  ; ======================================================================
                  [006000]    44  ; OVERVIEW:
                  [006000]    45  ;       Returns a 1 if a key has been pressed, 0 if not.
                  [006000]    46  ;       check the serial line interrupt bit, if it's set, clear it
                  [006000]    47  ;       and return 1, otherwise, return 0
                  [006000]    48  ;
                  [006000]    49  ; FORM_OF_CALL:
                  [006000]    50  ;       bsr p20, keypressed
                  [006000]    51  ;  
                  [006000]    52  ; RETURNS:
                  [006000]    53  ;       R0  - 1 if keypressed, else 0
                  [006000]    54  ; 
                  [006000]    55  ; SIDE EFFECTS:
                  [006000]    56  ;       The Serial Line Interrupt bit is cleared.
                  [006000]    57  ;
                  [006000]    58  ; ARGUMENTS:
                  [006000]    59  ;       none
                  [006000]    60  ;
                  [006000]    61  ; REGISTERS:
                  [006000]    62  ;       R0  - scratch & return value
                  [006000]    63  ;       R20 - return address 
                  [006000]    64  ;       
                  [006000]    65  ; CALLS:
                  [006000]    66  ;       none
                  [006000]    67  ;
                  [006000]    68   
                  [006000]    69  keypressed:
                  [006000]    70  	hw_mfpr	r0, ev6__isum 			; read Interrupt Summary Register 
                  [006000]    71  	srl	r0, #ev6__isum__sl__s, r0	; r0<0> <- Serial Line Intrpt bit 
                  [006000]    72  	and	r0, #ev6__isum__sl__m, r0	; :				 
                  [006000]    73  	sll	r0, #ev6__hw_int_clr__sl__s, r0	; put into position		 
                  [006000]    74  	PVC_VIOLATE <11>			; EJS -- ignore lack of stall
                  [006000]    75  	PVC_VIOLATE <35>			; EJS -- ignore not writing twice
                  [006000]    76  	hw_mtpr	r0, ev6__hw_int_clr		; Clear any serial line intrpt 
                  [006000]    77  	cmovne	r0, #1, r0			; Return 1 if a key was pressed  
                  [006000]    78  
                  [006000]    79  	PVC_VIOLATE <29>
                  [006000]    80  	PVC_JSR	key, bsr=1, dest=1
                  [006000]    81  	ret	r31, (p20)
                  [006000]    82  
                  [006000]    83  
                  [006000]    84  ; ======================================================================
                  [006000]    85  ; = getChar -- routine to receive a character from the serial line	=
                  [006000]    86  ; ======================================================================
                  [006000]    87  ; OVERVIEW:
                  [006000]    88  ;       Once the start bit of '0' is detected we wait 1 1/2 bit times 
                  [006000]    89  ;       before reading the first data bit.  The data bit is packed into a 
                  [006000]    90  ;       register and shifted left.  After the first bit we only wait 
                  [006000]    91  ;       whole bit times.  After 8 bits have been read the routine is exited.
                  [006000]    92  ;
                  [006000]    93  ; FORM OF CALL:
                  [006000]    94  ;       bsr	p7, getChar
                  [006000]    95  ; 
                  [006000]    96  ; RETURNS:
                  [006000]    97  ;       R0  - Character returned after user input
                  [006000]    98  ;       
                  [006000]    99  ; CALLS:
                  [006000]   100  ;	waitBitEighth
                  [006000]   101  ;       waitBitHalf
                  [006000]   102  ;       waitBitTime
                  [006000]   103  ;	keypressed
                  [006000]   104  ;       
                  [006000]   105  ; REGISTERS:
                  [006000]   106  ;       R1  - Scratch.
                  [006000]   107  ;       R2  - Bit counter AND character acumulator.
                  [006000]   108  ;             Bits <0:7> is the bit counter (with an extra value of 8)
                  [006000]   109  ;             Bits <8:15> is the character typed in.
                  [006000]   110  ;	R3  - Scratch.
                  [006000]   111  ;       R20 - return address for the call to waitBitTime()
                  [006000]   112  ;
                  [006000]   113   
                  [006000]   114  getChar:
                  [006000]   115  	lda	r2, <0+8>(r31)			; Set the bit count to 0.	 
                  [006000]   116  
                  [006000]   117  	bis	r31, #<20*8>, r3		; Character timeout 20 chars
                  [006000]   118  
                  [006000]   119  ;
                  [006000]   120  ; Wait for the start bits (sl_rcv bit will go low)		 
                  [006000]   121  ;
                  [006000]   122  char_start:
                  [006000]   123  	hw_mfpr	r0, ev6__i_ctl			; Poll the serial line		
                  [006000]   124          srl     r0, #ev6__i_ctl__sl_rcv__s, r0	;
                  [006000]   125  	blbc	r0, start_bit			; until low -> start bit is '0'
                  [006000]   126  
                  [006000]   127  	PVC_JSR	wait, bsr=1
                  [006000]   128  	bsr	p20, waitBitEighth		; Wait for a Eighth bit time	
                  [006000]   129  	subq	r3, #1, r3			; decrement timeout
                  [006000]   130  
                  [006000]   131  	PVC_VIOLATE <1008>			; EJS -- don't follow branch
                  [006000]   132  	bne	r3, char_start			; branch until timeout reached
                  [006000]   133  	lda	r0, -1(r31)			; Return failure code
                  [006000]   134  
                  [006000]   135  	PVC_VIOLATE <29>
                  [006000]   136  	PVC_JSR	getchar, bsr=1, dest=1
                  [006000]   137  	ret	r31, (p7)			; return to caller
                  [006000]   138  
                  [006000]   139  start_bit:
                  [006000]   140  
                  [006000]   141  	PVC_JSR	wait, bsr=1
                  [006000]   142  	bsr	p20, waitBitHalf		; Wait for a half bit time	 
                  [006000]   143  
                  [006000]   144  get_bits:					; DO			 
                  [006000]   145  	PVC_JSR wait, bsr=1
                  [006000]   146  	bsr	p20, waitBitTime		; : wait for one bit time	
                  [006000]   147  
                  [006000]   148  	hw_mfpr	r0, ev6__i_ctl			; : Get the current data bit.	
                  [006000]   149  	srl 	r0, #ev6__i_ctl__sl_rcv__s, r0	; : r0<0> <- current data bit	
                  [006000]   150          and     r0, #1, r0			; :
                  [006000]   151  	sll	r0, r2, r0			; : r0<r2> <- current data bit  
                  [006000]   152  	bis	r0, r2, r2			; : r2 <- r2 .bit_or. r0	
                  [006000]   153  	lda	r2, 1(r2)			; : Increment bit countr.	
                  [006000]   154  	and	r2, #^xFF, r0			; : Ignore character in comp.	
                  [006000]   155  	cmpult	r0, #16, r1			; : Do we have a byte now?
                  [006000]   156  	PVC_VIOLATE <1008>			; EJS -- don't follow branch
                  [006000]   157  	bne	r1, get_bits			; WHILE bit count .NE. 8	
                  [006000]   158  
                  [006000]   159  	PVC_JSR wait, bsr=1
                  [006000]   160  	bsr	p20, waitBitTime		; Wait for the middle of the
                  [006000]   161  						; stop bit.
                  [006000]   162  	PVC_JSR	key, bsr=1
                  [006000]   163  	bsr	p20, keypressed			; Clear serial line interrupts	
                  [006000]   164  
                  [006000]   165  	extbl	r2, #1, r0			; Place character in R0.
                  [006000]   166  	srl	r24, #mc_v_echo, r1		; IF echo_flag set
                  [006000]   167  	blbc	r1, exit_getchar		; THEN			
                  [006000]   168  	xor	r0, #ascii_X, r1		; : IF user sent 'X'	 
                  [006000]   169  	bne	r1, exit_getchar		; : THEN		 
                  [006000]   170  	lda	r1, mc_m_echo(r31)
                  [006000]   171  	bic	r24, r1, r24			; : : clear the echo flag	
                  [006000]   172  						; : ENDIF
                  [006000]   173  exit_getchar:					; ENDIF			 
                  [006000]   174  	PVC_VIOLATE <29>
                  [006000]   175  	PVC_JSR	getchar, bsr=1, dest=1
                  [006000]   176  	ret	r31, (p7)			; return to caller		 
                  [006000]   177  
                  [006000]   178  
                  [006000]   179  ; ======================================================================
                  [006000]   180  ; = putChar - routine to send a character over the serial line		=
                  [006000]   181  ; ======================================================================
                  [006000]   182  ; OVERVIEW:
                  [006000]   183  ;  	This routine is used to transmit a character over the serial line.  
                  [006000]   184  ; 	First a start bit of '0' is sent.  This is followed by eight data 
                  [006000]   185  ;       bits.  The data bits are passed to the routine through a gpr.  The 
                  [006000]   186  ; 	data is transmitted one bit at a time and the gpr is shifted once 
                  [006000]   187  ;       to the right after each bit.  After the last data bit is transmitted
                  [006000]   188  ;       a stop bit of '1' is added to the end of the character.  Extra
                  [006000]   189  ;      stop bits are added to make sure that we don't overflow the
                  [006000]   190  ;      receiving terminal's buffer. 
                  [006000]   191  ;       We make sure that the transmit is initially high so that the
                  [006000]   192  ;       receiver can detect the start bit.
                  [006000]   193  ;
                  [006000]   194  ; FORM OF CALL:
                  [006000]   195  ;       R17	<- the character to be sent. 
                  [006000]   196  ;       bsr	p7, putChar
                  [006000]   197  ;       
                  [006000]   198  ; RETURNS:
                  [006000]   199  ;      none
                  [006000]   200  ;       
                  [006000]   201  ; ARGUMENTS:
                  [006000]   202  ;       R17 - the character which is to be sent to the SROM port.
                  [006000]   203  ;
                  [006000]   204  ; REGISTERS:
                  [006000]   205  ;	r0  - scratch
                  [006000]   206  ;	r1  - scratch
                  [006000]   207  ;       r2  - scratch, bit count
                  [006000]   208  ;       r3  - scratch, I_CTL value
                  [006000]   209  ;       r17 - character to output through the SROM port
                  [006000]   210  ;       p20 - return address for the call to waitBitTime()
                  [006000]   211  ;
                  [006000]   212   
                  [006000]   213  putChar:
                  [006000]   214  	srl	r24, #mc_v_echo, r2		; IF echo flag is clear THEN	 
                  [006000]   215  	blbc	r2, exit_putChar		; Output is disabled, exit	 
                  [006000]   216  ;
                  [006000]   217  ; Initialize routine variables	 
                  [006000]   218  ;
                  [006000]   219  	lda	r2, 16(r31)			; 1 high + 1 start + 8 data + 	 
                  [006000]   220  						; 6 stop (5 extra for delay).   
                  [006000]   221  	lda	r17, ^x3F00(r17)		; add stop bits at the end and	 
                  [006000]   222  	s4addq	r17, #1, r17			; then add start and high bit	 
                  [006000]   223  
                  [006000]   224  data_bit:					; REPEAT			
                  [006000]   225  	hw_mfpr	r0, ev6__i_ctl			; get current I_CTL value	
                  [006000]   226  	lda	r1, 1(r31)			; r1 = mask for sl_xmit bit	
                  [006000]   227  	sll	r1, #ev6__i_ctl__sl_xmit__s, r1 ; move to correct position 
                  [006000]   228  	bic	r0, r1, r0			; clear sl_xmit bit in old I_CTL value 
                  [006000]   229  	blbc	r17, send_bit			; check the new sl_xmit bit	
                  [006000]   230  	bis	r0, r1, r0			; set sl_xmit bit in old I_CTL value 
                  [006000]   231  send_bit:					; continue			
                  [006000]   232  	hw_mtpr	r0, ev6__i_ctl			; EV6 Send the data bit.	
                  [006000]   233  
                  [006000]   234  	srl	r17, #1, r17			; Shift right, to the next bit. 
                  [006000]   235  	subq	r2, #1, r2			; Decrement the bit count.
                  [006000]   236  
                  [006000]   237  	PVC_JSR	wait, bsr=1
                  [006000]   238  	bsr	p20, waitBitTime		; wait for a bit time	   	 
                  [006000]   239  
                  [006000]   240  	PVC_VIOLATE <1008>			; EJS -- don't follow branch
                  [006000]   241  	bne	r2, data_bit			; UNTIL all data sent		 
                  [006000]   242  
                  [006000]   243  exit_putChar:
                  [006000]   244  	PVC_JSR	putchar, bsr=1, dest=1
                  [006000]   245  	PVC_VIOLATE <29>
                  [006000]   246  	ret	r31, (p7)			; return to caller		 
                  [006000]   247  
                  [006000]   248  
                  [006000]   249  ; ======================================================================
                  [006000]   250  ; = waitBitTime - (waitBitHalf) - wait a bit time (wait 0.5 bit-time)	=
                  [006000]   251  ; ======================================================================
                  [006000]   252  ;
                  [006000]   253  ; OVERVIEW:
                  [006000]   254  ;       Waits a bit-time or half-bit time, depending on the entry point.
                  [006000]   255  ;
                  [006000]   256  ; FORM OF CALL:
                  [006000]   257  ;       bsr p20, waitBittime
                  [006000]   258  ;       bsr p20, waitBithalf
                  [006000]   259  ;       
                  [006000]   260  ; RETURNS:
                  [006000]   261  ;       none
                  [006000]   262  ;
                  [006000]   263  ; ARGUMENTS:
                  [006000]   264  ;       R24	- Upper 32 bits contain CPU cycles per bit.
                  [006000]   265  ;
                  [006000]   266  ; REGISTERS:
                  [006000]   267  ;       R0	- CPU cycle counts per bit
                  [006000]   268  ;       R1	- scratch
                  [006000]   269  ;
                  [006000]   270  ;	R28(AT)	- used by STIG to preserve the existing cycle count
                  [006000]   271  ;
                  [006000]   272   
                  [006000]   273  waitBitTime:
                  [006000]   274  	srl	r24, #32, r0			; Get the timing info.		 
                  [006000]   275  	br	r31, waitBitCont
                  [006000]   276  waitBitHalf:
                  [006000]   277  	srl	r24, #<32+1>, r0		; Divide timing info by 2.	 
                  [006000]   278  	br	r31, waitBitCont
                  [006000]   279  waitBitQuarter:
                  [006000]   280  	srl	r24, #<32+2>, r0		; Divide timing info by 4.	 
                  [006000]   281  	br	r31, waitBitCont
                  [006000]   282  waitBitEighth:
                  [006000]   283  	srl	r24, #<32+3>, r0		; Divide timing info by 8.
                  [006000]   284  waitBitCont:
                  [006000]   285  
                  [006000]   286  wait_init:
                  [006000]   287  
                  [006000]   288  ; STIG - an effort to preserve the cycle count accross cServe uart accesses.
                  [006000]   289  ; this modification doesn't preserve the high order 32 bits because they are
                  [006000]   290  ; not used by the diagnostics.  Any OS that ever thought of using the SROM
                  [006000]   291  ; could have serious problems with this...
                  [006000]   292  
                  [006000]   293  	rpcc	r28				; STIG - preserve counter value
                  [006000]   294  	zapnot	r28, #^x0F, r28			; only want bottom 32 bits.
                  [006000]   295  
                  [006000]   296  ; end of STIG's mod
                  [006000]   297  
                  [006000]   298  	lda	r1, 1(r31)			;  				 
                  [006000]   299  	sll	r1, #ev6__cc_ctl__cc_ena__s, r1	; Move the cc_ena bit into correct position
                  [006000]   300  	hw_mtpr	r1, ev6__cc_ctl			; clear and enable cycle counter
                  [006000]   301  	addq	r31, r31, r31			; nop
                  [006000]   302  	addq	r31, r31, r31			; nop
                  [006000]   303  	addq	r31, r31, r31			; nop
                  [006000]   304          hw_mtpr r31, <ev6__mm_stat ! 32> 	; dummy IPR write
                  [006000]   305  						;   sets SCBD bit 5
                  [006000]   306  						;   (to stall untill cc_ctl gets written)
                  [006000]   307  
                  [006000]   308  wait:						; REPEAT 			 
                  [006000]   309  	rpcc	r1				; : read the cycle count 	 
                  [006000]   310  	zapnot	r1, #^x0f, r1			; : clear the high longword 	 
                  [006000]   311  	cmplt	r0, r1, r1			; :  				 
                  [006000]   312  	PVC_VIOLATE <1008>			; EJS -- don't take branch
                  [006000]   313  	beq	r1, wait			; UNTIL we have waited time 	 
                  [006000]   314  
                  [006000]   315  ; STIG - added to preserve the value already accrued in the cycle counter
                  [006000]   316  
                  [006000]   317  wait_cleanup:
                  [006000]   318  	rpcc	r1
                  [006000]   319  	zapnot	r1, #^x0f, r1			; get CC's 32 bits
                  [006000]   320  	addq	r1, r28, r28			; add in this delta
                  [006000]   321  
                  [006000]   322  	; if we overflowed 32 bits, no matter, the effect is lost by the below
                  [006000]   323  
                  [006000]   324  	lda	r1, 1(r31)
                  [006000]   325  	sll	r1, #ev6__cc_ctl__cc_ena__s, r1	; cc_ena bit 
                  [006000]   326  	bis	r1, r28, r28			; to keep counter ticking
                  [006000]   327  
                  [006000]   328  	hw_mtpr	r28, ev6__cc_ctl		; clear and enable cycle counter
                  [006000]   329  	addq	r31, r31, r31			; nop
                  [006000]   330  	addq	r31, r31, r31			; nop
                  [006000]   331  	addq	r31, r31, r31			; nop
                  [006000]   332          hw_mtpr r31, <ev6__mm_stat ! 32> 	; dummy IPR write
                  [006000]   333  						;   sets SCBD bit 5
                  [006000]   334  						;   (to stall until cc_ctl gets written)
                  [006000]   335  						; specified	
                  [006000]   336  
                  [006000]   337  ; end of STIG's mod
                  [006000]   338  
                  [006000]   339  	PVC_VIOLATE <29>
                  [006000]   340  	PVC_JSR wait, bsr=1, dest=1
                  [006000]   341  	ret	r31, (p20)			; RETURN 			 
                  [006000]   342  
                  [006000]   343  
                  [006000]   344  
                  [006000]   345  ; ======================================================================
                  [006000]   346  ; = autobaud_sync -- routine used for synchronizing with the serial line=
                  [006000]   347  ; ======================================================================
                  [006000]   348  ; OVERVIEW:
                  [006000]   349  ;       The serial line is polled until the a start bit is seen.  We then
                  [006000]   350  ;       time from then until the stop bit is detected.  This happens when
                  [006000]   351  ;       the line goes high and stays high for longer than 8 times the 
                  [006000]   352  ;       previous time.
                  [006000]   353  ;
                  [006000]   354  ;      1->0  - is the start bit
                  [006000]   355  ;      0->1  - is bit 0 of "55"h
                  [006000]   356  ;      1->0  - is bit 1 of "55"h
                  [006000]   357  ;      0->1  - is bit 2 of "55"h
                  [006000]   358  ;      1->0  - is bit 3 of "55"h
                  [006000]   359  ;      0->1  - is bit 4 of "55"h
                  [006000]   360  ;      1->0  - is bit 5 of "55"h
                  [006000]   361  ;      0->1  - is bit 6 of "55"h
                  [006000]   362  ;      1->0  - is bit 7 of "55"h
                  [006000]   363  ;      0->1  - is the stop bit
                  [006000]   364  ;  
                  [006000]   365  ; FORM OF CALL:
                  [006000]   366  ;       bsr p7, autobaud_sync
                  [006000]   367  ;
                  [006000]   368  ; REGISTERS:
                  [006000]   369  ;       R0:R2 - Scratch.
                  [006000]   370  ;
                  [006000]   371  ; RETURNS:	
                  [006000]   372  ;       R24  - Timing info for using srom port is saved here.
                  [006000]   373  ;
                  [006000]   374   
                  [006000]   375  autobaud_sync:
                  [006000]   376  	lda	r1, 1(r31)			; r1 <- cc_ctl enable bit 	 
                  [006000]   377  	sll	r1, #ev6__cc_ctl__cc_ena__s, r1	; Move the cc_ena bit into correct position
                  [006000]   378  
                  [006000]   379  	PVC_JSR	key, bsr=1
                  [006000]   380  	bsr	p20, keypressed			; Clear serial line interrupts	 
                  [006000]   381  ;
                  [006000]   382  ; Wait for the start bit. Line will transition from high to low 
                  [006000]   383  ;
                  [006000]   384  
                  [006000]   385  ; STIG - added timeout
                  [006000]   386  ; zap the PCC so it starts from zero, count up to a billion cycles,
                  [006000]   387  ; if nothing has happened in that time (1-2s), return failure
                  [006000]   388  
                  [006000]   389  	lda     r2, 1(r31)			; cc_ena bit makes it tick
                  [006000]   390  	sll     r2, #ev6__cc_ctl__cc_ena__s, r2
                  [006000]   391  
                  [006000]   392  	hw_mtpr r2, EV6__CC_CTL			; clear and enable cycle counter
                  [006000]   393  	addq    r31, r31, r31			; nop
                  [006000]   394  	addq    r31, r31, r31			; nop
                  [006000]   395  	addq    r31, r31, r31			; nop
                  [006000]   396  	hw_mtpr r31, <ev6__mm_stat ! 32>	; dummy IPR write
                  [006000]   397  						;   sets SCBD bit 5 to stall
                  [006000]   398  						;   until cc_ctl gets written
                  [006000]   399  						; specified
                  [006000]   400  	lda	r2, 1(r31)
                  [006000]   401  	sll	r2, #30, r2			; 2^30 = approx 1 billion cycles
                  [006000]   402  
                  [006000]   403  	br	r31, poll_start			; start looking for keypresses
                  [006000]   404  
                  [006000]   405  ; code fragment to handle the case when there is a timeout on the keypress 
                  [006000]   406  
                  [006000]   407  ctr_timeout:
                  [006000]   408  	bis	r31, r31, r24			; indicate a timeout by zero
                  [006000]   409  
                  [006000]   410  	PVC_JSR	auto, bsr=1, dest=1
                  [006000]   411  	PVC_VIOLATE <29>
                  [006000]   412  	ret	r31, (p7)			; return with timeout result
                  [006000]   413  
                  [006000]   414  ; end of STIG 
                  [006000]   415  
                  [006000]   416  
                  [006000]   417  
                  [006000]   418  poll_start:					; DO 				 
                  [006000]   419  	rpcc	r0				; STIG Check elapsed time
                  [006000]   420  	subq	r0, r2, r0			; STIG greater than timeout?
                  [006000]   421  	bge	r0, ctr_timeout			; STIG if so then quit
                  [006000]   422  
                  [006000]   423  	hw_mfpr	r0, ev6__i_ctl			; : r0 <- sl_rcv 
                  [006000]   424  	srl 	r0, #ev6__i_ctl__sl_rcv__s, r0	; : r0<0> <- current data bit
                  [006000]   425  	PVC_VIOLATE <1008>			; EJS -- do not follow branch
                  [006000]   426  	blbs	r0, poll_start			; WHILE sl_rcv remains high
                  [006000]   427  	hw_mtpr	r1, ev6__cc_ctl			; Enable/clear the cycle counter.  
                  [006000]   428  ;
                  [006000]   429  ; Wait for a low to high transition (or the stop bit)  
                  [006000]   430  ;
                  [006000]   431  poll_h:                   			; : REPEAT 			 
                  [006000]   432  	hw_mfpr	r0, ev6__i_ctl			; : r0 <- sl_rcv 		 
                  [006000]   433  	srl 	r0, #ev6__i_ctl__sl_rcv__s, r0	; : r0<0> <- current data bit
                  [006000]   434  	PVC_VIOLATE <1008>			; EJS -- do not follow branch	 
                  [006000]   435          blbc	r0, poll_h			; : UNTIL sl_rcv goes HI 	 
                  [006000]   436  
                  [006000]   437  	rpcc	r1				; Record low-to-hi transition.  
                  [006000]   438  	zap	r1, #^xF0, r1			; blow off the high longword	 
                  [006000]   439  ;	
                  [006000]   440  ; Wait for a high to low transition or time out  
                  [006000]   441  ;
                  [006000]   442  poll_l:						; : REPEAT 			 
                  [006000]   443  	rpcc	r0
                  [006000]   444  	zap	r0, #^xF0, r0			; blow off the high longword	 
                  [006000]   445  	sll	r1, #3, r2			; 8 times low-to-high time.	 
                  [006000]   446  	cmpult  r2, r0, r0			; Have reached stop bit?	 
                  [006000]   447  	bne	r0, end_sync
                  [006000]   448  	hw_mfpr	r0, ev6__i_ctl			; : r0 <- sl_rcv 		 
                  [006000]   449  	srl 	r0, #ev6__i_ctl__sl_rcv__s, r0	; : r0<0> <- current data bit
                  [006000]   450  	PVC_VIOLATE <1008>			; EJS -- do not follow branch	 
                  [006000]   451          blbs	r0, poll_l			; : UNTIL sl_rcv goes LO 	
                  [006000]   452  	PVC_VIOLATE <1008> 
                  [006000]   453  	br	r31, poll_h			; Wait for next low-to-hi trans
                  [006000]   454  
                  [006000]   455  end_sync:
                  [006000]   456  	lda	r0, 0(r31)			; Divide total cycle count (r1) 
                  [006000]   457  simple_div:
                  [006000]   458  	mulq	r0, #9, r2			; by 9 (8 data + 1 start bit)	 
                  [006000]   459  	cmpult	r2, r1, r2			; This is a simple divide.
                  [006000]   460  	beq	r2, set_baud			; R0 = R1/9
                  [006000]   461  	addq	r0, #1, r0
                  [006000]   462  	br	r31, simple_div
                  [006000]   463  
                  [006000]   464  set_baud:
                  [006000]   465  	sll	r0,  #32, r0			; move to hi longword 		 
                  [006000]   466  	lda	r24, mc_m_echo(r0)		; r24 <- cycles-per-bit  	 
                  [006000]   467  
                  [006000]   468  	PVC_JSR	auto, bsr=1, dest=1
                  [006000]   469  	PVC_VIOLATE <29>
                  [006000]   470  	ret	r31, (p7)
                  [006000]   471  
                  [006000]   472  .endm	SROM_IO_FUNCTIONS
File: ev6_osf_system_pal.mar
                  [006000]     0  ;========================================================================
                  [006000]     1  ;+
                  [006000]     2  ; ev6_osf_system_pal.mar
                  [006000]     3  ;-
                  [006000]     4  
                  [006000]     5  ;------------------------------------------------------------------------
                  [006000]     6  ;+
                  [006000]     7  ; Last Edit:	27-Oct-99
                  [006000]     8  ;
                  [006000]     9  ; Who           Rev     When            What
                  [006000]    10  ; ------------  ---     -----------     --------------------------------
                  [006000]    11  ;  ER            5      25-Aug-1997     Added system-specific machine check 
                  [006000]    12  ;					logout frames.
                  [006000]    13  ;  ER            6      26-Aug-1997     Added error interrupt handler
                  [006000]    14  ;  ER		 7	02-Sep-1997	Clear Pchip and Cchip Errors
                  [006000]    15  ;  ER		 8	04-Sep-1997	Fixed IPL table, turned off performance 
                  [006000]    16  ;					counter interrupts.
                  [006000]    17  ;  ER		 9	05-Sep-1997	Added change mode to kernel in enable/
                  [006000]    18  ;					disable_superpage macros.
                  [006000]    19  ;  ER		10	08-Sep-1997	Don't use 48-bit mode for isa_read/isa_write
                  [006000]    20  ;  ER		11	11-Sep-1997	Added halt interrupt handler, turned 
                  [006000]    21  ;					performance counter interrupts back on.
                  [006000]    22  ;  ER		12	17-Sep-1997	Re-visit 48-bit superpage addressing for
                  [006000]    23  ;					isa_read/isa_write macros.
                  [006000]    24  ;  ER		13	23-Sep-1997	Implement workaround for P1 Tsunami PIO
                  [006000]    25  ;					retry timeout counter problem in sys__int_clk.
                  [006000]    26  ;					Mask out Pchip Errors at IPL 7.
                  [006000]    27  ;  ER		14	01-Oct-1997	Fixing clearing of clock interrupts.  Make sure
                  [006000]    28  ;					write to Cchip MISC<ININTR> completes.
                  [006000]    29  ;  ER		15	03-Oct-1997	Update to 1.10 release of ev6_osf_system_pal.mar
                  [006000]    30  ;					Fix losing 48-bit VA mode entering console.
                  [006000]    31  ;  ER		16	22-Oct-1997	Fixing clearing of interprocessor interrupts.
                  [006000]    32  ;					Make sure write to Cchip MISC<IPINTR> completes.
                  [006000]    33  ;  ER		17	04-Nov-1997	Update to 1.12 release of ev6_osf_system_pal.mar.
                  [006000]    34  ;					Remove spe conditional.
                  [006000]    35  ;					Fix halt interrupt handler.
                  [006000]    36  ;  ER		18	06-Nov-1997	Update to 1.13 release of ev6_osf_system_pal.mar.
                  [006000]    37  ;  ER		19	13-Nov-1997	Update to 1.14 release of ev6_osf_system_pal.mar.
                  [006000]    38  ;  ER		20	18-Dec-1997	Update to 1.15 release of ev6_osf_system_pal.mar
                  [006000]    39  ;					Fix logging of ISUM in sys__int_err.
                  [006000]    40  ;					Change PT__FAULT_PC to PT__STACK_PC in sys__int_err.
                  [006000]    41  ;  ER		21	07-Jan-1998	Update to 1.16 release of ev6_osf_system_pal.mar
                  [006000]    42  ;  ER		22	21-Jan-1998	Update to 1.18 release of ev6_osf_system_pal.mar
                  [006000]    43  ;  ER		23	04-Feb-1998	Add defines for dctag_par_en and dcdat_err_en.
                  [006000]    44  ;					Made enable/disable superpage macros safer.
                  [006000]    45  ;					Add Cchip raw to system specific portion of CRD frame.
                  [006000]    46  ;  ER		24	06-Feb-1998	Update to 1.19 release of ev6_osf_system_pal.mar
                  [006000]    47  ;  ER		25	18-Mar-1998	Update to 1.21 release of ev6_osf_system_pal.mar
                  [006000]    48  ;					Clean up CSERVE functions.
                  [006000]    49  ;					Add hooks for IP COMM registers on pass 3 motherboard.
                  [006000]    50  ;					Rework system-specific logout frames.
                  [006000]    51  ;  ER		26	02-Apr-1998	Enable TIG 3.2 IP COMM hooks for pass 3 motherboards.
                  [006000]    52  ;  ER		27	06-Apr-1998	Update to 1.22 release of ev6_osf_system_pal.mar.
                  [006000]    53  ;  ER		28	30-Apr-1998	Implement system correctable/uncorrectable error
                  [006000]    54  ;					parsing in sys__int_err.  Update to 1.23 release of
                  [006000]    55  ;					ev6_osf_system_pal.mar.
                  [006000]    56  ;  ER		29	25-Jun-1998	Implement system event (680) handler.
                  [006000]    57  ;					Update to 1.25 release of ev6_osf_system_pal.mar.
                  [006000]    58  ;  ER		30	29-Jun-1998	Update to 1.26 release of ev6_osf_system_pal.mar
                  [006000]    59  ;					(sleep mode wake-up and wtint routines).
                  [006000]    60  ;  ER		31	15-Jul-1998	Update to 1.27 release of ev6_osf_system_pal.mar.
                  [006000]    61  ;  ER		32	21-Aug-1998	Implement IIC support functions for logging system event
                  [006000]    62  ;					(680) data to RCM EEPROMs.  
                  [006000]    63  ;					Move common platform-specific macros to new file, 
                  [006000]    64  ;					ev6_pc264_pal_macros.mar.
                  [006000]    65  ;					Update to 1.35 release of ev6_osf_system_pal.mar.
                  [006000]    66  ;  ER		33	27-Aug-1998	Update to 1.36 release of ev6_osf_system_pal.mar.
                  [006000]    67  ;  ER		34	04-Sep-1998	Rework halt interrupt handler.
                  [006000]    68  ;  ER		35	06-Oct-1998	Added hack to work-around hardware spinlock lock-out.
                  [006000]    69  ;					Update to 1.40 release of ev6_osf_system_pal.mar.
                  [006000]    70  ;  ER		36	03-Nov-1998	Update to 1.41 release of ev6_osf_system_pal.mar.
                  [006000]    71  ;  ER		37	05-Nov-1998	Update to 1.42 release of ev6_osf_system_pal.mar.
                  [006000]    72  ;  ER		38	10-Nov-1998	Update to 1.43 release of ev6_osf_system_pal.mar.
                  [006000]    73  ;  ER		39	03-Dec-1998	Fixing IRQ_MASK to enable pchip errors.
                  [006000]    74  ;  ER		40	09-Dec-1998	Fixing merge of environmental data in system event handler.
                  [006000]    75  ;  ER		41	28-Jan-1999	Removed reserved quadwords at end of mchk logout 
                  [006000]    76  ;					frames to match Regatta family.
                  [006000]    77  ;  ER		42	01-Feb-1999	Fixing synchronization problem with TIG register
                  [006000]    78  ;					used for spinlock_hack.  Each CPU now uses a
                  [006000]    79  ;					seperate register.
                  [006000]    80  ;  ER		43	02-Feb-1999	Changed PT__FAULT_PC to PT__STACK_PC in sys__int_err
                  [006000]    81  ;					(re-do edit #20 from 18-Dec-1997).
                  [006000]    82  ;					Added sys__iic_reset routine and call to iic_reset
                  [006000]    83  ;					macro in sys__int_se.
                  [006000]    84  ;  ER		44	05-Feb-1999	Fixed 620 error handling, and re-work sys__int_err
                  [006000]    85  ;					error detection flow.
                  [006000]    86  ;  ER		45	10-Feb-1999	Fixed hang on 620 machine check, branching on wrong
                  [006000]    87  ;					register in error detection flow.
                  [006000]    88  ;  ER		46	12-Apr-1999	Changing hw_jmp in sys__cbox to hw_ret.
                  [006000]    89  ;  ER		47	22-Apr-1999	Set error bits in DIRx value written to the logout frame.
                  [006000]    90  ;  ER		48	29-Apr-1999	Fixed setting of OS summary flags in machine check handlers.
                  [006000]    91  ;  ER		49	12-May-1999	Update to 1.51 of ev6_osf_system_pal.mar, includes
                  [006000]    92  ;					EV67 support.
                  [006000]    93  ;  ER		50	02-Jun-1999	Re-worked sys__int_err handler once again to deliver a
                  [006000]    94  ;					single 660 machine check if PERROR<LOST> is set.  Also
                  [006000]    95  ;					fixed setting of OS Summary flags per V3.1 of the 
                  [006000]    96  ;					Regatta PFMS document.
                  [006000]    97  ;  ER		51	23-Aug-1999	Fixed external interrupt enables for IPL 5,6, & 7 in
                  [006000]    98  ;					IPL table.
                  [006000]    99  ;  ER		52	02-Sep-1999	Update to 1.57 release of ev6_osf_system_pal.mar
                  [006000]   100  ;  ER		53	20-Sep-1999	Added hack to load all of the dcache every 16 clock ticks.
                  [006000]   101  ;  ER		54	18-Oct-1999	Update to 1.58 release of ev6_osf_system_pal.mar
                  [006000]   102  ;  ER		55	27-Oct-1999	Update to 1.62 release of ev6_osf_system_pal.mar to fix 
                  [006000]   103  ;					problem created by C_STAT=0 dismiss code in sys__crd, and
                  [006000]   104  ;					a fix for setting PT__I_STAT_MASK for EV67/68 chip ids.
                  [006000]   105  ;-
                  [006000]   106  
                  [006000]   107  
                  [006000]   108  	GOTO_FREE_CODE
File: ev6_pal_macros.mar
                  [006000]    62M     .align 6
File: ev6_osf_system_pal.mar
                  [006000]   109  
                  [006000]   110  vvar == 55
                  [006000]   111  vmod == 0
                  [006000]   112  
                  [006000]   113  .iif ndf swordfish_platform, swordfish_platform = 0
                  [006000]   114  .iif ndf nautilus_platform, nautilus_platform = 0
                  [006000]   115  .iif ndf tinosa_platform, tinosa_platform = 0
                  [006000]   115I  tinosa_platform = 0
                  [006000]   116  
                  [006000]   117  .iif ndf pc264_system_debug, pc264_system_debug = 0
                  [006000]   117I  pc264_system_debug = 0
                  [006000]   118  .iif ndf spinlock_hack, spinlock_hack = 0
                  [006000]   119  
                  [006000]   120  .iif ndf nonzero_console_base, nonzero_console_base = 0
                  [006000]   121  .iif ndf reset_pio_retry_counter, reset_pio_retry_counter = 0
                  [006000]   121I  reset_pio_retry_counter = 0
                  [006000]   122  .if ne ev6_p1
                  [006000]   123  	.iif ndf dctag_par_en, dctag_par_en = 0
                  [006000]   124  	.iif ndf dcdat_err_en, dcdat_err_en = 0
                  [006000]   125  .iff
                  [006000]   126  	.iif ndf dctag_par_en, dctag_par_en = 1
                  [006000]   127  	.iif ndf dcdat_err_en, dcdat_err_en = 1
                  [006000]   128  .endc
                  [006000]   126I 	.iif ndf dctag_par_en, dctag_par_en = 1
                  [006000]   126I  dctag_par_en = 1
                  [006000]   127I 	.iif ndf dcdat_err_en, dcdat_err_en = 1
                  [006000]   127I  dcdat_err_en = 1
                  [006000]   129  
                  [006000]   130  rtco = ^x70
                  [006000]   131  rtcd = ^x71
                  [006000]   132  com1 = ^x3f8
                  [006000]   133  com2 = ^x2f8
                  [006000]   134  thr = 0
                  [006000]   135  rbr = 0
                  [006000]   136  dll = 0
                  [006000]   137  ier = 1
                  [006000]   138  dlm = 1
                  [006000]   139  iir = 2
                  [006000]   140  fcr = 2
                  [006000]   141  lcr = 3
                  [006000]   142  mcr = 4
                  [006000]   143  lsr = 5
                  [006000]   144  msr = 6
                  [006000]   145  scr = 7
                  [006000]   146  lsr$v_dr = 0
                  [006000]   147  lsr$v_thre = 5
                  [006000]   148  lcr$m_sbs = 4
                  [006000]   149  lcr$m_dla = 128
                  [006000]   150  mcr$m_dtr = 1
                  [006000]   151  mcr$m_rts = 2
                  [006000]   152  mcr$m_out1 = 4
                  [006000]   153  mcr$m_out2 = 8
                  [006000]   154  fcr$m_fe = 1
                  [006000]   155  fcr$m_rfr = 2
                  [006000]   156  fcr$m_tfr = 4
                  [006000]   157  baud_9600 = 12
                  [006000]   158  char_8bit = 3
                  [006000]   159  
                  [006000]   160  pic1 = ^x20
                  [006000]   161  pic2 = ^xa0
                  [006000]   162  
                  [006000]   163  .macro	save_regs
                  [006000]   164  	hw_stq/p r10, PT__R1(p_temp)		; get scratch registers
                  [006000]   165  	hw_stq/p r12, PT__R2(p_temp)		; get scratch registers
                  [006000]   166  	hw_stq/p r13, PT__R3(p_temp)		; get scratch registers
                  [006000]   167  	hw_stq/p r8, PT__R8(p_temp)		; get scratch registers
                  [006000]   168  	hw_stq/p r9, PT__R9(p_temp)		; get scratch registers
                  [006000]   169  	hw_stq/p r25, PT__R25(p_temp)		; get scratch registers
                  [006000]   170  	hw_stq/p r14, PT__R26(p_temp)		; get scratch registers
                  [006000]   171  .endm
                  [006000]   172  
                  [006000]   173  .macro	restore_regs
                  [006000]   174  	hw_ldq/p r10, PT__R1(p_temp)		; restore r10
                  [006000]   175  	hw_ldq/p r12, PT__R2(p_temp)		; restore r12
                  [006000]   176  	hw_ldq/p r13, PT__R3(p_temp)		; restore r13
                  [006000]   177  	hw_ldq/p r8, PT__R8(p_temp)		; restore r8
                  [006000]   178  	hw_ldq/p r9, PT__R9(p_temp)		; restore r9
                  [006000]   179  	hw_ldq/p r25, PT__R25(p_temp)		; restore r25
                  [006000]   180  	hw_ldq/p r14, PT__R26(p_temp)		; restore r14
                  [006000]   181  .endm
                  [006000]   182  
                  [006000]   183  .macro	get_base	reg1
                  [006000]   184  	.if ne	nonzero_console_base
                  [006000]   185  	hw_mfpr	reg1, EV6__PAL_BASE
                  [006000]   186  	GET_32CONS reg1, <-pal$pal_base>, reg1
                  [006000]   187  	.iff 
                  [006000]   188  	bis	r31, r31, reg1
                  [006000]   189  	.endc
                  [006000]   190  .endm
                  [006000]   191  
                  [006000]   192  .macro	combo_setup
                  [006000]   193  	enable_superpage
                  [006000]   194  	GET_32CONS r25, <<pci0_io@-24>&^xffffffff>, r31, verify=0
                  [006000]   195  	sll	r25, #24, r25
                  [006000]   196  	lda	r25, com1(r25)
                  [006000]   197  .endm
                  [006000]   198  
                  [006000]   199  .macro	combo_lock	?l1, ?l2, ?l3, ?l4
                  [006000]   200  	lda	r14, 1(r31)
                  [006000]   201  	sll	r14, #15, r14
                  [006000]   202  	lda	r13, ^x801a(r31)		; write x0000 to 801.a000.0080
                  [006000]   203  	zapnot	r13, #3, r13
                  [006000]   204  	sll	r13, #28, r13
                  [006000]   205  	hw_ldq/p r8, PT__WHAMI(p_temp)	; get whami
                  [006000]   206  	ldah	r12, ^x1(r31)
                  [006000]   207  	sll	r12, r8, r12
                  [006000]   208  l1:	hw_stq/p r12, ^x80(r13)
                  [006000]   209  	mb
                  [006000]   210  	hw_ldq/p r8, ^x80(r13)
                  [006000]   211  	and	r8, r12, r8
                  [006000]   212  	beq	r8, l4
                  [006000]   213  	br	r31, l3
                  [006000]   214  l4:	lda	r8, 1(r31)
                  [006000]   215  	sll	r8, #15, r8
                  [006000]   216  l2:	subq	r8, #1, r8
                  [006000]   217  	bgt	r8, l2
                  [006000]   218  	subq	r14, #1, r14
                  [006000]   219  	bgt	r14, l1
                  [006000]   220  l3:
                  [006000]   221  .endm
                  [006000]   222  
                  [006000]   223  .macro	combo_unlock
                  [006000]   224  	lda	r13, ^x801a(r31)		; write x0000 to 801.a000.0080
                  [006000]   225  	zapnot	r13, #3, r13
                  [006000]   226  	sll	r13, #28, r13
                  [006000]   227  	ldah	r12, ^x100(r31)
                  [006000]   228  	hw_stq/p r12, ^x80(r13)
                  [006000]   229  .endm
                  [006000]   230  
                  [006000]   231  .macro	combo_unsetup
                  [006000]   232  	disable_superpage
                  [006000]   233  .endm
                  [006000]   234  
                  [006000]   235  .macro	combott_putc 	c, ?l1
                  [006000]   236  l1:
                  [006000]   237  	ldbu	r12, lsr(r25)
                  [006000]   238  	srl	r12, #lsr$v_thre, r12
                  [006000]   239  	blbc	r12, l1
                  [006000]   240  .if idn <%extract(0,1,c)> <r>
                  [006000]   241  	and	c, #^xff, r12
                  [006000]   242  .iff
                  [006000]   243  	lda	r12, <c>&^xff(r31)
                  [006000]   244  .endc
                  [006000]   245  	stb	r12, thr(r25)
                  [006000]   246  	mb
                  [006000]   247  .endm
                  [006000]   248  
                  [006000]   249  .macro	combott_puth	w=16, ?l1, ?l2
                  [006000]   250  	lda	r9, w*4(r31)
                  [006000]   251  l1:	subq	r9, #4, r9
                  [006000]   252  	srl	r8, r9, r13
                  [006000]   253  	and	r13, #15, r13
                  [006000]   254  	lda	r10, ^x30(r13)
                  [006000]   255  	cmpult	r13, #10, r13
                  [006000]   256  	bne	r13, l2
                  [006000]   257  	addq	r10, #^x27, r10
                  [006000]   258  l2:	combott_putc	r10
                  [006000]   259  	bne	r9, l1
                  [006000]   260  .endm
                  [006000]   261  
                  [006000]   262  
                  [006000]   263  ;------------------------------------------------------------------------
                  [006000]   264  ;+
                  [006000]   265  ; sys__cflush
                  [006000]   266  ;
                  [006000]   267  ; Entry:
                  [006000]   268  ;	r16	page frame number (PFN) of page to be flushed
                  [006000]   269  ;	p23	pc of instruction following call_pal instruction
                  [006000]   270  ;
                  [006000]   271  ; Function:
                  [006000]   272  ;	Flush all dstream caches of 1 entire page.
                  [006000]   273  ;
                  [006000]   274  ; Note on implementation:
                  [006000]   275  ;	The dcache is a 64K byte, two-way set associative,
                  [006000]   276  ;	virtually indexed, physically tagged, 64-byte block cache.
                  [006000]   277  ;	With 32K bytes of data per set, that means that EV6
                  [006000]   278  ;	requires 2 additional bits of virtual address beyond the
                  [006000]   279  ;	bits which specify an 8K byte page in order to specify a
                  [006000]   280  ;	dcache row index. Conceptually, a given virtual address
                  [006000]   281  ;	may be found in 4 distinct places in the cache.
                  [006000]   282  ;
                  [006000]   283  ;	We need to do 2 loads per block because the dcache is
                  [006000]   284  ;	2-way set associative. And that needs to be multiplied
                  [006000]   285  ;	by 4 because given a PA, bits <14:13> need to be
                  [006000]   286  ;	toggled through the 4 combinations to make sure all
                  [006000]   287  ;	4 synonym locations are checked.
                  [006000]   288  ;
                  [006000]   289  ; 	We of course also have to worry about flushing the bcache,
                  [006000]   290  ;	so we need to toggle tag bits greater than the bcache size.
                  [006000]   291  ;	So we strip the high bits of the PFN so that we can an
                  [006000]   292  ;	address between 0 and four times the size of the bcache.
                  [006000]   293  ;	We then toggle tag bits to get two addresses and run
                  [006000]   294  ;	through the 4 combinations.
                  [006000]   295  ;-
                  [006000]   296  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
                  [006000]   270i 	.align 6
File: ev6_osf_system_pal.mar
                  [006000]   297  sys__cflush:
                  [006000]   298  ;
                  [006000]   299  ; We assume a bcache no larger than 8 MB = 2**23.
                  [006000]   300  ;
                  [006000]   301  bcache_size = 23
                  [006000]   302  
         4A069724 [006000]   303  	sll     r16, #page_offset_size_bits+<64-<bcache_size+2>>, p4
         4884F684 [006004]   304  	srl     p4, #64-<bcache_size+2>, p4		; shift into position
         24BF0080 [006008]   305  	ldah    p5, 1@<bcache_size-16>(r31)		; get 1st toggle bit
         24DF0100 [00600C]   306  	ldah    p6, 2@<bcache_size-16>(r31)		; get 2nd toggle bit
         44850805 [006010]   307  	xor     p4, p5, p5				; xor to get 1st addr
         44860806 [006014]   308  	xor	p4, p6, p6				; xor to get 2nd addr
                  [006018]   309  
         47E21407 [006018]   310  	bis	r31, #<8192>/<64*8>, p7			; count of loads
                  [00601C]   311  
                  [00601C]   312  sys__cflush_outer_loop:
         40E03527 [00601C]   313  	subq	p7, #1, p7				; decrement counter
         47E07404 [006020]   314  	bis	r31, #3, p4				; <14:13> bits
                  [006024]   315  
                  [006024]   316  sys__cflush_inner_loop:
         4881B724 [006024]   317  	sll	p4, #13, p4				; shift <14:13> up
         44A40405 [006028]   318  	bis	p5, p4, p5				; or in <14:13>
         44C40406 [00602C]   319  	bis	p6, p4, p6				; or in <14:13>
         669F0D00 [006030]   320  	hw_mfpr	p20, EV6__ISUM				; get isum
                  [006034]   321  
         6FE51000 [006034]   322  	hw_ldq/p r31, 64*0(p5)				; first set
         6FE61000 [006038]   323  	hw_ldq/p r31, 64*0(p6)				; second set
                  [00603C]   324  	
         6FE51040 [00603C]   325  	hw_ldq/p r31, 64*1(p5)				; first set
         6FE61040 [006040]   326  	hw_ldq/p r31, 64*1(p6)				; second set
                  [006044]   327  
         6FE51080 [006044]   328  	hw_ldq/p r31, 64*2(p5)				; first set
         6FE61080 [006048]   329  	hw_ldq/p r31, 64*2(p6)				; second set
                  [00604C]   330  
         6FE510C0 [00604C]   331  	hw_ldq/p r31, 64*3(p5)				; first set
         6FE610C0 [006050]   332  	hw_ldq/p r31, 64*3(p6)				; second set
                  [006054]   333  
         6FE51100 [006054]   334  	hw_ldq/p r31, 64*4(p5)				; first set
         6FE61100 [006058]   335  	hw_ldq/p r31, 64*4(p6)				; second set
                  [00605C]   336  	
         6FE51140 [00605C]   337  	hw_ldq/p r31, 64*5(p5)				; first set
         6FE61140 [006060]   338  	hw_ldq/p r31, 64*5(p6)				; second set
                  [006064]   339  	
         6FE51180 [006064]   340  	hw_ldq/p r31, 64*6(p5)				; first set
         6FE61180 [006068]   341  	hw_ldq/p r31, 64*6(p6)				; second set
                  [00606C]   342  	
         6FE511C0 [00606C]   343  	hw_ldq/p r31, 64*7(p5)				; first set
         6FE611C0 [006070]   344  	hw_ldq/p r31, 64*7(p6)				; second set
                  [006074]   345  
         44A40805 [006074]   346  	xor	p5, p4, p5				; zap <14:13>
         44C40806 [006078]   347  	xor	p6, p4, p6				; zap <14:13>
         4881B684 [00607C]   348  	srl	p4, #13, p4				; shift <14:13> down
         40803524 [006080]   349  	subq	p4, #1, p4				; decrement inner loop
         F6800007 [006084]   350  	bne	p20, sys__cflush_interrupt		; need to take interrupt
         E8800001 [006088]   351  	blt	p4, sys__cflush_do_outer		; branch for next block
         C3FFFFE5 [00608C]   352  	br	r31, sys__cflush_inner_loop		; next combination
                  [006090]   353  
                  [006090]   354  sys__cflush_do_outer:
         E4E00003 [006090]   355  	beq	p7, sys__cflush_done			; branch if done
         20A50200 [006094]   356  	lda	p5, <64*8>(p5)				; next block
         20C60200 [006098]   357  	lda	p6, <64*8>(p6)				; next block
         C3FFFFDF [00609C]   358  	br	r31, sys__cflush_outer_loop		; next group
                  [0060A0]   359  
                  [0060A0]   360  sys__cflush_done:
         7BF78000 [0060A0]   361  	hw_ret	(p23)					; return to user
                  [0060A4]   362  
                  [0060A4]   363  
                  [0060A4]   364  sys__cflush_interrupt:
         42E09537 [0060A4]   365  	subq	p23, #4, p23				; back up pc
         7BF78000 [0060A8]   366  	hw_ret	(p23)					; take interrupt
                  [0060AC]   367  
                  [0060AC]   368  
                  [0060AC]   369  ;------------------------------------------------------------------------
                  [0060AC]   370  ;+
                  [0060AC]   371  ; sys__wripir
                  [0060AC]   372  ;
                  [0060AC]   373  ; Entry:
                  [0060AC]   374  ;	r16(a0)	processor number
                  [0060AC]   375  ;	p23	pc of instruction following call_pal instruction
                  [0060AC]   376  ; Function:                                                    
                  [0060AC]   377  ;	Request an interprocessor interrupt.
                  [0060AC]   378  ;-               
                  [0060AC]   379   	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [0060AC]   270i 	.align 6
00000000 00000000 [0060B4]
         00000000 [0060BC]
File: ev6_osf_system_pal.mar
                  [0060C0]   380  sys__wripir:     
                  [0060C0]   381  .if ne swordfish_platform
                  [0060C0]   382  	bis	r31, #1, p6			; get a one
                  [0060C0]   383          sll	p6, r16, p6			; create CPU mask
                  [0060C0]   384          sll	p6, #12, p6
                  [0060C0]   385  	lda	p4, ^x801A(r31)			; generate 801.A000.0000
                  [0060C0]   386  
                  [0060C0]   387  	zapnot	p4, #3, p4			; zap extension
                  [0060C0]   388  	sll	p4, #28, p4			; move into place
                  [0060C0]   389  	hw_stq/p p6, ^x80(p4)			; write to 801.A000.0080
                  [0060C0]   390  	hw_ldq/p p6, ^x80(p4)
                  [0060C0]   391  
                  [0060C0]   392  	mb
                  [0060C0]   393  	NOP
                  [0060C0]   394  	NOP
                  [0060C0]   395  	NOP
                  [0060C0]   396  .endc
         47E03406 [0060C0]   382I 	bis	r31, #1, p6			; get a one
         48D00726 [0060C4]   383I         sll	p6, r16, p6			; create CPU mask
         48C19726 [0060C8]   384I         sll	p6, #12, p6
         209F801A [0060CC]   385I 	lda	p4, ^x801A(r31)			; generate 801.A000.0000
                  [0060D0]   386I 
         48807624 [0060D0]   387I 	zapnot	p4, #3, p4			; zap extension
         48839724 [0060D4]   388I 	sll	p4, #28, p4			; move into place
         7CC41080 [0060D8]   389I 	hw_stq/p p6, ^x80(p4)			; write to 801.A000.0080
         6CC41080 [0060DC]   390I 	hw_ldq/p p6, ^x80(p4)
                  [0060E0]   391I 
         63FF4000 [0060E0]   392I 	mb
                  [0060E4]   393I 	NOP
File: ev6_pal_macros.mar
         47FF041F [0060E4]   278i 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0060E8]   394I 	NOP
File: ev6_pal_macros.mar
         47FF041F [0060E8]   278i 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0060EC]   395I 	NOP
File: ev6_pal_macros.mar
         47FF041F [0060EC]   278i 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0060F0]   397  
                  [0060F0]   398  .if ne tinosa_platform
                  [0060F0]   399  .if ne ipi_init_hack
                  [0060F0]   400  ; hack: we implement IPIs by the southbridge INIT signal, accessed via port 92
                  [0060F0]   401  
                  [0060F0]   402  ; For superpaged IO accesses, we need to be in kernel mode.  This is achieved
                  [0060F0]   403  ; by clearing the CM bits in IPR IER_CM.
                  [0060F0]   404  
                  [0060F0]   405          hw_mtpr r31, EV6__PS
                  [0060F0]   406          ALIGN_FETCH_BLOCK <^x47FF041F>			; pad to next block
                  [0060F0]   407          hw_mtpr r31, EV6__PS
                  [0060F0]   408  
                  [0060F0]   409  ; the superpage to use depends on the address mode
                  [0060F0]   410  
                  [0060F0]   411      .if ne va_48                        ; VA48 - 48-bit superpage, eg DBM
                  [0060F0]   412  
                  [0060F0]   413          ISA_IO = ^xFFFF8801FC000000
                  [0060F0]   414  
                  [0060F0]   415          GET_32CONS p6, <<ISA_IO@-24>&^xffffffff>, r31, verify=0
                  [0060F0]   416          sll     p6, #24, p6
                  [0060F0]   417  
                  [0060F0]   418      .iff                                ; not VA48 (assume 43-bit), eg Linux
                  [0060F0]   419  
                  [0060F0]   420          ISA_IO = ^xFFFFFD01FC000000
                  [0060F0]   421  
                  [0060F0]   422          GET_32CONS p6, <<ISA_IO@-24>&^xffffffff>, r31, verify=0
                  [0060F0]   423          sll     p6, #24, p6
                  [0060F0]   424  
                  [0060F0]   425      .endc                               ; VA48
                  [0060F0]   426  
                  [0060F0]   427          lda     p5, ^x01(r31)
                  [0060F0]   428          stb     p5, ^x92(p6)			; Write a 1
                  [0060F0]   429  	mb
                  [0060F0]   430          stb     r31, ^x92(p6)			; Write a 0 - causes reset
                  [0060F0]   431  	mb
                  [0060F0]   432  
                  [0060F0]   433          and     p_misc, #OSF_P_MISC__PS__M, p4	; save original ps
                  [0060F0]   434          hw_mtpr p4, EV6__PS			; restore original mode
                  [0060F0]   435          ALIGN_FETCH_BLOCK <^x47FF041F>		; pad to next block
                  [0060F0]   436          hw_mtpr p4, EV6__PS			; restore original mode
                  [0060F0]   437  
                  [0060F0]   438  .endc 						; ipi_init_hack
                  [0060F0]   439  .endc
                  [0060F0]   440  
                  [0060F0]   441      .if eq force_path				; 1.41
                  [0060F0]   442  	hw_ret	(p23)				; return
                  [0060F0]   443      .iff
                  [0060F0]   444  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align
                  [0060F0]   445  	PVC_VIOLATE <1007>
                  [0060F0]   446  	PVC_VIOLATE <1020>			; stop permutation
                  [0060F0]   447  	hw_jmp	(p23)				; return with jmp
                  [0060F0]   448  	br	r31, .-4			; stop predictor
                  [0060F0]   449      .endc					; 1.41
         7BF78000 [0060F0]   442I 	hw_ret	(p23)				; return
                  [0060F4]   450      
                  [0060F4]   451  ;------------------------------------------------------------------------
                  [0060F4]   452  ;+
                  [0060F4]   453  ; sys__wtint
                  [0060F4]   454  ;
                  [0060F4]   455  ; Entry:
                  [0060F4]   456  ;	Entered from call_pal__wrint
                  [0060F4]   457  ;
                  [0060F4]   458  ; Function:
                  [0060F4]   459  ;	The wait for interrupt instruction requests that, if possible, the
                  [0060F4]   460  ;	PALcode wait for the first of either of the following conditions
                  [0060F4]   461  ;	before returning:
                  [0060F4]   462  ;		any interrupt other than a clock tick
                  [0060F4]   463  ;		the first clock tick after the specified number
                  [0060F4]   464  ;
                  [0060F4]   465  ; Current state:
                  [0060F4]   466  ;	p23		pc of instruction following the call_pal instruction
                  [0060F4]   467  ;	r16(a0)		maximum nmber of interval clock ticks to skip
                  [0060F4]   468  ;
                  [0060F4]   469  ; Exit state:
                  [0060F4]   470  ;	r0(v0)		number of interval clock ticks actually skipped
                  [0060F4]   471  ;
                  [0060F4]   472  ;-
                  [0060F4]   473  
                  [0060F4]   474  
                  [0060F4]   475  IRQ_NOCLK = <IRQ_IP ! IRQ_DEV ! IRQ_ERR>	; checked during cache sweep
                  [0060F4]   476  
                  [0060F4]   477  sys__wtint:
                  [0060F4]   478  
                  [0060F4]   479  ;
                  [0060F4]   480  ; First, check for 0 ticks.
                  [0060F4]   481  ;
         E6000084 [0060F4]   482  	beq	r16, sys__wtint_noticks
                  [0060F8]   483  ;
                  [0060F8]   484  ; Now save state.
                  [0060F8]   485  ;
                  [0060F8]   486  	PVC_JSR	save_state, bsr=1
File: ev6_pal_macros.mar
                  [0060F8]   526i  pvc_lbl \pcv_index, \pcv_jsr_save_state0, osf
File: ev6_osf_system_pal.mar
         D0FFF9ED [0060F8]   487  	bsr	p7, pal__save_state		; save state
                  [0060FC]   488  ;
                  [0060FC]   489  ; Now enable device interrupts, so we can detect them.
                  [0060FC]   490  ;
         47E17404 [0060FC]   491  	bis	r31, #<IRQ_NOCLK>, p4		; platform IRQ mask minus CLK
         48843724 [006100]   492  	sll	p4, #EV6__IER__EIEN__S, p4	; shift into place
         77E40A10 [006104]   493  	hw_mtpr	p4, EV6__IER			; (4,0L) write new ier
         47FF041F [006108]   494  	bis	r31, r31, r31
                  [00610C]   495  ;
                  [00610C]   496  ; Now save what cpu we are.
                  [00610C]   497  ;
         6CD510D0 [00610C]   498  	hw_ldq/p p6, PT__WHAMI(p_temp)		; get my cpu number
         48C1D726 [006110]   499  	sll	p6, #EV6__SIRR__SIR__S, p6	; cpu number into place
         77E60C10 [006114]   500  	hw_mtpr	p6, EV6__SIRR			; (4,0L) save cpu number
                  [006118]   501  ;
                  [006118]   502  ; Set up 48-bit kseg so we can do ECB's to clean and invalidate
                  [006118]   503  ; the data caches.
                  [006118]   504  ;
         47E11404 [006118]   505  	bis	r31, #<4@EV6__M_CTL__SPE__S>, p4
         77E42840 [00611C]   506  	hw_mtpr	p4, EV6__M_CTL			; (6,0L) write m_ctl
         47E05405 [006120]   507  	bis	r31, #<1@EV6__VA_CTL__VA_48__S>, p5
         77E5C420 [006124]   508  	hw_mtpr	p5, EV6__VA_CTL			; (5,1L)
         47FF041F [006128]   509  	bis	r31, r31, r31
         47FF041F [00612C]   510  	bis	r31, r31, r31
         47FF041F [006130]   511  	bis	r31, r31, r31
         77FF2770 [006134]   512  	hw_mtpr	r31, <EV6__MM_STAT ! ^x70>	; stall till they all retire
                  [006138]   513  ;
                  [006138]   514  ; Determine the bcache size from the transformed write-many chain.
                  [006138]   515  ; The following transformation is done on the write_many value
                  [006138]   516  ; to make the shift-in work easily.
                  [006138]   517  ;
                  [006138]   518  ; 	<35:30>|<29:24>|<23:18>|<17:12>|<11:06>|<05:00> =>
                  [006138]   519  ; 	<05:00>|<11:06>|<17;12>|<23:18>|<29:24>|<35:30>
                  [006138]   520  ;
                  [006138]   521  ; The size is found at <5:2> in the untransformed value,
                  [006138]   522  ; and thus at <35:32> in the transformed value.
                  [006138]   523  ;	0000	1  megabytes
                  [006138]   524  ;	0001	2  megabytes
                  [006138]   525  ;	0011	4  megabytes
                  [006138]   526  ;	0111	8  megabytes
                  [006138]   527  ;	1111	16 megabytes
                  [006138]   528  ;
                  [006138]   529  ; We need to calculate twice the size of the bcache.
                  [006138]   530  ; The write-many chain is stored in CNS__WRITE_MANY.
                  [006138]   531  ; The size is store in chain<35:32>.
                  [006138]   532  ;
         6CF510C0 [006138]   533  	hw_ldq/p p7, PT__IMPURE(p_temp)		; get impure pointer
         6E8713A8 [00613C]   534  	hw_ldq/p p20, CNS__WRITE_MANY(p7)	; get write-many chain
         4A841684 [006140]   535  	srl	p20, #32, p4			; get size
         4481F004 [006144]   536  	and	p4, #^xF, p4			; clean it
         40803404 [006148]   537  	addq	p4, #1, p4			; add 1
         48803724 [00614C]   538  	sll	p4, #1, p4			; multiply by 2
                  [006150]   539  ;
                  [006150]   540  ; We will be turning off the bcache, so we will need to zap the write many
                  [006150]   541  ; chain bits for enable and size.
                  [006150]   542  ;
                  [006150]   543  ;                 |3333|3322|2222|2222|1111|1111|11                     
                  [006150]   544  ;                 |5432|1098|7654|3210|9876|5432|1098|7654|3210|
                  [006150]   545  ;                 +====+====+====+====+====+====+====+====+====+
                  [006150]   546  ; BC_ENABLE       |    | 1  |  11|1  1|11  |111 |    |    |    |
                  [006150]   547  ; BC_SIZE1        |   1|  1 |    |    |    |    |    |    |   1|
                  [006150]   548  ; BC_SIZE2        |  1 |   1|    |    |    |    |1   |    |    |
                  [006150]   549  ; BC_SIZE3        | 1  |    |1   |    |    |    | 1  |    |    |
                  [006150]   550  ; BC_SIZE4        |1   |    | 1  |    |    |    |  1 |    |    |
                  [006150]   551  ;                 +====+====+====+====+====+====+====+====+====+
                  [006150]   552  ;                   F    7    F    9    C    E    E    0    1
                  [006150]   553  ;
                  [006150]   554  	GET_32CONS	p6, <^x7F9CEE01>, r31		; get low 32
File: ev6_pal_macros.mar
                  [006150]   234i  ASSUME <^x7F9CEE01> le  <^x7FFFFFFF>
         24DF7F9D [006150]   235M 	ldah	p6,<<^x7F9CEE01>+32768>@-16(r31); + xxx<31:16>
         20C6EE01 [006154]   236M 	lda	p6,<<^x7F9CEE01> & ^XFFFF>(p6) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         46860114 [006158]   555  	bic	p20, p6, p20				; clear bits
         47E1F406 [00615C]   556  	bis	r31, #^xF, p6				; get ^xF
         48C41726 [006160]   557  	sll	p6, #32, p6				; shift into position
         46860114 [006164]   558  	bic	p20, p6, p20				; new write many chain
                  [006168]   559  ;
                  [006168]   560  ; Turn off SBE.
                  [006168]   561  ;
                  [006168]   562  ; Current state:
                  [006168]   563  ;	p4	twice the size of the bcache in megabytes
                  [006168]   564  ;	p20	write many chain to turn bcache off
                  [006168]   565  ;
                  [006168]   566  	ALIGN_CACHE_BLOCK <^x47FF041F>	; align with nops
File: ev6_pal_macros.mar
47FF041F 47FF041F [006168]   268i 	.align 6, <^x47FF041F>
47FF041F 47FF041F [006170]
47FF041F 47FF041F [006178]
File: ev6_osf_system_pal.mar
                  [006180]   567  
         63FF4000 [006180]   568  	mb				; wait for MEM-OP's to complete
         201F0086 [006184]   569  	lda     r0, ^x0086(r31)		; load I_CTL.....
         77E01110 [006188]   570  	hw_mtpr r0, EV6__I_CTL		; .....SDE=2, IC_EN=3, SBE=0
         C0000000 [00618C]   571  	br      r0, .			; create dest address
                  [006190]   572  
         40023400 [006190]   573  	addq    r0, #17, r0		; finish computing dest address 
         77FF1310 [006194]   574  	hw_mtpr r31, EV6__IC_FLUSH	; flush the Icache
         F7E00000 [006198]   575  	bne     r31, .			; separate retires
                  [00619C]   576  	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [00619C]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         7BE02000 [00619C]   577  	hw_jmp_stall (r0)		; force flush
                  [0061A0]   578  
                  [0061A0]   579  ;
                  [0061A0]   580  ; NOTE:
                  [0061A0]   581  ;
                  [0061A0]   582  ; The rest of the code should be pulled into the icache before we start
                  [0061A0]   583  ; invalidating the data caches. We do that by jumping through the
                  [0061A0]   584  ; cache blocks.
                  [0061A0]   585  ;
                  [0061A0]   586  
                  [0061A0]   587  ;
                  [0061A0]   588  ; Now flush data caches. ECB twice the size of the bcache,
                  [0061A0]   589  ; i.e, 2 - 32 megabytes. Use a double loop, doing a megabyte at a
                  [0061A0]   590  ; time and check whether we need to punt periodically.
                  [0061A0]   591  ;
                  [0061A0]   592  ; Current state:
                  [0061A0]   593  ;	p4	twice the size of the cache in megabytes
                  [0061A0]   594  ;	p20	write many chain to turn bcache off
                  [0061A0]   595  ;
                  [0061A0]   596  
                  [0061A0]   597  	ALIGN_CACHE_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
47FF041F 47FF041F [0061A0]   268i 	.align 6, <^x47FF041F>
47FF041F 47FF041F [0061A8]
47FF041F 47FF041F [0061B0]
47FF041F 47FF041F [0061B8]
File: ev6_osf_system_pal.mar
                  [0061C0]   598  
                  [0061C0]   599  sys__wtint_touch0:
         63FF4000 [0061C0]   600  	mb					; (1)
         C3E0000E [0061C4]   601  	br	r31, sys__wtint_touch1		; (2)
                  [0061C8]   602  
                  [0061C8]   603  sys__wtint_start_flush:
         24DF8000 [0061C8]   604  	ldah	p6, ^x8000(r31)			; (3) Kseg = 0xffff8000.00000000
         48C21726 [0061CC]   605  	sll	p6, #16, p6			; (4) shift into place
                  [0061D0]   606  
                  [0061D0]   607  sys__wtint_outer_loop:
         64FF0D00 [0061D0]   608  	hw_mfpr	p7, EV6__ISUM			; (3) get ISUM
                  [0061D4]   609  
         40803524 [0061D4]   610  	subq	p4, #1, p4			; (4) decrement outer counter
         20BF4000 [0061D8]   611  	lda	p5, ^x4000(r31)			; (5) ^x4000 * 64 = 1mb
                  [0061DC]   612  
         F4E00048 [0061DC]   613  	bne	p7, sys__wtint_punt		; (6) got an interrupt
         C3E00000 [0061E0]   614  	br	r31, sys__wtint_inner_loop	; (7) go to inner loop
                  [0061E4]   615  
                  [0061E4]   616  sys__wtint_inner_loop:
         40A03525 [0061E4]   617  	subq	p5, #1, p5			; (8) decrement inner counter
         63E6E800 [0061E8]   618  	ecb	(p6)				; (9) ecb
         20C60040 [0061EC]   619  	lda	p6, 64(p6)			; (10) next address
         E4A00001 [0061F0]   620  	beq	p5, sys__wtint_loop_test	; (11) if done 
         C3FFFFFB [0061F4]   621  	br	r31, sys__wtint_inner_loop	; (12) loop back
                  [0061F8]   622  
                  [0061F8]   623  sys__wtint_loop_test:
         E4800005 [0061F8]   624  	beq	p4, sys__wtint_bc_off		; (13) now turn off bcache
         C3FFFFF4 [0061FC]   625  	br	r31, sys__wtint_outer_loop	; (14) next megabyte
                  [006200]   626  
                  [006200]   627  ;
                  [006200]   628  ; Now turn the bcache off. We probably don't need to do this as long
                  [006200]   629  ; as we have pulled everything into the icache, but the debug (where we
                  [006200]   630  ; just jump to wakeup) needs it anyway.
                  [006200]   631  ;
                  [006200]   632  ; Current state:
                  [006200]   633  ;	p20	write many chain with bcache off
                  [006200]   634  ;
                  [006200]   635  	ALIGN_CACHE_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
                  [006200]   268i 	.align 6, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [006200]   636  
                  [006200]   637  sys__wtint_touch1:
         63FF4000 [006200]   638  	mb					; (1)
         C3E0000E [006204]   639  	br	r31, sys__wtint_touch2		; (2)
         47FF041F [006208]   640  	bis	r31, r31, r31			; (3)
         47FF041F [00620C]   641  	bis	r31, r31, r31			; (4)				
                  [006210]   642  
                  [006210]   643  sys__wtint_bc_off:
         469F0402 [006210]   644  	bis	p20, r31, r2			; (5) move chain to r2
         43E0D400 [006214]   645  	addq	r31, #6, r0			; (6) shift in 6x 6-bits
                  [006218]   646  sys__wtint_bc_off_loop::
                  [006218]   647  	PVC_VIOLATE<30>				;
File: ev6_pal_macros.mar
                  [006218]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E22B40 [006218]   648  	hw_mtpr	r2, EV6__DATA			; (7) (6,0L) shift in 6 bits
         40003520 [00621C]   649  	subq	r0, #1, r0			; (8) decrement R0
                  [006220]   650  
         E4000002 [006220]   651  	beq	r0, sys__wtint_bc_off_done	; (9) done if R0 is zero
         4840D682 [006224]   652  	srl	r2, #6, r2			; (10) align next 6 bits
         C3FFFFFB [006228]   653  	br	r31, sys__wtint_bc_off_loop	; (11) continue shifting
                  [00622C]   654  sys__wtint_bc_off_done:
         77FF2740 [00622C]   655  	hw_mtpr	r31, <EV6__MM_STAT ! ^x40>	; (12) IPR write - sets SCBD 6
                  [006230]   656  
         77FF2740 [006230]   657  	hw_mtpr	r31, <EV6__MM_STAT ! ^x40>	; (13) stalls until write retires
         E7E00004 [006234]   658  	beq	r31, sys__wtint_clocks		; (14) predicts fall thru
                  [006238]   659  	PVC_VIOLATE <1006>
File: ev6_pal_macros.mar
                  [006238]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         C3FFFFFF [006238]   660  	br	r31, .-4			; (15) predict infinite loop
         43FF0402 [00623C]   661  	addq	r31, r31, r2			; (16) nop
                  [006240]   662  ;
                  [006240]   663  ; Bcache should now be off.
                  [006240]   664  ; Now add CLK to interrupts that can wake the CPU.
                  [006240]   665  ;
                  [006240]   666  
                  [006240]   667  ; API modification: IRQ_MASK is no longer defined here, it is moved to a 
                  [006240]   668  ; platform-specific definitions file.
                  [006240]   669  ; was IRQ_MASK = ^x0F
                  [006240]   670  
                  [006240]   671  	ALIGN_CACHE_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
                  [006240]   268i 	.align 6, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [006240]   672  
                  [006240]   673  sys__wtint_touch2:
         63FF4000 [006240]   674  	mb					; (1)
         C3E0000E [006244]   675  	br	r31, sys__wtint_touch3		; (2)
                  [006248]   676  
                  [006248]   677  sys__wtint_clocks:
         47E3F404 [006248]   678  	bis	r31, #<IRQ_MASK>, p4		; (3) platform IRQ mask
         48843724 [00624C]   679  	sll	p4, #EV6__IER__EIEN__S, p4	; (4) shift into place
         77E40A10 [006250]   680  	hw_mtpr	p4, EV6__IER			; (5) (4,0L) write new ier
         C3E0000C [006254]   681  	br	r31, sys__wtint_addr		; (6) form external address
                  [006258]   682  ;
                  [006258]   683  ; Get address of IICx register and PRBEN register.
                  [006258]   684  ;
                  [006258]   685  ; IICx	cpu 0	380	00 => 0011 1000 0000
                  [006258]   686  ;	cpu 1	3c0	01 => 0011 1100 0000
                  [006258]   687  ;	cpu 2	700	10 => 0111 0000 0000
                  [006258]   688  ;	cpu 3	740	11 => 0111 0100 0000
                  [006258]   689  ;
                  [006258]   690  ;So we start with ^b0011 0000 0000
                  [006258]   691  ;Then OR the whami into <10:9>
                  [006258]   692  ;Then we XOR whami with ^b10 and OR it into <7:6>
                  [006258]   693  ;
                  [006258]   694  	ALIGN_CACHE_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
47FF041F 47FF041F [006258]   268i 	.align 6, <^x47FF041F>
47FF041F 47FF041F [006260]
47FF041F 47FF041F [006268]
47FF041F 47FF041F [006270]
47FF041F 47FF041F [006278]
File: ev6_osf_system_pal.mar
                  [006280]   695  
                  [006280]   696  sys__wtint_touch3:
         63FF4000 [006280]   697  	mb					; (1)
         C3E0000E [006284]   698  	br	r31, sys__wtint_touch4		; (2)
                  [006288]   699  
                  [006288]   700  sys__wtint_addr:
         209F801A [006288]   701  	lda	p4, ^x801A(r31)			; (3) start to generate csr addr
         48807624 [00628C]   702  	zapnot	p4, #3, p4			; (4) zap extension
         48839724 [006290]   703  	sll	p4, #28, p4			; (5) now have 801.A000.0000
         22840340 [006294]   704  	lda	p20, ^x340(p4)			; (6) PRBEN address
                  [006298]   705  
         20840300 [006298]   706  	lda	p4, ^x300(p4)			; (7) now have 801.A000.0300
         6CB510D0 [00629C]   707  	hw_ldq/p p5, PT__WHAMI(p_temp)		; (8) get whami
         48A13726 [0062A0]   708  	sll	p5, #9, p6			; (9) move whami to <10:9>
         44A05807 [0062A4]   709  	xor	p5, #^b10, p7			; (10) xor
         48E0D727 [0062A8]   710  	sll	p7, #6, p7			; (11) move to <7:6>
                  [0062AC]   711  
         44860404 [0062AC]   712  	bis	p4, p6, p4			; (12) OR into <10:9>
         44870404 [0062B0]   713  	bis	p4, p7, p4			; (13) OR into <7:6> to get IICx
         C3E00004 [0062B4]   714  	br	r31, sys__wtint_sleep		; (14)
                  [0062B8]   715  ;
                  [0062B8]   716  ; Write the Cchip IIC CSR corresponding to its CPU ID with the
                  [0062B8]   717  ; number of interval timer interrupts it wishes to ignore.
                  [0062B8]   718  ; Read PRBEN to turn off probes
                  [0062B8]   719  ;
                  [0062B8]   720  ; Current state:
                  [0062B8]   721  ;	p4	address of IIC CSR for this CPU
                  [0062B8]   722  ;	p20	address of PRBEN register
                  [0062B8]   723  ;	r16	number of ticks to skip
                  [0062B8]   724  ;
                  [0062B8]   725  	ALIGN_CACHE_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
47FF041F 47FF041F [0062B8]   268i 	.align 6, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [0062C0]   726  
                  [0062C0]   727  sys__wtint_touch4:
         63FF4000 [0062C0]   728  	mb					; (1)
         C3FFFFC0 [0062C4]   729  	br	r31, sys__wtint_start_flush	; (2)
                  [0062C8]   730  
                  [0062C8]   731  sys__wtint_sleep:
         4A00F637 [0062C8]   732  	zapnot	r16, #7, p23			; (3) clean number of ticks
         7EE41000 [0062CC]   733  	hw_stq/p p23, (p4)			; (4) store number of ticks
         63FF4000 [0062D0]   734  	mb					; (5) force it out
                  [0062D4]   735  
         77FF17F0 [0062D4]   736  	hw_mtpr	r31, EV6__SLEEP			; (6) (4-7,0L) prepare to sleep
         47FF041F [0062D8]   737  	bis	r31, r31, r31			; (7)
         47FF041F [0062DC]   738  	bis	r31, r31, r31			; (8)
                  [0062E0]   739  
                  [0062E0]   740  	ASSUME_FETCH_BLOCK
                  [0062E0]   741  
         77FF27F0 [0062E0]   742  	hw_mtpr	r31, <EV6__MM_STAT ! ^xF0>	; (9) stall
         6CB41000 [0062E4]   743  	hw_ldq/p p5, (p20)			; (10) turn off probes
         44A50406 [0062E8]   744  	bis p5, p5, p6				; (11) consume data
         63FF4000 [0062EC]   745  	mb					; (12) do an memory barrier
                  [0062F0]   746  
         77FF17F0 [0062F0]   747  	hw_mtpr	31, EV6__SLEEP			; (13) (4-7,0L) now do it
                  [0062F4]   748  	PVC_VIOLATE <1006>
File: ev6_pal_macros.mar
                  [0062F4]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         C3FFFFFF [0062F4]   749  	br	r31, .-4			; (14) branch to self
                  [0062F8]   750  ;
                  [0062F8]   751  ; Got an interrupt while we were flushing the bcache.
                  [0062F8]   752  ;
                  [0062F8]   753  	ALIGN_CACHE_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
47FF041F 47FF041F [0062F8]   268i 	.align 6, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [006300]   754  
                  [006300]   755  sys__wtint_punt:
                  [006300]   756  	PVC_JSR	restore_state, bsr=1
File: ev6_pal_macros.mar
                  [006300]   526i  pvc_lbl \pcv_index, \pcv_jsr_restore_state0, osf
File: ev6_osf_system_pal.mar
         D0FFFA4C [006300]   757  	bsr	p7, pal__restore_state		; (3) restore state
         C3E00000 [006304]   758  	br	r31, sys__wtint_noticks		; (4) return
                  [006308]   759  ;
                  [006308]   760  ; Called with skipped ticks = 0. Just return.
                  [006308]   761  ;
                  [006308]   762  sys__wtint_noticks:
         47FF0400 [006308]   763  	bis	r31, r31, r0			; zero ticks skipped
         7BF78000 [00630C]   764  	hw_ret	(p23)
                  [006310]   765  
                  [006310]   766  
                  [006310]   767  	END_FREE_CODE
                  [006310]   768  
                  [006310]   769  ;------------------------------------------------------------------------
                  [006310]   770  ;+
                  [006310]   771  ; IPL table
                  [006310]   772  ;	proc_corr_err		7
                  [006310]   773  ;	performance monitor	6
                  [006310]   774  ;	interprocessor,clock	5
                  [006310]   775  ;	high priority device	4
                  [006310]   776  ;	low priority device	3
                  [006310]   777  ;	system software		2
                  [006310]   778  ;	system software		1
                  [006310]   779  ;	user/system software	0
                  [006310]   780  ;
                  [006310]   781  ; This table of 8 quadwords, is indexed into by IPL, are used to write IER.
                  [006310]   782  ; The EIEN portion will be dependent on the meaning of the IRQ pins
                  [006310]   783  ; of the chip.
                  [006310]   784  ;
                  [006310]   785  ; This interrupt routing is now defined in the platform definitions file
                  [006310]   786  ;-
                  [006310]   787  
                  [006310]   788  ipl0 = IRQ_MASK				; General system software and user mode
                  [006310]   789  ipl1 = IRQ_MASK				; General system software
                  [006310]   790  ipl2 = IRQ_MASK				; General system software
                  [006310]   791  ipl3 = IRQ_MASK				; Low-priority devices
                  [006310]   792  ipl4 = <IRQ_HLT ! IRQ_CLK ! IRQ_ERR ! IRQ_IP>     ; High-priority devices
                  [006310]   793  ipl5 = <IRQ_HLT ! IRQ_ERR>		; Clock and interprocessor interrupts
                  [006310]   794  ipl6 = <IRQ_HLT ! IRQ_ERR>		; real-time devices and CRDs
                  [006310]   795  ipl7 = 0				; Machine check handler
                  [006310]   796  
                  [006310]   797  ;
                  [006310]   798  ; The format of the IER_CM register is as follows:
                  [006310]   799  ;	IER_CM<30:29>		performance counter interrupt enables
                  [006310]   800  ;	IER_CM<31>		correct read error interrupt enable
                  [006310]   801  ;	IER_CM<32>		serial line interrupt enable
                  [006310]   802  ;	IER_CM<38:33>		external interrupt enables (EIEN)
                  [006310]   803  ;
                  [000D00]   804  	. = ^x0D00
                  [000D00]   805  
                  [000D00]   806  IPL_TABLE:
                  [000D00]   807  
                  [000D00]   808  ASSUME <IPL_TABLE - TRAP__START> le <^x7FFF>
                  [000D00]   809  
                  [000D00]   810  ; ipl 0
0000003E E0000000 [000D00]   811  	.quad   <<ipl0@EV6__IER__EIEN__S> ! -
                  [000D08]   812  		 <srom_serial_irq@EV6__IER__SLEN__S> ! -
                  [000D08]   813  		 <crd_en@EV6__IER__CREN__S> ! -
                  [000D08]   814  		 <^x3@EV6__IER__PCEN__S>>
                  [000D08]   815  ; ipl 1
0000003E E0000000 [000D08]   816  	.quad   <<ipl1@EV6__IER__EIEN__S> ! -
                  [000D10]   817  		 <srom_serial_irq@EV6__IER__SLEN__S> ! -
                  [000D10]   818  		 <crd_en@EV6__IER__CREN__S> ! -
                  [000D10]   819  		 <^x3@EV6__IER__PCEN__S>>
                  [000D10]   820  ; ipl 2
0000003E E0000000 [000D10]   821  	.quad   <<ipl2@EV6__IER__EIEN__S> ! -
                  [000D18]   822  		 <srom_serial_irq@EV6__IER__SLEN__S> ! -
                  [000D18]   823  		 <crd_en@EV6__IER__CREN__S> ! -
                  [000D18]   824  		 <^x3@EV6__IER__PCEN__S>>
                  [000D18]   825  ; ipl 3
0000003E E0000000 [000D18]   826          .quad   <<ipl3@EV6__IER__EIEN__S> ! -
                  [000D20]   827  		 <srom_serial_irq@EV6__IER__SLEN__S> ! -
                  [000D20]   828  		 <crd_en@EV6__IER__CREN__S> ! -
                  [000D20]   829  		 <^x3@EV6__IER__PCEN__S>>
                  [000D20]   830  ; ipl 4
0000003A E0000000 [000D20]   831  	.quad   <<ipl4@EV6__IER__EIEN__S> ! -
                  [000D28]   832  		 <srom_serial_irq@EV6__IER__SLEN__S> ! -
                  [000D28]   833  		 <crd_en@EV6__IER__CREN__S> ! -
                  [000D28]   834  		 <^x3@EV6__IER__PCEN__S>>
                  [000D28]   835  ; ipl 5
00000022 E0000000 [000D28]   836  	.quad   <<ipl5@EV6__IER__EIEN__S> ! -
                  [000D30]   837  		 <srom_serial_irq@EV6__IER__SLEN__S> ! -
                  [000D30]   838  		 <crd_en@EV6__IER__CREN__S> ! -
                  [000D30]   839  		 <^x3@EV6__IER__PCEN__S>>
                  [000D30]   840  ; ipl 6
00000022 80000000 [000D30]   841  	.quad   <<ipl6@EV6__IER__EIEN__S> ! -
                  [000D38]   842  		 <srom_serial_irq@EV6__IER__SLEN__S> ! -
                  [000D38]   843  		 <crd_en@EV6__IER__CREN__S>>
                  [000D38]   844  ; ipl 7
00000000 00000000 [000D38]   845  	.quad	<<ipl7@EV6__IER__EIEN__S> ! -
                  [000D40]   846  		 <srom_serial_irq@EV6__IER__SLEN__S>>
                  [000D40]   847  
                  [000D40]   848  	GOTO_FREE_CODE
File: ev6_pal_macros.mar
00000000 00000000 [006310]    62M     .align 6
00000000 00000000 [006318]
00000000 00000000 [006320]
00000000 00000000 [006328]
00000000 00000000 [006330]
00000000 00000000 [006338]
File: ev6_osf_system_pal.mar
                  [006340]   849  
                  [006340]   850  .if ne	check_interrupt_pending
                  [006340]   851  ;------------------------------------------------------------------------
                  [006340]   852  ;+
                  [006340]   853  ; sys__deassert_interrupt
                  [006340]   854  ;
                  [006340]   855  ; Entry:
                  [006340]   856  ;	Entered from rei when isum<device_irq> is set.
                  [006340]   857  ;
                  [006340]   858  ; Function:
                  [006340]   859  ; 	Some platforms, such as those with tsunami, have a problem with the
                  [006340]   860  ; 	latency between clearing an interrupt and the interrupt being
                  [006340]   861  ;	deasserted.
                  [006340]   862  ;
                  [006340]   863  ; 	Those platforms are opting to, on isum<device_irq> set, write to
                  [006340]   864  ; 	a tsunami csr to deassert the interrupt. A real interrupt will
                  [006340]   865  ; 	re-assert on the next polling loop.
                  [006340]   866  ;
                  [006340]   867  ; Current state:
                  [006340]   868  ;	p23	exc_addr 
                  [006340]   869  ;-
                  [006340]   870  	ALIGN_FETCH_BLOCK
                  [006340]   871  
                  [006340]   872  sys__deassert_interrupt:
                  [006340]   873  
                  [006340]   874  .if ne swordfish_platform			; API Swordfish platform
                  [006340]   875  ;
                  [006340]   876  ; Write to MISC<DEVSUP> bit for this cpu.
                  [006340]   877  ; The MISC CSR is at 801.A000.0080.
                  [006340]   878  ; Find out who we are from PT__WHAMI.
                  [006340]   879  ;
                  [006340]   880  ; <sample code below>
                  [006340]   881  ;
                  [006340]   882  	lda	p4, ^x801A(r31)			; generate 801.A000.0000
                  [006340]   883  	zapnot	p4, #3, p4			; zap extension
                  [006340]   884  	sll	p4, #28, p4			; move into place
                  [006340]   885  	hw_ldq/p p5, PT__WHAMI(p_temp)		; get whami
                  [006340]   886  	bis	r31, #1, p6			; get a one
                  [006340]   887  	addq	p5, #40, p5			; bit position + whami
                  [006340]   888  	sll	p6, p5, p6			; shift into position
                  [006340]   889  	hw_stq/p p6, ^x80(p4)			; write to 801.A000.0080
                  [006340]   890  	hw_ldq/p p6, ^x80(p4)
                  [006340]   891  	mb
                  [006340]   892  
                  [006340]   893  .endc						; API Swordfish platform
                  [006340]   894  
                  [006340]   895  	hw_ret_stall (p23)			; return
                  [006340]   896  
                  [006340]   897  .endc						; if ne check_interrupt_pending
                  [006340]   851I ;------------------------------------------------------------------------
                  [006340]   852I ;+
                  [006340]   853I ; sys__deassert_interrupt
                  [006340]   854I ;
                  [006340]   855I ; Entry:
                  [006340]   856I ;	Entered from rei when isum<device_irq> is set.
                  [006340]   857I ;
                  [006340]   858I ; Function:
                  [006340]   859I ; 	Some platforms, such as those with tsunami, have a problem with the
                  [006340]   860I ; 	latency between clearing an interrupt and the interrupt being
                  [006340]   861I ;	deasserted.
                  [006340]   862I ;
                  [006340]   863I ; 	Those platforms are opting to, on isum<device_irq> set, write to
                  [006340]   864I ; 	a tsunami csr to deassert the interrupt. A real interrupt will
                  [006340]   865I ; 	re-assert on the next polling loop.
                  [006340]   866I ;
                  [006340]   867I ; Current state:
                  [006340]   868I ;	p23	exc_addr 
                  [006340]   869I ;-
                  [006340]   870I 	ALIGN_FETCH_BLOCK
File: ev6_pal_macros.mar
                  [006340]   262i 	.align 4
File: ev6_osf_system_pal.mar
                  [006340]   871I 
                  [006340]   872I sys__deassert_interrupt:
                  [006340]   873I 
                  [006340]   874I .if ne swordfish_platform			; API Swordfish platform
                  [006340]   875I ;
                  [006340]   876I ; Write to MISC<DEVSUP> bit for this cpu.
                  [006340]   877I ; The MISC CSR is at 801.A000.0080.
                  [006340]   878I ; Find out who we are from PT__WHAMI.
                  [006340]   879I ;
                  [006340]   880I ; <sample code below>
                  [006340]   881I ;
                  [006340]   882I 	lda	p4, ^x801A(r31)			; generate 801.A000.0000
                  [006340]   883I 	zapnot	p4, #3, p4			; zap extension
                  [006340]   884I 	sll	p4, #28, p4			; move into place
                  [006340]   885I 	hw_ldq/p p5, PT__WHAMI(p_temp)		; get whami
                  [006340]   886I 	bis	r31, #1, p6			; get a one
                  [006340]   887I 	addq	p5, #40, p5			; bit position + whami
                  [006340]   888I 	sll	p6, p5, p6			; shift into position
                  [006340]   889I 	hw_stq/p p6, ^x80(p4)			; write to 801.A000.0080
                  [006340]   890I 	hw_ldq/p p6, ^x80(p4)
                  [006340]   891I 	mb
                  [006340]   892I 
                  [006340]   893I .endc						; API Swordfish platform
                  [006340]   875I ;
                  [006340]   876I ; Write to MISC<DEVSUP> bit for this cpu.
                  [006340]   877I ; The MISC CSR is at 801.A000.0080.
                  [006340]   878I ; Find out who we are from PT__WHAMI.
                  [006340]   879I ;
                  [006340]   880I ; <sample code below>
                  [006340]   881I ;
         209F801A [006340]   882I 	lda	p4, ^x801A(r31)			; generate 801.A000.0000
         48807624 [006344]   883I 	zapnot	p4, #3, p4			; zap extension
         48839724 [006348]   884I 	sll	p4, #28, p4			; move into place
         6CB510D0 [00634C]   885I 	hw_ldq/p p5, PT__WHAMI(p_temp)		; get whami
         47E03406 [006350]   886I 	bis	r31, #1, p6			; get a one
         40A51405 [006354]   887I 	addq	p5, #40, p5			; bit position + whami
         48C50726 [006358]   888I 	sll	p6, p5, p6			; shift into position
         7CC41080 [00635C]   889I 	hw_stq/p p6, ^x80(p4)			; write to 801.A000.0080
         6CC41080 [006360]   890I 	hw_ldq/p p6, ^x80(p4)
         63FF4000 [006364]   891I 	mb
                  [006368]   892I 
                  [006368]   894I 
         7BF7A000 [006368]   895I 	hw_ret_stall (p23)			; return
                  [00636C]   896I 
                  [00636C]   898  
                  [00636C]   899  
                  [00636C]   900  ;------------------------------------------------------------------------
                  [00636C]   901  ;+
                  [00636C]   902  ; sys__interrupt_ei
                  [00636C]   903  ;
                  [00636C]   904  ; Interrupt from external source.
                  [00636C]   905  ;
                  [00636C]   906  ; Entry:
                  [00636C]   907  ;	p4	isum
                  [00636C]   908  ;	p7	ei bits in <5:0>
                  [00636C]   909  ;	p23	exc_addr
                  [00636C]   910  ;-
                  [00636C]   911  sys__interrupt_ei:
                  [00636C]   912  
                  [00636C]   913  .if ne debug_ints
                  [00636C]   914      .if ne pci_debug_io				; debug_ints
                  [00636C]   915  	DBGREG_PCI LED__INT, p7			; examine EI bits
                  [00636C]   916  	DBGREG_PCI LED__INT, p23		; interrupted PC 
                  [00636C]   917      .endc					; debug_ints
                  [00636C]   918  .endc
                  [00636C]   919  
                  [00636C]   920  sys__int_check_clk:
         44E09005 [00636C]   921          and     p7, #IRQ_CLK, p5                ; check for clock
         E4A00001 [006370]   922          beq     p5, sys__int_check_ip           ; check ip if not
         C3E0000E [006374]   923          br      r31, sys__int_clk               ; branch for clock
                  [006378]   924  sys__int_check_ip:
         44E11005 [006378]   925          and     p7, #IRQ_IP, p5                 ; check for interprocessor
         E4A00001 [00637C]   926          beq     p5, sys__int_check_dev          ; check dev if not
         C3E00028 [006380]   927          br      r31, sys__int_ip                ; branch for ip
                  [006384]   928  sys__int_check_dev:
         44E05005 [006384]   929          and     p7, #IRQ_DEV, p5                ; check for devices
         E4A00001 [006388]   930          beq     p5, sys__int_check_err          ; check NMI if not
         C3E00035 [00638C]   931          br      r31, sys__int_dev               ; branch for devices
                  [006390]   932  sys__int_check_err:
         44E03005 [006390]   933          and     p7, #IRQ_ERR, p5                ; check for errors
         E4A00001 [006394]   934          beq     p5, sys__int_platform_specific  ; any other kind of error?
         C3E00039 [006398]   935          br      r31, sys__int_err               ; branch for errors
                  [00639C]   936  sys__int_platform_specific:
                  [00639C]   937  
                  [00639C]   938  .if ne swordfish_platform                       ; swordfish_platform
                  [00639C]   939  
                  [00639C]   940      ;
                  [00639C]   941      ; Check whether the halt switch is asserted and assert a SYS_EVENT if so
                  [00639C]   942      ;
                  [00639C]   943  
                  [00639C]   944  sys__int_check_hlt:
                  [00639C]   945  
                  [00639C]   946      .if ne pci_debug_io*debug_ints
                  [00639C]   947  	DBG_PCI LED__INT_HLT,0			; We've tested for UP2K halt
                  [00639C]   948      .endc
                  [00639C]   949          and     p7, #IRQ_HLT, p5
                  [00639C]   950          beq     p5, sys__int_pal_err            ; something else weird
                  [00639C]   951          br      r31, sys__int_up2k_hlt          ; go off and handle halt switch
                  [00639C]   952  
                  [00639C]   953  .endc                                           ; swordfish_platform
                  [00639C]   939I 
                  [00639C]   940I     ;
                  [00639C]   941I     ; Check whether the halt switch is asserted and assert a SYS_EVENT if so
                  [00639C]   942I     ;
                  [00639C]   943I 
                  [00639C]   944I sys__int_check_hlt:
                  [00639C]   945I 
                  [00639C]   946I     .if ne pci_debug_io*debug_ints
                  [00639C]   947I 	DBG_PCI LED__INT_HLT,0			; We've tested for UP2K halt
                  [00639C]   948I     .endc
         44E21005 [00639C]   949I         and     p7, #IRQ_HLT, p5
         E4A00001 [0063A0]   950I         beq     p5, sys__int_pal_err            ; something else weird
         C3E0006A [0063A4]   951I         br      r31, sys__int_up2k_hlt          ; go off and handle halt switch
                  [0063A8]   952I 
                  [0063A8]   954  
                  [0063A8]   955  ;
                  [0063A8]   956  ; Since p7 was non-zero, we don't get here unless there is a pal bug.
                  [0063A8]   957  ;
                  [0063A8]   958  sys__int_pal_err:
         20FF008E [0063A8]   959  	lda	p7, MCHK__BUGCHECK(r31)		; mchk code
         C3FFE860 [0063AC]   960  	br	r31, trap__pal_bugcheck
                  [0063B0]   961  
                  [0063B0]   962  ;------------------------------------------------------------------------
                  [0063B0]   963  ;+
                  [0063B0]   964  ; Clock interrupt.
                  [0063B0]   965  ;
                  [0063B0]   966  ; Current state:
                  [0063B0]   967  ;	p23	exc_addr
                  [0063B0]   968  ;
                  [0063B0]   969  ; Do some of the processing as a sample.
                  [0063B0]   970  ;-
                  [0063B0]   971  sys__int_clk:
                  [0063B0]   972  .if ne spinlock_hack
                  [0063B0]   973  ;
                  [0063B0]   974  ; This is a hack to work around the hardware spinlock lockout problem.
                  [0063B0]   975  ; The problem occurs when 2 or more CPUs get into lock-step contention
                  [0063B0]   976  ; for a spinlock.  Occassionally, issue an Halt Interrupt to all the other
                  [0063B0]   977  ; processors to interrupt the lock-step flow.
                  [0063B0]   978  ;
                  [0063B0]   979  	blt	p_misc, 50$			; skip for console mode
                  [0063B0]   980  	hw_ldq/p p20, PT__WHAMI(p_temp)		; get whami
                  [0063B0]   981  	rpcc	p4				; read the cycle counter
                  [0063B0]   982  	srl	p4, #2, p4			; shift to examine bits <9:2>
                  [0063B0]   983  	zap	p4, #^xfe, p4			; mask bits
                  [0063B0]   984  	sll	p20, #4, p5			; move WHAMI to bits <7:4>
                  [0063B0]   985  	cmpeq	p4, p5, p4			; compare count
                  [0063B0]   986  	bne	p4, 40$				; look for 0 (1 out of 256)
                  [0063B0]   987  	br	r31, 50$			; skip if not 0
                  [0063B0]   988  40$:
                  [0063B0]   989  ;
                  [0063B0]   990  ; Generate a halt interrupt to the other CPU
                  [0063B0]   991  ;
                  [0063B0]   992  ; TIG Register Usage:
                  [0063B0]   993  ;
                  [0063B0]   994  ;	801.3000.03C0	- CPU 0 Halt Register - bit 0
                  [0063B0]   995  ;	801.3000.05C0	- CPU 1 Halt Register - bit 1
                  [0063B0]   996  ;
                  [0063B0]   997  	xor	p20, #1, p20			; xor WHAMI to get other CPU
                  [0063B0]   998          lda     p7, ^x8013(r31)			; Set up TIG base address
                  [0063B0]   999          zapnot  p7, #3, p7			;
                  [0063B0]  1000          sll     p7, #28, p7			; p7 <- 801.3000.0000
                  [0063B0]  1001          lda     p5, 1(r31)			; get a '1'
                  [0063B0]  1002          sll     p5, p20, p5			; shift by CPU number
                  [0063B0]  1003  	bne	p20, 45$			; Branch for CPU 1
                  [0063B0]  1004  
                  [0063B0]  1005  	hw_ldq/p p6, ^x3C0(p7)			; read the CPU 0 halt register
                  [0063B0]  1006  	and	p6, #1, p4			; Is halt bit 0 set?
                  [0063B0]  1007  	bne	p4, 50$				; If so, a halt is still pending
                  [0063B0]  1008          or      p5, p6, p5			; Else, set the bit
                  [0063B0]  1009          hw_stq/p p5, ^x3C0(p7)			; Send a halt to CPU 0
                  [0063B0]  1010          hw_ldq/p p5, ^x3C0(p7)			; make sure write completes
                  [0063B0]  1011          mb
                  [0063B0]  1012  	br	r31, 50$
                  [0063B0]  1013  
                  [0063B0]  1014  45$:    hw_ldq/p p6, ^x5C0(p7)			; read the CPU 1 halt register
                  [0063B0]  1015  	and	p6, #2, p4			; Is halt bit 1 set?
                  [0063B0]  1016  	bne	p4, 50$				; If so, a halt is still pending
                  [0063B0]  1017          or      p5, p6, p5			; Else, set the bit
                  [0063B0]  1018          hw_stq/p p5, ^x5C0(p7)			; Send a halt to CPU 1
                  [0063B0]  1019          hw_ldq/p p5, ^x5C0(p7)			; make sure write completes
                  [0063B0]  1020          mb
                  [0063B0]  1021  50$:
                  [0063B0]  1022  .endc
                  [0063B0]  1023  
                  [0063B0]  1024  ;
                  [0063B0]  1025  ; Clear the timer interrupt request for this cpu.
                  [0063B0]  1026  ; On Tsunami for example, we would write the MISC<ININTR> bit for this cpu.
                  [0063B0]  1027  ; The MISC CSR is at 801.A000.0080
                  [0063B0]  1028  ; Find out who we are from PT__WHAMI.
                  [0063B0]  1029  ;
                  [0063B0]  1030  ;	<sample code below>
                  [0063B0]  1031  ;
                  [0063B0]  1032  .if ne swordfish_platform			; API Swordfish
                  [0063B0]  1033  	lda	p4, ^x801A(r31)			; generate 801.A000.0000
                  [0063B0]  1034  	zapnot	p4, #3, p4			; zap extension
                  [0063B0]  1035  	sll	p4, #28, p4			; move into place
                  [0063B0]  1036  	hw_ldq/p p5, PT__WHAMI(p_temp)		; get whami
                  [0063B0]  1037  	lda	p6, ^x10(r31)			; start at bit position 4
                  [0063B0]  1038  	sll	p6, p5, p6			; shift left by whami
                  [0063B0]  1039  	hw_stq/p p6, ^x80(p4)			; write to 801.A000.0080
                  [0063B0]  1040  	hw_ldq/p p6, ^x80(p4)			; make sure write completes
                  [0063B0]  1041  	mb
                  [0063B0]  1042  .endc						;if ne swordfish_platform
         209F801A [0063B0]  1033I 	lda	p4, ^x801A(r31)			; generate 801.A000.0000
         48807624 [0063B4]  1034I 	zapnot	p4, #3, p4			; zap extension
         48839724 [0063B8]  1035I 	sll	p4, #28, p4			; move into place
         6CB510D0 [0063BC]  1036I 	hw_ldq/p p5, PT__WHAMI(p_temp)		; get whami
         20DF0010 [0063C0]  1037I 	lda	p6, ^x10(r31)			; start at bit position 4
         48C50726 [0063C4]  1038I 	sll	p6, p5, p6			; shift left by whami
         7CC41080 [0063C8]  1039I 	hw_stq/p p6, ^x80(p4)			; write to 801.A000.0080
         6CC41080 [0063CC]  1040I 	hw_ldq/p p6, ^x80(p4)			; make sure write completes
         63FF4000 [0063D0]  1041I 	mb
                  [0063D4]  1043  
                  [0063D4]  1044  .if ne nautilus_platform\tinosa_platform	; API Nautilus, Tinosa
                  [0063D4]  1045  
                  [0063D4]  1046  ; For superpaged IO accesses, we need to be in kernel mode.  This is achieved
                  [0063D4]  1047  ; by clearing the CM bits in IPR IER_CM.
                  [0063D4]  1048  
                  [0063D4]  1049          hw_mtpr r31, EV6__PS
                  [0063D4]  1050          ALIGN_FETCH_BLOCK <^x47FF041F>			; pad to next block
                  [0063D4]  1051          hw_mtpr r31, EV6__PS
                  [0063D4]  1052  
                  [0063D4]  1053  ; the superpage to use depends on the address mode
                  [0063D4]  1054  
                  [0063D4]  1055      .if ne va_48                        ; VA48 - 48-bit superpage, eg DBM
                  [0063D4]  1056  
                  [0063D4]  1057          ISA_IO = ^xFFFF8801FC000000
                  [0063D4]  1058  
                  [0063D4]  1059          GET_32CONS p6, <<ISA_IO@-24>&^xffffffff>, r31, verify=0
                  [0063D4]  1060          sll     p6, #24, p6
                  [0063D4]  1061  
                  [0063D4]  1062      .iff                                ; not VA48 (assume 43-bit), eg Linux
                  [0063D4]  1063  
                  [0063D4]  1064          ISA_IO = ^xFFFFFD01FC000000
                  [0063D4]  1065  
                  [0063D4]  1066          GET_32CONS p6, <<ISA_IO@-24>&^xffffffff>, r31, verify=0
                  [0063D4]  1067          sll     p6, #24, p6
                  [0063D4]  1068  
                  [0063D4]  1069      .endc                               ; VA48
                  [0063D4]  1070  
                  [0063D4]  1071          lda     p5, ^x0C(r31)
                  [0063D4]  1072          stb     p5, ^x70(p6)                    ; write 0x0C -> 0x70
                  [0063D4]  1073          ldbu    p5, ^x71(p6)                    ; this read acks the int
                  [0063D4]  1074  
                  [0063D4]  1075          and     p_misc, #OSF_P_MISC__PS__M, p4	; save original ps
                  [0063D4]  1076          hw_mtpr p4, EV6__PS			; restore original mode
                  [0063D4]  1077          ALIGN_FETCH_BLOCK <^x47FF041F>		; pad to next block
                  [0063D4]  1078          hw_mtpr p4, EV6__PS			; restore original mode
                  [0063D4]  1079  
                  [0063D4]  1080  .endc                                           ; API nautilus, tinosa
                  [0063D4]  1081  
                  [0063D4]  1082  ;
                  [0063D4]  1083  ; Hack to load all of the dcache every 16 clock ticks
                  [0063D4]  1084  ;
         4AC0B0D4 [0063D4]  1085          extbl   p_misc, #5, p20
         42803414 [0063D8]  1086          addq    p20, #1, p20
         469E1114 [0063DC]  1087          bic     p20, #^xf0, p20
         4A80B174 [0063E0]  1088          insbl   p20, #5, p20
         4AC41616 [0063E4]  1089          zap     p_misc, #1@5, p_misc
         46D40416 [0063E8]  1090          bis     p_misc, p20, p_misc
         F6800006 [0063EC]  1091          bne     p20, 60$
                  [0063F0]  1092  
         209F0000 [0063F0]  1093  	lda	p4, (r31)
         26840001 [0063F4]  1094  	ldah	p20, 1(p4) 
                  [0063F8]  1095  55$:
         6CC40000 [0063F8]  1096  	hw_ldl/p p6, (p4)
         40881404 [0063FC]  1097  	addq	p4, #64, p4
         409409A6 [006400]  1098  	cmplt	p4, p20, p6
         F4DFFFFC [006404]  1099  	bne	p6, 55$
                  [006408]  1100  60$:
                  [006408]  1101  
                  [006408]  1102  ;
                  [006408]  1103  ; Now get ready to post the interrupt.
                  [006408]  1104  ;
         7EF51098 [006408]  1105  	hw_stq/p p23, PT__STACK_PC(p_temp)	; store pc for post
         47E03405 [00640C]  1106  	bis	r31, #OSF_A0_INT__CLK, p5	; mark clock
         7CB510A0 [006410]  1107  	hw_stq/p p5, PT__NEW_A0(p_temp)		; save new a0 away
                  [006414]  1108  
                  [006414]  1109  ; API addition - A1 contains WHAMI
                  [006414]  1110  
         6C9510D0 [006414]  1111  	hw_ldq/p p4, PT__WHAMI(p_temp)
         7C9510A8 [006418]  1112  	hw_stq/p p4, PT__NEW_A1(p_temp)		; will be useful to OS
                  [00641C]  1113  
         20DF0005 [00641C]  1114  	lda	p6, OSF_IPL__CLK(r31)		; ipl for clock
         C3E0006A [006420]  1115  	br	r31, sys__int_post		; post interrupt
                  [006424]  1116  
                  [006424]  1117  
                  [006424]  1118  ;------------------------------------------------------------------------
                  [006424]  1119  ;+
                  [006424]  1120  ; sys__int_ip - Interprocessor interrupt (IPI)
                  [006424]  1121  ;
                  [006424]  1122  ;-
                  [006424]  1123  
                  [006424]  1124  sys__int_ip:
                  [006424]  1125  .if ne swordfish_platform
                  [006424]  1126  	lda	p4, ^x801a(r31)			; write x00 to 801.a000.0080
                  [006424]  1127  	zapnot	p4, #3, p4
                  [006424]  1128  	sll	p4, #28, p4
                  [006424]  1129  	hw_ldq/p p5, PT__WHAMI(p_temp)		; get whami
                  [006424]  1130  	lda	p6, ^x100(r31)
                  [006424]  1131  	sll	p6, p5, p6
                  [006424]  1132  	hw_stq/p p6, ^x80(p4)
                  [006424]  1133  	hw_ldq/p p6, ^x80(p4)			; make sure write completes
                  [006424]  1134  	mb
                  [006424]  1135  .endc						;if ne swordfish_platform
         209F801A [006424]  1126I 	lda	p4, ^x801a(r31)			; write x00 to 801.a000.0080
         48807624 [006428]  1127I 	zapnot	p4, #3, p4
         48839724 [00642C]  1128I 	sll	p4, #28, p4
         6CB510D0 [006430]  1129I 	hw_ldq/p p5, PT__WHAMI(p_temp)		; get whami
         20DF0100 [006434]  1130I 	lda	p6, ^x100(r31)
         48C50726 [006438]  1131I 	sll	p6, p5, p6
         7CC41080 [00643C]  1132I 	hw_stq/p p6, ^x80(p4)
         6CC41080 [006440]  1133I 	hw_ldq/p p6, ^x80(p4)			; make sure write completes
         63FF4000 [006444]  1134I 	mb
                  [006448]  1136  .if ne debug_ipi					; debug_ipi
                  [006448]  1137      .if ne srom_debug_io				; srom_debug_io
                  [006448]  1138  	GET_32CONS	r16, ^x496E7420, r31		; INT IPI
                  [006448]  1139  	sll		r16, #32, r16
                  [006448]  1140  	GET_32CONS	r16, ^x49504920, r16		;
                  [006448]  1141  	bsr		p7, Sys_Cserve_Srom_Putstr
                  [006448]  1142      .endc						; srom_debug_io
                  [006448]  1143  .endc							; debug_ipi
                  [006448]  1144  
                  [006448]  1145  ;
                  [006448]  1146  ; Now get ready to post the interrupt.
                  [006448]  1147  ;
         7EF51098 [006448]  1148  	hw_stq/p p23, PT__STACK_PC(p_temp)	; store pc for post
         47E01405 [00644C]  1149  	bis	r31, #OSF_A0_INT__IP, p5	; mark IP
         7CB510A0 [006450]  1150  	hw_stq/p p5, PT__NEW_A0(p_temp)		; save new a0 away
                  [006454]  1151  
         6C9510D0 [006454]  1152  	hw_ldq/p p4, PT__WHAMI(p_temp)		;
         7C9510A8 [006458]  1153  	hw_stq/p p4, PT__NEW_A1(p_temp)		; may be useful to OS
                  [00645C]  1154  
         20DF0005 [00645C]  1155  	lda	p6, OSF_IPL__IP(r31)		; ipl for IP
         C3E0005A [006460]  1156  	br	r31, sys__int_post		; post interrupt
                  [006464]  1157  
                  [006464]  1158  
                  [006464]  1159  ;------------------------------------------------------------------------
                  [006464]  1160  ;+
                  [006464]  1161  ; sys__int_dev - peripheral device interrupt
                  [006464]  1162  ;
                  [006464]  1163  ; Entry:
                  [006464]  1164  ;       p4      isum
                  [006464]  1165  ;       p7      ei bits in <5:0>
                  [006464]  1166  ;       p23     exc_addr
                  [006464]  1167  ; 
                  [006464]  1168  ; to set this up, the following are written:  
                  [006464]  1169  ; p6 = the new IPL, should be higher than any external device ints
                  [006464]  1170  ; PT__STACK_PC  <- p23 (ie return address)
                  [006464]  1171  ; PT__NEW_A0    <- API change - contains ENTINTDEV entry point
                  [006464]  1172  ; PT__NEW_A1    <- API addition - contains WHAMI
                  [006464]  1173  ; PT__NEW_A2    <- not used at present
                  [006464]  1174  ;
                  [006464]  1175  ; p_temp is the pointer to PALcode data area
                  [006464]  1176  
                  [006464]  1177  sys__int_dev:
         7EF51098 [006464]  1178          hw_stq/p p23, PT__STACK_PC(p_temp)      ; store pc for post
                  [006468]  1179  
         20BF0003 [006468]  1180          lda     p5, OSF_A0_INT__DEV(r31)        ; an external device interrupt
         7CB510A0 [00646C]  1181          hw_stq/p p5, PT__NEW_A0(p_temp)         ; save new a0 away
                  [006470]  1182  
         6C9510D0 [006470]  1183  	hw_ldq/p p4, PT__WHAMI(p_temp)
         7C9510A8 [006474]  1184  	hw_stq/p p4, PT__NEW_A1(p_temp)		; may be useful to OS
                  [006478]  1185  
         20DF0004 [006478]  1186          lda     p6, OSF_IPL__DEV4(r31)          ; an high-priority dev IPL
         C3E00053 [00647C]  1187          br      r31, sys__int_post              ; post interrupt
                  [006480]  1188  
                  [006480]  1189  
                  [006480]  1190  ;------------------------------------------------------------------------
                  [006480]  1191  ;+
                  [006480]  1192  ; sys__int_err - Error interrupt (NMI) from system
                  [006480]  1193  ;
                  [006480]  1194  ; Current state:
                  [006480]  1195  ;	p4	ev6__isum
                  [006480]  1196  ;	p5	scratch
                  [006480]  1197  ;	p6	scratch
                  [006480]  1198  ;	p7	ev6__isum__ei bits in <5:0>
                  [006480]  1199  ;	p23	exc_addr
                  [006480]  1200  ;-
                  [006480]  1201  sys__int_err:
         4AC050C5 [006480]  1202          extbl   p_misc, #2, p5                          ; get mces
         4ACF1616 [006484]  1203          zap     p_misc, #^x78, p_misc                   ; clear mchk_code & SCBv
                  [006488]  1204  
         44A03406 [006488]  1205          bis     p5, #<1@MCES__MCHK__S>, p6              ; set MCES<MCHK>
         48C21726 [00648C]  1206          sll     p6, #OSF_P_MISC__MCES__MCHK__S, p6      ; shift into position
         46C60416 [006490]  1207          bis     p_misc, p6, p_misc                      ; or back mces
                  [006494]  1208  
         20DF0660 [006494]  1209          lda     p6, SCB__SYSMCHK(r31)                   ; SCB vector
         48C31726 [006498]  1210          sll     p6, #OSF_P_MISC__SCBV__S, p6            ; move SCBv into position
         46C60416 [00649C]  1211          bis     p_misc, p6, p_misc                      ; or back scbv
                  [0064A0]  1212  
         20DF0202 [0064A0]  1213          lda     p6, MCHK__SYS_HRD_ERR(r31)              ; mchk code
         48C51726 [0064A4]  1214          sll     p6, #OSF_P_MISC__MCHK_CODE__S, p6       ; mchk code into position
         46C60416 [0064A8]  1215          bis     p_misc, p6, p_misc                      ; or back mchk code
                  [0064AC]  1216  
                  [0064AC]  1217  .if ne pci_debug_io*debug_err
                  [0064AC]  1218  	DBGREG_PCI LED__MCHK_NMI,p_misc
                  [0064AC]  1219  	DBGREG_PCI LED__MCHK_NMI,p5
                  [0064AC]  1220  	DBGREG_PCI LED__MCHK_NMI,p23
                  [0064AC]  1221  .endc
                  [0064AC]  1222  
         F0A002C5 [0064AC]  1223          blbs    p5, sys__double_machine_check           ; halt on double
         F2E002C7 [0064B0]  1224          blbs    p23, sys__machine_check_while_in_pal    ; halt on in pal mode
                  [0064B4]  1225  
                  [0064B4]  1226  ;
                  [0064B4]  1227  ; Compute where the frame is.
                  [0064B4]  1228  ;
                  [0064B4]  1229  ; Current state:
                  [0064B4]  1230  ;       p4      isum
                  [0064B4]  1231  ;       p23     exc_addr
                  [0064B4]  1232  ;
         6CD510D0 [0064B4]  1233          hw_ldq/p p6, PT__WHAMI(p_temp)                  ; get whami
                  [0064B8]  1234  
         20BF0200 [0064B8]  1235          lda     p5, PAL__LOGOUT_SPECIFIC_SIZE(r31)      ; short&long size
         4CC50405 [0064BC]  1236          mulq    p6, p5, p5                              ; * whami
                  [0064C0]  1237  
                  [0064C0]  1238          GET_32CONS      p6, PAL__LOGOUT_BASE, r31       ; logout base
File: ev6_pal_macros.mar
                  [0064C0]   234i  ASSUME <pal__logout_base> le  <^x7FFFFFFF>
         24DF0000 [0064C0]   235M 	ldah	p6,<<pal__logout_base>+32768>@-16(r31); + xxx<31:16>
         20C61800 [0064C4]   236M 	lda	p6,<<pal__logout_base> & ^XFFFF>(p6) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         40A60405 [0064C8]  1239          addq    p5, p6, p5                              ; (size*whami) + base
         20A50100 [0064CC]  1240          lda     p5, MCHK__BASE(p5)                      ; start of mchk area
                  [0064D0]  1241  
         7EE51058 [0064D0]  1242          hw_stq/p p23, MCHK__EXC_ADDR(p5)                ; store exc_addr
         7EF51098 [0064D4]  1243          hw_stq/p p23, PT__STACK_PC(p_temp)              ; save fault pc
                  [0064D8]  1244  
         7C851068 [0064D8]  1245          hw_stq/p p4, MCHK__ISUM(p5)                     ; store isum
         7FE51030 [0064DC]  1246          hw_stq/p r31, MCHK__DC1_SYNDROME(p5)
         7FE51038 [0064E0]  1247          hw_stq/p r31, MCHK__DC0_SYNDROME(p5)
         7FE51040 [0064E4]  1248          hw_stq/p r31, MCHK__C_STAT(p5)
         7FE51048 [0064E8]  1249          hw_stq/p r31, MCHK__C_STS(p5)
         7FE51028 [0064EC]  1250          hw_stq/p r31, MCHK__C_ADDR(p5)
                  [0064F0]  1251  
         7FE51050 [0064F0]  1252          hw_stq/p r31, MCHK__MM_STAT(p5)                 ; store 0
                  [0064F4]  1253  
         7FE51018 [0064F4]  1254          hw_stq/p r31, MCHK__I_STAT(p5)                  ; store 0
         7FE51020 [0064F8]  1255          hw_stq/p r31, MCHK__DC_STAT(p5)                 ; store 0
                  [0064FC]  1256  
         47FF0414 [0064FC]  1257          bis     r31, r31, p20                           ; no retry
                  [006500]  1258  ;
                  [006500]  1259  ; Current state
                  [006500]  1260  ;
                  [006500]  1261  ;       p5      base of mchk area
                  [006500]  1262  ;       p20     retry flag
                  [006500]  1263  ;
                  [006500]  1264  .if ne pci_debug_io*debug_err
                  [006500]  1265  	DBG_PCI LED__MCHK_NMI,1
                  [006500]  1266  .endc
         C3E001D7 [006500]  1267          br      r31, sys__mchk_header                   ; go build frame
                  [006504]  1268  
                  [006504]  1269  ;------------------------------------------------------------------------
                  [006504]  1270  ;+
                  [006504]  1271  ; sys__interrupt_sl - SROM UART serial line interrupt 
                  [006504]  1272  ;
                  [006504]  1273  ; Function:
                  [006504]  1274  ;       Handle serial line interrupt:
                  [006504]  1275  ;       Receive the character being transmitted.
                  [006504]  1276  ;       Ack the interrupt.
                  [006504]  1277  ;       Post to OS.
                  [006504]  1278  ;
                  [006504]  1279  ; Entry:
                  [006504]  1280  ;       p23     exc_addr
                  [006504]  1281  ;       p4      ev6__isum
                  [006504]  1282  ;-
                  [006504]  1283  
                  [006504]  1284          ALIGN_FETCH_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [006504]   262i 	.align 4
         00000000 [00650C]
File: ev6_osf_system_pal.mar
                  [006510]  1285  sys__interrupt_sl:
                  [006510]  1286  
                  [006510]  1287  .if ne srom_serial_irq                            ; srom_serial_irq
                  [006510]  1288  
                  [006510]  1289          ; Receive the character being transmitted using sromio routines.
                  [006510]  1290  
                  [006510]  1291          ; the SROM getChar routine trashes r0, r1, r2, r3, r24, r28
                  [006510]  1292          ; these user-mode registers need saving off.
                  [006510]  1293          ; nb r20 is also used but this is pal-shadowed by p20
                  [006510]  1294  
                  [006510]  1295          hw_stq/p        r0, PT__R0( p_temp )
                  [006510]  1296          hw_stq/p        r1, PT__R1( p_temp )
                  [006510]  1297          hw_stq/p        r2, PT__R2( p_temp )
                  [006510]  1298          hw_stq/p        r3, PT__R3( p_temp )
                  [006510]  1299          hw_stq/p        r24,PT__R8( p_temp )
                  [006510]  1300          hw_stq/p        r28,PT__R9( p_temp )
                  [006510]  1301  
                  [006510]  1302          ; obtain the SROM autobaud, expected in r24
                  [006510]  1303          hw_ldq/p        r24, PT__IMPURE( p_temp )
                  [006510]  1304          hw_ldq/p        r24, CNS__AUTOBAUD_CALIB( r24 )
                  [006510]  1305  
                  [006510]  1306          bsr     p7, getChar                     ; character comes back in r0
                  [006510]  1307          hw_stq/p r0, PT__NEW_A1( p_temp )
                  [006510]  1308  
                  [006510]  1309          hw_ldq/p        r0, PT__R0( p_temp )
                  [006510]  1310          hw_ldq/p        r1, PT__R1( p_temp )
                  [006510]  1311          hw_ldq/p        r2, PT__R2( p_temp )
                  [006510]  1312          hw_ldq/p        r3, PT__R3( p_temp )
                  [006510]  1313          hw_ldq/p        r24,PT__R8( p_temp )
                  [006510]  1314          hw_ldq/p        r28,PT__R9( p_temp )
                  [006510]  1315  
                  [006510]  1316  
                  [006510]  1317          ; Ack the interrupt (line should have stopped wiggling by now)
                  [006510]  1318  
                  [006510]  1319          lda     p7, 1(r31)                      ; get a 1
                  [006510]  1320          sll     p7, #EV6__HW_INT_CLR__SL__S, p7 ; shift into position to ack
                  [006510]  1321          hw_mtpr p7, EV6__HW_INT_CLR             ; (4,0L) ack the interrupt
                  [006510]  1322          bis     r31, r31, r31                   ; fill out fetch block
                  [006510]  1323  
                  [006510]  1324          hw_mtpr p7, EV6__HW_INT_CLR             ; (4,0L) ack the interrupt
                  [006510]  1325                                                  ; (pvc #35)
                  [006510]  1326  
                  [006510]  1327  .if ne srom_serial_irq_post			; srom_serial_irq_post
                  [006510]  1328  
                  [006510]  1329          ; Post our SROM keypress to OS
                  [006510]  1330  
                  [006510]  1331    .if ne serial_irq_debug_mchk			; Raise an Mchk on demand...
                  [006510]  1332  	hw_ldq/p p4, PT__NEW_A1( p_temp )
                  [006510]  1333  	subq	p4, #^x20, p4
                  [006510]  1334  	beq	p4, sys__mchk			; if keypress was space, do mchk
                  [006510]  1335  
                  [006510]  1336  	; otherwise we dismiss and do nothing 
                  [006510]  1337  
                  [006510]  1338      .if eq force_path                             ; 1.41
                  [006510]  1339          hw_ret_stall (p23)                      ; return
                  [006510]  1340      .iff
                  [006510]  1341          ALIGN_FETCH_BLOCK <^x47FF041F>          ; align
                  [006510]  1342          PVC_VIOLATE <1007>
                  [006510]  1343          PVC_VIOLATE <1020>                      ; stop permutation
                  [006510]  1344          hw_jmp_stall (p23)                      ; return with jmp
                  [006510]  1345          br      r31, .-4                        ; stop predictor
                  [006510]  1346      .endc                                         ; 1.41
                  [006510]  1347  
                  [006510]  1348  
                  [006510]  1349    .iff						; Otherwise a serial line interrupt
                  [006510]  1350          hw_stq/p p23, PT__STACK_PC(p_temp)      ; store pc for post
                  [006510]  1351          bis     r31, #OSF_A0_INT__SL, p5        ; mark serial line
                  [006510]  1352          hw_stq/p p5, PT__NEW_A0(p_temp)         ; save new a0 away
                  [006510]  1353          hw_stq/p p23, PT__NEW_A2( p_temp )      ; store PC for OS to unpick
                  [006510]  1354  
                  [006510]  1355          lda     p6, OSF_IPL__MCHK(r31)          ; ipl for sl: highest for now
                  [006510]  1356          br      r31, sys__int_post              ; post interrupt
                  [006510]  1357  
                  [006510]  1358    .endc						; serial_irq_debug_mchk 
                  [006510]  1359  
                  [006510]  1360  .iff						; srom_serial_irq_post
                  [006510]  1361  
                  [006510]  1362  	; If we're not posting, dump some debug here
                  [006510]  1363  
                  [006510]  1364    .if ne srom_debug_io				; srom_debug_io
                  [006510]  1365  
                  [006510]  1366  	hw_stq/p	r16, PT__R0( p_temp )	; Save r16
                  [006510]  1367  
                  [006510]  1368  	GET_32CONS	r16, ^x55415254, r31	; "UART SL"
                  [006510]  1369  	sll		r16, #32, r16
                  [006510]  1370  	GET_32CONS	r16, ^x20534C20, r16
                  [006510]  1371  	bsr		p7, Sys_Cserve_Srom_Putstr
                  [006510]  1372  	bis		p23, r31, r16		; Dump interrupted PC
                  [006510]  1373  	bsr		p7, Sys_Cserve_Srom_Putnum
                  [006510]  1374  
                  [006510]  1375  	hw_ldq/p	r16, PT__R0( p_temp )	; Restore r16 
                  [006510]  1376  
                  [006510]  1377    .endc						; srom_debug_io
                  [006510]  1378  
                  [006510]  1379  
                  [006510]  1380  	; Return from the interrupt here 
                  [006510]  1381  
                  [006510]  1382    .if eq force_path                             ; 1.41
                  [006510]  1383          hw_ret_stall (p23)                      ; return
                  [006510]  1384    .iff
                  [006510]  1385          ALIGN_FETCH_BLOCK <^x47FF041F>          ; align
                  [006510]  1386          PVC_VIOLATE <1007>
                  [006510]  1387          PVC_VIOLATE <1020>                      ; stop permutation
                  [006510]  1388          hw_jmp_stall (p23)                      ; return with jmp
                  [006510]  1389          br      r31, .-4                        ; stop predictor
                  [006510]  1390    .endc                                         ; 1.41
                  [006510]  1391  
                  [006510]  1392  .endc						; srom_serial_irq_post
                  [006510]  1393  
                  [006510]  1394  .iff                                            ; srom_serial_irq
                  [006510]  1395  
                  [006510]  1396  ; if we're not supporting SROM UART IO, we just want to ignore any
                  [006510]  1397  ; (unexpected) distractions caused by the serial link interrupt line
                  [006510]  1398  
                  [006510]  1399    .if eq force_path                             ; 1.41
                  [006510]  1400          hw_ret_stall (p23)                      ; return
                  [006510]  1401    .iff
                  [006510]  1402          ALIGN_FETCH_BLOCK <^x47FF041F>          ; align
                  [006510]  1403          PVC_VIOLATE <1007>
                  [006510]  1404          PVC_VIOLATE <1020>                      ; stop permutation
                  [006510]  1405          hw_jmp_stall (p23)                      ; return with jmp
                  [006510]  1406          br      r31, .-4                        ; stop predictor
                  [006510]  1407    .endc                                         ; 1.41
                  [006510]  1408  
                  [006510]  1409  .endc                                           ; srom_serial_irq
                  [006510]  1395I 
                  [006510]  1396I ; if we're not supporting SROM UART IO, we just want to ignore any
                  [006510]  1397I ; (unexpected) distractions caused by the serial link interrupt line
                  [006510]  1398I 
                  [006510]  1399I   .if eq force_path                             ; 1.41
                  [006510]  1400I         hw_ret_stall (p23)                      ; return
                  [006510]  1401I   .iff
                  [006510]  1402I         ALIGN_FETCH_BLOCK <^x47FF041F>          ; align
                  [006510]  1403I         PVC_VIOLATE <1007>
                  [006510]  1404I         PVC_VIOLATE <1020>                      ; stop permutation
                  [006510]  1405I         hw_jmp_stall (p23)                      ; return with jmp
                  [006510]  1406I         br      r31, .-4                        ; stop predictor
                  [006510]  1407I   .endc                                         ; 1.41
         7BF7A000 [006510]  1400I         hw_ret_stall (p23)                      ; return
                  [006514]  1408I   
                  [006514]  1410  
                  [006514]  1411  
                  [006514]  1412  ;------------------------------------------------------------------------
                  [006514]  1413  ;+
                  [006514]  1414  ; sys__interrupt_pc - Performance counter interrupt
                  [006514]  1415  ;
                  [006514]  1416  ; Function:
                  [006514]  1417  ;	Handle performance counter interrupts.
                  [006514]  1418  ; Entry:
                  [006514]  1419  ;	p23	exc_addr
                  [006514]  1420  ;	p4	ev6__isum
                  [006514]  1421  ;-
                  [006514]  1422  
                  [006514]  1423  sys__interrupt_pc:
         7EF51098 [006514]  1424  	hw_stq/p p23, PT__STACK_PC(p_temp)	; store pc for post
         47E09405 [006518]  1425  	bis	r31, #OSF_A0_INT__PERFMON, p5	; mark perfmon
         7CB510A0 [00651C]  1426  	hw_stq/p p5, PT__NEW_A0(p_temp)		; save new a0 away
         20FF0650 [006520]  1427  	lda	p7, SCB__PERFMON(r31)		; SCB offset
         7CF510A8 [006524]  1428  	hw_stq/p p7, PT__NEW_A1(p_temp)		; store it for post
                  [006528]  1429  
         47FF0406 [006528]  1430  	bis	r31, r31, p6			; assume pc0, r4 will be 0
         4883D685 [00652C]  1431  	srl	p4, #<EV6__ISUM__PC__S+1>, p5	; get pc1 bit
         44A03286 [006530]  1432  	cmovlbs	p5, #1, p6			; if pc1, r4 will be 1
         7CD510B0 [006534]  1433  	hw_stq/p p6, PT__NEW_A2(p_temp)		; indicate which counter
                  [006538]  1434  
         20FF0001 [006538]  1435  	lda	p7, 1(r31)			; get a 1
         48E60727 [00653C]  1436  	sll	p7, p6, p7			; bit 0 if pc0, bit 1 if pc1
         48E3B727 [006540]  1437  	sll	p7, #EV6__HW_INT_CLR__PC__S, p7	; move into position to ack
                  [006544]  1438  	PVC_VIOLATE <35>
File: ev6_pal_macros.mar
                  [006544]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E70E10 [006544]  1439  	hw_mtpr	p7, EV6__HW_INT_CLR		; (4,0L) ack the interrupt
                  [006548]  1440  
         20DF0006 [006548]  1441  	lda	p6, OSF_IPL__PERFMON(r31)	; ipl for performance counter
         C3E0001F [00654C]  1442  	br	r31, sys__int_post		; post interrupt
                  [006550]  1443  
                  [006550]  1444  
                  [006550]  1445  .if ne swordfish_platform                       ; swordfish_platform only
                  [006550]  1446  ;------------------------------------------------------------------------
                  [006550]  1447  ;+
                  [006550]  1448  ; sys__int_up2k_hlt - UP2000 Halt button assertion
                  [006550]  1449  ;
                  [006550]  1450  ; Function:
                  [006550]  1451  ;       on UP2000+ systems, early product had toggle switches to implement
                  [006550]  1452  ;       halt.  These crashed SRM console so the diagnostics must check for
                  [006550]  1453  ;       halt switch assertion on pass-through.
                  [006550]  1454  ;
                  [006550]  1455  ; Current state:
                  [006550]  1456  ;       p4      ev6__isum
                  [006550]  1457  ;       p7      ev6__isum__ei bits in <5:0>
                  [006550]  1458  ;       p23     exc_addr
                  [006550]  1459  ;-
                  [006550]  1460  
                  [006550]  1461  sys__int_up2k_hlt:
                  [006550]  1462  
                  [006550]  1463  .if ne pci_debug_io*debug_ints
                  [006550]  1464  	DBG_PCI LED__INT_HLT,1			; We've tested for UP2K halt
                  [006550]  1465  .endc
                  [006550]  1466  
                  [006550]  1467          ; write the appropriate bitfields in p_misc for the mchk poster
                  [006550]  1468  
                  [006550]  1469  ASSUME OSF_P_MISC__MCES__MCHK__S eq 16
                  [006550]  1470  ASSUME OSF_P_MISC__SCBV__S eq 24
                  [006550]  1471  ASSUME OSF_P_MISC__MCHK_CODE__S eq 40
                  [006550]  1472  
                  [006550]  1473  	extbl   p_misc, #2, p5				; get mces
                  [006550]  1474  	zap	p_misc, #^x78, p_misc			; clear mchk_code & SCBv
                  [006550]  1475  
                  [006550]  1476          bis     p5, #<1@MCES__MCHK__S>, p6              ; set MCES<MCHK>
                  [006550]  1477          sll     p6, #OSF_P_MISC__MCES__MCHK__S, p6      ; shift into position
                  [006550]  1478          bis     p_misc, p6, p_misc                      ; or back mces
                  [006550]  1479  
                  [006550]  1480          lda     p6, SCB__SYS_EVENT(r31)                 ; SCB vector
                  [006550]  1481          sll     p6, #OSF_P_MISC__SCBV__S, p6            ; put SCBv to position
                  [006550]  1482          bis     p_misc, p6, p_misc                      ; or back scbv
                  [006550]  1483  
                  [006550]  1484          lda     p6, MCHK__SYS_EVENT(r31)                ; mchk code
                  [006550]  1485          sll     p6, #OSF_P_MISC__MCHK_CODE__S, p6       ; mchk code to position
                  [006550]  1486          bis     p_misc, p6, p_misc                      ; or back mchk code
                  [006550]  1487  
                  [006550]  1488  ;
                  [006550]  1489  ; Compute where the frame is.
                  [006550]  1490  ;
                  [006550]  1491  ; Current state:
                  [006550]  1492  ;       p4      isum
                  [006550]  1493  ;       p23     exc_addr
                  [006550]  1494  ;
                  [006550]  1495          hw_ldq/p p6, PT__WHAMI(p_temp)                  ; get whami
                  [006550]  1496          lda     p5, PAL__LOGOUT_SPECIFIC_SIZE(r31)      ; short&long size
                  [006550]  1497          mulq    p6, p5, p5                              ; * whami
                  [006550]  1498          GET_32CONS      p6, PAL__LOGOUT_BASE, r31       ; logout base
                  [006550]  1499          addq    p5, p6, p5                              ; (size*whami) + base
                  [006550]  1500          lda     p5, MCHK__BASE(p5)                      ; start of mchk area
                  [006550]  1501  
                  [006550]  1502          ; Store useful information
                  [006550]  1503  
                  [006550]  1504          hw_stq/p p23, MCHK__EXC_ADDR(p5)                ; store exc_addr
                  [006550]  1505          hw_stq/p p23, PT__STACK_PC(p_temp)              ; save fault pc
                  [006550]  1506          hw_stq/p p4, MCHK__ISUM(p5)                     ; store isum
                  [006550]  1507  
                  [006550]  1508          ; nothing else is useful at present
                  [006550]  1509  
                  [006550]  1510          hw_stq/p r31, MCHK__DC1_SYNDROME(p5)
                  [006550]  1511          hw_stq/p r31, MCHK__DC0_SYNDROME(p5)
                  [006550]  1512          hw_stq/p r31, MCHK__C_STAT(p5)
                  [006550]  1513          hw_stq/p r31, MCHK__C_STS(p5)
                  [006550]  1514          hw_stq/p r31, MCHK__C_ADDR(p5)
                  [006550]  1515          hw_stq/p r31, MCHK__MM_STAT(p5)                 ; store 0
                  [006550]  1516          hw_stq/p r31, MCHK__I_STAT(p5)                  ; store 0
                  [006550]  1517          hw_stq/p r31, MCHK__DC_STAT(p5)                 ; store 0
                  [006550]  1518  
                  [006550]  1519          bis     r31, r31, p20                           ; no retry
                  [006550]  1520  ;
                  [006550]  1521  ; Current state
                  [006550]  1522  ;
                  [006550]  1523  ;       p5      base of mchk area
                  [006550]  1524  ;       p20     retry flag
                  [006550]  1525  ;
                  [006550]  1526          br      r31, sys__mchk_header                   ; go build frame
                  [006550]  1527  
                  [006550]  1528  .endc                                           ; swordfish_platform only
                  [006550]  1446I ;------------------------------------------------------------------------
                  [006550]  1447I ;+
                  [006550]  1448I ; sys__int_up2k_hlt - UP2000 Halt button assertion
                  [006550]  1449I ;
                  [006550]  1450I ; Function:
                  [006550]  1451I ;       on UP2000+ systems, early product had toggle switches to implement
                  [006550]  1452I ;       halt.  These crashed SRM console so the diagnostics must check for
                  [006550]  1453I ;       halt switch assertion on pass-through.
                  [006550]  1454I ;
                  [006550]  1455I ; Current state:
                  [006550]  1456I ;       p4      ev6__isum
                  [006550]  1457I ;       p7      ev6__isum__ei bits in <5:0>
                  [006550]  1458I ;       p23     exc_addr
                  [006550]  1459I ;-
                  [006550]  1460I 
                  [006550]  1461I sys__int_up2k_hlt:
                  [006550]  1462I 
                  [006550]  1463I .if ne pci_debug_io*debug_ints
                  [006550]  1464I 	DBG_PCI LED__INT_HLT,1			; We've tested for UP2K halt
                  [006550]  1465I .endc
                  [006550]  1466I 
                  [006550]  1467I         ; write the appropriate bitfields in p_misc for the mchk poster
                  [006550]  1468I 
                  [006550]  1469I ASSUME OSF_P_MISC__MCES__MCHK__S eq 16
                  [006550]  1470I ASSUME OSF_P_MISC__SCBV__S eq 24
                  [006550]  1471I ASSUME OSF_P_MISC__MCHK_CODE__S eq 40
                  [006550]  1472I 
         4AC050C5 [006550]  1473I 	extbl   p_misc, #2, p5				; get mces
         4ACF1616 [006554]  1474I 	zap	p_misc, #^x78, p_misc			; clear mchk_code & SCBv
                  [006558]  1475I 
         44A03406 [006558]  1476I         bis     p5, #<1@MCES__MCHK__S>, p6              ; set MCES<MCHK>
         48C21726 [00655C]  1477I         sll     p6, #OSF_P_MISC__MCES__MCHK__S, p6      ; shift into position
         46C60416 [006560]  1478I         bis     p_misc, p6, p_misc                      ; or back mces
                  [006564]  1479I 
         20DF0680 [006564]  1480I         lda     p6, SCB__SYS_EVENT(r31)                 ; SCB vector
         48C31726 [006568]  1481I         sll     p6, #OSF_P_MISC__SCBV__S, p6            ; put SCBv to position
         46C60416 [00656C]  1482I         bis     p_misc, p6, p_misc                      ; or back scbv
                  [006570]  1483I 
         20DF0206 [006570]  1484I         lda     p6, MCHK__SYS_EVENT(r31)                ; mchk code
         48C51726 [006574]  1485I         sll     p6, #OSF_P_MISC__MCHK_CODE__S, p6       ; mchk code to position
         46C60416 [006578]  1486I         bis     p_misc, p6, p_misc                      ; or back mchk code
                  [00657C]  1487I 
                  [00657C]  1488I ;
                  [00657C]  1489I ; Compute where the frame is.
                  [00657C]  1490I ;
                  [00657C]  1491I ; Current state:
                  [00657C]  1492I ;       p4      isum
                  [00657C]  1493I ;       p23     exc_addr
                  [00657C]  1494I ;
         6CD510D0 [00657C]  1495I         hw_ldq/p p6, PT__WHAMI(p_temp)                  ; get whami
         20BF0200 [006580]  1496I         lda     p5, PAL__LOGOUT_SPECIFIC_SIZE(r31)      ; short&long size
         4CC50405 [006584]  1497I         mulq    p6, p5, p5                              ; * whami
                  [006588]  1498I         GET_32CONS      p6, PAL__LOGOUT_BASE, r31       ; logout base
File: ev6_pal_macros.mar
                  [006588]   234i  ASSUME <pal__logout_base> le  <^x7FFFFFFF>
         24DF0000 [006588]   235i 	ldah	p6,<<pal__logout_base>+32768>@-16(r31); + xxx<31:16>
         20C61800 [00658C]   236i 	lda	p6,<<pal__logout_base> & ^XFFFF>(p6) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         40A60405 [006590]  1499I         addq    p5, p6, p5                              ; (size*whami) + base
         20A50100 [006594]  1500I         lda     p5, MCHK__BASE(p5)                      ; start of mchk area
                  [006598]  1501I 
                  [006598]  1502I         ; Store useful information
                  [006598]  1503I 
         7EE51058 [006598]  1504I         hw_stq/p p23, MCHK__EXC_ADDR(p5)                ; store exc_addr
         7EF51098 [00659C]  1505I         hw_stq/p p23, PT__STACK_PC(p_temp)              ; save fault pc
         7C851068 [0065A0]  1506I         hw_stq/p p4, MCHK__ISUM(p5)                     ; store isum
                  [0065A4]  1507I 
                  [0065A4]  1508I         ; nothing else is useful at present
                  [0065A4]  1509I 
         7FE51030 [0065A4]  1510I         hw_stq/p r31, MCHK__DC1_SYNDROME(p5)
         7FE51038 [0065A8]  1511I         hw_stq/p r31, MCHK__DC0_SYNDROME(p5)
         7FE51040 [0065AC]  1512I         hw_stq/p r31, MCHK__C_STAT(p5)
         7FE51048 [0065B0]  1513I         hw_stq/p r31, MCHK__C_STS(p5)
         7FE51028 [0065B4]  1514I         hw_stq/p r31, MCHK__C_ADDR(p5)
         7FE51050 [0065B8]  1515I         hw_stq/p r31, MCHK__MM_STAT(p5)                 ; store 0
         7FE51018 [0065BC]  1516I         hw_stq/p r31, MCHK__I_STAT(p5)                  ; store 0
         7FE51020 [0065C0]  1517I         hw_stq/p r31, MCHK__DC_STAT(p5)                 ; store 0
                  [0065C4]  1518I 
         47FF0414 [0065C4]  1519I         bis     r31, r31, p20                           ; no retry
                  [0065C8]  1520I ;
                  [0065C8]  1521I ; Current state
                  [0065C8]  1522I ;
                  [0065C8]  1523I ;       p5      base of mchk area
                  [0065C8]  1524I ;       p20     retry flag
                  [0065C8]  1525I ;
         C3E001A5 [0065C8]  1526I         br      r31, sys__mchk_header                   ; go build frame
                  [0065CC]  1527I 
                  [0065CC]  1529  
                  [0065CC]  1530  ;------------------------------------------------------------------------
                  [0065CC]  1531  ;+
                  [0065CC]  1532  ; sys__int_post	- Post an interrupt to the OS handler
                  [0065CC]  1533  ;
                  [0065CC]  1534  ; Function:
                  [0065CC]  1535  ;	Post interrupt.
                  [0065CC]  1536  ;
                  [0065CC]  1537  ; Current state:
                  [0065CC]  1538  ;	p6		new IPL
                  [0065CC]  1539  ;
                  [0065CC]  1540  ;	PT__STACK_PC	exc_addr
                  [0065CC]  1541  ;	PT__NEW_A0	type
                  [0065CC]  1542  ;	PT__NEW_A1	interrupt vector
                  [0065CC]  1543  ;	PT__NEW_A2	mchk => kseg pointer to logout area
                  [0065CC]  1544  ;			perfmon => pc indicator
                  [0065CC]  1545  ;-
                  [0065CC]  1546  sys__int_post:
         46C11004 [0065CC]  1547  	and	p_misc, #<1@OSF_P_MISC__CM__S>, p4	; current mode
         46C1F014 [0065D0]  1548  	and	p_misc, #OSF_P_MISC__PS__M, p20		; save original ps
         E4800007 [0065D4]  1549  	beq	p4, sys__int_post_cm_done		; skip switch if kernel
                  [0065D8]  1550  
                  [0065D8]  1551  ;
                  [0065D8]  1552  ; Switch to kernel mode.
                  [0065D8]  1553  ;
                  [0065D8]  1554  post_cm_offset = <sys__int_post_cm_done - sys__int_post_cm>
                  [0065D8]  1555  
         7FD51020 [0065D8]  1556  	hw_stq/p r30, PT__USP(p_temp)			; save user SP
         6FD51018 [0065DC]  1557  	hw_ldq/p r30, PT__KSP(p_temp)			; get kernel SP
                  [0065E0]  1558  
         C0800000 [0065E0]  1559  	br	p4, sys__int_post_cm			; change mode to kernel
                  [0065E4]  1560  sys__int_post_cm:
         40823404 [0065E4]  1561  	addq	p4, #<post_cm_offset+1>, p4		; jump past in palmode
         77FF0910 [0065E8]  1562  	hw_mtpr	r31, EV6__PS				; (4,0L) switch to kern
         D3E00000 [0065EC]  1563  	bsr	r31, .					; push prediction stack
                  [0065F0]  1564  	PVC_JSR	post_cm					; synch up
File: ev6_pal_macros.mar
                  [0065F0]   526i  pvc_lbl \pcv_index, \pcv_jsr_post_cm0, osf
File: ev6_osf_system_pal.mar
         7BE4A000 [0065F0]  1565  	hw_ret_stall (p4)				; pop prediction stack
                  [0065F4]  1566  	PVC_JSR	post_cm, dest=1
File: ev6_pal_macros.mar
                  [0065F4]   529i  pvc_lbl \pcv_index, \pcv_jsr_post_cm0, osf, \pcv_jsr_post_cm0_inst
File: ev6_osf_system_pal.mar
                  [0065F4]  1567  sys__int_post_cm_done:
                  [0065F4]  1568  
         46C1F116 [0065F4]  1569  	bic	p_misc, #OSF_P_MISC__PS__M, p_misc	; clear PS
         46C60416 [0065F8]  1570  	bis	p_misc, p6, p_misc			; cm=0, ipl=p6
                  [0065FC]  1571  
         649F1010 [0065FC]  1572  	hw_mfpr	p4, EV6__PAL_BASE		; (4,0L) get pal base
         40C40644 [006600]  1573  	s8addq	p6, p4, p4			; pal base + index
         20840D00 [006604]  1574  	lda	p4, ipl_offset(p4)		; pal base + table base + index
         6C841000 [006608]  1575  	hw_ldq/p p4, (p4)			; get new ier
         77E40A10 [00660C]  1576  	hw_mtpr	p4, EV6__IER			; (4,0L) write new ier
                  [006610]  1577  
         23DEFFD0 [006610]  1578  	lda	r30, <0-OSF_FRM__SIZE>(r30)		; allocate stack space
                  [006614]  1579  
         B69E0000 [006614]  1580  	stq	p20, OSF_FRM__PS(r30)			; save original ps
         B65E0028 [006618]  1581  	stq	r18, OSF_FRM__A2(r30)			; save a2
                  [00661C]  1582  
         6E951098 [00661C]  1583  	hw_ldq/p p20, PT__STACK_PC(p_temp)		; 1.39 get exc_addr back
                  [006620]  1584  
         B7BE0010 [006620]  1585  	stq	r29, OSF_FRM__GP(r30)			; save gp
         B61E0018 [006624]  1586  	stq	r16, OSF_FRM__A0(r30)			; save a0
         B63E0020 [006628]  1587  	stq	r17, OSF_FRM__A1(r30)			; save a1
         B69E0008 [00662C]  1588  	stq	p20, OSF_FRM__PC(r30)			; 1.39 save exc_addr
                  [006630]  1589  
                  [006630]  1590  .if ne debug_ints					; debug_ints
                  [006630]  1591      .if ne srom_debug_io				; srom_debug_io
                  [006630]  1592  	GET_32CONS	r16, ^x494E5445, r31		; INTERRPT
                  [006630]  1593  	sll		r16, #32, r16
                  [006630]  1594  	GET_32CONS	r16, ^x52525054, r16		;
                  [006630]  1595  	bsr		p7, Sys_Cserve_Srom_Putstr
                  [006630]  1596  	hw_ldq/p r16, PT__NEW_A0(p_temp)		; a0 <- type
                  [006630]  1597  	bsr		p7, Sys_Cserve_Srom_Putnum
                  [006630]  1598  	hw_ldq/p r16, PT__NEW_A1(p_temp)		; a1 <- vector
                  [006630]  1599  	bsr		p7, Sys_Cserve_Srom_Putnum
                  [006630]  1600  	hw_ldq/p r16, PT__NEW_A2(p_temp)		; a2 <- ptr to logout or PC
                  [006630]  1601  	bsr		p7, Sys_Cserve_Srom_Putnum
                  [006630]  1602      .endc						; srom_debug_io
                  [006630]  1603  .endc							; debug_ints
                  [006630]  1604  
         6EF51068 [006630]  1605  	hw_ldq/p p23, PT__ENT_INT(p_temp)		; get entry point
         6FB51028 [006634]  1606  	hw_ldq/p r29, PT__KGP(p_temp)			; get kgp
         6E1510A0 [006638]  1607  	hw_ldq/p r16, PT__NEW_A0(p_temp)		; a0 <- type
         6E3510A8 [00663C]  1608  	hw_ldq/p r17, PT__NEW_A1(p_temp)		; a1 <- vector
         6E5510B0 [006640]  1609  	hw_ldq/p r18, PT__NEW_A2(p_temp)		; a2 <- ptr to logout
                  [006644]  1610  							; 	or pc indicator
         7BF7A000 [006644]  1611  	hw_ret_stall	(p23)				; to os
                  [006648]  1612  
                  [006648]  1613  ;------------------------------------------------------------------------
                  [006648]  1614  ;+
                  [006648]  1615  ; CRD interrupt.
                  [006648]  1616  ;
                  [006648]  1617  ; On DC_STAT<ECC_ERR_LD> and C_STAT <> 0, the hardware guarantees a good local
                  [006648]  1618  ; copy. But on bcache and memory errors, we should scrub and store to make
                  [006648]  1619  ; sure memory will be cleaned eventually.
                  [006648]  1620  ;
                  [006648]  1621  ; Also, non-target quadwords are not corrected at all, so that's
                  [006648]  1622  ; another good reason to scrub.
                  [006648]  1623  ;
                  [006648]  1624  ; If DC_STAT<ECC_ERR_LD> and C_STAT = 0, we got a error on a speculative load.
                  [006648]  1625  ; or on a bcache victim on a dcache/bcache miss. If C_STAT = 0, we don't get a
                  [006648]  1626  ; C_ADDR, so we can't scrub.
                  [006648]  1627  ;
                  [006648]  1628  ; We can also enter here via a crd that signals we got a ISTREAM_MEM_ERR
                  [006648]  1629  ; or ISTREAM_BC_ERR mchk down a bad path. We need to scrub the error in this
                  [006648]  1630  ; case also.
                  [006648]  1631  ;
                  [006648]  1632  ; We can also enter here with a double bit error that has slipped into
                  [006648]  1633  ; c_stat after we took the crd. So look for that case, and take a mchk
                  [006648]  1634  ; if so. Note that c_stat double bit error bit is not locked, so we
                  [006648]  1635  ; can detect this condition.
                  [006648]  1636  ;
                  [006648]  1637  ; Current state:
                  [006648]  1638  ;	p23		exc_addr
                  [006648]  1639  ;-
                  [006648]  1640  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [006648]   270i 	.align 6
00000000 00000000 [006650]
00000000 00000000 [006658]
00000000 00000000 [006660]
00000000 00000000 [006668]
00000000 00000000 [006670]
00000000 00000000 [006678]
File: ev6_osf_system_pal.mar
                  [006680]  1641  sys__crd:
                  [006680]  1642  ;
                  [006680]  1643  ; First, fetch the cbox error chain, unlocking the error in the process.
                  [006680]  1644  ;
                  [006680]  1645      .if eq force_path			; 1.41
                  [006680]  1646  	PVC_JSR	cbox, bsr=1
                  [006680]  1647  	bsr	p5, sys__cbox
                  [006680]  1648      .iff
                  [006680]  1649  	br	p5, sys__cbox
                  [006680]  1650  	PVC_JSR cbox_hack, dest=1
                  [006680]  1651      .endc				; 1.41
                  [006680]  1646I 	PVC_JSR	cbox, bsr=1
File: ev6_pal_macros.mar
                  [006680]   526i  pvc_lbl \pcv_index, \pcv_jsr_cbox0, osf
File: ev6_osf_system_pal.mar
         D0A0025B [006680]  1647I 	bsr	p5, sys__cbox
                  [006684]  1652      ;
                  [006684]  1653  ; 1.61 Check for istat[par] and dc_stat[ecc_err_st]
                  [006684]  1654  ; and skip c_stat check if so.
                  [006684]  1655  ; 1.57 Check for c_stat = 0 and clear/dismiss if so.
                  [006684]  1656  ; Then check for a double bit error that came in just after the
                  [006684]  1657  ; single bit error.
                  [006684]  1658  ;
                  [006684]  1659  ; Current state:
                  [006684]  1660  ;	p5		available
                  [006684]  1661  ;	p20<43:39>	c_stat<4:0>
                  [006684]  1662  ;
         7EF51098 [006684]  1663  	hw_stq/p p23, PT__STACK_PC(p_temp) ; 1.58 save for post, free up reg
                  [006688]  1664  
         64BF1610 [006688]  1665  	hw_mfpr p5, EV6__I_STAT				; 1.61 (4,0L) i_stat
         48A3B685 [00668C]  1666  	srl	p5, #EV6__I_STAT__PAR__S, p5		; 1.61 get par bit
         F0A00008 [006690]  1667  	blbs	p5, sys__crd_skip_c_stat_check		; 1.61
                  [006694]  1668  
         64BF2A40 [006694]  1669  	hw_mfpr	p5, EV6__DC_STAT			; 1.61 (6,0L) dc_stat
         48A05685 [006698]  1670  	srl	p5, #EV6__DC_STAT__ECC_ERR_ST__S, p5	; 1.61 get ecc_err_st
         F0A00005 [00669C]  1671  	blbs	p5, sys__crd_skip_c_stat_check		; 1.61
                  [0066A0]  1672  
         4A829725 [0066A0]  1673  	sll	p20, #<64-<CHAIN__STAT__S+CHAIN__STAT__V>>, p5
         48A77685 [0066A4]  1674  	srl	p5, #<64-CHAIN__STAT__V>, p5		; get c_stat
                  [0066A8]  1675  
         E4A000E2 [0066A8]  1676  	beq	p5, sys__crd_skip_frame_merge		; 1.57 dismiss if 0
                  [0066AC]  1677  
         44A21005 [0066AC]  1678  	and	p5, #<1@EV6__C_STAT__DOUBLE__S>, p5	; check for dbl
         F4A00124 [0066B0]  1679  	bne	p5, sys__mchk__double_bit		; mchk if so
                  [0066B4]  1680  
                  [0066B4]  1681  sys__crd_skip_c_stat_check:				; 1.61
                  [0066B4]  1682  
                  [0066B4]  1683  ;
                  [0066B4]  1684  ; Now continue with logout.
                  [0066B4]  1685  ;
                  [0066B4]  1686  ; Current state:
                  [0066B4]  1687  ;	p4		scratched
                  [0066B4]  1688  ;	p6		scratched
                  [0066B4]  1689  ;	p20<59:52>	dc1_syndrome<7:0>
                  [0066B4]  1690  ;	   <51:44>	dc0_syndrome<7:0>
                  [0066B4]  1691  ;	   <43:39>	c_stat<4:0>
                  [0066B4]  1692  ;	   <38:35>	c_sts<3:0>
                  [0066B4]  1693  ;	p23		exc_addr
                  [0066B4]  1694  ;
                  [0066B4]  1695  ;	pass1
                  [0066B4]  1696  ;	-----
                  [0066B4]  1697  ;	p7 <44:08>	c_addr<6:42>
                  [0066B4]  1698  ;	   <07:06>	raz
                  [0066B4]  1699  ;	   <05:00>	UNDEFINED
                  [0066B4]  1700  ;	pass2
                  [0066B4]  1701  ;	-----
                  [0066B4]  1702  ;	p7 <40:04>	c_addr<6:42>
                  [0066B4]  1703  ;	   <03:00>	raz
                  [0066B4]  1704  ;
                  [0066B4]  1705  						; 1.58 delete p23 store to
                  [0066B4]  1706  						; PT__STACK_PC
                  [0066B4]  1707  
         4AC050D7 [0066B4]  1708  	extbl	p_misc, #2, p23			; get mces
         4ACF1616 [0066B8]  1709  	zap	p_misc, #^x78, p_misc		; clean mchk_code and SCBv
                  [0066BC]  1710  
                  [0066BC]  1711  .if eq crd_en
                  [0066BC]  1712  	srl	p23, #MCES__DPC__S, p6		; get dpc
                  [0066BC]  1713  	blbs	p6, sys__crd_skip_frame		; dpc => don't build frame
                  [0066BC]  1714  .endc
                  [0066BC]  1715  
         46E09406 [0066BC]  1716  	bis	p23, #<1@MCES__PCE__S>, p6		; set MCES<PCE>
         48C21726 [0066C0]  1717  	sll	p6, #OSF_P_MISC__MCES__MCHK__S, p6	; shift into position
         46C60416 [0066C4]  1718  	bis	p_misc, p6, p_misc			; or back mces
                  [0066C8]  1719  
         20DF0630 [0066C8]  1720  	lda	p6, SCB__PROC_CORR_ERR(r31)		; SCB vector
         48C31726 [0066CC]  1721  	sll	p6, #OSF_P_MISC__SCBV__S, p6		; move SCBv into position
         46C60416 [0066D0]  1722  	bis	p_misc, p6, p_misc			; or back scbv
                  [0066D4]  1723  
         20DF0086 [0066D4]  1724  	lda	p6, MCHK__CORR_ECC(r31)			; mchk code
         48C51726 [0066D8]  1725  	sll	p6, #OSF_P_MISC__MCHK_CODE__S, p6	; mchk code into position
         46C60416 [0066DC]  1726  	bis	p_misc, p6, p_misc			; or back mchk code
                  [0066E0]  1727  ;
                  [0066E0]  1728  ; Now compute where the frame is.
                  [0066E0]  1729  ;
                  [0066E0]  1730  ; Current state:
                  [0066E0]  1731  ;	p7	cbox error chain info
                  [0066E0]  1732  ;	p20	cbox error chain info
                  [0066E0]  1733  ;	p23	old mces
                  [0066E0]  1734  ;
         6C9510D0 [0066E0]  1735  	hw_ldq/p p4, PT__WHAMI(p_temp)			; get whami
                  [0066E4]  1736  
         20BF0200 [0066E4]  1737  	lda	p5, PAL__LOGOUT_SPECIFIC_SIZE(r31)	; short&long size
         4C850405 [0066E8]  1738  	mulq	p4, p5, p5				; * whami
                  [0066EC]  1739  
                  [0066EC]  1740  	GET_32CONS	p6, PAL__LOGOUT_BASE, r31	; logout base
File: ev6_pal_macros.mar
                  [0066EC]   234i  ASSUME <pal__logout_base> le  <^x7FFFFFFF>
         24DF0000 [0066EC]   235M 	ldah	p6,<<pal__logout_base>+32768>@-16(r31); + xxx<31:16>
         20C61800 [0066F0]   236M 	lda	p6,<<pal__logout_base> & ^XFFFF>(p6) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         40A60405 [0066F4]  1741  	addq	p5, p6, p5				; (size*whami) + base
         20A50000 [0066F8]  1742  	lda	p5, MCHK_CRD__BASE(p5)			; start of mchk crd area
                  [0066FC]  1743  
         4AE05686 [0066FC]  1744  	srl	p23, #MCES__PCE__S, p6			; get PCE
         F0C00095 [006700]  1745  	blbs	p6, sys__crd_second			; set => second error
                  [006704]  1746  
                  [006704]  1747  ;
                  [006704]  1748  ; Now construct the cbox error registers and log them.
                  [006704]  1749  ; Current state:
                  [006704]  1750  ;
                  [006704]  1751  ;	p5		base of crd logout frame
                  [006704]  1752  ;
                  [006704]  1753  ;	p7		c_addr
                  [006704]  1754  ;
                  [006704]  1755  ;	p20<59:52>	dc1_syndrome<7:0>
                  [006704]  1756  ;	   <51:44>	dc0_syndrome<7:0>
                  [006704]  1757  ;	   <43:39>	c_stat<4:0>
                  [006704]  1758  ;	   <38:35>	c_sts<3:0>
                  [006704]  1759  ;
                  [006704]  1760  ;	p23		old mces
                  [006704]  1761  ;
                  [006704]  1762  ;	p_misc		updated with new mces, SCB, mchk code
                  [006704]  1763  ;
                  [006704]  1764  
                  [006704]  1765  CHAIN__DC1__S	= 52
                  [006704]  1766  CHAIN__DC1__V	= 8
                  [006704]  1767  CHAIN__DC0__S	= 44
                  [006704]  1768  CHAIN__DC0__V	= 8
                  [006704]  1769  CHAIN__STAT__S	= 39
                  [006704]  1770  CHAIN__STAT__V	= 5
                  [006704]  1771  CHAIN__STS__S	= 35
                  [006704]  1772  CHAIN__STS__V	= 4
                  [006704]  1773  
                  [006704]  1774  sys__crd_arrange_cbox:
         4A809724 [006704]  1775  	sll	p20, #<64-<CHAIN__DC1__S+CHAIN__DC1__V>>, p4
         48871684 [006708]  1776  	srl	p4, #<64-CHAIN__DC1__V>, p4
         7C851030 [00670C]  1777  	hw_stq/p p4, MCHK_CRD__DC1_SYNDROME(p5)			; store syn1
                  [006710]  1778  
         4A819724 [006710]  1779  	sll	p20, #<64-<CHAIN__DC0__S+CHAIN__DC0__V>>, p4
         48871684 [006714]  1780  	srl	p4, #<64-CHAIN__DC0__V>, p4
         7C851038 [006718]  1781  	hw_stq/p p4, MCHK_CRD__DC0_SYNDROME(p5)			; store syn0
                  [00671C]  1782  
         4A829724 [00671C]  1783  	sll	p20, #<64-<CHAIN__STAT__S+CHAIN__STAT__V>>, p4
         48877684 [006720]  1784  	srl	p4, #<64-CHAIN__STAT__V>, p4
         7C851040 [006724]  1785  	hw_stq/p p4, MCHK_CRD__C_STAT(p5)			; store stat
                  [006728]  1786  
         4A833724 [006728]  1787  	sll	p20, #<64-<CHAIN__STS__S+CHAIN__STS__V>>, p4
         48879684 [00672C]  1788  	srl	p4, #<64-CHAIN__STS__V>, p4
         7C851048 [006730]  1789  	hw_stq/p p4, MCHK_CRD__C_STS(p5)			; store sts
                  [006734]  1790  ;
                  [006734]  1791  ; Now get the error address.
                  [006734]  1792  ;
                  [006734]  1793  ; Current state:
                  [006734]  1794  ;
                  [006734]  1795  ;	p5		base of crd logout frame
                  [006734]  1796  ;
                  [006734]  1797  ;	pass1
                  [006734]  1798  ;	-----
                  [006734]  1799  ;	p7 <44:08>	c_addr<6:42>
                  [006734]  1800  ;	   <07:06>	raz
                  [006734]  1801  ;	   <05:00>	UNDEFINED
                  [006734]  1802  ;	pass2
                  [006734]  1803  ;	-----
                  [006734]  1804  ;	p7 <40:04>	c_addr<6:42>
                  [006734]  1805  ;	   <03:00>	raz
                  [006734]  1806  ;
                  [006734]  1807  
                  [006734]  1808  .if ne ev6_p1
                  [006734]  1809  	C_ADDR_SHIFT = 45
                  [006734]  1810  	and	p7, #^x3F, p7			; zap UNDEFINED bits
                  [006734]  1811  .iff
                  [006734]  1812  	C_ADDR_SHIFT = 41
                  [006734]  1813  .endc
                  [006734]  1812I 	C_ADDR_SHIFT = 41
                  [006734]  1814  
         43E53406 [006734]  1815  	addq	r31, #C_ADDR_SHIFT, p6		; initialize shift count
         43FF0404 [006738]  1816  	addq	r31, r31, p4			; initialize output shift data
                  [00673C]  1817  
                  [00673C]  1818  sys__crd_addr:
         44E03014 [00673C]  1819  	and	p7, #1, p20			; clear all but bit 0
         42840404 [006740]  1820  	addq	p20, p4, p4			; accumulate output shift data
         40C03526 [006744]  1821  	subq	p6, #1, p6			; decrement shift count
         E4C00003 [006748]  1822  	beq	p6, sys__crd_addr_done		; all done
                  [00674C]  1823  
         48803724 [00674C]  1824  	sll 	p4, #1, p4			; shift output data 1 bit left
         48E03687 [006750]  1825  	srl 	p7, #1, p7			; shift input data 1 bit right
         C3FFFFF9 [006754]  1826  	br	r31, sys__crd_addr		; do next shift
                  [006758]  1827  
                  [006758]  1828  sys__crd_addr_done:
         4880D724 [006758]  1829  	sll 	p4, #6, p4			; shift error address 6 bits left
         7C851028 [00675C]  1830  	hw_stq/p p4, MCHK_CRD__C_ADDR(p5)	; store addr
                  [006760]  1831  ;
                  [006760]  1832  ; Save off a clean mm_state.
                  [006760]  1833  ;
         7FE51050 [006760]  1834  	hw_stq/p r31, MCHK_CRD__MM_STAT(p5)	; store 0 for mm_stat
                  [006764]  1835  ;
                  [006764]  1836  ;
                  [006764]  1837  ; Fetch I_STAT, DC_STAT. Clear I_STAT. Clear only crd-type errors in DC_STAT, in
                  [006764]  1838  ; case we need to take a delayed dstream mchk once we are out of PALmode.
                  [006764]  1839  ;
                  [006764]  1840  ; Then check to see if we need to scrub.
                  [006764]  1841  ; The cases:
                  [006764]  1842  ;	C_STAT<ISTREAM_xx_ERR>
                  [006764]  1843  ;	DC_STAT<ECC_ERR_LD> and C_STAT <> 0 and C_STAT <> DSTREAM_DC_ERR
                  [006764]  1844  ;
                  [006764]  1845  ; Current state:
                  [006764]  1846  ;	p5	base of crd logout frame
                  [006764]  1847  ;
                  [006764]  1848  ;
                  [006764]  1849  	EV6__DC_STAT__W1C_CRD = -
                  [006764]  1850  		<<1@EV6__DC_STAT__ECC_ERR_ST__S> ! -
                  [006764]  1851  		<1@EV6__DC_STAT__ECC_ERR_LD__S>>
                  [006764]  1852  
                  [006764]  1853  	DSTREAM_DC_ERR = 5
                  [006764]  1854  ;
                  [006764]  1855  ; The ev6_p2 definition will still work for ev67. Bit ^x1e becomes
                  [006764]  1856  ; a RO bit for profileme implementation.
                  [006764]  1857  ;
                  [006764]  1858  	EV6__I_STAT__TPE__S = ^x1d
                  [006764]  1859  	EV6__I_STAT__DPE__S = ^x1e
                  [006764]  1860  	EV6__I_STAT__W1C = -
                  [006764]  1861  		<<1@EV6__I_STAT__TPE__S> ! -
                  [006764]  1862  		<1@EV6__I_STAT__DPE__S>>
                  [006764]  1863  
         649F1610 [006764]  1864  	hw_mfpr p4, EV6__I_STAT				; (4,0L) get i_stat
         6CD51158 [006768]  1865  	hw_ldq/p p6, PT__I_STAT_MASK(p_temp)		; 1.51 get mask
         44860004 [00676C]  1866  	and	p4, p6, p4				; 1.51 clean
                  [006770]  1867  
         64DF2A40 [006770]  1868  	hw_mfpr	p6, EV6__DC_STAT			; (6,0L) get dc_stat
         7C851018 [006774]  1869  	hw_stq/p p4, MCHK_CRD__I_STAT(p5)		; store i_stat
         7CC51020 [006778]  1870  	hw_stq/p p6, MCHK_CRD__DC_STAT(p5)		; store dc_stat
                  [00677C]  1871  
                  [00677C]  1872  	GET_32CONS 	p4, EV6__I_STAT__W1C, r31
File: ev6_pal_macros.mar
                  [00677C]   234i  ASSUME <ev6__i_stat__w1c> le  <^x7FFFFFFF>
         249F6000 [00677C]   235M 	ldah	p4,<<ev6__i_stat__w1c>+32768>@-16(r31); + xxx<31:16>
         20840000 [006780]   236M 	lda	p4,<<ev6__i_stat__w1c> & ^XFFFF>(p4) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E41610 [006784]  1873  	hw_mtpr	p4, EV6__I_STAT				; (4,0L)
                  [006788]  1874  
                  [006788]  1875  	GET_16CONS	p4, EV6__DC_STAT__W1C_CRD, r31
File: ev6_pal_macros.mar
                  [006788]   244M 	ASSUME <<ev6__dc_stat__w1c_crd>> le  <^x7FFF>
         209F000C [006788]   245M 	lda	p4,<ev6__dc_stat__w1c_crd>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E42A40 [00678C]  1876  	hw_mtpr p4, EV6__DC_STAT			; (6,0L)
                  [006790]  1877  	
         6E851040 [006790]  1878  	hw_ldq/p p20, MCHK_CRD__C_STAT(p5)		; get c_stat back
                  [006794]  1879  ;
                  [006794]  1880  ; 1.60 Add check back in for mchk_crd__c_stat in case system partners
                  [006794]  1881  ; want to merge with this code and use it as a flag not to scrub.
                  [006794]  1882  ;
         E680003F [006794]  1883  	beq	p20, sys__crd_merge			; 1.60
                  [006798]  1884  
         46811004 [006798]  1885  	and	p20, #<1@EV6__C_STAT__ISTREAM__S>, p4	; check for istream
         F4800005 [00679C]  1886  	bne	p4, sys__crd_do_scrub			; scrub if so
                  [0067A0]  1887  
         4280B5A4 [0067A0]  1888  	cmpeq	p20, #DSTREAM_DC_ERR, p4		; check for dcache
         F480003B [0067A4]  1889  	bne	p4, sys__crd_merge			; don't scrub if so
                  [0067A8]  1890  
         44C11004 [0067A8]  1891  	and	p6, #<1@EV6__DC_STAT__ECC_ERR_LD__S>, p4; check for ld
         F4800001 [0067AC]  1892  	bne	p4, sys__crd_do_scrub			; scrub if so
         C3E00038 [0067B0]  1893  	br	r31, sys__crd_merge			; don't scrub if not 
                  [0067B4]  1894  ;
                  [0067B4]  1895  ; Scrub the error.
                  [0067B4]  1896  ; Current state:
                  [0067B4]  1897  ;	p5	base of crd logout frame
                  [0067B4]  1898  ;
                  [0067B4]  1899  
                  [0067B4]  1900  sys__crd_do_scrub:
         6C851028 [0067B4]  1901  	hw_ldq/p p4, MCHK_CRD__C_ADDR(p5)	; get address back
                  [0067B8]  1902  
         77FFA380 [0067B8]  1903  	hw_mtpr	r31, EV6__DTB_IA		; (7,1L) flush dtb
         229F3301 [0067BC]  1904  	lda	p20, ^x3301(r31)		; set WE, RE
         47FF041F [0067C0]  1905  	bis	r31, r31, r31
         47FF041F [0067C4]  1906  	bis	r31, r31, r31
                  [0067C8]  1907  
         77FF2780 [0067C8]  1908  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; wait for retire
         4881B686 [0067CC]  1909  	srl	p4, #13, p6			; shift byte offset
         48C41726 [0067D0]  1910  	sll	p6, #EV6__DTB_PTE0__PFN__S, p6	; shift into position
         44D40406 [0067D4]  1911  	bis	p6, p20, p6			; produce pte
                  [0067D8]  1912  
         4882B724 [0067D8]  1913  	sll	p4, #<63-42>, p4		; 1.60 sign extend from <42>
         4882B784 [0067DC]  1914  	sra	p4, #<63-42>, p4		; 1.60 ..to produce a good va
                  [0067E0]  1915  
                  [0067E0]  1916  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
                  [0067E0]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [0067E0]  1917  
                  [0067E0]  1918  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [0067E0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E42044 [0067E0]  1919  	hw_mtpr	p4, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E4A022 [0067E4]  1920  	hw_mtpr p4, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77E62155 [0067E8]  1921  	hw_mtpr	p6, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77E6A1AA [0067EC]  1922  	hw_mtpr	p6, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [0067F0]  1923  
         77FF2780 [0067F0]  1924  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; 1.41 wait for retire
                  [0067F4]  1925  
         63FF4000 [0067F4]  1926  	mb					; quiet before we start
                  [0067F8]  1927      .if eq force_path			; 1.41
                  [0067F8]  1928  	PVC_JSR scrub, bsr=1
                  [0067F8]  1929  	bsr	p7, sys__crd_scrub
                  [0067F8]  1930      .iff
                  [0067F8]  1931  	br	p7, sys__crd_scrub
                  [0067F8]  1932  	PVC_JSR scrub_hack, dest=1
                  [0067F8]  1933      .endc				; 1.41
                  [0067F8]  1928I 	PVC_JSR scrub, bsr=1
File: ev6_pal_macros.mar
                  [0067F8]   526i  pvc_lbl \pcv_index, \pcv_jsr_scrub0, osf
File: ev6_osf_system_pal.mar
         D0E00011 [0067F8]  1929I 	bsr	p7, sys__crd_scrub
                  [0067FC]  1934      
         77FFA380 [0067FC]  1935  	hw_mtpr	r31, EV6__DTB_IA		; (7,1L) flush dtb
         47FF041F [006800]  1936  	bis	r31, r31, r31
         47FF041F [006804]  1937  	bis	r31, r31, r31
         47FF041F [006808]  1938  	bis	r31, r31, r31
                  [00680C]  1939  
         77FF2780 [00680C]  1940  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; wait for retire
         C3E00020 [006810]  1941  	br	r31, sys__crd_merge
                  [006814]  1942  
                  [006814]  1943  ;------------------------------------------------------------------------
                  [006814]  1944  ;+
                  [006814]  1945  ; sys__crd_scrub
                  [006814]  1946  ;
                  [006814]  1947  ; Called from above and from dpc and pce cases.
                  [006814]  1948  ; After the scrub, read the cbox chain again.
                  [006814]  1949  ; The scrub will cause a crd, but will get cleared along with the
                  [006814]  1950  ; calling code's clear of hw_int_clr.
                  [006814]  1951  ;
                  [006814]  1952  ; Current state:
                  [006814]  1953  ;	mb	preceded this call
                  [006814]  1954  ;	p4	address to scrub
                  [006814]  1955  ;	p5	base of crd logout frame
                  [006814]  1956  ;	p7	return address
                  [006814]  1957  ; Exit state:
                  [006814]  1958  ;	p5	base of crd logout frame
                  [006814]  1959  ;		calling code needs to clear hw_int_clr
                  [006814]  1960  ;-
                  [006814]  1961  
                  [006814]  1962  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [006814]   270i 	.align 6
00000000 00000000 [00681C]
00000000 00000000 [006824]
00000000 00000000 [00682C]
00000000 00000000 [006834]
         00000000 [00683C]
File: ev6_osf_system_pal.mar
                  [006840]  1963  sys__crd_scrub:
         A4C40000 [006840]  1964  	ldq	p6, ^x00(p4)			; re-read the bad block QW #0
         A4C40008 [006844]  1965  	ldq	p6, ^x08(p4)			; re-read the bad block QW #1
         A4C40010 [006848]  1966  	ldq	p6, ^x10(p4)			; re-read the bad block QW #2
         A4C40018 [00684C]  1967  	ldq	p6, ^x18(p4)			; re-read the bad block QW #3
         A4C40020 [006850]  1968  	ldq	p6, ^x20(p4)			; re-read the bad block QW #4
         A4C40028 [006854]  1969  	ldq	p6, ^x28(p4)			; re-read the bad block QW #5
         A4C40030 [006858]  1970  	ldq	p6, ^x30(p4)			; re-read the bad block QW #6
         63FF4000 [00685C]  1971  	mb					; no other mem-ops till done
         ACC40038 [006860]  1972  	ldq_l	p6, ^x38(p4)			; re-read the bad block QW #7
         BCC40038 [006864]  1973  	stq_c	p6, ^x38(p4)			; now store it to force scrub
         63FF4000 [006868]  1974  	mb
         44DF0006 [00686C]  1975  	and	p6, r31, p6			; consumer of above
         E4C00001 [006870]  1976  	beq	p6, sys__crd_scrub_done		; these 2 lines......
                  [006874]  1977  	PVC_VIOLATE <1006>
File: ev6_pal_macros.mar
                  [006874]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         C3FFFFFF [006874]  1978  	br	r31, .-4			; .....stop pre-fetching
                  [006878]  1979  sys__crd_scrub_done:
         44BF0417 [006878]  1980  	bis	p5, r31, p23			; save base of logout frame
         7CF510F8 [00687C]  1981  	hw_stq/p p7, PT__R0(p_temp)		; save p7 off somewhere
                  [006880]  1982  
                  [006880]  1983      .if eq force_path				; 1.41
                  [006880]  1984  	PVC_JSR	cbox, bsr=1
                  [006880]  1985  	bsr	p5, sys__cbox			; get the cbox error chain again
                  [006880]  1986      .iff
                  [006880]  1987  	PVC_VIOLATE <1008>			; 1.42 tell pvc to skip routine
                  [006880]  1988  	br	p5, sys__cbox
                  [006880]  1989      .endc					; 1.41
                  [006880]  1984I 	PVC_JSR	cbox, bsr=1
File: ev6_pal_macros.mar
                  [006880]   526i  pvc_lbl \pcv_index, \pcv_jsr_cbox0, osf
File: ev6_osf_system_pal.mar
         D0A001DB [006880]  1985I 	bsr	p5, sys__cbox			; get the cbox error chain again
                  [006884]  1990      
         46FF0405 [006884]  1991  	bis	p23, r31, p5			; base of frame to p5
         6CF510F8 [006888]  1992  	hw_ldq/p p7, PT__R0(p_temp)		; restore p7
         44E03407 [00688C]  1993  	bis	p7, #1, p7			; return in PALmode
                  [006890]  1994  
                  [006890]  1995      .if eq force_path				; 1.41
                  [006890]  1996  	PVC_JSR scrub, dest=1
                  [006890]  1997  	hw_ret	(p7)				; return
                  [006890]  1998      .iff
                  [006890]  1999  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align
                  [006890]  2000  	PVC_JSR scrub_hack
                  [006890]  2001  	hw_jmp	(p7)				; return with jmp
                  [006890]  2002  	br	r31, .-4			; stop predictor
                  [006890]  2003      .endc					; 1.41
                  [006890]  1996I 	PVC_JSR scrub, dest=1
File: ev6_pal_macros.mar
                  [006890]   529i  pvc_lbl \pcv_index, \pcv_jsr_scrub0, osf, \pcv_jsr_scrub0_inst
File: ev6_osf_system_pal.mar
         7BE78000 [006890]  1997I 	hw_ret	(p7)				; return
                  [006894]  2004      ;
                  [006894]  2005  ; Now clear the crd and dc_stat.
                  [006894]  2006  ;
                  [006894]  2007  sys__crd_merge:
         47E03407 [006894]  2008  	bis r31, #1, p7 			; get a 1
         48E3F727 [006898]  2009  	sll	p7, #EV6__HW_INT_CLR__CR__S, p7	; shift into position
                  [00689C]  2010  	PVC_VIOLATE <35>
File: ev6_pal_macros.mar
                  [00689C]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E70E10 [00689C]  2011  	hw_mtpr	p7, EV6__HW_INT_CLR		; (4,0L)
                  [0068A0]  2012  
                  [0068A0]  2013  	GET_16CONS	p7, EV6__DC_STAT__W1C_CRD, r31
File: ev6_pal_macros.mar
                  [0068A0]   244M 	ASSUME <<ev6__dc_stat__w1c_crd>> le  <^x7FFF>
         20FF000C [0068A0]   245M 	lda	p7,<ev6__dc_stat__w1c_crd>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E72A40 [0068A4]  2014  	hw_mtpr p7, EV6__DC_STAT		; (6,0L)
         47FF041F [0068A8]  2015  	bis	r31, r31 ,r31
         47FF041F [0068AC]  2016  	bis	r31, r31 ,r31
         47FF041F [0068B0]  2017  	bis	r31, r31 ,r31
                  [0068B4]  2018  
         77FF2750 [0068B4]  2019  	hw_mtpr	r31, <EV6__MM_STAT ! ^x50>	; stall till they retire
                  [0068B8]  2020  ;
                  [0068B8]  2021  ; Write the first 2 quadwords of the logout area
                  [0068B8]  2022  ; Merge from system crd handling.
                  [0068B8]  2023  ;
                  [0068B8]  2024  
                  [0068B8]  2025  sys__crd_header:
         229F0001 [0068B8]  2026  	lda	p20, 1(r31)			; set retry flag
         4A87F734 [0068BC]  2027  	sll	p20, #63, p20			; shift retry into position
         22940080 [0068C0]  2028  	lda	p20, MCHK_CRD__SIZE(p20)	; flag ! frame size
         7E851000 [0068C4]  2029  	hw_stq/p p20, MCHK_CRD__FLAG_FRAME(p5)	; store flag ! frame size
         229F0058 [0068C8]  2030  	lda	p20, MCHK_CRD__SYSTEM_BASE(r31)	; system offset ???
         4A841734 [0068CC]  2031  	sll	p20, #32, p20			; shift into position
         22940018 [0068D0]  2032  	lda	p20, MCHK_CRD__CPU_BASE(p20)	; sys offset ! cpu offset
         7E851008 [0068D4]  2033  	hw_stq/p p20, MCHK_CRD__OFFSETS(p5)	; store offsets
                  [0068D8]  2034  ;+
                  [0068D8]  2035  ; Store the pal specific information. Also add revision number.
                  [0068D8]  2036  ;-
                  [0068D8]  2037  ASSUME OSF_P_MISC__MCHK_CODE__S eq 40
                  [0068D8]  2038  
                  [0068D8]  2039  	GET_16CONS	p6, MCHK_CRD__REV, r31	; get revision
File: ev6_pal_macros.mar
                  [0068D8]   244M 	ASSUME <<mchk_crd__rev>> le  <^x7FFF>
         20DF0001 [0068D8]   245M 	lda	p6,<mchk_crd__rev>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         48C41726 [0068DC]  2040  	sll	p6, #32, p6			; shift into position
         4AC0B2D4 [0068E0]  2041  	extwl	p_misc, #5, p20			; get mchk_code field
         46860414 [0068E4]  2042  	bis	p20, p6, p20			; combine the two
         7E851010 [0068E8]  2043  	hw_stq/p p20, MCHK_CRD__MCHK_CODE(p5)	; store mchk code and rev
                  [0068EC]  2044  ;+
                  [0068EC]  2045  ; Store the system-specific part of the logout frame
                  [0068EC]  2046  ;-
                  [0068EC]  2047  .if ne swordfish_platform
                  [0068EC]  2048  	extwl	p_misc, #5, p20			; extract MCHK code
                  [0068EC]  2049  	lda	p20, -MCHK__SYS_CORR_ECC(p20)	; Check for sys vs. cpu error
                  [0068EC]  2050  	hw_stq/p r31, MCHK_CRD__OS_FLAGS(p5)	; Clear out the OS flags
                  [0068EC]  2051  ;
                  [0068EC]  2052  ; Save Cchip Registers
                  [0068EC]  2053  ;
                  [0068EC]  2054  ;	Miscellaneous Register (MISC - 801.A000.0080)
                  [0068EC]  2055  ;	Device Interrupt Request Register 0 (DIR0 - 801.A000.0280)
                  [0068EC]  2056  ;	Device Interrupt Request Register 1 (DIR1 - 801.A000.02C0)
                  [0068EC]  2057  ;
                  [0068EC]  2058  	hw_ldq/p p7, PT__IMPURE(p_temp)		; Get base of impure area
                  [0068EC]  2059  	hw_ldq/p p6, CNS__CCHIP_MISC(p7)	; Get saved MISC register
                  [0068EC]  2060  	cmovne	p20, r31, p6			; zero on cpu correctable error
                  [0068EC]  2061  	hw_stq/p p6, MCHK_CRD__CCHIP_MISC(p5)
                  [0068EC]  2062  
                  [0068EC]  2063  	hw_ldq/p p6, CNS__CCHIP_DIRX(p7)	; Get saved DIRx register
                  [0068EC]  2064  	cmovne	p20, r31, p6			; zero on cpu correctable error
                  [0068EC]  2065  	hw_stq/p p6, MCHK_CRD__CCHIP_DIR(p5)
                  [0068EC]  2066  ;
                  [0068EC]  2067  ; Save Pchip 0 Registers
                  [0068EC]  2068  ;
                  [0068EC]  2069  ;	Error Register (PERROR - 801.8000.03C0)
                  [0068EC]  2070  ;
                  [0068EC]  2071  	hw_ldq/p p6, CNS__PCHIP0_ERR(p7)	; Get saved PERROR register
                  [0068EC]  2072  	cmovne	p20, r31, p6			; zero on cpu correctable error
                  [0068EC]  2073  	hw_stq/p p6, MCHK_CRD__PCHIP0_ERR(p5)
                  [0068EC]  2074  ;
                  [0068EC]  2075  ; Save Pchip 1 Registers
                  [0068EC]  2076  ;
                  [0068EC]  2077  ;	Error Register (PERROR - 803.8000.03C0)
                  [0068EC]  2078  ;
                  [0068EC]  2079  	hw_ldq/p p6, CNS__PCHIP1_ERR(p7)	; Get saved PERROR register
                  [0068EC]  2080  	cmovne	p20, r31, p6			; zero on cpu correctable error
                  [0068EC]  2081  	hw_stq/p p6, MCHK_CRD__PCHIP1_ERR(p5)
                  [0068EC]  2082  ;
                  [0068EC]  2083  ; Set OS_FLAGS<2> on processor correctable error
                  [0068EC]  2084  ;
                  [0068EC]  2085  	bne	p20, 20$
                  [0068EC]  2086  ;
                  [0068EC]  2087  ; Set OS_FLAGS<2> if Pchip PERROR<11> was set.
                  [0068EC]  2088  ;
                  [0068EC]  2089  	hw_ldq/p p6, MCHK_CRD__PCHIP0_ERR(p5)
                  [0068EC]  2090  	hw_ldq/p p7, MCHK_CRD__PCHIP1_ERR(p5)
                  [0068EC]  2091  	or	p7, p6, p7
                  [0068EC]  2092  	lda	p20, ^x800(r31)
                  [0068EC]  2093  	and	p7, p20, p7
                  [0068EC]  2094  	beq	p7, 30$
                  [0068EC]  2095  20$:	hw_ldq/p p6, MCHK_CRD__OS_FLAGS(p5)
                  [0068EC]  2096  	or	p6, #<1@2>, p6
                  [0068EC]  2097  	hw_stq/p p6, MCHK_CRD__OS_FLAGS(p5)
                  [0068EC]  2098  30$:	
                  [0068EC]  2099  
                  [0068EC]  2100  .endc					;if ne swordfish_platform
         4AC0B2D4 [0068EC]  2048I 	extwl	p_misc, #5, p20			; extract MCHK code
         2294FDFC [0068F0]  2049I 	lda	p20, -MCHK__SYS_CORR_ECC(p20)	; Check for sys vs. cpu error
         7FE51058 [0068F4]  2050I 	hw_stq/p r31, MCHK_CRD__OS_FLAGS(p5)	; Clear out the OS flags
                  [0068F8]  2051I ;
                  [0068F8]  2052I ; Save Cchip Registers
                  [0068F8]  2053I ;
                  [0068F8]  2054I ;	Miscellaneous Register (MISC - 801.A000.0080)
                  [0068F8]  2055I ;	Device Interrupt Request Register 0 (DIR0 - 801.A000.0280)
                  [0068F8]  2056I ;	Device Interrupt Request Register 1 (DIR1 - 801.A000.02C0)
                  [0068F8]  2057I ;
         6CF510C0 [0068F8]  2058I 	hw_ldq/p p7, PT__IMPURE(p_temp)		; Get base of impure area
         6CC713C8 [0068FC]  2059I 	hw_ldq/p p6, CNS__CCHIP_MISC(p7)	; Get saved MISC register
         469F04C6 [006900]  2060I 	cmovne	p20, r31, p6			; zero on cpu correctable error
         7CC51068 [006904]  2061I 	hw_stq/p p6, MCHK_CRD__CCHIP_MISC(p5)
                  [006908]  2062I 
         6CC713C0 [006908]  2063I 	hw_ldq/p p6, CNS__CCHIP_DIRX(p7)	; Get saved DIRx register
         469F04C6 [00690C]  2064I 	cmovne	p20, r31, p6			; zero on cpu correctable error
         7CC51060 [006910]  2065I 	hw_stq/p p6, MCHK_CRD__CCHIP_DIR(p5)
                  [006914]  2066I ;
                  [006914]  2067I ; Save Pchip 0 Registers
                  [006914]  2068I ;
                  [006914]  2069I ;	Error Register (PERROR - 801.8000.03C0)
                  [006914]  2070I ;
         6CC713D0 [006914]  2071I 	hw_ldq/p p6, CNS__PCHIP0_ERR(p7)	; Get saved PERROR register
         469F04C6 [006918]  2072I 	cmovne	p20, r31, p6			; zero on cpu correctable error
         7CC51070 [00691C]  2073I 	hw_stq/p p6, MCHK_CRD__PCHIP0_ERR(p5)
                  [006920]  2074I ;
                  [006920]  2075I ; Save Pchip 1 Registers
                  [006920]  2076I ;
                  [006920]  2077I ;	Error Register (PERROR - 803.8000.03C0)
                  [006920]  2078I ;
         6CC713D8 [006920]  2079I 	hw_ldq/p p6, CNS__PCHIP1_ERR(p7)	; Get saved PERROR register
         469F04C6 [006924]  2080I 	cmovne	p20, r31, p6			; zero on cpu correctable error
         7CC51078 [006928]  2081I 	hw_stq/p p6, MCHK_CRD__PCHIP1_ERR(p5)
                  [00692C]  2082I ;
                  [00692C]  2083I ; Set OS_FLAGS<2> on processor correctable error
                  [00692C]  2084I ;
         F6800006 [00692C]  2085I 	bne	p20, 20$
                  [006930]  2086I ;
                  [006930]  2087I ; Set OS_FLAGS<2> if Pchip PERROR<11> was set.
                  [006930]  2088I ;
         6CC51070 [006930]  2089I 	hw_ldq/p p6, MCHK_CRD__PCHIP0_ERR(p5)
         6CE51078 [006934]  2090I 	hw_ldq/p p7, MCHK_CRD__PCHIP1_ERR(p5)
         44E60407 [006938]  2091I 	or	p7, p6, p7
         229F0800 [00693C]  2092I 	lda	p20, ^x800(r31)
         44F40007 [006940]  2093I 	and	p7, p20, p7
         E4E00003 [006944]  2094I 	beq	p7, 30$
         6CC51058 [006948]  2095I 20$:	hw_ldq/p p6, MCHK_CRD__OS_FLAGS(p5)
         44C09406 [00694C]  2096I 	or	p6, #<1@2>, p6
         7CC51058 [006950]  2097I 	hw_stq/p p6, MCHK_CRD__OS_FLAGS(p5)
                  [006954]  2098I 30$:	
                  [006954]  2099I 
                  [006954]  2101  
                  [006954]  2102  ;+
                  [006954]  2103  ; Post machine check interrupt. This is the same as mchk.
                  [006954]  2104  ;-
         C3E00108 [006954]  2105  	br	r31, sys__mchk_post
                  [006958]  2106  
                  [006958]  2107  ;------------------------------------------------------------------------
                  [006958]  2108  ;+
                  [006958]  2109  ; Second error occured whilst handling CRD machine check.
                  [006958]  2110  ;
                  [006958]  2111  ; Current state:
                  [006958]  2112  ;	p5		base of mchk_crd area
                  [006958]  2113  ;	p7		raw c_addr
                  [006958]  2114  ;	p20		raw c_stat
                  [006958]  2115  ;	PT__STACK_PC	exc_addr		; 1.58 fix comment error
                  [006958]  2116  ;-
                  [006958]  2117  sys__crd_second:
         20DF0003 [006958]  2118  	lda	p6, 3(r31)			; set retry and 2nd error flags
         48C3D726 [00695C]  2119  	sll	p6, #30, p6			; move to <31:30> of flag long
         7CC50004 [006960]  2120  	hw_stl/p p6, MCHK_CRD__FLAG_FRAME+4(p5)	; store flag longword
                  [006964]  2121  
                  [006964]  2122  ;+
                  [006964]  2123  ; PCE or DPC set.
                  [006964]  2124  ; Check to see if we need to scrub.
                  [006964]  2125  ; Then clear errors and dismiss.
                  [006964]  2126  ;
                  [006964]  2127  ; Current state:
                  [006964]  2128  ;	p7		raw c_addr
                  [006964]  2129  ;	p20		raw c_stat
                  [006964]  2130  ;	PT__STACK_PC	exc_addr
                  [006964]  2131  ;-
                  [006964]  2132  sys__crd_skip_frame:
                  [006964]  2133  
         64DF2A40 [006964]  2134  	hw_mfpr	p6, EV6__DC_STAT			; (6,0L) get dc_stat
                  [006968]  2135  
                  [006968]  2136  	GET_32CONS 	p4, EV6__I_STAT__W1C, r31
File: ev6_pal_macros.mar
                  [006968]   234i  ASSUME <ev6__i_stat__w1c> le  <^x7FFFFFFF>
         249F6000 [006968]   235M 	ldah	p4,<<ev6__i_stat__w1c>+32768>@-16(r31); + xxx<31:16>
         20840000 [00696C]   236M 	lda	p4,<<ev6__i_stat__w1c> & ^XFFFF>(p4) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E41610 [006970]  2137  	hw_mtpr	p4, EV6__I_STAT				; (4,0L)
                  [006974]  2138  
                  [006974]  2139  	GET_16CONS	p4, EV6__DC_STAT__W1C_CRD, r31
File: ev6_pal_macros.mar
                  [006974]   244M 	ASSUME <<ev6__dc_stat__w1c_crd>> le  <^x7FFF>
         209F000C [006974]   245M 	lda	p4,<ev6__dc_stat__w1c_crd>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E42A40 [006978]  2140  	hw_mtpr p4, EV6__DC_STAT			; (6,0L)
                  [00697C]  2141  
         4A829734 [00697C]  2142  	sll	p20, #<64-<CHAIN__STAT__S+CHAIN__STAT__V>>, p20
         4A877694 [006980]  2143  	srl	p20, #<64-CHAIN__STAT__V>, p20		; get c_stat
                  [006984]  2144  ;
                  [006984]  2145  ; 1.60 Add check back in for p20 equal zero for system partners that
                  [006984]  2146  ; want to merge with this code and use p20 as a flag not to scrub.
                  [006984]  2147  ;
         E680002B [006984]  2148  	beq	p20, sys__crd_skip_frame_merge		; 1.60
                  [006988]  2149  
         46811004 [006988]  2150  	and	p20, #<1@EV6__C_STAT__ISTREAM__S>, p4	; check for istream
         F4800005 [00698C]  2151  	bne	p4, sys__crd_skip_frame_do_scrub	; scrub if so
                  [006990]  2152  
         4280B5A4 [006990]  2153  	cmpeq	p20, #DSTREAM_DC_ERR, p4		; check for dcache
         F4800027 [006994]  2154  	bne	p4, sys__crd_skip_frame_merge		; don't scrub if so
                  [006998]  2155  
         44C11004 [006998]  2156  	and	p6, #<1@EV6__DC_STAT__ECC_ERR_LD__S>, p4; check for ld
         F4800001 [00699C]  2157  	bne	p4, sys__crd_skip_frame_do_scrub	; scrub if so
         C3E00024 [0069A0]  2158  	br	r31, sys__crd_skip_frame_merge		; don't scrub if not
                  [0069A4]  2159  
                  [0069A4]  2160  sys__crd_skip_frame_do_scrub:
                  [0069A4]  2161  
         43E53406 [0069A4]  2162  	addq	r31, #C_ADDR_SHIFT, p6		; initialize shift count
         43FF0404 [0069A8]  2163  	addq	r31, r31, p4			; initialize output shift data
                  [0069AC]  2164  
                  [0069AC]  2165  sys__crd_skip_frame_addr:
         44E03014 [0069AC]  2166  	and	p7, #1, p20			; clear all but bit 0
         42840404 [0069B0]  2167  	addq	p20, p4, p4			; accumulate output shift data
         40C03526 [0069B4]  2168  	subq	p6, #1, p6			; decrement shift count
         E4C00003 [0069B8]  2169  	beq	p6, sys__crd_skip_frame_addr_done
                  [0069BC]  2170  
         48803724 [0069BC]  2171  	sll 	p4, #1, p4			; shift output data 1 bit left
         48E03687 [0069C0]  2172  	srl 	p7, #1, p7			; shift input data 1 bit right
         C3FFFFF9 [0069C4]  2173  	br	r31, sys__crd_skip_frame_addr	; do next shift
                  [0069C8]  2174  
                  [0069C8]  2175  sys__crd_skip_frame_addr_done:
         4880D724 [0069C8]  2176  	sll 	p4, #6, p4			; shift error addr 6 bits left
                  [0069CC]  2177  
         77FFA380 [0069CC]  2178  	hw_mtpr	r31, EV6__DTB_IA		; (7,1L) flush dtb
         229F3301 [0069D0]  2179  	lda	p20, ^x3301(r31)		; set WE, RE
         47FF041F [0069D4]  2180  	bis	r31, r31, r31
         47FF041F [0069D8]  2181  	bis	r31, r31, r31
                  [0069DC]  2182  
         77FF2780 [0069DC]  2183  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; wait for retire
         4881B686 [0069E0]  2184  	srl	p4, #13, p6			; shift byte offset
         48C41726 [0069E4]  2185  	sll	p6, #EV6__DTB_PTE0__PFN__S, p6	; shift into position
         44D40406 [0069E8]  2186  	bis	p6, p20, p6			; produce pte
                  [0069EC]  2187  
         4882B724 [0069EC]  2188  	sll	p4, #<63-42>, p4		; 1.60 sign extend from <42>
         4882B784 [0069F0]  2189  	sra	p4, #<63-42>, p4		; 1.60 ..to produce a good va
                  [0069F4]  2190  
                  [0069F4]  2191  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
47FF041F 47FF041F [0069F4]   260i 	.align 4, <^x47FF041F>
         47FF041F [0069FC]
File: ev6_osf_system_pal.mar
                  [006A00]  2192  
                  [006A00]  2193  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [006A00]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E42044 [006A00]  2194  	hw_mtpr	p4, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E4A022 [006A04]  2195  	hw_mtpr p4, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77E62155 [006A08]  2196  	hw_mtpr	p6, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77E6A1AA [006A0C]  2197  	hw_mtpr	p6, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [006A10]  2198  
         77FF2780 [006A10]  2199  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; 1.41 wait for retire
                  [006A14]  2200  
         63FF4000 [006A14]  2201  	mb					; quiet before we start
                  [006A18]  2202      .if eq force_path				; 1.41
                  [006A18]  2203  	PVC_JSR scrub, bsr=1
                  [006A18]  2204  	bsr	p7, sys__crd_scrub
                  [006A18]  2205      .iff
                  [006A18]  2206  	PVC_VIOLATE <1008>			; 1.42 tell pvc to skip routine
                  [006A18]  2207  	br	p7, sys__crd_scrub
                  [006A18]  2208  	ALIGN_FETCH_BLOCK <^x47FF041F>		; 1.43 separate fetch blocks
                  [006A18]  2209      .endc					; 1.41
                  [006A18]  2203I 	PVC_JSR scrub, bsr=1
File: ev6_pal_macros.mar
                  [006A18]   526i  pvc_lbl \pcv_index, \pcv_jsr_scrub0, osf
File: ev6_osf_system_pal.mar
         D0FFFF89 [006A18]  2204I 	bsr	p7, sys__crd_scrub
                  [006A1C]  2210      
         77FFA380 [006A1C]  2211  	hw_mtpr	r31, EV6__DTB_IA		; (7,1L) flush dtb
         47FF041F [006A20]  2212  	bis	r31, r31, r31
         47FF041F [006A24]  2213  	bis	r31, r31, r31
         47FF041F [006A28]  2214  	bis	r31, r31, r31
                  [006A2C]  2215  
         77FF2780 [006A2C]  2216  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; wait for retire
         C3E00000 [006A30]  2217  	br	r31, sys__crd_skip_frame_merge
                  [006A34]  2218  ;
                  [006A34]  2219  ; Now clear the crd.
                  [006A34]  2220  ;
                  [006A34]  2221  sys__crd_skip_frame_merge:
         47E03407 [006A34]  2222  	bis	r31, #1, p7				; get a 1
         48E3F727 [006A38]  2223  	sll	p7, #EV6__HW_INT_CLR__CR__S, p7		; shift into position
                  [006A3C]  2224  
         77E70E10 [006A3C]  2225  	hw_mtpr	p7, EV6__HW_INT_CLR			; (4,0L)
         6EF51098 [006A40]  2226  	hw_ldq/p p23, PT__STACK_PC(p_temp)		; get exc_addr back
                  [006A44]  2227  
                  [006A44]  2228  	GET_16CONS	p7, EV6__DC_STAT__W1C_CRD, r31
File: ev6_pal_macros.mar
                  [006A44]   244M 	ASSUME <<ev6__dc_stat__w1c_crd>> le  <^x7FFF>
         20FF000C [006A44]   245M 	lda	p7,<ev6__dc_stat__w1c_crd>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E72A40 [006A48]  2229  	hw_mtpr p7, EV6__DC_STAT			; (6,0L) clear dc_stat
         47FF041F [006A4C]  2230  	bis	r31, r31, r31
         47FF041F [006A50]  2231  	bis	r31, r31, r31
         47FF041F [006A54]  2232  	bis	r31, r31, r31
                  [006A58]  2233  
         77E70E50 [006A58]  2234  	hw_mtpr	p7, <EV6__HW_INT_CLR ! ^x40>		; (4,0L) force retire
                  [006A5C]  2235  
         63FF4000 [006A5C]  2236  	mb					; 1.57 make sure hw_ret goes
                  [006A60]  2237  
                  [006A60]  2238  	ALIGN_FETCH_BLOCK <^x47FF041F>		; 1.57
File: ev6_pal_macros.mar
                  [006A60]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
         4CC03406 [006A60]  2239  	mulq	p6, #1, p6			; 1.57 hold up loads
         4CC03406 [006A64]  2240  	mulq	p6, #1, p6			; 1.57 hols up loads
         77E62744 [006A68]  2241  	hw_mtpr p6, <EV6__MM_STAT ! ^x44>	; 1.57 hold up loads
         7BF7A000 [006A6C]  2242  	hw_ret_stall (p23)			; 1.57 return
                  [006A70]  2243  
                  [006A70]  2244  ;------------------------------------------------------------------------
                  [006A70]  2245  ;+
                  [006A70]  2246  ; sys__mchk_dc_tag_perr
                  [006A70]  2247  ;
                  [006A70]  2248  ; Dcache tag parity error occured during the initial tag probe of a load
                  [006A70]  2249  ; or store instruction. This error created a synchronous fault to the dfault
                  [006A70]  2250  ; PALcode entry point, and was corrected. We start off treating the fault
                  [006A70]  2251  ; as a mchk. If we are in palmode, we halt. If no machine checks are in
                  [006A70]  2252  ; progress, we turn the fault into a crd. If a mchk is in progress, we
                  [006A70]  2253  ; dismiss.
                  [006A70]  2254  ;
                  [006A70]  2255  ; Current state:
                  [006A70]  2256  ;	p5		mm_stat
                  [006A70]  2257  ;	p23		exc_addr
                  [006A70]  2258  ;-
                  [006A70]  2259  
                  [006A70]  2260  ASSUME OSF_P_MISC__MCES__MCHK__S eq 16
                  [006A70]  2261  ASSUME OSF_P_MISC__SCBV__S eq 24
                  [006A70]  2262  ASSUME OSF_P_MISC__MCHK_CODE__S eq 40
                  [006A70]  2263  
                  [006A70]  2264  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [006A70]   270i 	.align 6
00000000 00000000 [006A78]
File: ev6_osf_system_pal.mar
                  [006A80]  2265  
                  [006A80]  2266  sys__mchk_dc_tag_perr:
         F2E00156 [006A80]  2267  	blbs	p23, sys__dc_tag_perr_while_in_pal	; halt on in pal mode
                  [006A84]  2268  
         44BF0414 [006A84]  2269  	bis	p5, r31, p20			; save off mm_stat
         4AC050C5 [006A88]  2270  	extbl	p_misc, #2, p5			; get mces
         F0A00028 [006A8C]  2271  	blbs	p5, sys__perr_dis		; dimiss if MCES<MCHK>
                  [006A90]  2272  
         7EF51098 [006A90]  2273  	hw_stq/p p23, PT__STACK_PC(p_temp)	; save for post, free up register
         4AC050D7 [006A94]  2274  	extbl	p_misc, #2, p23			; get mces
         4ACF1616 [006A98]  2275  	zap	p_misc, #^x78, p_misc		; clean mchk_code and SCBv
                  [006A9C]  2276  
                  [006A9C]  2277  .if ne crd_en
                  [006A9C]  2278  	srl	p23, #MCES__DPC__S, p6		; get dpc
                  [006A9C]  2279  	blbs	p6, sys__perr_skip_frame	; dpc => don't build frame
                  [006A9C]  2280  .endc
         4AE07686 [006A9C]  2278I 	srl	p23, #MCES__DPC__S, p6		; get dpc
         F0C00022 [006AA0]  2279I 	blbs	p6, sys__perr_skip_frame	; dpc => don't build frame
                  [006AA4]  2281  
         46E09406 [006AA4]  2282  	bis	p23, #<1@MCES__PCE__S>, p6		; set MCES<PCE>
         48C21726 [006AA8]  2283  	sll	p6, #OSF_P_MISC__MCES__MCHK__S, p6	; shift into position
         46C60416 [006AAC]  2284  	bis	p_misc, p6, p_misc			; or back mces
                  [006AB0]  2285  
         20DF0630 [006AB0]  2286  	lda	p6, SCB__PROC_CORR_ERR(r31)		; SCB vector
         48C31726 [006AB4]  2287  	sll	p6, #OSF_P_MISC__SCBV__S, p6		; SCBv into position
         46C60416 [006AB8]  2288  	bis	p_misc, p6, p_misc			; or back scbv
                  [006ABC]  2289  
         20DF009E [006ABC]  2290  	lda	p6, MCHK__DC_TAG_PERR(r31)		; mchk code
         48C51726 [006AC0]  2291  	sll	p6, #OSF_P_MISC__MCHK_CODE__S, p6	; mchk code into position
         46C60416 [006AC4]  2292  	bis	p_misc, p6, p_misc			; or back mchk code
                  [006AC8]  2293  ;
                  [006AC8]  2294  ; Now compute where the frame is.
                  [006AC8]  2295  ;
         6C9510D0 [006AC8]  2296  	hw_ldq/p p4, PT__WHAMI(p_temp)			; get whami
                  [006ACC]  2297  
         20BF0200 [006ACC]  2298  	lda	p5, PAL__LOGOUT_SPECIFIC_SIZE(r31)	; short&long size
         4C850405 [006AD0]  2299  	mulq	p4, p5, p5				; * whami
                  [006AD4]  2300  
                  [006AD4]  2301  	GET_32CONS	p6, PAL__LOGOUT_BASE, r31	; logout base
File: ev6_pal_macros.mar
                  [006AD4]   234i  ASSUME <pal__logout_base> le  <^x7FFFFFFF>
         24DF0000 [006AD4]   235M 	ldah	p6,<<pal__logout_base>+32768>@-16(r31); + xxx<31:16>
         20C61800 [006AD8]   236M 	lda	p6,<<pal__logout_base> & ^XFFFF>(p6) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         40A60405 [006ADC]  2302  	addq	p5, p6, p5				; (size*whami) + base
         20A50100 [006AE0]  2303  	lda	p5, MCHK__BASE(p5)			; start of mchk area
                  [006AE4]  2304  
         4AE05686 [006AE4]  2305  	srl	p23, #MCES__PCE__S, p6			; get PCE
         F0C0000D [006AE8]  2306  	blbs	p6, sys__perr_second			; set => second error
                  [006AEC]  2307  ;
                  [006AEC]  2308  ; To be neat, write 0 to the cbox logout quadwords. Log ic_stat and
                  [006AEC]  2309  ; dc_stat but don't clear them.
                  [006AEC]  2310  ;
         7FE51030 [006AEC]  2311  	hw_stq/p r31, MCHK_CRD__DC1_SYNDROME(p5)	; store 0
         7FE51038 [006AF0]  2312  	hw_stq/p r31, MCHK_CRD__DC0_SYNDROME(p5)	; store 0
         7FE51040 [006AF4]  2313  	hw_stq/p r31, MCHK_CRD__C_STAT(p5)		; store 0
         7FE51048 [006AF8]  2314  	hw_stq/p r31, MCHK_CRD__C_STS(p5)		; store 0
         7FE51028 [006AFC]  2315  	hw_stq/p r31, MCHK_CRD__C_ADDR(p5)		; store 0
                  [006B00]  2316  
         7E851050 [006B00]  2317  	hw_stq/p p20, MCHK_CRD__MM_STAT(p5)		; store mm_stat
                  [006B04]  2318  
         649F1610 [006B04]  2319  	hw_mfpr p4, EV6__I_STAT				; (4,0L) get i_stat
         6CD51158 [006B08]  2320  	hw_ldq/p p6, PT__I_STAT_MASK(p_temp)		; 1.51 get mask
         44860004 [006B0C]  2321  	and	p4, p6, p4				; 1.51 clean
                  [006B10]  2322  
         64DF2A40 [006B10]  2323  	hw_mfpr	p6, EV6__DC_STAT			; (6,0L) get dc_stat
         7C851018 [006B14]  2324  	hw_stq/p p4, MCHK_CRD__I_STAT(p5)		; store i_stat
         7CC51020 [006B18]  2325  	hw_stq/p p6, MCHK_CRD__DC_STAT(p5)		; store dc_stat
                  [006B1C]  2326  
         C3FFFF66 [006B1C]  2327  	br	r31, sys__crd_header			; merge to finish
                  [006B20]  2328  
                  [006B20]  2329  ;------------------------------------------------------------------------
                  [006B20]  2330  ;+
                  [006B20]  2331  ; PCE set on dc_tag_perr.
                  [006B20]  2332  ;
                  [006B20]  2333  ; sys__perr_second
                  [006B20]  2334  ;
                  [006B20]  2335  ; Current state:
                  [006B20]  2336  ;	p5		base of mchk_crd area
                  [006B20]  2337  ;	PT__STACK_PC	exc_addr
                  [006B20]  2338  ;-
                  [006B20]  2339  sys__perr_second:
         20DF0003 [006B20]  2340  	lda	p6, 3(r31)			; set retry and 2nd error flags
         48C3D726 [006B24]  2341  	sll	p6, #30, p6			; move to <31:30> of flag long
         7CC50004 [006B28]  2342  	hw_stl/p p6, MCHK_CRD__FLAG_FRAME+4(p5)	; store flag longword
                  [006B2C]  2343  ;+
                  [006B2C]  2344  ; PCE or DPC set on dc_tag_perr. Dismiss.
                  [006B2C]  2345  ;-
                  [006B2C]  2346  sys__perr_skip_frame:
         6EF51098 [006B2C]  2347  	hw_ldq/p p23, PT__STACK_PC(p_temp)		; get exc_addr back
                  [006B30]  2348  
                  [006B30]  2349  sys__perr_dis:
         C3FFF72F [006B30]  2350  	br	r31, trap__interrupt_dismiss	; 1.57 dismiss
                  [006B34]  2351  
                  [006B34]  2352  
                  [006B34]  2353  ;------------------------------------------------------------------------
                  [006B34]  2354  ;+
                  [006B34]  2355  ; sys__mchk - Machine check data gathering and post
                  [006B34]  2356  ;
                  [006B34]  2357  ; Current state:
                  [006B34]  2358  ;	p23		exc_addr
                  [006B34]  2359  ; 
                  [006B34]  2360  ; Should we fetch any vulnerable registers earlier?
                  [006B34]  2361  ;-
                  [006B34]  2362  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [006B34]   270i 	.align 6
         00000000 [006B3C]
File: ev6_osf_system_pal.mar
                  [006B40]  2363  
                  [006B40]  2364  sys__mchk:
                  [006B40]  2365  .if ne debug_mchk*tinosa_platform
                  [006B40]  2366  	lda	p4, 1(r31)
                  [006B40]  2367  	DBGREG_PCI ^x92,p4
                  [006B40]  2368  .endc
                  [006B40]  2369  .if ne srom_debug_io*debug_mchk
                  [006B40]  2370  	; save off some registers in scratch
                  [006B40]  2371  	bis	r16, r31, p5
                  [006B40]  2372  
                  [006B40]  2373  	GET_32CONS      r16, ^x4D43484B, r31    ; "MCHK"
                  [006B40]  2374  	bsr             p7, Sys_Cserve_Srom_Putstr
                  [006B40]  2375  	bis		p23, r31, r16
                  [006B40]  2376  	bsr		p7, Sys_Cserve_Srom_Putnum	; dump PC
                  [006B40]  2377  
                  [006B40]  2378  	; restore scratched registers
                  [006B40]  2379  	bis	p5, r31, r16
                  [006B40]  2380  .endc						; srom_debug_io
                  [006B40]  2381  
                  [006B40]  2382  ;
                  [006B40]  2383  ; First, fetch the cbox error chain, unlocking the error in the process.
                  [006B40]  2384  ;
                  [006B40]  2385      .if eq force_path				; 1.41
                  [006B40]  2386  	PVC_JSR	cbox, bsr=1
                  [006B40]  2387  	bsr	p5, sys__cbox			; get the cbox error chain
                  [006B40]  2388      .iff
                  [006B40]  2389  	PVC_VIOLATE <1008>			; 1.42 tell pvc to skip routine
                  [006B40]  2390  	br	p5, sys__cbox
                  [006B40]  2391      .endc					; 1.41
                  [006B40]  2386I 	PVC_JSR	cbox, bsr=1
File: ev6_pal_macros.mar
                  [006B40]   526i  pvc_lbl \pcv_index, \pcv_jsr_cbox0, osf
File: ev6_osf_system_pal.mar
         D0A0012B [006B40]  2387I 	bsr	p5, sys__cbox			; get the cbox error chain
                  [006B44]  2392      ;
                  [006B44]  2393  ; May enter here for double bit error just after single bit error.
                  [006B44]  2394  ;
                  [006B44]  2395  
                  [006B44]  2396  sys__mchk__double_bit:
                  [006B44]  2397  
                  [006B44]  2398  ;
                  [006B44]  2399  ; Now continue with logout.
                  [006B44]  2400  ;
                  [006B44]  2401  ; Current state:
                  [006B44]  2402  ;	p4		scratched
                  [006B44]  2403  ;	p6		scratched
                  [006B44]  2404  ;	p20<59:52>	dc1_syndrome<7:0>
                  [006B44]  2405  ;	   <51:44>	dc0_syndrome<7:0>
                  [006B44]  2406  ;	   <43:39>	c_stat<4:0>
                  [006B44]  2407  ;	   <38:35>	c_sts<3:0>
                  [006B44]  2408  ;	p23		exc_addr
                  [006B44]  2409  ;
                  [006B44]  2410  ;	pass1
                  [006B44]  2411  ;	-----
                  [006B44]  2412  ;	p7 <44:08>	c_addr<6:42>
                  [006B44]  2413  ;	   <07:06>	raz
                  [006B44]  2414  ;	   <05:00>	UNDEFINED
                  [006B44]  2415  ;	pass2
                  [006B44]  2416  ;	-----
                  [006B44]  2417  ;	p7 <40:04>	c_addr<6:42>
                  [006B44]  2418  ;	   <03:00>	raz
                  [006B44]  2419  ;
                  [006B44]  2420  
                  [006B44]  2421  ASSUME OSF_P_MISC__MCES__MCHK__S eq 16
                  [006B44]  2422  ASSUME OSF_P_MISC__SCBV__S eq 24
                  [006B44]  2423  ASSUME OSF_P_MISC__MCHK_CODE__S eq 40
                  [006B44]  2424  
         7ED510C8 [006B44]  2425  	hw_stq/p p_misc, PT__P_MISC(p_temp)	; save p_misc for mchk_to_crd
                  [006B48]  2426  
         4AC050C5 [006B48]  2427  	extbl	p_misc, #2, p5				; get mces
         4ACF1616 [006B4C]  2428  	zap	p_misc, #^x78, p_misc			; clear mchk_code & SCBv
                  [006B50]  2429  
         44A03406 [006B50]  2430  	bis	p5, #<1@MCES__MCHK__S>, p6		; set MCES<MCHK>
         48C21726 [006B54]  2431  	sll	p6, #OSF_P_MISC__MCES__MCHK__S, p6	; shift into position
         46C60416 [006B58]  2432  	bis	p_misc, p6, p_misc			; or back mces
                  [006B5C]  2433  
         20DF0670 [006B5C]  2434  	lda	p6, SCB__PROCMCHK(r31)			; SCB vector
         48C31726 [006B60]  2435  	sll	p6, #OSF_P_MISC__SCBV__S, p6		; move SCBv into position
         46C60416 [006B64]  2436  	bis	p_misc, p6, p_misc			; or back scbv
                  [006B68]  2437  
         20DF0098 [006B68]  2438  	lda	p6, MCHK__PROC_HRD_ERR(r31)		; mchk code
         48C51726 [006B6C]  2439  	sll	p6, #OSF_P_MISC__MCHK_CODE__S, p6	; mchk code into position
         46C60416 [006B70]  2440  	bis	p_misc, p6, p_misc			; or back mchk code
                  [006B74]  2441  
         F0A00113 [006B74]  2442  	blbs	p5, sys__double_machine_check		; halt on double
         F2E00115 [006B78]  2443  	blbs	p23, sys__machine_check_while_in_pal	; halt on in pal mode
                  [006B7C]  2444  ;+
                  [006B7C]  2445  ; Compute where the frame is.
                  [006B7C]  2446  ;
                  [006B7C]  2447  ; Current state:
                  [006B7C]  2448  ;	p7	cbox error chain info
                  [006B7C]  2449  ;	p20	cbox error chain info
                  [006B7C]  2450  ;	p23	exc_addr
                  [006B7C]  2451  ;-
         6C9510D0 [006B7C]  2452  	hw_ldq/p p4, PT__WHAMI(p_temp)			; get whami
                  [006B80]  2453  
         20BF0200 [006B80]  2454  	lda	p5, PAL__LOGOUT_SPECIFIC_SIZE(r31)	; short&long size
         4C850405 [006B84]  2455  	mulq	p4, p5, p5				; * whami
                  [006B88]  2456  
                  [006B88]  2457  	GET_32CONS	p6, PAL__LOGOUT_BASE, r31	; logout base
File: ev6_pal_macros.mar
                  [006B88]   234i  ASSUME <pal__logout_base> le  <^x7FFFFFFF>
         24DF0000 [006B88]   235M 	ldah	p6,<<pal__logout_base>+32768>@-16(r31); + xxx<31:16>
         20C61800 [006B8C]   236M 	lda	p6,<<pal__logout_base> & ^XFFFF>(p6) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         40A60405 [006B90]  2458  	addq	p5, p6, p5				; (size*whami) + base
         20A50100 [006B94]  2459  	lda	p5, MCHK__BASE(p5)			; start of mchk area
                  [006B98]  2460  
         7EE51058 [006B98]  2461  	hw_stq/p p23, MCHK__EXC_ADDR(p5)		; store exc_addr
         7EF51098 [006B9C]  2462  	hw_stq/p p23, PT__STACK_PC(p_temp)		; save fault pc
                  [006BA0]  2463  
         649F0D00 [006BA0]  2464  	hw_mfpr	p4, EV6__ISUM				; get isum here
         7C851068 [006BA4]  2465  	hw_stq/p p4, MCHK__ISUM(p5)			; save isum
                  [006BA8]  2466  
                  [006BA8]  2467  ;+
                  [006BA8]  2468  ; Now construct the cbox error registers and log them.
                  [006BA8]  2469  ; Current state:
                  [006BA8]  2470  ;
                  [006BA8]  2471  ;	p5		base of mchk logout frame
                  [006BA8]  2472  ;
                  [006BA8]  2473  ;	p7		c_addr
                  [006BA8]  2474  ;
                  [006BA8]  2475  ;	p20<59:52>	dc1_syndrome<7:0>
                  [006BA8]  2476  ;	   <51:44>	dc0_syndrome<7:0>
                  [006BA8]  2477  ;	   <43:39>	c_stat<4:0>
                  [006BA8]  2478  ;	   <38:35>	c_sts<3:0>
                  [006BA8]  2479  ;
                  [006BA8]  2480  ;	p_misc		updated with new mces, SCB, mchk code
                  [006BA8]  2481  ;-
                  [006BA8]  2482  sys__mchk_arrange_cbox:
         4A809724 [006BA8]  2483  	sll	p20, #<64-<CHAIN__DC1__S+CHAIN__DC1__V>>, p4
         48871684 [006BAC]  2484  	srl	p4, #<64-CHAIN__DC1__V>, p4
         7C851030 [006BB0]  2485  	hw_stq/p p4, MCHK__DC1_SYNDROME(p5)		; store syn1
                  [006BB4]  2486  
         4A819724 [006BB4]  2487  	sll	p20, #<64-<CHAIN__DC0__S+CHAIN__DC0__V>>, p4
         48871684 [006BB8]  2488  	srl	p4, #<64-CHAIN__DC0__V>, p4
         7C851038 [006BBC]  2489  	hw_stq/p p4, MCHK__DC0_SYNDROME(p5)		; store syn0
                  [006BC0]  2490  
         4A829724 [006BC0]  2491  	sll	p20, #<64-<CHAIN__STAT__S+CHAIN__STAT__V>>, p4
         48877684 [006BC4]  2492  	srl	p4, #<64-CHAIN__STAT__V>, p4
         7C851040 [006BC8]  2493  	hw_stq/p p4, MCHK__C_STAT(p5)			; store stat
                  [006BCC]  2494  
         4A833724 [006BCC]  2495  	sll	p20, #<64-<CHAIN__STS__S+CHAIN__STS__V>>, p4
         48879684 [006BD0]  2496  	srl	p4, #<64-CHAIN__STS__V>, p4
         7C851048 [006BD4]  2497  	hw_stq/p p4, MCHK__C_STS(p5)			; store sts
                  [006BD8]  2498  ;
                  [006BD8]  2499  ; Now get the error address.
                  [006BD8]  2500  ;
                  [006BD8]  2501  ; Current state:
                  [006BD8]  2502  ;
                  [006BD8]  2503  ;	p5		base of mchk logout frame
                  [006BD8]  2504  ;
                  [006BD8]  2505  ;	pass1
                  [006BD8]  2506  ;	-----
                  [006BD8]  2507  ;	p7 <44:08>	c_addr<6:42>
                  [006BD8]  2508  ;	   <07:06>	raz
                  [006BD8]  2509  ;	   <05:00>	UNDEFINED
                  [006BD8]  2510  ;	pass2
                  [006BD8]  2511  ;	-----
                  [006BD8]  2512  ;	p7 <40:04>	c_addr<6:42>
                  [006BD8]  2513  ;	   <03:00>	raz
                  [006BD8]  2514  ;
                  [006BD8]  2515  
                  [006BD8]  2516  .if ne ev6_p1
                  [006BD8]  2517  	C_ADDR_SHIFT = 45
                  [006BD8]  2518  	and	p7, #^x3F, p7			; zap UNDEFINED bits
                  [006BD8]  2519  .iff
                  [006BD8]  2520  	C_ADDR_SHIFT = 41
                  [006BD8]  2521  .endc
                  [006BD8]  2520I 	C_ADDR_SHIFT = 41
                  [006BD8]  2522  
         43E53406 [006BD8]  2523  	addq	r31, #C_ADDR_SHIFT, p6		; initialize shift count
         43FF0404 [006BDC]  2524  	addq	r31, r31, p4			; initialize output shift data
                  [006BE0]  2525  
                  [006BE0]  2526  sys__mchk_addr:
         44E03014 [006BE0]  2527  	and	p7, #1, p20			; clear all but bit 0
         42840404 [006BE4]  2528  	addq	p20, p4, p4			; accumulate output shift data
         40C03526 [006BE8]  2529  	subq	p6, #1, p6			; decrement shift count
         E4C00003 [006BEC]  2530  	beq	p6, sys__mchk_addr_done		; all done
                  [006BF0]  2531  
         48803724 [006BF0]  2532  	sll 	p4, #1, p4			; shift output data 1 bit left
         48E03687 [006BF4]  2533  	srl 	p7, #1, p7			; shift input data 1 bit right
         C3FFFFF9 [006BF8]  2534  	br	r31, sys__mchk_addr		; do next shift
                  [006BFC]  2535  
                  [006BFC]  2536  sys__mchk_addr_done:
         4880D724 [006BFC]  2537  	sll 	p4, #6, p4			; shift error address 6 bits left
         7C851028 [006C00]  2538  	hw_stq/p p4, MCHK__C_ADDR(p5)		; store addr
                  [006C04]  2539  
                  [006C04]  2540  ;+
                  [006C04]  2541  ; Fetch rest of short frame registers
                  [006C04]  2542  ;-
                  [006C04]  2543  	EV6__DC_STAT__W1C = -
                  [006C04]  2544  		<<1@EV6__DC_STAT__TPERR_P0__S> ! -
                  [006C04]  2545  		<1@EV6__DC_STAT__TPERR_P1__S> ! -
                  [006C04]  2546  		<1@EV6__DC_STAT__ECC_ERR_ST__S> ! -
                  [006C04]  2547  		<1@EV6__DC_STAT__ECC_ERR_LD__S> ! -
                  [006C04]  2548  		<1@EV6__DC_STAT__SEO__S>>
                  [006C04]  2549  
         649F2700 [006C04]  2550  	hw_mfpr p4, EV6__MM_STAT		; (0L) get mm_stat
         7C851050 [006C08]  2551  	hw_stq/p p4, MCHK__MM_STAT(p5)		; store mm_stat
                  [006C0C]  2552  
         649F1610 [006C0C]  2553  	hw_mfpr p4, EV6__I_STAT			; (4,0L) get i_stat
         6CD51158 [006C10]  2554  	hw_ldq/p p6, PT__I_STAT_MASK(p_temp)	; 1.51 get mask
         44860004 [006C14]  2555  	and	p4, p6, p4			; 1.51 clean
                  [006C18]  2556  
         64DF2A40 [006C18]  2557  	hw_mfpr	p6, EV6__DC_STAT		; (6,0L) get dc_stat
         7C851018 [006C1C]  2558  	hw_stq/p p4, MCHK__I_STAT(p5)		; store i_stat
         7CC51020 [006C20]  2559  	hw_stq/p p6, MCHK__DC_STAT(p5)		; store dc_stat
                  [006C24]  2560  
                  [006C24]  2561  	GET_32CONS 	p4, EV6__I_STAT__W1C, r31
File: ev6_pal_macros.mar
                  [006C24]   234i  ASSUME <ev6__i_stat__w1c> le  <^x7FFFFFFF>
         249F6000 [006C24]   235M 	ldah	p4,<<ev6__i_stat__w1c>+32768>@-16(r31); + xxx<31:16>
         20840000 [006C28]   236M 	lda	p4,<<ev6__i_stat__w1c> & ^XFFFF>(p4) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E41610 [006C2C]  2562  	hw_mtpr	p4, EV6__I_STAT			; (4,0L) clear i_stat
                  [006C30]  2563  	GET_16CONS	p6, EV6__DC_STAT__W1C, r31
File: ev6_pal_macros.mar
                  [006C30]   244M 	ASSUME <<ev6__dc_stat__w1c>> le  <^x7FFF>
         20DF001F [006C30]   245M 	lda	p6,<ev6__dc_stat__w1c>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E62A40 [006C34]  2564  	hw_mtpr p6, EV6__DC_STAT		; (6,0L) clear dc_stat
                  [006C38]  2565  
         63FF4000 [006C38]  2566  	mb					; protect mm_stat ??
                  [006C3C]  2567  
                  [006C3C]  2568  ;
                  [006C3C]  2569  ; Current state:
                  [006C3C]  2570  ;	p5		base of machine logout frame
                  [006C3C]  2571  ;
                  [006C3C]  2572  ; Check for re-tryable:
                  [006C3C]  2573  ;	(1) icache fill error. Hardware has flushed the icache, but the
                  [006C3C]  2574  ;		PALcode must scrub the block in the bcache.
                  [006C3C]  2575  ;
                  [006C3C]  2576  ; Decode of c_stat:
                  [006C3C]  2577  ;	0.0000		no error
                  [006C3C]  2578  ;	0.0001		BC_PERR (bcache parity error)
                  [006C3C]  2579  ;	0.0010		DC_PERR (ttag parity error)
                  [006C3C]  2580  ;	0.0011		DSTREAM_MEM_ERR
                  [006C3C]  2581  ;	0.0100		DSTREAM_BC_ERR
                  [006C3C]  2582  ;	0.0101		DSTREAM_DC_ERR
                  [006C3C]  2583  ;	0.011x		PROBE_BC_ERR (?)
                  [006C3C]  2584  ;
                  [006C3C]  2585  ;	0.1000		reserved
                  [006C3C]  2586  ;	0.1001		reserved
                  [006C3C]  2587  ;	0.1010		reserved
                  [006C3C]  2588  ;	0.1011		ISTREAM_MEM_ERR
                  [006C3C]  2589  ;	0.1100		ISTREAM_BC_ERR
                  [006C3C]  2590  ;	0.1101		reserved
                  [006C3C]  2591  ;	0.111x		reserved
                  [006C3C]  2592  ;
                  [006C3C]  2593  ;	1.xxxx		double bit error
                  [006C3C]  2594  ;	1.0011		mem double on dstream (p3)
                  [006C3C]  2595  ;	1.0100		bcache double on dstream (p3)
                  [006C3C]  2596  ;	1.1011		mem double on istream (p3)
                  [006C3C]  2597  ;	1.1100		bcache double on istream (p3)
                  [006C3C]  2598  ;
                  [006C3C]  2599  ASSUME EV6__C_STAT__ISTREAM__S eq 3
                  [006C3C]  2600  ASSUME EV6__C_STAT__DOUBLE__S eq 4
                  [006C3C]  2601  ASSUME OSF_P_MISC__MCHK_CODE__S eq 40
                  [006C3C]  2602  
         6EE51040 [006C3C]  2603  	hw_ldq/p p23, MCHK__C_STAT(p5)			; get error code back
         46E21007 [006C40]  2604  	and	p23, #<1@EV6__C_STAT__DOUBLE__S>, p7	; check for double
         F4E00002 [006C44]  2605  	bne	p7, sys__mchk_double			; branch if so
         46E11007 [006C48]  2606  	and	p23, #<1@EV6__C_STAT__ISTREAM__S>, p7	; check for istream
         F4E00059 [006C4C]  2607  	bne	p7, sys__mchk_istream			; branch if so
                  [006C50]  2608  sys__mchk_double:
         47FF0414 [006C50]  2609  	bis	r31, r31, p20				; no retry
         47E03407 [006C54]  2610  	bis	r31, #1, p7				; get a 1
         48E39727 [006C58]  2611  	sll	p7, #EV6__HW_INT_CLR__MCHK_D__S, p7	; shift into position
                  [006C5C]  2612  	PVC_VIOLATE <35>
File: ev6_pal_macros.mar
                  [006C5C]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E70E10 [006C5C]  2613  	hw_mtpr	p7, EV6__HW_INT_CLR			; (4,0L) clear dstream
                  [006C60]  2614  ;
                  [006C60]  2615  ; Write the first 2 quadwords of the logout area
                  [006C60]  2616  ;
                  [006C60]  2617  ; Current state:
                  [006C60]  2618  ;	p5	base of mchk area
                  [006C60]  2619  ;	p20	retry flag
                  [006C60]  2620  ;
                  [006C60]  2621  sys__mchk_header:
                  [006C60]  2622  .if ne pci_debug_io*debug_mchk
                  [006C60]  2623  	DBG_PCI LED__MCHK_POST,0
                  [006C60]  2624  .endc
         4A87F734 [006C60]  2625  	sll	p20, #63, p20			; shift retry into position
         229400C8 [006C64]  2626  	lda	p20, MCHK__SIZE(p20)		; flag ! frame size
         7E851000 [006C68]  2627  	hw_stq/p p20, MCHK__FLAG_FRAME(p5)	; store flag ! frame size
         229F00A0 [006C6C]  2628  	lda	p20, MCHK__SYSTEM_BASE(r31)	; system offset ???
         4A841734 [006C70]  2629  	sll	p20, #32, p20			; shift into position
         22940018 [006C74]  2630  	lda	p20, MCHK__CPU_BASE(p20)	; sys offset ! cpu offset
         7E851008 [006C78]  2631  	hw_stq/p p20, MCHK__OFFSETS(p5)		; store offsets
                  [006C7C]  2632  
                  [006C7C]  2633  ;+
                  [006C7C]  2634  ; Fetch long frame cpu registers.
                  [006C7C]  2635  ;
                  [006C7C]  2636  ; Current state:
                  [006C7C]  2637  ;	p5	base of machine check logout frame
                  [006C7C]  2638  ;-
                  [006C7C]  2639  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
         47FF041F [006C7C]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [006C80]  2640  
                  [006C80]  2641  sys__mchk_registers:
         64DF5F10 [006C80]  2642  	hw_mfpr	p6, EV6__PROCESS_CONTEXT	; (4,0L) get process context
         47FF041F [006C84]  2643  	bis	r31, r31, r31			; don't write isum here
         47FF041F [006C88]  2644  	bis	r31, r31, r31			; don't write isum here
         7CC51088 [006C8C]  2645  	hw_stq/p p6, MCHK__PROCESS_CONTEXT(p5)	; store process context
                  [006C90]  2646  
         649F0B10 [006C90]  2647  	hw_mfpr	p4, EV6__IER_CM			; (4,0L) get ier_cm
         47FF041F [006C94]  2648  	bis	r31, r31, r31			; don't get isum here
         47FF041F [006C98]  2649  	bis	r31, r31, r31			; don't write isum here
         7C851060 [006C9C]  2650  	hw_stq/p p4, MCHK__IER_CM(p5)		; store ier_cm
                  [006CA0]  2651  
         649F1010 [006CA0]  2652  	hw_mfpr	p4, EV6__PAL_BASE		; (4,0L) get pal_base
         47FF041F [006CA4]  2653  	bis	r31, r31, r31			; don't get isum here
         47FF041F [006CA8]  2654  	bis	r31, r31, r31			; don't write isum here
         7C851078 [006CAC]  2655  	hw_stq/p p4, MCHK__PAL_BASE(p5)		; store pal_base
                  [006CB0]  2656  
         649F1110 [006CB0]  2657  	hw_mfpr	p4, EV6__I_CTL			; (4,0L) get i_ctl
         7C851080 [006CB4]  2658  	hw_stq/p p4, MCHK__I_CTL(p5)		; store i_ctl
                  [006CB8]  2659  ;+
                  [006CB8]  2660  ; Store the pal specific information. Also add revision number.
                  [006CB8]  2661  ;-
                  [006CB8]  2662  ASSUME OSF_P_MISC__MCHK_CODE__S eq 40
                  [006CB8]  2663  
                  [006CB8]  2664  	GET_16CONS	p6, MCHK__REV, r31	; get revision
File: ev6_pal_macros.mar
                  [006CB8]   244M 	ASSUME <<mchk__rev>> le  <^x7FFF>
         20DF0001 [006CB8]   245M 	lda	p6,<mchk__rev>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         48C41726 [006CBC]  2665  	sll	p6, #32, p6			; shift into position
         4AC0B2D4 [006CC0]  2666  	extwl	p_misc, #5, p20			; get mchk_code field
         46860414 [006CC4]  2667  	bis	p20, p6, p20			; combine the two
         7E851010 [006CC8]  2668  	hw_stq/p p20, MCHK__MCHK_CODE(p5)	; store mchk code and rev
                  [006CCC]  2669  ;+
                  [006CCC]  2670  ; Store the system-specific part of the logout frame
                  [006CCC]  2671  ;-
                  [006CCC]  2672  .if ne pci_debug_io*debug_mchk
                  [006CCC]  2673  	DBG_PCI LED__MCHK_POST,1
                  [006CCC]  2674  .endc
                  [006CCC]  2675  .if ne swordfish_platform
                  [006CCC]  2676  	extwl	p_misc, #5, p20			; extract MCHK code
                  [006CCC]  2677  	lda	p20, -MCHK__SYS_HRD_ERR(p20)	; Check for system vs. processor error
                  [006CCC]  2678  	hw_stq/p r31, MCHK__OS_FLAGS(p5)	; Clear the OS flags
                  [006CCC]  2679  ; 
                  [006CCC]  2680  ; Save Cchip Registers
                  [006CCC]  2681  ;
                  [006CCC]  2682  ;	Miscellaneous Register (MISC - 801.A000.0080)
                  [006CCC]  2683  ;	Device Interrupt Request Register 0 (DIR0 - 801.A000.0280)
                  [006CCC]  2684  ;	Device Interrupt Request Register 1 (DIR1 - 801.A000.02C0)
                  [006CCC]  2685  ;
                  [006CCC]  2686  	hw_ldq/p p7, PT__IMPURE(p_temp)		; Get base of impure area
                  [006CCC]  2687  	hw_ldq/p p6, CNS__CCHIP_MISC(p7)	; Get saved MISC register
                  [006CCC]  2688  	cmovne	p20, r31, p6			; zero on processor uncorrectable error
                  [006CCC]  2689  	hw_stq/p p6, MCHK__CCHIP_MISC(p5)
                  [006CCC]  2690  
                  [006CCC]  2691  	hw_ldq/p p6, CNS__CCHIP_DIRX(p7)	; Get saved DIRx register
                  [006CCC]  2692  	cmovne	p20, r31, p6			; zero on processor uncorrectable error
                  [006CCC]  2693  	hw_stq/p p6, MCHK__CCHIP_DIR(p5)
                  [006CCC]  2694  ;
                  [006CCC]  2695  ; Save Pchip 0 Registers
                  [006CCC]  2696  ;
                  [006CCC]  2697  ;	Error Register (PERROR - 801.8000.03C0)
                  [006CCC]  2698  ;
                  [006CCC]  2699  	hw_ldq/p p6, CNS__PCHIP0_ERR(p7)	; Get saved PERROR
                  [006CCC]  2700  	cmovne	p20, r31, p6			; zero on processor uncorrectable error
                  [006CCC]  2701  	hw_stq/p p6, MCHK__PCHIP0_ERR(p5)
                  [006CCC]  2702  ;
                  [006CCC]  2703  ; Save Pchip 1 Registers
                  [006CCC]  2704  ;
                  [006CCC]  2705  ;	Error Register (PERROR - 803.8000.03C0)
                  [006CCC]  2706  ;
                  [006CCC]  2707  	hw_ldq/p p6, CNS__PCHIP1_ERR(p7)	; Get saved PERROR
                  [006CCC]  2708  	cmovne	p20, r31, p6			; zero on processor uncorrectable error
                  [006CCC]  2709  	hw_stq/p p6, MCHK__PCHIP1_ERR(p5)
                  [006CCC]  2710  ;
                  [006CCC]  2711  ; Set OS_FLAGS<0> if any of Pchip 0 PERROR<9:0> were set
                  [006CCC]  2712  ;
                  [006CCC]  2713  	hw_ldq/p p6, MCHK__PCHIP0_ERR(p5)
                  [006CCC]  2714  	lda	p7, ^x3FF(r31)
                  [006CCC]  2715  	and	p6, p7, p6
                  [006CCC]  2716  	beq	p6, 20$
                  [006CCC]  2717  	hw_ldq/p p6, MCHK__OS_FLAGS(p5)
                  [006CCC]  2718  	or	p6, #<1@0>, p6
                  [006CCC]  2719  	hw_stq/p p6, MCHK__OS_FLAGS(p5)
                  [006CCC]  2720  ;
                  [006CCC]  2721  ; Set OS_FLAGS<1> if any of Pchip 1 PERROR<9:0> were set
                  [006CCC]  2722  ;
                  [006CCC]  2723  20$:	hw_ldq/p p6, MCHK__PCHIP1_ERR(p5)
                  [006CCC]  2724  	lda	p7, ^x3FF(r31)
                  [006CCC]  2725  	and	p6, p7, p6
                  [006CCC]  2726  	beq	p6, 25$
                  [006CCC]  2727  	hw_ldq/p p6, MCHK__OS_FLAGS(p5)
                  [006CCC]  2728  	or	p6, #<1@1>, p6
                  [006CCC]  2729  	hw_stq/p p6, MCHK__OS_FLAGS(p5)
                  [006CCC]  2730  ;
                  [006CCC]  2731  ; Set OS_FLAGS<2> on processor uncorrectable error
                  [006CCC]  2732  ;
                  [006CCC]  2733  25$:	bne	p20, 40$
                  [006CCC]  2734  ;
                  [006CCC]  2735  ; Set OS_FLAGS<2> if any of PERROR<11:10> were set
                  [006CCC]  2736  ;
                  [006CCC]  2737  30$:	hw_ldq/p p6, MCHK__PCHIP0_ERR(p5)
                  [006CCC]  2738  	hw_ldq/p p7, MCHK__PCHIP1_ERR(p5)
                  [006CCC]  2739  	or	p6, p7, p6
                  [006CCC]  2740  	lda	p7, ^xC00(r31)
                  [006CCC]  2741  	and	p6, p7, p6
                  [006CCC]  2742  	bne	p6, 40$
                  [006CCC]  2743  ;
                  [006CCC]  2744  ; Set OS_FLAGS<2> if Cchip MISC<28> was set
                  [006CCC]  2745  ;	
                  [006CCC]  2746  	hw_ldq/p p6, MCHK__CCHIP_MISC(p5)
                  [006CCC]  2747  	srl	p6, #28, p6
                  [006CCC]  2748  	blbc	p6, 50$
                  [006CCC]  2749  
                  [006CCC]  2750  40$:	hw_ldq/p p6, MCHK__OS_FLAGS(p5)
                  [006CCC]  2751  	or	p6, #<1@2>, p6
                  [006CCC]  2752  	hw_stq/p p6, MCHK__OS_FLAGS(p5)
                  [006CCC]  2753  50$:	
                  [006CCC]  2754  
                  [006CCC]  2755  .endc					;if ne swordfish_platform
         4AC0B2D4 [006CCC]  2676I 	extwl	p_misc, #5, p20			; extract MCHK code
         2294FDFE [006CD0]  2677I 	lda	p20, -MCHK__SYS_HRD_ERR(p20)	; Check for system vs. processor error
         7FE510A0 [006CD4]  2678I 	hw_stq/p r31, MCHK__OS_FLAGS(p5)	; Clear the OS flags
                  [006CD8]  2679I ; 
                  [006CD8]  2680I ; Save Cchip Registers
                  [006CD8]  2681I ;
                  [006CD8]  2682I ;	Miscellaneous Register (MISC - 801.A000.0080)
                  [006CD8]  2683I ;	Device Interrupt Request Register 0 (DIR0 - 801.A000.0280)
                  [006CD8]  2684I ;	Device Interrupt Request Register 1 (DIR1 - 801.A000.02C0)
                  [006CD8]  2685I ;
         6CF510C0 [006CD8]  2686I 	hw_ldq/p p7, PT__IMPURE(p_temp)		; Get base of impure area
         6CC713C8 [006CDC]  2687I 	hw_ldq/p p6, CNS__CCHIP_MISC(p7)	; Get saved MISC register
         469F04C6 [006CE0]  2688I 	cmovne	p20, r31, p6			; zero on processor uncorrectable error
         7CC510B0 [006CE4]  2689I 	hw_stq/p p6, MCHK__CCHIP_MISC(p5)
                  [006CE8]  2690I 
         6CC713C0 [006CE8]  2691I 	hw_ldq/p p6, CNS__CCHIP_DIRX(p7)	; Get saved DIRx register
         469F04C6 [006CEC]  2692I 	cmovne	p20, r31, p6			; zero on processor uncorrectable error
         7CC510A8 [006CF0]  2693I 	hw_stq/p p6, MCHK__CCHIP_DIR(p5)
                  [006CF4]  2694I ;
                  [006CF4]  2695I ; Save Pchip 0 Registers
                  [006CF4]  2696I ;
                  [006CF4]  2697I ;	Error Register (PERROR - 801.8000.03C0)
                  [006CF4]  2698I ;
         6CC713D0 [006CF4]  2699I 	hw_ldq/p p6, CNS__PCHIP0_ERR(p7)	; Get saved PERROR
         469F04C6 [006CF8]  2700I 	cmovne	p20, r31, p6			; zero on processor uncorrectable error
         7CC510B8 [006CFC]  2701I 	hw_stq/p p6, MCHK__PCHIP0_ERR(p5)
                  [006D00]  2702I ;
                  [006D00]  2703I ; Save Pchip 1 Registers
                  [006D00]  2704I ;
                  [006D00]  2705I ;	Error Register (PERROR - 803.8000.03C0)
                  [006D00]  2706I ;
         6CC713D8 [006D00]  2707I 	hw_ldq/p p6, CNS__PCHIP1_ERR(p7)	; Get saved PERROR
         469F04C6 [006D04]  2708I 	cmovne	p20, r31, p6			; zero on processor uncorrectable error
         7CC510C0 [006D08]  2709I 	hw_stq/p p6, MCHK__PCHIP1_ERR(p5)
                  [006D0C]  2710I ;
                  [006D0C]  2711I ; Set OS_FLAGS<0> if any of Pchip 0 PERROR<9:0> were set
                  [006D0C]  2712I ;
         6CC510B8 [006D0C]  2713I 	hw_ldq/p p6, MCHK__PCHIP0_ERR(p5)
         20FF03FF [006D10]  2714I 	lda	p7, ^x3FF(r31)
         44C70006 [006D14]  2715I 	and	p6, p7, p6
         E4C00003 [006D18]  2716I 	beq	p6, 20$
         6CC510A0 [006D1C]  2717I 	hw_ldq/p p6, MCHK__OS_FLAGS(p5)
         44C03406 [006D20]  2718I 	or	p6, #<1@0>, p6
         7CC510A0 [006D24]  2719I 	hw_stq/p p6, MCHK__OS_FLAGS(p5)
                  [006D28]  2720I ;
                  [006D28]  2721I ; Set OS_FLAGS<1> if any of Pchip 1 PERROR<9:0> were set
                  [006D28]  2722I ;
         6CC510C0 [006D28]  2723I 20$:	hw_ldq/p p6, MCHK__PCHIP1_ERR(p5)
         20FF03FF [006D2C]  2724I 	lda	p7, ^x3FF(r31)
         44C70006 [006D30]  2725I 	and	p6, p7, p6
         E4C00003 [006D34]  2726I 	beq	p6, 25$
         6CC510A0 [006D38]  2727I 	hw_ldq/p p6, MCHK__OS_FLAGS(p5)
         44C05406 [006D3C]  2728I 	or	p6, #<1@1>, p6
         7CC510A0 [006D40]  2729I 	hw_stq/p p6, MCHK__OS_FLAGS(p5)
                  [006D44]  2730I ;
                  [006D44]  2731I ; Set OS_FLAGS<2> on processor uncorrectable error
                  [006D44]  2732I ;
         F6800009 [006D44]  2733I 25$:	bne	p20, 40$
                  [006D48]  2734I ;
                  [006D48]  2735I ; Set OS_FLAGS<2> if any of PERROR<11:10> were set
                  [006D48]  2736I ;
         6CC510B8 [006D48]  2737I 30$:	hw_ldq/p p6, MCHK__PCHIP0_ERR(p5)
         6CE510C0 [006D4C]  2738I 	hw_ldq/p p7, MCHK__PCHIP1_ERR(p5)
         44C70406 [006D50]  2739I 	or	p6, p7, p6
         20FF0C00 [006D54]  2740I 	lda	p7, ^xC00(r31)
         44C70006 [006D58]  2741I 	and	p6, p7, p6
         F4C00003 [006D5C]  2742I 	bne	p6, 40$
                  [006D60]  2743I ;
                  [006D60]  2744I ; Set OS_FLAGS<2> if Cchip MISC<28> was set
                  [006D60]  2745I ;	
         6CC510B0 [006D60]  2746I 	hw_ldq/p p6, MCHK__CCHIP_MISC(p5)
         48C39686 [006D64]  2747I 	srl	p6, #28, p6
         E0C00003 [006D68]  2748I 	blbc	p6, 50$
                  [006D6C]  2749I 
         6CC510A0 [006D6C]  2750I 40$:	hw_ldq/p p6, MCHK__OS_FLAGS(p5)
         44C09406 [006D70]  2751I 	or	p6, #<1@2>, p6
         7CC510A0 [006D74]  2752I 	hw_stq/p p6, MCHK__OS_FLAGS(p5)
                  [006D78]  2753I 50$:	
                  [006D78]  2754I 
                  [006D78]  2756  
                  [006D78]  2757  ;+
                  [006D78]  2758  ; Post machine check interrupt.
                  [006D78]  2759  ;
                  [006D78]  2760  ; Current state:
                  [006D78]  2761  ;	p5		logout frame address
                  [006D78]  2762  ;
                  [006D78]  2763  ;	PT__STACK_PC	current pc
                  [006D78]  2764  ;-
                  [006D78]  2765  EV6__M_CTL__SPE2__S = 3
                  [006D78]  2766  
                  [006D78]  2767  sys__mchk_post:
                  [006D78]  2768  .if ne pci_debug_io*debug_mchk
                  [006D78]  2769  	DBG_PCI LED__MCHK_POST,2
                  [006D78]  2770  .endc
         20FF0002 [006D78]  2771  	lda	p7, OSF_A0_INT__MCHK(r31)	; mark machine check
         7CF510A0 [006D7C]  2772  	hw_stq/p p7, PT__NEW_A0(p_temp)		; save new a0 away
                  [006D80]  2773  
         4AC072C4 [006D80]  2774  	extwl	p_misc, #3, p4			; SCBV
         7C9510A8 [006D84]  2775  	hw_stq/p p4, PT__NEW_A1(p_temp)		; save new a1 away
                  [006D88]  2776  
         6CD510E8 [006D88]  2777  	hw_ldq/p p6, PT__M_CTL(p_temp)		; get M_CTL
         47E55404 [006D8C]  2778  	bis	r31, #42, p4			; assume 43-bit spe
         48C07686 [006D90]  2779  	srl	p6, #EV6__M_CTL__SPE2__S, p6	; check out 48-bit spe
         44C5F284 [006D94]  2780  	cmovlbs	p6, #47, p4			; change shift count if so
                  [006D98]  2781  
         43E03527 [006D98]  2782  	subq	r31, #1, p7			; get a -1
         48E40687 [006D9C]  2783  	srl	p7, p4, p7			; shift off low bits of kseg addr
         48E40727 [006DA0]  2784  	sll	p7, p4, p7			; shift back into position
         44E50407 [006DA4]  2785  	bis	p7, p5, p7			; kseg pointer to logout area
         7CF510B0 [006DA8]  2786  	hw_stq/p p7, PT__NEW_A2(p_temp)		; save new a2 away
                  [006DAC]  2787  
         47E0F406 [006DAC]  2788  	bis	r31, #OSF_IPL__MCHK, p6		; new ipl
         C3FFFE06 [006DB0]  2789  	br	r31, sys__int_post		; post interrupt
                  [006DB4]  2790  
                  [006DB4]  2791  ;------------------------------------------------------------------------
                  [006DB4]  2792  ;+
                  [006DB4]  2793  ; Istream => recoverable. The hardware has scrubbed the icache, but the
                  [006DB4]  2794  ; PALcode needs to scrub the bcache and memory.
                  [006DB4]  2795  ;
                  [006DB4]  2796  ; We do this we quadword loads to the block. The hardware will do the
                  [006DB4]  2797  ; scrub. However, a good scrubbing causes a crd. Check for a crd
                  [006DB4]  2798  ; interrupt, read the cbox chain again, and do a write to hw_int_clr.
                  [006DB4]  2799  ;
                  [006DB4]  2800  ; Question: Do I need to be aligned and do I have to be careful with
                  [006DB4]  2801  ; the istream pre-fetching? For now, use Quinn's code as is. I have added
                  [006DB4]  2802  ; an mb on the front to isolate this scrub, but it is also probably not
                  [006DB4]  2803  ; necessary.
                  [006DB4]  2804  ;
                  [006DB4]  2805  ; Also, we have a crd that occurs along with the mchk, which would allow
                  [006DB4]  2806  ; us to detect and correct a mchk down a bad path. The hw_int_clr wirte
                  [006DB4]  2807  ; clears everything up.
                  [006DB4]  2808  ;
                  [006DB4]  2809  ; Current state:
                  [006DB4]  2810  ;	p5		base of mchk logout frame
                  [006DB4]  2811  ;-
                  [006DB4]  2812  ;+
                  [006DB4]  2813  ; 1.41
                  [006DB4]  2814  ;
                  [006DB4]  2815  ; First check for CMOV -- if exc_addr - 4 was a cmov, we must kill
                  [006DB4]  2816  ; the machine because the cmov may or may not have actually
                  [006DB4]  2817  ; been executed and we really have no way of knowing.
                  [006DB4]  2818  ;
                  [006DB4]  2819  ; Rather than compare the opcode and function of each possible 
                  [006DB4]  2820  ; type of CMOV, we'll compare the bits that are common across 
                  [006DB4]  2821  ; all of them. This may end up matching a few additional 
                  [006DB4]  2822  ; instructions but that's ok. With a quick look through the 
                  [006DB4]  2823  ; current instruction assignments, the only other instructions
                  [006DB4]  2824  ; with the same opcode as either of these are xor and ornot
                  [006DB4]  2825  ; both of which have function codes which will not match the
                  [006DB4]  2826  ; test below.
                  [006DB4]  2827  ;
                  [006DB4]  2828  ; The function encodings for the CMOVs are:
                  [006DB4]  2829  ;
                  [006DB4]  2830  ;  CMOVEQ  010.0100
                  [006DB4]  2831  ;  CMOVGE  100.0110
                  [006DB4]  2832  ;  CMOVGT  110.0110        FCMOVEQ 000.0010.1010
                  [006DB4]  2833  ;  CMOVLBC 001.0110        FCMOVGE 000.0010.1101
                  [006DB4]  2834  ;  CMOVLBS 001.0100        FCMOVGT 000.0010.1111
                  [006DB4]  2835  ;  CMOVLE  110.0100        FCMOVLE 000.0010.1110
                  [006DB4]  2836  ;  CMOVLT  100.0100        FCMOVLT 000.0010.1100
                  [006DB4]  2837  ;  CMOVNE  010.0110        FCMOVNE 000.0010.1011
                  [006DB4]  2838  ;  ----------------        ---------------------
                  [006DB4]  2839  ;          xxx.01x0                000.0010.1xxx
                  [006DB4]  2840  ;
                  [006DB4]  2841  ; All of the integer CMOV instructions are opcode 0x11 and
                  [006DB4]  2842  ; the FP CMOV instructions are opcode 0x17.
                  [006DB4]  2843  ;
                  [006DB4]  2844  ; The function for integer CMOVs (int operate format)
                  [006DB4]  2845  ; is instr<11:5> and for fp CMOVs (FP operate format) is
                  [006DB4]  2846  ; instr<15:5>. In both cases the opcode is instr<31:26>.
                  [006DB4]  2847  ;
                  [006DB4]  2848  ; So what we'll do is mask the instruction down to
                  [006DB4]  2849  ; the opcode and care function bits (2 mask ops -- 
                  [006DB4]  2850  ; int and fp) and then compare against the actual
                  [006DB4]  2851  ; opcode and care bits.
                  [006DB4]  2852  ;
                  [006DB4]  2853  ; Therefore the mask and compare values are:
                  [006DB4]  2854  ;
                  [006DB4]  2855  ;  Integer: Mask: 0xfc0001a0 Compare: 0x44000080
                  [006DB4]  2856  ;  FP:      Mask: 0xfc00ff00 Compare: 0xfc000500
                  [006DB4]  2857  ;
                  [006DB4]  2858  ; Current state:
                  [006DB4]  2859  ;	p5		base of mchk logout frame
                  [006DB4]  2860  ;	PT__STACK_PC	exc_addr
                  [006DB4]  2861  ;-
                  [006DB4]  2862  
                  [006DB4]  2863  INT_CMOV_MASK = ^xfc0001a0
                  [006DB4]  2864  INT_CMOV_CMP = ^x44000080
                  [006DB4]  2865  FP_CMOV_MASK = ^xfc00ff00 
                  [006DB4]  2866  FP_CMOV_CMP = ^x5c000500    
                  [006DB4]  2867  
                  [006DB4]  2868  sys__mchk_istream:				; 1.41
         7CB51100 [006DB4]  2869  	hw_stq/p p5, PT__R1(p_temp)		; save off frame addr
         6E951098 [006DB8]  2870  	hw_ldq/p p20, PT__STACK_PC(p_temp)	; get back exc_addr
         42809534 [006DBC]  2871  	subq	p20, #4, p20			; subtract 4
                  [006DC0]  2872  ;
                  [006DC0]  2873  ; Get the instruction. A tb miss is okay.
                  [006DC0]  2874  ; A tnv or dfault will be a fatal mchk.
                  [006DC0]  2875  ;
                  [006DC0]  2876  ; Current state:
                  [006DC0]  2877  ;	PT__R1		saved frame addr
                  [006DC0]  2878  ;	PT__STACK_PC	save exc_addr
                  [006DC0]  2879  ;
                  [006DC0]  2880  sys__mchk_istream_check_cmov:		; 1.41
         A2940000 [006DC0]  2881  	ldl	p20, (p20)		; get instruction
         4A9E1614 [006DC4]  2882  	zap     p20, #^xf0, p20		; clean any sign extension
                  [006DC8]  2883  
                  [006DC8]  2884  	GET_32CONS	p4, INT_CMOV_MASK, r31, verify=0; int CMOV mask
File: ev6_pal_macros.mar
         249FFC00 [006DC8]   235M 	ldah	p4,<<int_cmov_mask>+32768>@-16(r31); + xxx<31:16>
         208401A0 [006DCC]   236M 	lda	p4,<<int_cmov_mask> & ^XFFFF>(p4) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         489E1604 [006DD0]  2885  	zap	p4, #^xf0, p4				; clean sign ext
                  [006DD4]  2886  	GET_32CONS	p5, INT_CMOV_CMP, r31		; int CMOV compare
File: ev6_pal_macros.mar
                  [006DD4]   234i  ASSUME <int_cmov_cmp> le  <^x7FFFFFFF>
         24BF4400 [006DD4]   235M 	ldah	p5,<<int_cmov_cmp>+32768>@-16(r31); + xxx<31:16>
         20A50080 [006DD8]   236M 	lda	p5,<<int_cmov_cmp> & ^XFFFF>(p5) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [006DDC]  2887  
         46840004 [006DDC]  2888  	and	p20, p4, p4		; mask it
         408505A6 [006DE0]  2889  	cmpeq	p4, p5, p6		; is it an int CMOV?
                  [006DE4]  2890  
                  [006DE4]  2891  	GET_32CONS	p4, FP_CMOV_MASK, r31, verify=0	; fp CMOV mask
File: ev6_pal_macros.mar
         249FFC01 [006DE4]   235M 	ldah	p4,<<fp_cmov_mask>+32768>@-16(r31); + xxx<31:16>
         2084FF00 [006DE8]   236M 	lda	p4,<<fp_cmov_mask> & ^XFFFF>(p4) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         489E1604 [006DEC]  2892  	zap	p4, #^xf0, p4				; clean sign ext
                  [006DF0]  2893  	GET_32CONS	p5, INT_CMOV_CMP, r31		; fp CMOV compare
File: ev6_pal_macros.mar
                  [006DF0]   234i  ASSUME <int_cmov_cmp> le  <^x7FFFFFFF>
         24BF4400 [006DF0]   235M 	ldah	p5,<<int_cmov_cmp>+32768>@-16(r31); + xxx<31:16>
         20A50080 [006DF4]   236M 	lda	p5,<<int_cmov_cmp> & ^XFFFF>(p5) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [006DF8]  2894  
         46840004 [006DF8]  2895  	and	p20, p4, p4		; mask it
         408505A7 [006DFC]  2896  	cmpeq	p4, p5, p7		; is it an fp CMOV?
                  [006E00]  2897  
         44C70406 [006E00]  2898  	bis	p6, p7, p6			; is it a CMOV? (merge results)
         F4C00001 [006E04]  2899  	bne	p6, sys__mchk_istream_cmov_err	; branch if so
         C3E0000E [006E08]  2900  	br	r31, sys__mchk_istream_not_cmov	; branch for not
                  [006E0C]  2901  ;+
                  [006E0C]  2902  ; PC-4 is a CMOV. Make a fatal mchk.
                  [006E0C]  2903  ;
                  [006E0C]  2904  ; Current state:
                  [006E0C]  2905  ; 	PT__STACK_PC	exc_addr
                  [006E0C]  2906  ; 	PT__R1		frame addr
                  [006E0C]  2907  ;-
                  [006E0C]  2908  sys__mchk_istream_cmov_err:				; 1.41
         6CB51100 [006E0C]  2909  	hw_ldq/p p5, PT__R1(p_temp)			; get back frame addr
                  [006E10]  2910  
         4ACC1616 [006E10]  2911  	zap	p_misc, #^x60, p_misc			; clean old code
         20DF00A0 [006E14]  2912  	lda	p6, MCHK__ISTREAM_CMOV(r31)		; mchk code
         48C51726 [006E18]  2913  	sll	p6, #OSF_P_MISC__MCHK_CODE__S, p6	; into position
         46C60416 [006E1C]  2914  	bis	p_misc, p6, p_misc			; or in new code
                  [006E20]  2915  
         47FF0414 [006E20]  2916  	bis	r31, r31, p20				; no retry
         C3FFFF8E [006E24]  2917  	br	r31, sys__mchk_header			; take fatal mchk
                  [006E28]  2918  ;+
                  [006E28]  2919  ; Couldn't get the instruction for some reason.
                  [006E28]  2920  ;
                  [006E28]  2921  ; Current state:
                  [006E28]  2922  ; 	PT__STACK_PC	exc_addr
                  [006E28]  2923  ; 	PT__R1		frame addr
                  [006E28]  2924  ;-
                  [006E28]  2925  sys__mchk_istream_cmov_fault:				; 1.41
         6CB51100 [006E28]  2926  	hw_ldq/p p5, PT__R1(p_temp)			; get back frame addr
                  [006E2C]  2927  
         4ACC1616 [006E2C]  2928  	zap	p_misc, #^x60, p_misc			; clean old code
         20DF00A2 [006E30]  2929  	lda	p6, MCHK__ISTREAM_CMOV_FAULT(r31)	; mchk code
         48C51726 [006E34]  2930  	sll	p6, #OSF_P_MISC__MCHK_CODE__S, p6	; into position
         46C60416 [006E38]  2931  	bis	p_misc, p6, p_misc			; or in new code
                  [006E3C]  2932  
         47FF0414 [006E3C]  2933  	bis	r31, r31, p20				; no retry
         C3FFFF87 [006E40]  2934  	br	r31, sys__mchk_header			; take fatal mchk
                  [006E44]  2935  
                  [006E44]  2936  ;------------------------------------------------------------------------
                  [006E44]  2937  ;+
                  [006E44]  2938  ; PC-4 not a CMOV. Back to business. Scrub the address.
                  [006E44]  2939  ;
                  [006E44]  2940  ; Current state:
                  [006E44]  2941  ;	PT__R1		addr of frame
                  [006E44]  2942  ;	PT__STACK_PC	exc_addr
                  [006E44]  2943  ;-
                  [006E44]  2944  sys__mchk_istream_not_cmov:			; 1.41
         6CB51100 [006E44]  2945  	hw_ldq/p p5, PT__R1(p_temp)		; 1.41 get back frame addr
                  [006E48]  2946  
         6C851028 [006E48]  2947  	hw_ldq/p p4, MCHK__C_ADDR(p5)		; get back address
                  [006E4C]  2948  
         77FFA380 [006E4C]  2949  	hw_mtpr	r31, EV6__DTB_IA		; (7,1L) flush dtb
         229F3301 [006E50]  2950  	lda	p20, ^x3301(r31)		; set WE, RE
         47FF041F [006E54]  2951  	bis	r31, r31, r31
         47FF041F [006E58]  2952  	bis	r31, r31, r31
                  [006E5C]  2953  
         77FF2780 [006E5C]  2954  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; wait for retire
         4881B686 [006E60]  2955  	srl	p4, #13, p6			; shift byte offset
         48C41726 [006E64]  2956  	sll	p6, #EV6__DTB_PTE0__PFN__S, p6	; shift into position
         44D40406 [006E68]  2957  	bis	p6, p20, p6			; produce pte
                  [006E6C]  2958  
         4882B724 [006E6C]  2959  	sll	p4, #<63-42>, p4		; 1.60 sign extend from <42>
         4882B784 [006E70]  2960  	sra	p4, #<63-42>, p4		; 1.60 ..to produce a good va
                  [006E74]  2961  
                  [006E74]  2962  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
47FF041F 47FF041F [006E74]   260i 	.align 4, <^x47FF041F>
         47FF041F [006E7C]
File: ev6_osf_system_pal.mar
                  [006E80]  2963  
                  [006E80]  2964  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [006E80]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E42044 [006E80]  2965  	hw_mtpr	p4, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E4A022 [006E84]  2966  	hw_mtpr p4, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77E62155 [006E88]  2967  	hw_mtpr	p6, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77E6A1AA [006E8C]  2968  	hw_mtpr	p6, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [006E90]  2969  
         63FF4000 [006E90]  2970  	mb					; quiet before we start
         C3E0000A [006E94]  2971  	br	r31, sys__mchk_scrub
                  [006E98]  2972  
                  [006E98]  2973  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [006E98]   270i 	.align 6
00000000 00000000 [006EA0]
00000000 00000000 [006EA8]
00000000 00000000 [006EB0]
00000000 00000000 [006EB8]
File: ev6_osf_system_pal.mar
                  [006EC0]  2974  sys__mchk_scrub:
         A4C40000 [006EC0]  2975  	ldq	p6, ^x00(p4)			; re-read the bad block QW #0
         A4C40008 [006EC4]  2976  	ldq	p6, ^x08(p4)			; re-read the bad block QW #1
         A4C40010 [006EC8]  2977  	ldq	p6, ^x10(p4)			; re-read the bad block QW #2
         A4C40018 [006ECC]  2978  	ldq	p6, ^x18(p4)			; re-read the bad block QW #3
         A4C40020 [006ED0]  2979  	ldq	p6, ^x20(p4)			; re-read the bad block QW #4
         A4C40028 [006ED4]  2980  	ldq	p6, ^x28(p4)			; re-read the bad block QW #5
         A4C40030 [006ED8]  2981  	ldq	p6, ^x30(p4)			; re-read the bad block QW #6
         63FF4000 [006EDC]  2982  	mb					; no other mem-ops till done
         ACC40038 [006EE0]  2983  	ldq_l	p6, ^x38(p4)			; re-read the bad block QW #7
         BCC40038 [006EE4]  2984  	stq_c	p6, ^x38(p4)			; now store it to force scrub
         63FF4000 [006EE8]  2985  	mb
         44DF0006 [006EEC]  2986  	and	p6, r31, p6			; consumer of above
         E4C00001 [006EF0]  2987  	beq	p6, sys__mchk_scrub_done	; these 2 lines......
                  [006EF4]  2988  	PVC_VIOLATE <1006>
File: ev6_pal_macros.mar
                  [006EF4]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         C3FFFFFF [006EF4]  2989  	br	r31, .-4			; .....stop pre-fetching
                  [006EF8]  2990  
                  [006EF8]  2991  sys__mchk_scrub_done:
         77FFA380 [006EF8]  2992  	hw_mtpr	r31, EV6__DTB_IA		; (7,1L) flush dtb
         47FF041F [006EFC]  2993  	bis	r31, r31, r31
         47FF041F [006F00]  2994  	bis	r31, r31, r31
         47FF041F [006F04]  2995  	bis	r31, r31, r31
                  [006F08]  2996  
         77FF2780 [006F08]  2997  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; wait for retire
                  [006F0C]  2998  ;
                  [006F0C]  2999  ; Now clear the chain and the interrupt and dc_stat.
                  [006F0C]  3000  ;
                  [006F0C]  3001  sys__mchk_clear_crd:
         44BF0417 [006F0C]  3002  	bis	p5, r31, p23			; save base of logout frame
                  [006F10]  3003  
                  [006F10]  3004      .if eq force_path				; 1.41
                  [006F10]  3005  	PVC_JSR	cbox, bsr=1
                  [006F10]  3006  	bsr	p5, sys__cbox			; get the cbox error chain again
                  [006F10]  3007      .iff
                  [006F10]  3008  	PVC_VIOLATE <1008>			; 1.42 tell pvc to skip routine
                  [006F10]  3009  	br	p5, sys__cbox
                  [006F10]  3010      .endc					; 1.41
                  [006F10]  3005I 	PVC_JSR	cbox, bsr=1
File: ev6_pal_macros.mar
                  [006F10]   526i  pvc_lbl \pcv_index, \pcv_jsr_cbox0, osf
File: ev6_osf_system_pal.mar
         D0A00037 [006F10]  3006I 	bsr	p5, sys__cbox			; get the cbox error chain again
                  [006F14]  3011      
         46FF0405 [006F14]  3012  	bis	p23, r31, p5			; base of mchk frame to p5
                  [006F18]  3013  ;
                  [006F18]  3014  ; Current state:
                  [006F18]  3015  ;	p5		base of mchk logout frame
                  [006F18]  3016  ;
         47E03407 [006F18]  3017  	bis	r31, #1, p7			; get a 1
         48E3F727 [006F1C]  3018  	sll	p7, #EV6__HW_INT_CLR__CR__S, p7	; shift into position
                  [006F20]  3019  	PVC_VIOLATE <35>
File: ev6_pal_macros.mar
                  [006F20]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E70E10 [006F20]  3020  	hw_mtpr	p7, EV6__HW_INT_CLR		; (4,0L)
                  [006F24]  3021  
                  [006F24]  3022  	GET_16CONS	p7, EV6__DC_STAT__W1C_CRD, r31
File: ev6_pal_macros.mar
                  [006F24]   244M 	ASSUME <<ev6__dc_stat__w1c_crd>> le  <^x7FFF>
         20FF000C [006F24]   245M 	lda	p7,<ev6__dc_stat__w1c_crd>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E72A40 [006F28]  3023  	hw_mtpr p7, EV6__DC_STAT		; (6,0L)
         47FF041F [006F2C]  3024  	bis	r31, r31 ,r31
         47FF041F [006F30]  3025  	bis	r31, r31 ,r31
         47FF041F [006F34]  3026  	bis	r31, r31 ,r31
                  [006F38]  3027  
         77FF2750 [006F38]  3028  	hw_mtpr	r31, <EV6__MM_STAT ! ^x50>	; stall till they retire
                  [006F3C]  3029  
                  [006F3C]  3030  ;+
                  [006F3C]  3031  ; Now turn mchk into a processor corrected machine check.
                  [006F3C]  3032  ; Re-write the mces, SCBV, and code value.
                  [006F3C]  3033  ; Get the cbox registers from the machine logout frame.
                  [006F3C]  3034  ;
                  [006F3C]  3035  ;	p5		base of mchk logout frame
                  [006F3C]  3036  ;	PT__STACK_PC	exc_addr
                  [006F3C]  3037  ;-
                  [006F3C]  3038  sys__mchk_to_crd:
         6ED510C8 [006F3C]  3039  	hw_ldq/p p_misc, PT__P_MISC(p_temp)	; recover p_misc
                  [006F40]  3040  
         4AC050D7 [006F40]  3041  	extbl	p_misc, #2, p23			; get mces
         4ACF1616 [006F44]  3042  	zap	p_misc, #^x78, p_misc		; clean mchk_code and SCBv
                  [006F48]  3043  
                  [006F48]  3044  .if eq crd_en
                  [006F48]  3045  	srl	p23, #MCES__DPC__S, p6		; get dpc
                  [006F48]  3046  	blbs	p6, sys__perr_skip_frame	; dpc => don't build frame
                  [006F48]  3047  .endc
                  [006F48]  3048  
         46E09406 [006F48]  3049  	bis	p23, #<1@MCES__PCE__S>, p6		; set MCES<PCE>
         48C21726 [006F4C]  3050  	sll	p6, #OSF_P_MISC__MCES__MCHK__S, p6	; shift into position
         46C60416 [006F50]  3051  	bis	p_misc, p6, p_misc			; or back mces
                  [006F54]  3052  
         20DF0630 [006F54]  3053  	lda	p6, SCB__PROC_CORR_ERR(r31)		; SCB vector
         48C31726 [006F58]  3054  	sll	p6, #OSF_P_MISC__SCBV__S, p6		; SCBv into position
         46C60416 [006F5C]  3055  	bis	p_misc, p6, p_misc			; or back scbv
                  [006F60]  3056  
         20DF0086 [006F60]  3057  	lda	p6, MCHK__CORR_ECC(r31)			; mchk code
         48C51726 [006F64]  3058  	sll	p6, #OSF_P_MISC__MCHK_CODE__S, p6	; mchk code into position
         46C60416 [006F68]  3059  	bis	p_misc, p6, p_misc			; or back mchk code
                  [006F6C]  3060  
                  [006F6C]  3061  ;
                  [006F6C]  3062  ; Now compute where the crd frame is.
                  [006F6C]  3063  ; Current state:
                  [006F6C]  3064  ;	p5		base of mchk logout frame
                  [006F6C]  3065  ;
         44BF0414 [006F6C]  3066  	bis	p5, r31, p20				; move to p20
         20B4FF00 [006F70]  3067  	lda	p5,  <MCHK_CRD__BASE - MCHK__BASE>(p20)	; compute crd base
                  [006F74]  3068  
         4AE05686 [006F74]  3069  	srl	p23, #MCES__PCE__S, p6			; get PCE
         F0DFFEE9 [006F78]  3070  	blbs	p6, sys__perr_second			; set => second error
                  [006F7C]  3071  
                  [006F7C]  3072  ;
                  [006F7C]  3073  ; Recover the cbox error registers and log them.
                  [006F7C]  3074  ;
                  [006F7C]  3075  ; Current state:
                  [006F7C]  3076  ;	p5	base of crd logout frame
                  [006F7C]  3077  ;	p20	base of mchk logout frame
                  [006F7C]  3078  ;
                  [006F7C]  3079  
         6C941030 [006F7C]  3080  	hw_ldq/p p4, MCHK__DC1_SYNDROME(p20)		; get syn1
         6CF41038 [006F80]  3081  	hw_ldq/p p7, MCHK__DC0_SYNDROME(p20)		; get syn0
         7C851030 [006F84]  3082  	hw_stq/p p4, MCHK_CRD__DC1_SYNDROME(p5)		; store syn1
         7CE51038 [006F88]  3083  	hw_stq/p p7, MCHK_CRD__DC0_SYNDROME(p5)		; store syn1
                  [006F8C]  3084  
         6C941040 [006F8C]  3085  	hw_ldq/p p4, MCHK__C_STAT(p20)			; get stat
         6CF41048 [006F90]  3086  	hw_ldq/p p7, MCHK__C_STS(p20)			; get sts
         7C851040 [006F94]  3087  	hw_stq/p p4, MCHK_CRD__C_STAT(p5)		; store stat
         7CE51048 [006F98]  3088  	hw_stq/p p7, MCHK_CRD__C_STS(p5)		; store sts
                  [006F9C]  3089  
         6C941028 [006F9C]  3090  	hw_ldq/p p4, MCHK__C_ADDR(p20)			; get addr
         7C851028 [006FA0]  3091  	hw_stq/p p4, MCHK_CRD__C_ADDR(p5)		; store addr
                  [006FA4]  3092  
         7FE51050 [006FA4]  3093  	hw_stq/p r31, MCHK_CRD__MM_STAT(p5)		; store 0 for mm_stat
                  [006FA8]  3094  
         6C941018 [006FA8]  3095  	hw_ldq/p p4, MCHK__I_STAT(p20)			; get i_stat
         6CF51158 [006FAC]  3096  	hw_ldq/p p7, PT__I_STAT_MASK(p_temp)		; 1.51 get mask
         44870004 [006FB0]  3097  	and	p4, p7, p4				; 1.51 clean
                  [006FB4]  3098  
         6CF41020 [006FB4]  3099  	hw_ldq/p p7, MCHK__DC_STAT(p20)			; get dc_stat
         7C851018 [006FB8]  3100  	hw_stq/p p4, MCHK_CRD__I_STAT(p5)		; store i_stat
         7CE51020 [006FBC]  3101  	hw_stq/p p7, MCHK_CRD__DC_STAT(p5)		; store dc_stat
                  [006FC0]  3102  
         C3FFFE3D [006FC0]  3103  	br	r31, sys__crd_header			; merge to finish
                  [006FC4]  3104  
                  [006FC4]  3105  ;------------------------------------------------------------------------
                  [006FC4]  3106  ;+
                  [006FC4]  3107  ; sys__double_machine_check
                  [006FC4]  3108  ;
                  [006FC4]  3109  ; A machine check was started, but mces <mchk> was already set.
                  [006FC4]  3110  ;
                  [006FC4]  3111  ; Current state:
                  [006FC4]  3112  ;	p23		exc_addr
                  [006FC4]  3113  ;-
                  [006FC4]  3114  sys__double_machine_check:				; halt on double
         229F0006 [006FC4]  3115  	lda	p20, HALT__DBL_MCHK(r31)		; halt code
         7E9510F0 [006FC8]  3116  	hw_stq/p p20, PT__HALT_CODE(p_temp)		; store code (??)
         C3FFF62C [006FCC]  3117  	br	r31, trap__update_pcb_and_halt		; update and halt
                  [006FD0]  3118  ;------------------------------------------------------------------------
                  [006FD0]  3119  ;+
                  [006FD0]  3120  ; sys__machine_check_while_in_pal
                  [006FD0]  3121  ;
                  [006FD0]  3122  ; A machine check exception was taken and exc_addr was a PAL PC.
                  [006FD0]  3123  ; ?? This can only occur on istream machine checks, as dstream machine
                  [006FD0]  3124  ; checks are deferred ??
                  [006FD0]  3125  ;-
                  [006FD0]  3126  sys__machine_check_while_in_pal:			; halt on in pal mode
         229F0007 [006FD0]  3127  	lda	p20, HALT__MCHK_FROM_PAL(r31)		; halt code
         7E9510F0 [006FD4]  3128  	hw_stq/p p20, PT__HALT_CODE(p_temp)		; store code (??)
         C3FFF629 [006FD8]  3129  	br	r31, trap__update_pcb_and_halt		; update and halt
                  [006FDC]  3130  ;------------------------------------------------------------------------
                  [006FDC]  3131  ;+
                  [006FDC]  3132  ; sys__dc_tag_perr_while_in_pal
                  [006FDC]  3133  ;
                  [006FDC]  3134  ; A dc_tag_perr exception was taken and exc_addr was a PAL PC.
                  [006FDC]  3135  ;-
                  [006FDC]  3136  sys__dc_tag_perr_while_in_pal:			; halt on in pal mode
         229F0008 [006FDC]  3137  	lda	p20, HALT__DC_TAG_PERR_FROM_PAL(r31)	; halt code
         7E9510F0 [006FE0]  3138  	hw_stq/p p20, PT__HALT_CODE(p_temp)		; store code (??)
         C3FFF626 [006FE4]  3139  	br	r31, trap__update_pcb_and_halt		; update and halt
                  [006FE8]  3140  
                  [006FE8]  3141  ;------------------------------------------------------------------------
                  [006FE8]  3142  ;+
                  [006FE8]  3143  ; sys__cbox
                  [006FE8]  3144  ;
                  [006FE8]  3145  ; Shift in cbox error register chain.
                  [006FE8]  3146  ;
                  [006FE8]  3147  ; External bus activity must be isolated from writes to the CBOX CSR.
                  [006FE8]  3148  ; This requires that all dstream and istream fills must be avoided until after
                  [006FE8]  3149  ; the MTPR update completes. An MB instruction can block dstream activity, but
                  [006FE8]  3150  ; blocking all istream fills including prefetches requires more extensive code.
                  [006FE8]  3151  ; Also, we assume that i_ctl<sbe>=3 in the normal case, and restore to that
                  [006FE8]  3152  ; value.
                  [006FE8]  3153  ;
                  [006FE8]  3154  ; The 'error' status is cleared when the first mfpr retires.
                  [006FE8]  3155  ;
                  [006FE8]  3156  ; We are going to shift 66 bits, even though the 4-bit cbox status field
                  [006FE8]  3157  ; is pass2 or later.
                  [006FE8]  3158  ;
                  [006FE8]  3159  ; Pass1
                  [006FE8]  3160  ; -----
                  [006FE8]  3161  ;  8	dc1_syndrome<7:0>	for the last fill scrubbed by dcache ECC checkers
                  [006FE8]  3162  ;  8	dc0_syndrome<7:0>	for the last fill scrubbed by dcache ECC checkers
                  [006FE8]  3163  ;  5	c_stat<4:0>		error status
                  [006FE8]  3164  ; 37	c_addr<6:42>		block address of last reported error (inverted!)
                  [006FE8]  3165  ;  2	raz<1:0>		padded zeros to get multiple of 6
                  [006FE8]  3166  ; --
                  [006FE8]  3167  ; 60 bits
                  [006FE8]  3168  ;
                  [006FE8]  3169  ; Pass2
                  [006FE8]  3170  ; -----
                  [006FE8]  3171  ;  8	dc1_syndrome<7:0>	for the last fill scrubbed by dcache ECC checkers
                  [006FE8]  3172  ;  8	dc0_syndrome<7:0>	for the last fill scrubbed by dcache ECC checkers
                  [006FE8]  3173  ;  5	c_stat<4:0>		error status
                  [006FE8]  3174  ;  4	c_sts<3:0>		captured status of bcache in init-mode
                  [006FE8]  3175  ; 37	c_addr<6:42>		block address of last reported error (inverted!)
                  [006FE8]  3176  ;  4	raz<3:0>		padded zeros to get multiple of 6
                  [006FE8]  3177  ; --
                  [006FE8]  3178  ; 66 bits
                  [006FE8]  3179  ;
                  [006FE8]  3180  ; Input:
                  [006FE8]  3181  ;	p5		return address
                  [006FE8]  3182  ;
                  [006FE8]  3183  ; Register Use:
                  [006FE8]  3184  ;	p4		scratch
                  [006FE8]  3185  ;	p6		scratch
                  [006FE8]  3186  ;	p20<59:52>	dc1_syndrome<7:0>
                  [006FE8]  3187  ;	   <51:44>	dc0_syndrome<7:0>
                  [006FE8]  3188  ;	   <43:39>	c_stat<4:0>
                  [006FE8]  3189  ;	   <38:35>	c_stst<3:0> (pass2 only)
                  [006FE8]  3190  ;
                  [006FE8]  3191  ;	pass1
                  [006FE8]  3192  ;	-----
                  [006FE8]  3193  ;	p7 <44:08>	c_addr<6:42>
                  [006FE8]  3194  ;	   <07:06>	raz
                  [006FE8]  3195  ;	   <05:00>	UNDEFINED
                  [006FE8]  3196  ;	pass2
                  [006FE8]  3197  ;	-----
                  [006FE8]  3198  ;	p7 <40:04>	c_addr<6:42>
                  [006FE8]  3199  ;	   <03:00>	raz
                  [006FE8]  3200  ;-
                  [006FE8]  3201  	ALIGN_FETCH_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [006FE8]   262i 	.align 4
File: ev6_osf_system_pal.mar
                  [006FF0]  3202  sys__cbox:
         63FF4000 [006FF0]  3203  	mb					; quiet the dstream
         64DF1110 [006FF4]  3204  	hw_mfpr	p6, EV6__I_CTL			; (4,0L) get i_ctl
         209FFCFF [006FF8]  3205  	lda	p4, ^xFCFF(r31)			; mask for clearing SBE bits
         44C40004 [006FFC]  3206  	and	p6, p4, p4			; clear SBE bits
                  [007000]  3207  
                  [007000]  3208  sbe_off_offset = <sys__cbox_sbe_off_done - sys__cbox_sbe_off>
                  [007000]  3209  
         77E41110 [007000]  3210  	hw_mtpr	p4, EV6__I_CTL			; (4,0L) write new i_ctl
         C0C00000 [007004]  3211  	br	p6, sys__cbox_sbe_off
                  [007008]  3212  sys__cbox_sbe_off:
         40C2B406 [007008]  3213  	addq	p6, #<sbe_off_offset+1>, p6	; past stall in palmode
         D3E00000 [00700C]  3214  	bsr	r31, .				; 1.50 stack push
                  [007010]  3215  	ALIGN_FETCH_BLOCK <^x47FF041F>		; 1.41 align
File: ev6_pal_macros.mar
                  [007010]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
         77FF1310 [007010]  3216  	hw_mtpr	r31, EV6__IC_FLUSH		; (4,0L) eliminate prefetches
         F7E00000 [007014]  3217  	bne	r31, .				; pvc #24
                  [007018]  3218  	PVC_JSR sbe_off				; synch and flush
File: ev6_pal_macros.mar
                  [007018]   526i  pvc_lbl \pcv_index, \pcv_jsr_sbe_off0, osf
File: ev6_osf_system_pal.mar
         7BE6A000 [007018]  3219  	hw_ret_stall (p6)			; 1.50 use ret, pop stack
                  [00701C]  3220  	PVC_JSR sbe_off, dest=1			; 1.41 br stops predictor
File: ev6_pal_macros.mar
                  [00701C]   529i  pvc_lbl \pcv_index, \pcv_jsr_sbe_off0, osf, \pcv_jsr_sbe_off0_inst
File: ev6_osf_system_pal.mar
                  [00701C]  3221  sys__cbox_sbe_off_done:
         C3E0000B [00701C]  3222  	br	r31, sys__cbox_touch1		; now pull in the next block
                  [007020]  3223  
                  [007020]  3224  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [007020]   270i 	.align 6
00000000 00000000 [007028]
00000000 00000000 [007030]
00000000 00000000 [007038]
File: ev6_osf_system_pal.mar
                  [007040]  3225  sys__cbox_over1:				; block 1
         43E17406 [007040]  3226  	addq	r31, #11, p6			; initialize shift count (11x)
         43FF0407 [007044]  3227  	addq	r31, r31, p7			; initialize shift data
         C3E00001 [007048]  3228  	br	r31, sys__cbox_over2		; go to block 2
                  [00704C]  3229  sys__cbox_touch1:				;
         C3E00003 [00704C]  3230  	br	r31, sys__cbox_touch2		; touch block 2
                  [007050]  3231  
                  [007050]  3232  sys__cbox_over2:				; block 2
         77FF2C40 [007050]  3233  	hw_mtpr	r31, EV6__SHIFT_CONTROL		; (6,0L) shift in 6 bits
         40C03526 [007054]  3234  	subq	p6, #1, p6			; decrement shift count
         C3E00001 [007058]  3235  	br	r31, sys__cbox_over3		; go to block 3
                  [00705C]  3236  sys__cbox_touch2:				;
         C3E00003 [00705C]  3237  	br	r31, sys__cbox_touch3		; touch block 3
                  [007060]  3238  
                  [007060]  3239  sys__cbox_over3:				; block 3
         77FF2740 [007060]  3240  	hw_mtpr	r31, <EV6__MM_STAT ! 64 >	; (6,0L) wait for shift
         44A03405 [007064]  3241  	bis	p5, #1, p5			; return in pal mode
         C3E00001 [007068]  3242  	br	r31, sys__cbox_over4		; go to block 4
                  [00706C]  3243  sys__cbox_touch3:				;
         C3E00003 [00706C]  3244  	br	r31, sys__cbox_touch4		; touch block 4
                  [007070]  3245  
                  [007070]  3246  sys__cbox_over4:				; block 4
         649F2B40 [007070]  3247  	hw_mfpr	p4, EV6__DATA			; (6,0L) read cbox data
         47FF041F [007074]  3248  	bis	r31, r31, r31			; nop
         C3E00001 [007078]  3249  	br	r31, sys__cbox_over5		; go to block 5
                  [00707C]  3250  sys__cbox_touch4:				;
         C3E00003 [00707C]  3251  	br	r31, sys__cbox_touch5		; touch block 5
                  [007080]  3252  
                  [007080]  3253  sys__cbox_over5:				; block 5
         4487F004 [007080]  3254  	and	p4, #^x3F, p4			; clean to <5:0>
         40870407 [007084]  3255  	addq	p4, p7, p7			; accumulate shift data
         C3E00001 [007088]  3256  	br	r31, sys__cbox_over6		; go to block 6
                  [00708C]  3257  sys__cbox_touch5:				;
         C3E00003 [00708C]  3258  	br	r31, sys__cbox_touch6		; touch block 6
                  [007090]  3259  
                  [007090]  3260  sys__cbox_over6:				; block 6
         E4C00007 [007090]  3261  	beq	p6, sys__cbox_over8		; branch if done
         47FF041F [007094]  3262  	bis	r31, r31, r31			; nop
         C3E00001 [007098]  3263  	br	r31, sys__cbox_over7		; go to block 7
                  [00709C]  3264  sys__cbox_touch6:				;
         C3E00003 [00709C]  3265  	br	r31, sys__cbox_touch7		; touch block 7
                  [0070A0]  3266  
                  [0070A0]  3267  sys__cbox_over7:				; block 7
         44FF0414 [0070A0]  3268  	bis	p7, r31, p20			; save before shifting
         48E0D727 [0070A4]  3269  	sll	p7, #6, p7			; shift data 6 bits left
         C3FFFFE9 [0070A8]  3270  	br	r31, sys__cbox_over2		; do next shift
                  [0070AC]  3271  sys__cbox_touch7:				;
         C3E00003 [0070AC]  3272  	br	r31, sys__cbox_touch8		; touch block 8
                  [0070B0]  3273  
                  [0070B0]  3274  sys__cbox_over8:				; block 8
         E7E00003 [0070B0]  3275  	beq	r31, sys__cbox_cbox_done	; predict not taken
                  [0070B4]  3276  	PVC_VIOLATE <1006>
File: ev6_pal_macros.mar
                  [0070B4]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         C3FFFFFF [0070B4]  3277  	br	r31, .-4			; predict back into infinite loop
         47FF041F [0070B8]  3278  	bis	r31, r31, r31			;
                  [0070BC]  3279  sys__cbox_touch8:				;
         C3FFFFE0 [0070BC]  3280  	br	r31, sys__cbox_over1		; now start executing the shifts
                  [0070C0]  3281  
                  [0070C0]  3282  sys__cbox_cbox_done:				; now restore i_ctl
         64DF1110 [0070C0]  3283  	hw_mfpr	p6, EV6__I_CTL			; (4,0L) get i_ctl
         209F0300 [0070C4]  3284  	lda	p4, <3@EV6__I_CTL__SBE__S>(r31)	; sbe bits
         44C40404 [0070C8]  3285  	or	p6, p4, p4			; set SBE bits
         47FF041F [0070CC]  3286  	bis	r31, r31, r31
                  [0070D0]  3287  
         77E41110 [0070D0]  3288  	hw_mtpr	p4, EV6__I_CTL			; (4,0L) restore i_ctl
                  [0070D4]  3289  
                  [0070D4]  3290      .if eq force_path				; 1.41
                  [0070D4]  3291  	PVC_JSR cbox, bsr=1, dest=1
                  [0070D4]  3292  	hw_ret_stall (p5)			; return to caller with stall
                  [0070D4]  3293      .iff
                  [0070D4]  3294  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align
                  [0070D4]  3295  	PVC_JSR cbox_hack
                  [0070D4]  3296  	hw_jmp_stall (p5)			; return with jmp
                  [0070D4]  3297  	br	r31, .-4			; stop predictor
                  [0070D4]  3298      .endc					; 1.41
                  [0070D4]  3291I 	PVC_JSR cbox, bsr=1, dest=1
File: ev6_pal_macros.mar
                  [0070D4]   529i  pvc_lbl \pcv_index, \pcv_jsr_cbox0, osf, \pcv_jsr_cbox0_inst
File: ev6_osf_system_pal.mar
         7BE5A000 [0070D4]  3292I 	hw_ret_stall (p5)			; return to caller with stall
                  [0070D8]  3299      
                  [0070D8]  3300  ;------------------------------------------------------------------------
                  [0070D8]  3301  ;+
                  [0070D8]  3302  ; sys__cserve
                  [0070D8]  3303  ;
                  [0070D8]  3304  ;-
                  [0070D8]  3305  sys__cserve:
                  [0070D8]  3306  
                  [0070D8]  3307  ;+
                  [0070D8]  3308  ; sys__cserve for non-srm_console
                  [0070D8]  3309  ;
                  [0070D8]  3310  ; Entry:
                  [0070D8]  3311  ;	r16 (a0)	function parameter
                  [0070D8]  3312  ;	r17 (a1)	function parameter
                  [0070D8]  3313  ;	r18 (a2)	function type
                  [0070D8]  3314  ;
                  [0070D8]  3315  ; Output parameters:
                  [0070D8]  3316  ;	r0 (v0)		result
                  [0070D8]  3317  ;
                  [0070D8]  3318  ;-
         424135A0 [0070D8]  3319  	cmpeq	r18, #CSERVE__JTOPAL, r0
         F4000008 [0070DC]  3320  	bne	r0, cfw__jtopal
                  [0070E0]  3321  
         424175A0 [0070E0]  3322  	cmpeq	r18, #CSERVE__RD_IMPURE, r0
         F400001A [0070E4]  3323  	bne	r0, cfw__rd_impure
                  [0070E8]  3324  
         424035A0 [0070E8]  3325  	cmpeq	r18, #CSERVE__START, r0
         F4000001 [0070EC]  3326  	bne	r0, cfw__start
                  [0070F0]  3327  
                  [0070F0]  3328        .if ne srom_serial_io			; dbm serial io
                  [0070F0]  3329  ;
                  [0070F0]  3330  ; The cserves below and the supporting i/o routines are called in by the
                  [0070F0]  3331  ; SROM_CSERVES and SROM_IO_FUNCTIONS macros found at the end of this module.
                  [0070F0]  3332  ;
                  [0070F0]  3333  	cmpeq	r18, #CSERVE_K_SROM_INIT, r0
                  [0070F0]  3334  	bne	r0, Sys_Cserve_Srom_Init
                  [0070F0]  3335  
                  [0070F0]  3336  	cmpeq	r18, #CSERVE_K_SROM_PUTC, r0
                  [0070F0]  3337  	bne	r0, Sys_Cserve_Srom_Putc
                  [0070F0]  3338  
                  [0070F0]  3339  	cmpeq	r18, #CSERVE_K_SROM_GETC, r0
                  [0070F0]  3340  	bne	r0, Sys_Cserve_Srom_Getc
                  [0070F0]  3341  
                  [0070F0]  3342        .endc					; if ne srom_serial_io
                  [0070F0]  3343  
         7BF78000 [0070F0]  3344  	hw_ret	(p23)				; return, nothing done
                  [0070F4]  3345  
                  [0070F4]  3346  
                  [0070F4]  3347  ;------------------------------------------------------------------------
                  [0070F4]  3348  ;+
                  [0070F4]  3349  ; CSERVE__START
                  [0070F4]  3350  ;-
                  [0070F4]  3351  cfw__start:
         C3E00062 [0070F4]  3352  	br	r31, sys__exit_console
                  [0070F8]  3353  
                  [0070F8]  3354  ;------------------------------------------------------------------------
                  [0070F8]  3355  ;+
                  [0070F8]  3356  ; CSERVE_JTOPAL
                  [0070F8]  3357  ;
                  [0070F8]  3358  ; Function:
                  [0070F8]  3359  ;	Transfer control to the specified address, passed in
                  [0070F8]  3360  ;	r16 (a0), in PALmode.
                  [0070F8]  3361  ;
                  [0070F8]  3362  ;	Write the signature
                  [0070F8]  3363  ;	Flush Icache
                  [0070F8]  3364  ;	Dispatch to new PALcode
                  [0070F8]  3365  ;
                  [0070F8]  3366  ; Current state:
                  [0070F8]  3367  ;	r16 (a0)	transfer address
                  [0070F8]  3368  ;
                  [0070F8]  3369  ; Exit state::
                  [0070F8]  3370  ;	r1		dc_ctl
                  [0070F8]  3371  ;	r15		srom_rev
                  [0070F8]  3372  ;	r16		proc_id
                  [0070F8]  3373  ;	r17		mem_size
                  [0070F8]  3374  ;	r18		cycle_cnt
                  [0070F8]  3375  ;	r19		signature in <31:16>
                  [0070F8]  3376  ;	r20		proc_mask (note: we are stepping on shadow!)L
                  [0070F8]  3377  ;	r21		sysctx (note: we are stepping on shadow!)
                  [0070F8]  3378  ;	other registers UNPREDICTABLE
                  [0070F8]  3379  ;-
                  [0070F8]  3380  	ALIGN_FETCH_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [0070F8]   262i 	.align 4
File: ev6_osf_system_pal.mar
                  [007100]  3381  
                  [007100]  3382  cfw__jtopal:
                  [007100]  3383  
                  [007100]  3384  .if ne debug_swap
                  [007100]  3385  	bis r16, r31, r1				; Save off r16
                  [007100]  3386  
                  [007100]  3387      .if ne srom_debug_io				; srom_debug_io
                  [007100]  3388  	GET_32CONS	r16, ^x4A544F50, r31		; "JTOPAL"
                  [007100]  3389  	sll		r16, #32, r16
                  [007100]  3390  	GET_32CONS	r16, ^x414C2020, r16		;
                  [007100]  3391  	bsr		p7, Sys_Cserve_Srom_Putstr
                  [007100]  3392  
                  [007100]  3393  	bis r1, r31, r16				; dump entry point
                  [007100]  3394  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3395  
                  [007100]  3396  
                  [007100]  3397  	hw_ldq/p r2, PT__IMPURE(p_temp)	; get pt_impure base address
                  [007100]  3398  
                  [007100]  3399  	bis	r2, r31, r16
                  [007100]  3400  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3401  
                  [007100]  3402  
                  [007100]  3403  	hw_ldq/p r16, CNS__DC_CTL(r2)		; get dc_ctl value
                  [007100]  3404  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3405  
                  [007100]  3406  
                  [007100]  3407  	hw_ldq/p r16, CNS__SROM_REV(r2)	; encoded srom.s RCS revision
                  [007100]  3408  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3409  
                  [007100]  3410  
                  [007100]  3411  	hw_ldq/p r16, CNS__PROC_ID(r2)		; processor identification
                  [007100]  3412  						; (a la SRM)
                  [007100]  3413  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3414  
                  [007100]  3415  
                  [007100]  3416  	hw_ldq/p r16, CNS__MEM_SIZE(r2)	; size of contiguous,
                  [007100]  3417  						; good memory in bytes
                  [007100]  3418  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3419  
                  [007100]  3420  
                  [007100]  3421  	hw_ldq/p r16, CNS__CYCLE_CNT(r2)	; cycle count in picoseconds
                  [007100]  3422  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3423  
                  [007100]  3424  
                  [007100]  3425  	hw_ldq/p r16, CNS__SIGNATURE(r2)	; signature (0xDECB) in <31:16>
                  [007100]  3426  						; system revision ID in <15:0>
                  [007100]  3427  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3428  
                  [007100]  3429  
                  [007100]  3430  	hw_ldq/p r16, CNS__PROC_MASK(r2)	; active processor mask
                  [007100]  3431  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3432  
                  [007100]  3433  
                  [007100]  3434  	hw_ldq/p r16, CNS__SYSCTX(r2)		; system context value
                  [007100]  3435  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007100]  3436  
                  [007100]  3437      .endc					; srom_debug_io
                  [007100]  3438  
                  [007100]  3439  	bis r1, r31, r16				; restore r16
                  [007100]  3440  .endc
                  [007100]  3441  
         4600341B [007100]  3442  	bis	r16, #1, r27			; ensure PALmode
                  [007104]  3443  
         6EB510C0 [007104]  3444  	hw_ldq/p r21, PT__IMPURE(p_temp)	; get pt_impure base address
                  [007108]  3445  
         6C351398 [007108]  3446  	hw_ldq/p r1, CNS__DC_CTL(r21)		; get dc_ctl value
         6C5513A8 [00710C]  3447  	hw_ldq/p r2, CNS__WRITE_MANY(r21)	; get write many chain
         48421722 [007110]  3448  	sll	r2, #16, r2			; shift into place
         44220401 [007114]  3449  	bis	r1, r2, r1			; OR into dc_ctl parameter
         6DF51270 [007118]  3450  	hw_ldq/p r15, CNS__SROM_REV(r21)	; encoded srom.s RCS revision
         6E151278 [00711C]  3451  	hw_ldq/p r16, CNS__PROC_ID(r21)		; processor identification
                  [007120]  3452  						; (a la SRM)
         6E351280 [007120]  3453  	hw_ldq/p r17, CNS__MEM_SIZE(r21)	; size of contiguous,
                  [007124]  3454  						; good memory in bytes
         6E551288 [007124]  3455  	hw_ldq/p r18, CNS__CYCLE_CNT(r21)	; cycle count in picoseconds
         6E751290 [007128]  3456  	hw_ldq/p r19, CNS__SIGNATURE(r21)	; signature (0xDECB) in <31:16>
                  [00712C]  3457  						; system revision ID in <15:0>
         6E951298 [00712C]  3458  	hw_ldq/p r20, CNS__PROC_MASK(r21)	; active processor mask
                  [007130]  3459  ;
                  [007130]  3460  ; The following load trashes p_temp, but we don't need it any more.
                  [007130]  3461  ;
         6EB512A0 [007130]  3462  	hw_ldq/p r21, CNS__SYSCTX(r21)		; system context value
                  [007134]  3463  
         63FF4000 [007134]  3464  	mb
                  [007138]  3465  
         D3E00000 [007138]  3466  	bsr	r31, .				; push prediction stack
         77FF1310 [00713C]  3467  	hw_mtpr	r31, EV6__IC_FLUSH		; (4,0L) flush icache
         F7E00000 [007140]  3468  	bne	r31, .				; pvc #24
                  [007144]  3469  	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [007144]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         7BFBA000 [007144]  3470  	hw_ret_stall (r27)			; pop prediction stack
                  [007148]  3471  						; go off to new PALcode
                  [007148]  3472  
                  [007148]  3473  ;------------------------------------------------------------------------
                  [007148]  3474  ;+
                  [007148]  3475  ; CSERVE_RD_IMPURE
                  [007148]  3476  ;
                  [007148]  3477  ; Function:
                  [007148]  3478  ;	Return impure pointer.
                  [007148]  3479  ;
                  [007148]  3480  ; Exit state:
                  [007148]  3481  ;	r0 (v0)		impure pointer
                  [007148]  3482  ;-
                  [007148]  3483  
                  [007148]  3484  	ALIGN_FETCH_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [007148]   262i 	.align 4
File: ev6_osf_system_pal.mar
                  [007150]  3485  cfw__rd_impure:
         6C1510C0 [007150]  3486  	hw_ldq/p r0, PT__IMPURE(p_temp)		; get impure pointer
         7BF78000 [007154]  3487  	hw_ret	(p23)
                  [007158]  3488  
                  [007158]  3489  
                  [007158]  3490  ;------------------------------------------------------------------------
                  [007158]  3491  ;+
                  [007158]  3492  ; sys__switch_unknown
                  [007158]  3493  ;
                  [007158]  3494  ; Entry:
                  [007158]  3495  ;	PALcode must have done a jump through 0 somehow.
                  [007158]  3496  ;-
                  [007158]  3497  sys__switch_unknown:
         229F0040 [007158]  3498  	lda	p20, HALT__JUMP0(r31)		; halt code of jump0
         7E9510F0 [00715C]  3499  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; store halt code
         C3E00007 [007160]  3500  	br	r31, sys__enter_console		; enter console
                  [007164]  3501  
                  [007164]  3502  ;------------------------------------------------------------------------
                  [007164]  3503  ;+
                  [007164]  3504  ; sys__enter_console
                  [007164]  3505  ;
                  [007164]  3506  ; Current state:
                  [007164]  3507  ;	p20	halt code
                  [007164]  3508  ;	p23	pc of halt or offending instruction
                  [007164]  3509  ;-
                  [007164]  3510  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [007164]   270i 	.align 6
00000000 00000000 [00716C]
00000000 00000000 [007174]
         00000000 [00717C]
File: ev6_osf_system_pal.mar
                  [007180]  3511  sys__enter_console:
                  [007180]  3512  	PVC_JSR save_state, bsr=1
File: ev6_pal_macros.mar
                  [007180]   526i  pvc_lbl \pcv_index, \pcv_jsr_save_state0, osf
File: ev6_osf_system_pal.mar
         D0FFF5CB [007180]  3513  	bsr	p7, pal__save_state		; save state
                  [007184]  3514  
         77FF0310 [007184]  3515  	hw_mtpr	r31, EV6__ITB_IA		; (4,0L) flush itb
         77FFA380 [007188]  3516  	hw_mtpr	r31, EV6__DTB_IA		; (7,1L) flush dtb
                  [00718C]  3517  ;
                  [00718C]  3518  ; Clear IER_CM, turning off interrupts, and setting mode to kernel.
                  [00718C]  3519  ; Don't bother for now with SIRR, ASTRR, HW_INT_CLR, etc.
                  [00718C]  3520  ;
                  [00718C]  3521  	NOP					; pad fetch block
File: ev6_pal_macros.mar
         47FF041F [00718C]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [007190]  3522  	NOP
File: ev6_pal_macros.mar
         47FF041F [007190]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [007194]  3523  	NOP
File: ev6_pal_macros.mar
         47FF041F [007194]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
         77FF0B10 [007198]  3524  	hw_mtpr	r31, EV6__IER_CM		; (4,0L) no interrupts
                  [00719C]  3525  	NOP
File: ev6_pal_macros.mar
         47FF041F [00719C]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071A0]  3526  	NOP
File: ev6_pal_macros.mar
         47FF041F [0071A0]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071A4]  3527  	NOP					; pad fetch block
File: ev6_pal_macros.mar
         47FF041F [0071A4]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071A8]  3528  ;
                  [0071A8]  3529  ; Clear DTB_ASNx and ASN.
                  [0071A8]  3530  ;
                  [0071A8]  3531  ; There must be a scoreboard bit -> register dependency chain to prevent
                  [0071A8]  3532  ; hw_mtpr DTB_ASx from issuing while ANY of scoreboard bits <7:4> are set.
                  [0071A8]  3533  ;
         643F10F0 [0071A8]  3534  	hw_mfpr	r1, <EV6__PAL_BASE ! ^xF0>	; (4-7,0L)
         44210801 [0071AC]  3535  	xor	r1, r1, r1			; zap r1
                  [0071B0]  3536  	NOP					; ensure different block
File: ev6_pal_macros.mar
         47FF041F [0071B0]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071B4]  3537  	NOP					; ensure different block
File: ev6_pal_macros.mar
         47FF041F [0071B4]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071B8]  3538  
         77E12510 [0071B8]  3539  	hw_mtpr r1, EV6__DTB_ASN0		; (4,0L) clear ASN
         77E1A580 [0071BC]  3540  	hw_mtpr r1, EV6__DTB_ASN1		; (7,1L) clear ASN
                  [0071C0]  3541  	NOP
File: ev6_pal_macros.mar
         47FF041F [0071C0]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071C4]  3542  	NOP
File: ev6_pal_macros.mar
         47FF041F [0071C4]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071C8]  3543  
         77FF4110 [0071C8]  3544  	hw_mtpr	r31, EV6__ASN			; (4,0L) clear ASN
                  [0071CC]  3545  	NOP
File: ev6_pal_macros.mar
         47FF041F [0071CC]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071D0]  3546  	NOP
File: ev6_pal_macros.mar
         47FF041F [0071D0]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071D4]  3547  	NOP
File: ev6_pal_macros.mar
         47FF041F [0071D4]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0071D8]  3548  ;
                  [0071D8]  3549  ; Clear out vptb. Switch us to 48-bit mode in VA_CTL so that the 1-1 console
                  [0071D8]  3550  ; can access I/O. Write I_CTL twice (pvc #31).
                  [0071D8]  3551  ;
                  [0071D8]  3552  
         647F1110 [0071D8]  3553  	hw_mfpr	r3, EV6__I_CTL				; (4,0L) get i_ctl
         48645723 [0071DC]  3554  	sll	r3, #<64 - EV6__I_CTL__VPTB__S>, r3	; clean
         48645683 [0071E0]  3555  	srl	r3, #<64 - EV6__I_CTL__VPTB__S>, r3	; move back
         7FF51000 [0071E4]  3556  	hw_stq/p r31, PT__VPTB(p_temp)			; clear pt__vptb
         77E31110 [0071E8]  3557  	hw_mtpr	r3, EV6__I_CTL				; (4,0L) write i_ctl
         6C3510E0 [0071EC]  3558  	hw_ldq/p r1, PT__VA_CTL(p_temp)			; fetch va_ctl part
         44205401 [0071F0]  3559  	bis	r1, #<1@EV6__VA_CTL__VA_48__S>, r1	; or in 48-bit mode!
         7C3510E0 [0071F4]  3560  	hw_stq/p r1, PT__VA_CTL(p_temp)			; store va_ctl part
         77E1C420 [0071F8]  3561  	hw_mtpr	r1, EV6__VA_CTL				; (5,1L) write it
         77E31110 [0071FC]  3562  	hw_mtpr r3, EV6__I_CTL				; (4,0L) pvc #31
                  [007200]  3563  ;
                  [007200]  3564  ; The rest of this code is very implementation dependent. It depends
                  [007200]  3565  ; on how we got here and who we are going back to.
                  [007200]  3566  
                  [007200]  3567  
                  [007200]  3568  ;
                  [007200]  3569  ; The following code assumes we have some other kind of console
                  [007200]  3570  ; that continues to use the osf palcode.
                  [007200]  3571  ;
                  [007200]  3572  
                  [007200]  3573  ;
                  [007200]  3574  ; Build PS (IPL=7,CM=kernel), and mark 1-1 mode for console.
                  [007200]  3575  ;
         47E0F416 [007200]  3576  	bis	r31, #7, p_misc				; ipl=7, cm=0	
         47E11401 [007204]  3577  	bis	r31, #8, r1				; mces<dpc> = 1
         48221721 [007208]  3578  	sll	r1, #OSF_P_MISC__MCES__MCHK__S, r1	; move into position
         46C10416 [00720C]  3579  	bis	p_misc, r1, p_misc			; or new mces in
         209F0001 [007210]  3580  	lda	p4, 1(r31)				; get a 1
         4887F724 [007214]  3581  	sll	p4, #OSF_P_MISC__PHYS__S, p4		; shift into place
         46C40416 [007218]  3582  	bis	p_misc, p4, p_misc			; indicate 1-1 mapping
                  [00721C]  3583  
                  [00721C]  3584  ;
                  [00721C]  3585  ; Be neat, and set PCBB back to a nice kludge spot.
                  [00721C]  3586  ;
         C0200000 [00721C]  3587  	br	r1, sys__enter_console_get_pal_base
                  [007220]  3588  sys__enter_console_get_pal_base:
                  [007220]  3589  	GET_32ADDR r1, <trap__pal_base - sys__enter_console_get_pal_base>, r1
File: ev6_pal_macros.mar
                  [007220]   215M 	ASSUME <trap__pal_base - sys__enter_console_get_pal_base> le  <^x7FFFFFFF>
         24210000 [007220]   216M 	ldah	r1,<<trap__pal_base - sys__enter_console_get_pal_base>+32768>@-16(r1); + xxx<31:16>
         20218DE0 [007224]   217M 	lda	r1,<<trap__pal_base - sys__enter_console_get_pal_base> & ^xFFFF>(r1) ; r1+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007228]  3590  	GET_16ADDR r1, <INITIAL_PCBB - trap__pal_base>, r1
File: ev6_pal_macros.mar
                  [007228]   225M 	ASSUME <<INITIAL_PCBB - trap__pal_base>> le  <^x7FFF>
         20210C00 [007228]   226M 	lda	r1,<INITIAL_PCBB - trap__pal_base>(r1) ; r1+xxx<15:0>
File: ev6_osf_system_pal.mar
         7C351010 [00722C]  3591  	hw_stq/p r1, PT__PCBB(p_temp)			; write pcbb
                  [007230]  3592  
                  [007230]  3593  ;
                  [007230]  3594  ; Use an implementation dependent way to get address of console base.
                  [007230]  3595  ; Also, depending on the console, we may need to write r30, the stack pointer!
                  [007230]  3596  ;
                  [007230]  3597  
                  [007230]  3598  .if ne srom_debug_io*debug_init
                  [007230]  3599  	GET_32CONS	r16, ^x434F4E53, r31	; "CONSOLE "
                  [007230]  3600  	sll		r16, #32, r16
                  [007230]  3601  	GET_32CONS	r16, ^x4F4C4520, r16	;
                  [007230]  3602  	bsr		p7, Sys_Cserve_Srom_Putstr
                  [007230]  3603  
                  [007230]  3604  	GET_32CONS	r16, ^x5748414D, r31	; "WHAMI "
                  [007230]  3605  	sll		r16, #32, r16
                  [007230]  3606  	GET_32CONS	r16, ^x49202020, r16	;
                  [007230]  3607  	bsr		p7, Sys_Cserve_Srom_Putstr
                  [007230]  3608  
                  [007230]  3609  	hw_ldq/p	r16, PT__WHAMI(p_temp)
                  [007230]  3610  	bsr		p7, Sys_Cserve_Srom_Putnum
                  [007230]  3611  .endc
                  [007230]  3612  
                  [007230]  3613  .if ne srom_debug_io*tinosa_platform		; tinosa_platform
                  [007230]  3614  
                  [007230]  3615  	; Dump the Goby ECC registers to see if it saw multi-bit errors too...
                  [007230]  3616  	; The Goby CSR we need is 801fe000058
                  [007230]  3617  
                  [007230]  3618  	lda     r0, ^x801(r31)
                  [007230]  3619  	sll     r0, #8, r0		; 0x0000000000080100
                  [007230]  3620  	bis     r0, #^xFE, r0		; 0x00000000000801FE
                  [007230]  3621  	sll     r0, #24, r0		; 0x00000801FE000000
                  [007230]  3622  	mb				; paranoia
                  [007230]  3623  	hw_ldl/p     r16, ^x58(r0)	; read ECC CSR
                  [007230]  3624  
                  [007230]  3625  	mb				; paranoia
                  [007230]  3626  	bsr	p7, Sys_Cserve_Srom_Putnum
                  [007230]  3627  
                  [007230]  3628  .endc						; tinosa_platform
                  [007230]  3629  
                  [007230]  3630  	GET_32CONS 	p23, <PAL__CONSOLE_BASE>, r31	; hw_jmp_stall address
File: ev6_pal_macros.mar
                  [007230]   234i  ASSUME <PAL__CONSOLE_BASE> le  <^x7FFFFFFF>
         26FF0001 [007230]   235M 	ldah	p23,<<PAL__CONSOLE_BASE>+32768>@-16(r31); + xxx<31:16>
         22F70000 [007234]   236M 	lda	p23,<<PAL__CONSOLE_BASE> & ^XFFFF>(p23) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         D3E00000 [007238]  3631  	bsr	r31, .					; push prediction stack
         77FF1310 [00723C]  3632  	hw_mtpr	r31, EV6__IC_FLUSH			; (4,0L) flush icache
         F7E00000 [007240]  3633  	bne	r31, .					; pvc #24
                  [007244]  3634  	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [007244]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         7BF7A000 [007244]  3635  	hw_ret_stall (p23)				; pop prediction stack
                  [007248]  3636  							; go off to console
                  [007248]  3637  
                  [007248]  3638  
                  [007248]  3639  ;------------------------------------------------------------------------
                  [007248]  3640  ;+
                  [007248]  3641  ; sys__exit_console
                  [007248]  3642  ;
                  [007248]  3643  ;	restore_state (will put return address in p23)
                  [007248]  3644  ;	clear lock and interrupt flags
                  [007248]  3645  ;	turn off 1-1 mapping
                  [007248]  3646  ;	flush TBs
                  [007248]  3647  ;-
                  [007248]  3648  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [007248]   270i 	.align 6
00000000 00000000 [007250]
00000000 00000000 [007258]
00000000 00000000 [007260]
00000000 00000000 [007268]
00000000 00000000 [007270]
00000000 00000000 [007278]
File: ev6_osf_system_pal.mar
                  [007280]  3649  sys__exit_console:
                  [007280]  3650  	PVC_JSR restore_state, bsr=1
File: ev6_pal_macros.mar
                  [007280]   526i  pvc_lbl \pcv_index, \pcv_jsr_restore_state0, osf
File: ev6_osf_system_pal.mar
         D0FFF66C [007280]  3651  	bsr	p7, pal__restore_state		; restore state
         77FF0310 [007284]  3652  	hw_mtpr	r31, EV6__ITB_IA		; (4,0L) flush itb
         77FFA380 [007288]  3653  	hw_mtpr	r31, EV6__DTB_IA		; (7,1L) flush dtb
         47FF041F [00728C]  3654  	bis	r31, r31, r31
                  [007290]  3655  ;
                  [007290]  3656  ; Clear the lock and interrupt flags. The load should issue only after
                  [007290]  3657  ; the scoreboard bits clear.
                  [007290]  3658  ;
                  [007290]  3659  	ASSUME_FETCH_BLOCK
         77FF27F0 [007290]  3660  	hw_mtpr	r31, <EV6__MM_STAT ! ^xF0>	; (4-7,0L) wait for retire
         63FFE000 [007294]  3661  	rc	r31				; clear int flag
         47FF041F [007298]  3662  	bis	r31, r31, r31
         47FF041F [00729C]  3663  	bis	r31, r31, r31
                  [0072A0]  3664  
         669F1010 [0072A0]  3665  	hw_mfpr	p20, EV6__PAL_BASE		; (4,0L) get pal base
         4A827725 [0072A4]  3666  	sll	p20, #<32-13>, p5		; shift into position
         209F3301 [0072A8]  3667  	lda	p4, ^x3301(r31)			; set WE, RE
         44A40405 [0072AC]  3668  	or	p5, p4, p5			; produce pte
                  [0072B0]  3669  
                  [0072B0]  3670  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
                  [0072B0]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [0072B0]  3671  
                  [0072B0]  3672  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [0072B0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77F42044 [0072B0]  3673  	hw_mtpr	p20, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77F4A022 [0072B4]  3674  	hw_mtpr p20, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77E52155 [0072B8]  3675  	hw_mtpr	p5, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77E5A1AA [0072BC]  3676  	hw_mtpr	p5, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [0072C0]  3677  ;
                  [0072C0]  3678  ; Turn off 1-to-1 mapping
                  [0072C0]  3679  ;
         209F0001 [0072C0]  3680  	lda	p4, 1(r31)			; get a 1
         4887F724 [0072C4]  3681  	sll	p4, #OSF_P_MISC__PHYS__S, p4	; shift into physical position
         46C40116 [0072C8]  3682  	bic	p_misc, p4, p_misc		; clear 1-1 mapping
                  [0072CC]  3683  ;
                  [0072CC]  3684  ; The load will be held up until all these instructions issue.
                  [0072CC]  3685  ; Do the unlock
                  [0072CC]  3686  ;
         A7F40018 [0072CC]  3687  	ldq	r31, <trap__lock_cell - trap__pal_base>(p20)
                  [0072D0]  3688  ;
                  [0072D0]  3689  ; Clear the DTB again. The stall at the end will synch us.
                  [0072D0]  3690  ;
         77FFA380 [0072D0]  3691  	hw_mtpr	r31, EV6__DTB_IA		; (7,0L)
                  [0072D4]  3692  ;
                  [0072D4]  3693  ; Back to user
                  [0072D4]  3694  ;
         D3E00000 [0072D4]  3695  	bsr	r31, .				; push prediction stack
         77FF1310 [0072D8]  3696  	hw_mtpr	r31, EV6__IC_FLUSH		; (4,0L) flush icache
         F7E00000 [0072DC]  3697  	bne	r31, .				; pvc #24
                  [0072E0]  3698  	PVC_VIOLATE <1007>
File: ev6_pal_macros.mar
                  [0072E0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         7BF7A000 [0072E0]  3699  	hw_ret_stall (p23)			; pop prediction stack
                  [0072E4]  3700  						; go off to user
                  [0072E4]  3701  
                  [0072E4]  3702  ;========================================================================
                  [0072E4]  3703  ;+
                  [0072E4]  3704  ; System Reset code for non-srm systems.
                  [0072E4]  3705  ;
                  [0072E4]  3706  ; This code starts off as implementation dependent, because it must rely
                  [0072E4]  3707  ; on a signature to determine whether it came from the SROM. If it came
                  [0072E4]  3708  ; from the SROM, it does the normal initialization. If it didn't come from
                  [0072E4]  3709  ; the SROM, it needs to differentiate between a swap and a jump through 0.
                  [0072E4]  3710  ;
                  [0072E4]  3711  ; Check for signature. R19<31:16> contains the signature 0xDEC<letter>,
                  [0072E4]  3712  ; So just check <31:20> for 0xDEC.
                  [0072E4]  3713  ;
                  [0072E4]  3714  ; Assume also the absence of the signature says that we ABSOLUTELY
                  [0072E4]  3715  ;	did not come from a power up. Then I can check p_misc for
                  [0072E4]  3716  ;	a swap request.
                  [0072E4]  3717  ;
                  [0072E4]  3718  ; Entry:		on POWERUP		on SWITCH
                  [0072E4]  3719  ;
                  [0072E4]  3720  ;	r1		dc_ctl
                  [0072E4]  3721  ;	r2 (API ext)	SROM autobaud calibration
                  [0072E4]  3722  ;			(SROM v16 and up)
                  [0072E4]  3723  ;	r4 (API ext)	Behavioural code
                  [0072E4]  3724  ;			(SROM v16 and up)
                  [0072E4]  3725  ;
                  [0072E4]  3726  ;	r15		srom_rev
                  [0072E4]  3727  ;	r16		proc_id
                  [0072E4]  3728  ;	r17		mem_size		new PC
                  [0072E4]  3729  ;	r18		cycle_cnt		new PCBB
                  [0072E4]  3730  ;	r19		signature in <31:16>	new VPTB
                  [0072E4]  3731  ;	r20		proc_mask
                  [0072E4]  3732  ;			(note: we are stepping on shadow!)
                  [0072E4]  3733  ;	r21		sysctx
                  [0072E4]  3734  ;			(note: we are stepping on p_temp shadow!)
                  [0072E4]  3735  ;	p22					p_misc switch bit set
                  [0072E4]  3736  ;	r26		pc+4 of pal base
                  [0072E4]  3737  ;
                  [0072E4]  3738  ;
                  [0072E4]  3739  ; Behavioural code and data field structure (API Extension):
                  [0072E4]  3740  ;
                  [0072E4]  3741  ;	7:0		Behavioural code
                  [0072E4]  3742  ;			0       - execute normal sequence
                  [0072E4]  3743  ;			1       - restore factory settings
                  [0072E4]  3744  ;			2       - BIOS recovery (ie FSB)
                  [0072E4]  3745  ;			3       - Diags recovery (BIOS as FSB)
                  [0072E4]  3746  ;			4-7     - Diags level 0,1,2,3
                  [0072E4]  3747  ;			8-11    - Interactive Diags 0,1,2,3
                  [0072E4]  3748  ;			12-15   - Factory diags 0,1,2,interact
                  [0072E4]  3749  ;
                  [0072E4]  3750  ;	12:8            Bcache size as an integer
                  [0072E4]  3751  ;
                  [0072E4]  3752  ;-
                  [0072E4]  3753  	ALIGN_CACHE_BLOCK
File: ev6_pal_macros.mar
00000000 00000000 [0072E4]   270i 	.align 6
00000000 00000000 [0072EC]
00000000 00000000 [0072F4]
         00000000 [0072FC]
File: ev6_osf_system_pal.mar
                  [007300]  3754  
                  [007300]  3755  sys__reset:
                  [007300]  3756  
                  [007300]  3757  .if ne pci_debug_io*debug_init
                  [007300]  3758  	DBG_PCI_RAW LED__INIT0,0,r27,r28	; low-level debug notification
                  [007300]  3759  .endc
                  [007300]  3760  
         4A619626 [007300]  3761  	zapnot	r19, #^xC, r6			; clear all but <31:16>
         48C29686 [007304]  3762  	srl	r6, #20, r6			; get signature <31:20>
                  [007308]  3763  	GET_32CONS r5, <^xDEC>, r31		; load validation pattern
File: ev6_pal_macros.mar
                  [007308]   234i  ASSUME <^xDEC> le  <^x7FFFFFFF>
         24BF0000 [007308]   235M 	ldah	r5,<<^xDEC>+32768>@-16(r31); + xxx<31:16>
         20A50DEC [00730C]   236M 	lda	r5,<<^xDEC> & ^XFFFF>(r5) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         40C505A6 [007310]  3764  	cmpeq	r6, r5, r6			; valid pattern?
                  [007314]  3765  
         E4C00099 [007314]  3766  	beq	r6, sys__reset_check_switch	; either swap or jump through 0
                  [007318]  3767  
         443F041B [007318]  3768  	bis	r1, r31, r27			; save off dc_ctl value
         469F041C [00731C]  3769  	bis	r20, r31, r28			; save off proc_mask
         46BF041D [007320]  3770  	bis	r21, r31, r29			; save off sysctx
                  [007324]  3771  
         C3E00002 [007324]  3772  	br	r31, sys__reset_init
                  [007328]  3773  ;
                  [007328]  3774  ; Init and w1c values
                  [007328]  3775  ;
                  [007328]  3776  	EV6__DC_STAT__W1C = -
                  [007328]  3777  		<<1@EV6__DC_STAT__TPERR_P0__S> ! -
                  [007328]  3778  		<1@EV6__DC_STAT__TPERR_P1__S> ! -
                  [007328]  3779  		<1@EV6__DC_STAT__ECC_ERR_ST__S> ! -
                  [007328]  3780  		<1@EV6__DC_STAT__ECC_ERR_LD__S> ! -
                  [007328]  3781  		<1@EV6__DC_STAT__SEO__S>>
                  [007328]  3782  
                  [007328]  3783  ;
                  [007328]  3784  ; The ev6_p2 definition will still work for ev67. Bit ^x1e becomes
                  [007328]  3785  ; a RO bit for profileme implementation.
                  [007328]  3786  ;
                  [007328]  3787  	EV6__I_STAT__TPE__S = ^x1d
                  [007328]  3788  	EV6__I_STAT__DPE__S = ^x1e
                  [007328]  3789  	EV6__I_STAT__W1C = -
                  [007328]  3790  		<<1@EV6__I_STAT__TPE__S> ! -
                  [007328]  3791  		<1@EV6__I_STAT__DPE__S>>
                  [007328]  3792  ;
                  [007328]  3793  ; On the reference platform, we get DC_CTL from the srom.
                  [007328]  3794  ;
                  [007328]  3795  
                  [007328]  3796  	EV6__IER__INIT = 0
                  [007328]  3797  
                  [007328]  3798  	EV6__PCTX__INIT = -
                  [007328]  3799  		<1@EV6__PROCESS_CONTEXT__FPE__S>
                  [007328]  3800  
                  [007328]  3801  	ASSUME EV6__HW_INT_CLR__MCHK_D__S lt EV6__HW_INT_CLR__PC__S 
                  [007328]  3802  	ASSUME EV6__HW_INT_CLR__MCHK_D__S lt EV6__HW_INT_CLR__CR__S 
                  [007328]  3803  	ASSUME EV6__HW_INT_CLR__MCHK_D__S lt EV6__HW_INT_CLR__SL__S 
                  [007328]  3804  
                  [007328]  3805  	EV6__HW_INT_CLR__INIT = -
                  [007328]  3806  	    <<1@<EV6__HW_INT_CLR__MCHK_D__S - EV6__HW_INT_CLR__MCHK_D__S>> ! -
                  [007328]  3807  	     <3@<EV6__HW_INT_CLR__PC__S - EV6__HW_INT_CLR__MCHK_D__S>> ! -
                  [007328]  3808  	     <1@<EV6__HW_INT_CLR__CR__S - EV6__HW_INT_CLR__MCHK_D__S>> ! -
                  [007328]  3809  	     <1@<EV6__HW_INT_CLR__SL__S - EV6__HW_INT_CLR__MCHK_D__S>>>
                  [007328]  3810  
                  [007328]  3811  	EV6__VA_CTL__INIT = <va_48@EV6__VA_CTL__VA_48__S>
                  [007328]  3812  
                  [007328]  3813  .if ne kseg_hack				; kseg hack
                  [007328]  3814  	EV6__M_CTL__INIT = 0
                  [007328]  3815  .iff
                  [007328]  3816  ;
                  [007328]  3817  ; 1.51 SMC bits for ev67.
                  [007328]  3818  ;
                  [007328]  3819  ; Add setting of SMC bits in m_ctl, which turns off speculative stores
                  [007328]  3820  ; temporarily on certain conditions.
                  [007328]  3821  ;
                  [007328]  3822  ; NO ONE SHOULD ASSUME M_CTL HAS JUST THE SPE BITS IN IT ANYMORE!!!!!!!!!!!!!
                  [007328]  3823  ; If macros fiddle with M_CTL, they should always RESTORE FROM PT__M_CTL!
                  [007328]  3824  ; ANYTHING hacking with CNS__M_CTL for secondaries, BETTER SET THE SMC bits!
                  [007328]  3825  ; Since these bits have no meaning on ev6, they can be set for both ev6 and
                  [007328]  3826  ; ev67, and they MUST BE SET once there is a separate ev67 PALcode!!!!!!!!!!
                  [007328]  3827  ;
                  [007328]  3828  ; M_CTL[5:4]	00	Allow normal speculation
                  [007328]  3829  ;		01	Force conservative mode (see spec)
                  [007328]  3830  ;		10	Using an 8-bit counter, add by 4 when a branch
                  [007328]  3831  ;			mispredicts, subtract by 4 when a conditional
                  [007328]  3832  ;			branch retires. Enter conservative mode if the MSB
                  [007328]  3833  ;			of the counter is set. THIS IS THE SETTING WE USE!
                  [007328]  3834  ;		11	Using an 8-bit counter, add by 4 when a branch
                  [007328]  3835  ;			mispredicts, subtract by 4 when a conditional
                  [007328]  3836  ;			branch retires. Enter conservative mode if the MSB
                  [007328]  3837  ;			of the counter is set.
                  [007328]  3838  ;
                  [007328]  3839  ; There is also a "big hammer counter", which is reset when SMC bits
                  [007328]  3840  ; transition from a non-zero value to a zero value, and which
                  [007328]  3841  ; periodically causes conservative mode to be entered when the
                  [007328]  3842  ; SMC bits are ^b10 or ^b11.
                  [007328]  3843  ;
                  [007328]  3844  ; The reset allows all processors in a multi-processor system to
                  [007328]  3845  ; resynch their counters to the same time. We don't know whether that will
                  [007328]  3846  ; be necessary yet.
                  [007328]  3847  ;
                  [007328]  3848  ; When SMC is ^b10 or ^b11, speculative stores are inhibited
                  [007328]  3849  ; if the counter says to or if we are in a "big pulse" interval.
                  [007328]  3850  ; The "big pulse" interval occurs for 16K cycles out of every
                  [007328]  3851  ; 2M cycles, based off the big hammer counter.
                  [007328]  3852  ;
                  [007328]  3853  ; There is a remote possibility that if we are at high IPL, and the SMC
                  [007328]  3854  ; counter doesn't hit and the cpu has to wait for the "big pulse" to clear
                  [007328]  3855  ; a problem, an interval timer interrupt could be lost. If that turns out to
                  [007328]  3856  ; be a problem, the PALcode would have to do ugly things when IPL is "high",
                  [007328]  3857  ; whatever "high" is, and go to conservative mode during that time. The
                  [007328]  3858  ; PALcode DOES NOT DO THIS currently!
                  [007328]  3859  ; 
                  [007328]  3860  
                  [007328]  3861  	EV6__M_CTL__INIT = -
                  [007328]  3862  		< < 2@<EV6__M_CTL__SPE__S+va_48> > ! -
                  [007328]  3863  		<2@EV6__M_CTL__SPEC_ST_CONS__S>>	; 1.51
                  [007328]  3864  
                  [007328]  3865  .endc
                  [007328]  3816I ;
                  [007328]  3817I ; 1.51 SMC bits for ev67.
                  [007328]  3818I ;
                  [007328]  3819I ; Add setting of SMC bits in m_ctl, which turns off speculative stores
                  [007328]  3820I ; temporarily on certain conditions.
                  [007328]  3821I ;
                  [007328]  3822I ; NO ONE SHOULD ASSUME M_CTL HAS JUST THE SPE BITS IN IT ANYMORE!!!!!!!!!!!!!
                  [007328]  3823I ; If macros fiddle with M_CTL, they should always RESTORE FROM PT__M_CTL!
                  [007328]  3824I ; ANYTHING hacking with CNS__M_CTL for secondaries, BETTER SET THE SMC bits!
                  [007328]  3825I ; Since these bits have no meaning on ev6, they can be set for both ev6 and
                  [007328]  3826I ; ev67, and they MUST BE SET once there is a separate ev67 PALcode!!!!!!!!!!
                  [007328]  3827I ;
                  [007328]  3828I ; M_CTL[5:4]	00	Allow normal speculation
                  [007328]  3829I ;		01	Force conservative mode (see spec)
                  [007328]  3830I ;		10	Using an 8-bit counter, add by 4 when a branch
                  [007328]  3831I ;			mispredicts, subtract by 4 when a conditional
                  [007328]  3832I ;			branch retires. Enter conservative mode if the MSB
                  [007328]  3833I ;			of the counter is set. THIS IS THE SETTING WE USE!
                  [007328]  3834I ;		11	Using an 8-bit counter, add by 4 when a branch
                  [007328]  3835I ;			mispredicts, subtract by 4 when a conditional
                  [007328]  3836I ;			branch retires. Enter conservative mode if the MSB
                  [007328]  3837I ;			of the counter is set.
                  [007328]  3838I ;
                  [007328]  3839I ; There is also a "big hammer counter", which is reset when SMC bits
                  [007328]  3840I ; transition from a non-zero value to a zero value, and which
                  [007328]  3841I ; periodically causes conservative mode to be entered when the
                  [007328]  3842I ; SMC bits are ^b10 or ^b11.
                  [007328]  3843I ;
                  [007328]  3844I ; The reset allows all processors in a multi-processor system to
                  [007328]  3845I ; resynch their counters to the same time. We don't know whether that will
                  [007328]  3846I ; be necessary yet.
                  [007328]  3847I ;
                  [007328]  3848I ; When SMC is ^b10 or ^b11, speculative stores are inhibited
                  [007328]  3849I ; if the counter says to or if we are in a "big pulse" interval.
                  [007328]  3850I ; The "big pulse" interval occurs for 16K cycles out of every
                  [007328]  3851I ; 2M cycles, based off the big hammer counter.
                  [007328]  3852I ;
                  [007328]  3853I ; There is a remote possibility that if we are at high IPL, and the SMC
                  [007328]  3854I ; counter doesn't hit and the cpu has to wait for the "big pulse" to clear
                  [007328]  3855I ; a problem, an interval timer interrupt could be lost. If that turns out to
                  [007328]  3856I ; be a problem, the PALcode would have to do ugly things when IPL is "high",
                  [007328]  3857I ; whatever "high" is, and go to conservative mode during that time. The
                  [007328]  3858I ; PALcode DOES NOT DO THIS currently!
                  [007328]  3859I ; 
                  [007328]  3860I 
                  [007328]  3861I 	EV6__M_CTL__INIT = -
                  [007328]  3862I 		< < 2@<EV6__M_CTL__SPE__S+va_48> > ! -
                  [007328]  3863I 		<2@EV6__M_CTL__SPEC_ST_CONS__S>>	; 1.51
                  [007328]  3864I 
                  [007328]  3866  
                  [007328]  3867  ;
                  [007328]  3868  ; 1.51 Note on CALL_PAL_R23
                  [007328]  3869  ;
                  [007328]  3870  ; The CALL_PAL_R23 bit isn't really that bit, as the use of R23 as the
                  [007328]  3871  ; call_pal linkage register has been hardwired since ev6 2.2.
                  [007328]  3872  ; On ev67, it really is the ST_WAIT_64K bit, which affects a table that
                  [007328]  3873  ; tries to cut down on load/store order traps. We set the bit, which
                  [007328]  3874  ; causes the table to clear after 64k cycles, rather than after 16K
                  [007328]  3875  ; cycles. Tests indicate that setting the bit is the better performer,
                  [007328]  3876  ; so we just leave the init string as it was.
                  [007328]  3877  ;
                  [007328]  3878  
                  [007328]  3879  	EV6__I_CTL__INIT = -
                  [007328]  3880  		<<3@EV6__I_CTL__IC_EN__S> ! -
                  [007328]  3881  		<2@<EV6__I_CTL__SPE__S+va_48>> ! -
                  [007328]  3882  		<2@EV6__I_CTL__SDE__S> ! -
                  [007328]  3883  		<i_ctl__sbe@EV6__I_CTL__SBE__S> ! -
                  [007328]  3884  		<i_ctl__sglissue@EV6__I_CTL__SINGLE_ISSUE__S> ! -
                  [007328]  3885  		<va_48@EV6__I_CTL__VA_48__S> ! -
                  [007328]  3886  		<1@EV6__I_CTL__CALL_PAL_R23__S> ! -
                  [007328]  3887  		<mchk_en@EV6__I_CTL__MCHK_EN__S> ! -
                  [007328]  3888  		<tb_mb_en@EV6__I_CTL__TB_MB_EN__S>>
                  [007328]  3889  
                  [007328]  3890  ;
                  [007328]  3891  ; Do the initialization. We rely on fetch blocks to separate scoreboard bits!!!
                  [007328]  3892  ;
                  [007328]  3893  ; Input:
                  [007328]  3894  ;	r26	pc+4 of pal base
                  [007328]  3895  ;
                  [007328]  3896  	ALIGN_FETCH_BLOCK <^x47FF041F>			; pad with NOPs
File: ev6_pal_macros.mar
47FF041F 47FF041F [007328]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [007330]  3897  
                  [007330]  3898  	ASSUME_FETCH_BLOCK
                  [007330]  3899  	
                  [007330]  3900  sys__reset_init:
         77FF0310 [007330]  3901  	hw_mtpr	r31, EV6__ITB_IA			; (4,0L) flush ITB
         77FFA380 [007334]  3902  	hw_mtpr	r31, EV6__DTB_IA			; (7,0L) flush DTB
         4B41F681 [007338]  3903  	srl	r26, #EV6__PAL_BASE__PAL_BASE__S, r1	; clean pal base
         4821F721 [00733C]  3904  	sll	r1, #EV6__PAL_BASE__PAL_BASE__S, r1	; get into position
                  [007340]  3905  
         77E11010 [007340]  3906  	hw_mtpr	r1, EV6__PAL_BASE			; (4,0L) write pal base
                  [007344]  3907  	GET_32CONS 	r1, EV6__I_STAT__W1C, r31	; get i_stat clr value
File: ev6_pal_macros.mar
                  [007344]   234i  ASSUME <ev6__i_stat__w1c> le  <^x7FFFFFFF>
         243F6000 [007344]   235M 	ldah	r1,<<ev6__i_stat__w1c>+32768>@-16(r31); + xxx<31:16>
         20210000 [007348]   236M 	lda	r1,<<ev6__i_stat__w1c> & ^XFFFF>(r1) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [00734C]  3908  	GET_16CONS	r3, EV6__DC_STAT__W1C, r31	; get dc_stat clr value
File: ev6_pal_macros.mar
                  [00734C]   244M 	ASSUME <<ev6__dc_stat__w1c>> le  <^x7FFF>
         207F001F [00734C]   245M 	lda	r3,<ev6__dc_stat__w1c>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007350]  3909  
         77E11610 [007350]  3910  	hw_mtpr	r1, EV6__I_STAT				; (4,0L) w1c I_STAT
         77E32A40 [007354]  3911  	hw_mtpr r3, EV6__DC_STAT			; (6,0L) w1c DC_STAT
                  [007358]  3912  	GET_32CONS 	r1, EV6__I_CTL__INIT, r31	; get i_ctl init value
File: ev6_pal_macros.mar
                  [007358]   234i  ASSUME <ev6__i_ctl__init> le  <^x7FFFFFFF>
         243F0030 [007358]   235M 	ldah	r1,<<ev6__i_ctl__init>+32768>@-16(r31); + xxx<31:16>
         20210396 [00735C]   236M 	lda	r1,<<ev6__i_ctl__init> & ^XFFFF>(r1) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007360]  3913  
         77E11110 [007360]  3914  	hw_mtpr	r1, EV6__I_CTL				; (4,0L) init I_CTL
         63FFE000 [007364]  3915  	rc	r31					; clear intr_flag
         47FF041F [007368]  3916  	bis	r31, r31, r31				; fetch block
         47FF041F [00736C]  3917  	bis	r31, r31, r31				; fetch block
                  [007370]  3918  
                  [007370]  3919  	GET_16CONS 	r1, EV6__PCTX__INIT , r31	; get pctx init value
File: ev6_pal_macros.mar
                  [007370]   244M 	ASSUME <<ev6__pctx__init>> le  <^x7FFF>
         203F0004 [007370]   245M 	lda	r1,<ev6__pctx__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007374]  3920  	GET_16CONS	r3, EV6__M_CTL__INIT, r31	; get m_ctl init value
File: ev6_pal_macros.mar
                  [007374]   244M 	ASSUME <<ev6__m_ctl__init>> le  <^x7FFF>
         207F0024 [007374]   245M 	lda	r3,<ev6__m_ctl__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E15F10 [007378]  3921  	hw_mtpr	r1, EV6__PROCESS_CONTEXT		; (4,0L) write pctx
         77E32840 [00737C]  3922  	hw_mtpr r3, EV6__M_CTL				; (6,0L) write M_CTL
                  [007380]  3923  
                  [007380]  3924  	GET_32CONS	r1, EV6__IER__INIT, r31 	; get ier_cm init value
File: ev6_pal_macros.mar
                  [007380]   234i  ASSUME <ev6__ier__init> le  <^x7FFFFFFF>
         243F0000 [007380]   235M 	ldah	r1,<<ev6__ier__init>+32768>@-16(r31); + xxx<31:16>
         20210000 [007384]   236M 	lda	r1,<<ev6__ier__init> & ^XFFFF>(r1) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E10B10 [007388]  3925  	hw_mtpr	r1, EV6__IER_CM				; (4,0L) clear int en
         77FFC020 [00738C]  3926  	hw_mtpr r31, EV6__CC				; (5,1L) clear offset
                  [007390]  3927  
         47E03401 [007390]  3928  	bis	r31, #1, r1				; get a 1
         48241721 [007394]  3929  	sll	r1, #32, r1				; get into position
         77FF0C10 [007398]  3930  	hw_mtpr	r31, EV6__SIRR				; (4,0L) clear int req
         77E1C120 [00739C]  3931  	hw_mtpr r1, EV6__CC_CTL				; (5,1L) clr/ena ctr
                  [0073A0]  3932  
                  [0073A0]  3933  	GET_16CONS	r1, EV6__HW_INT_CLR__INIT, r31	; get w1c mask
File: ev6_pal_macros.mar
                  [0073A0]   244M 	ASSUME <<ev6__hw_int_clr__init>> le  <^x7FFF>
         203F001F [0073A0]   245M 	lda	r1,<ev6__hw_int_clr__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         48239721 [0073A4]  3934  	sll	r1, #EV6__HW_INT_CLR__MCHK_D__S, r1	; move into position
                  [0073A8]  3935  	PVC_VIOLATE <35>
File: ev6_pal_macros.mar
                  [0073A8]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E10E10 [0073A8]  3936  	hw_mtpr	r1, EV6__HW_INT_CLR			; (4,0L)
         77FF2640 [0073AC]  3937  	hw_mtpr	r31, EV6__DTB_ALT_MODE			; (6,0L) clear alt_mode
                  [0073B0]  3938  
         77FF1410 [0073B0]  3939  	hw_mtpr	r31, EV6__PCTR_CTL			; (4,0L) clear pctr
                  [0073B4]  3940  	GET_16CONS	r1, EV6__VA_CTL__INIT, r31	; get va_ctl value
File: ev6_pal_macros.mar
                  [0073B4]   244M 	ASSUME <<ev6__va_ctl__init>> le  <^x7FFF>
         203F0000 [0073B4]   245M 	lda	r1,<ev6__va_ctl__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E1C420 [0073B8]  3941  	hw_mtpr	r1, EV6__VA_CTL				; (5,1L) init va_ctl
                  [0073BC]  3942  	NOP						; pad fetch block
File: ev6_pal_macros.mar
         47FF041F [0073BC]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0073C0]  3943  ;
                  [0073C0]  3944  ; In normal operation, there must be a scoreboard bit -> register dependency
                  [0073C0]  3945  ; chain to prevent hw_mtpr DTB_ASx from issuing while ANY of scoreboard
                  [0073C0]  3946  ; bits <7:4> are set. Since we know there are no dstream operations going on,
                  [0073C0]  3947  ; we really don't need that here.
                  [0073C0]  3948  ;
                  [0073C0]  3949  	PVC_VIOLATE <21>
File: ev6_pal_macros.mar
                  [0073C0]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77FF2510 [0073C0]  3950  	hw_mtpr r31, EV6__DTB_ASN0			; (4,0L)
         77FFA580 [0073C4]  3951  	hw_mtpr r31, EV6__DTB_ASN1			; (7,1L)
                  [0073C8]  3952  	NOP						; pad fetch block
File: ev6_pal_macros.mar
         47FF041F [0073C8]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0073CC]  3953  	NOP						; pad fetch block
File: ev6_pal_macros.mar
         47FF041F [0073CC]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0073D0]  3954  ;
                  [0073D0]  3955  ; We need to write pctr_ctl again to clear the 2nd stage overflow flag.
                  [0073D0]  3956  ; And force other mtpr to retire while we are at it.
                  [0073D0]  3957  ;
         77FF14F0 [0073D0]  3958  	hw_mtpr	r31, <EV6__PCTR_CTL ! ^xF0>		; (4,0L) clr ovr flag
                  [0073D4]  3959  	NOP						; pad fetch block
File: ev6_pal_macros.mar
         47FF041F [0073D4]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0073D8]  3960  	NOP
File: ev6_pal_macros.mar
         47FF041F [0073D8]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0073DC]  3961  	NOP
File: ev6_pal_macros.mar
         47FF041F [0073DC]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0073E0]  3962  ;
                  [0073E0]  3963  ; We need to write HW_INT_CLR to avoid an interrupt that can occur when
                  [0073E0]  3964  ; the counters come up in an unpredictable state near overflow.
                  [0073E0]  3965  ;
         20FF0003 [0073E0]  3966  	lda	p7, 3(r31)			; 1.41 get a 3
         48E3B727 [0073E4]  3967  	sll	p7, #EV6__HW_INT_CLR__PC__S, p7	; 1.41 move into position
         77E70E10 [0073E8]  3968  	hw_mtpr	p7, EV6__HW_INT_CLR		; 1.41(4,0L) ack the int
         47FF041F [0073EC]  3969  	bis	r31, r31, r31			; 1.41
         47FF041F [0073F0]  3970  	bis	r31, r31, r31			; 1.41
         47FF041F [0073F4]  3971  	bis	r31, r31, r31			; 1.41
                  [0073F8]  3972  	PVC_VIOLATE <35>
File: ev6_pal_macros.mar
                  [0073F8]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E70E10 [0073F8]  3973  	hw_mtpr	p7, EV6__HW_INT_CLR		; 1.41 (4,0L) ack the int
                  [0073FC]  3974  
                  [0073FC]  3975  ;
                  [0073FC]  3976  ; FPCR is unpredictable, possibly set by the srom. Should we do anything here?
                  [0073FC]  3977  ;
                  [0073FC]  3978    .if ne 0
                  [0073FC]  3979  	mt_fpcr	f31					; clear the fpcr
                  [0073FC]  3980    .endc							; (in separate block)
                  [0073FC]  3981  ;
                  [0073FC]  3982  ; 1.41 move cbox error read down below the virtual (clear lock) operation.
                  [0073FC]  3983  ;
                  [0073FC]  3984  
                  [0073FC]  3985  .if ne smp_platform				; smp_platform - SMP systems
                  [0073FC]  3986  
                  [0073FC]  3987      .if ne swordfish_platform			; swordfish_platform
                  [0073FC]  3988  
                  [0073FC]  3989  	; Read the Tsunami MISC<CPUID> bit for this cpu.
                  [0073FC]  3990  	; The MISC CSR is at 801.A000.0080.
                  [0073FC]  3991  	; This defines the value for PT__WHAMI.
                  [0073FC]  3992  
                  [0073FC]  3993  	lda	r1, ^x801A(r31)			; generate 801.A000.0000
                  [0073FC]  3994  	zap	r1, #^xFC, r1			; zap extension
                  [0073FC]  3995  	sll	r1, #28, r1			; move into place
                  [0073FC]  3996  	hw_ldq/p r0, ^x80(r1)			; Read CPUID from 801.A000.0080
                  [0073FC]  3997  	and	r0, #^xF, r0			; Zap other bits.
                  [0073FC]  3998  
                  [0073FC]  3999      .endc					; if ne swordfish_platform
                  [0073FC]  4000  
                  [0073FC]  4001      .if ne tinosa_platform			; tinosa_platform
                  [0073FC]  4002  
                  [0073FC]  4003  	; Read the Goby WHAMI CSR (register 0x80 in PCI config space)
                  [0073FC]  4004  	; The WHAMI CSR byte 0 contains the processor ID
                  [0073FC]  4005  
                  [0073FC]  4006  	GET_32CONS      r1, ^x801FE, r31	; S2K PCI CSR address range
                  [0073FC]  4007  	sll	r1, #24, r1			; move into place
                  [0073FC]  4008  	hw_ldl/p r0, ^x80(r1)			; Read CPUID from 801.FE00.0080
                  [0073FC]  4009  	zapnot	r0, #1, r0			; Zap other bits.
                  [0073FC]  4010  
                  [0073FC]  4011      .endc					; tinosa_platform
                  [0073FC]  4012  
                  [0073FC]  4013  .iff						; smp_platform - Uniproc systems
                  [0073FC]  4014  
                  [0073FC]  4015  	lda	r0, 0(r31)			; uniprocessor whami = 0 
                  [0073FC]  4016  
                  [0073FC]  4017  .endc						; smp_platform
                  [0073FC]  3986I 
                  [0073FC]  3987I     .if ne swordfish_platform			; swordfish_platform
                  [0073FC]  3988I 
                  [0073FC]  3989I 	; Read the Tsunami MISC<CPUID> bit for this cpu.
                  [0073FC]  3990I 	; The MISC CSR is at 801.A000.0080.
                  [0073FC]  3991I 	; This defines the value for PT__WHAMI.
                  [0073FC]  3992I 
                  [0073FC]  3993I 	lda	r1, ^x801A(r31)			; generate 801.A000.0000
                  [0073FC]  3994I 	zap	r1, #^xFC, r1			; zap extension
                  [0073FC]  3995I 	sll	r1, #28, r1			; move into place
                  [0073FC]  3996I 	hw_ldq/p r0, ^x80(r1)			; Read CPUID from 801.A000.0080
                  [0073FC]  3997I 	and	r0, #^xF, r0			; Zap other bits.
                  [0073FC]  3998I 
                  [0073FC]  3999I     .endc					; if ne swordfish_platform
                  [0073FC]  3988I 
                  [0073FC]  3989I 	; Read the Tsunami MISC<CPUID> bit for this cpu.
                  [0073FC]  3990I 	; The MISC CSR is at 801.A000.0080.
                  [0073FC]  3991I 	; This defines the value for PT__WHAMI.
                  [0073FC]  3992I 
         203F801A [0073FC]  3993I 	lda	r1, ^x801A(r31)			; generate 801.A000.0000
         483F9601 [007400]  3994I 	zap	r1, #^xFC, r1			; zap extension
         48239721 [007404]  3995I 	sll	r1, #28, r1			; move into place
         6C011080 [007408]  3996I 	hw_ldq/p r0, ^x80(r1)			; Read CPUID from 801.A000.0080
         4401F000 [00740C]  3997I 	and	r0, #^xF, r0			; Zap other bits.
                  [007410]  3998I 
                  [007410]  4000I     
                  [007410]  4001I     .if ne tinosa_platform			; tinosa_platform
                  [007410]  4002I 
                  [007410]  4003I 	; Read the Goby WHAMI CSR (register 0x80 in PCI config space)
                  [007410]  4004I 	; The WHAMI CSR byte 0 contains the processor ID
                  [007410]  4005I 
                  [007410]  4006I 	GET_32CONS      r1, ^x801FE, r31	; S2K PCI CSR address range
                  [007410]  4007I 	sll	r1, #24, r1			; move into place
                  [007410]  4008I 	hw_ldl/p r0, ^x80(r1)			; Read CPUID from 801.FE00.0080
                  [007410]  4009I 	zapnot	r0, #1, r0			; Zap other bits.
                  [007410]  4010I 
                  [007410]  4011I     .endc					; tinosa_platform
                  [007410]  4012I 
                  [007410]  4018  
                  [007410]  4019  ;
                  [007410]  4020  ; Initialize p_temp to base of specific pal temp area.
                  [007410]  4021  ; Store whami in pal temp area.
                  [007410]  4022  ; Compute base of specific impure area and store in pal temp area.
                  [007410]  4023  ;
                  [007410]  4024  	GET_32CONS      p_temp, PAL__TEMPS_BASE, r31	; pal_temps base
File: ev6_pal_macros.mar
                  [007410]   234i  ASSUME <pal__temps_base> le  <^x7FFFFFFF>
         26BF0000 [007410]   235M 	ldah	p_temp,<<pal__temps_base>+32768>@-16(r31); + xxx<31:16>
         22B51C00 [007414]   236M 	lda	p_temp,<<pal__temps_base> & ^XFFFF>(p_temp) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007418]  4025  	GET_16CONS      r1, PAL__TEMPS_SPECIFIC_SIZE, r31
File: ev6_pal_macros.mar
                  [007418]   244M 	ASSUME <<pal__temps_specific_size>> le  <^x7FFF>
         203F0200 [007418]   245M 	lda	r1,<pal__temps_specific_size>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         4C010401 [00741C]  4026  	mulq    r0, r1, r1				; whami * size
         42A10415 [007420]  4027  	addq    p_temp, r1, p_temp			; p_temp calculation
                  [007424]  4028  
                  [007424]  4029  	GET_32CONS      r6, PAL__IMPURE_BASE, r31	; impure area base
File: ev6_pal_macros.mar
                  [007424]   234i  ASSUME <pal__impure_base> le  <^x7FFFFFFF>
         24DF0000 [007424]   235M 	ldah	r6,<<pal__impure_base>+32768>@-16(r31); + xxx<31:16>
         20C61000 [007428]   236M 	lda	r6,<<pal__impure_base> & ^XFFFF>(r6) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [00742C]  4030  	GET_16CONS      r1, PAL__IMPURE_SPECIFIC_SIZE, r31
File: ev6_pal_macros.mar
                  [00742C]   244M 	ASSUME <<pal__impure_specific_size>> le  <^x7FFF>
         203F0400 [00742C]   245M 	lda	r1,<pal__impure_specific_size>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007430]  4031  
         4C010401 [007430]  4032  	mulq    r0, r1, r1			; whami * specific
         40C10406 [007434]  4033  	addq    r6, r1, r6			; add to impure base
                  [007438]  4034  
         7C1510D0 [007438]  4035  	hw_stq/p r0, PT__WHAMI(p_temp)		; store whami value
         7CD510C0 [00743C]  4036  	hw_stq/p r6, PT__IMPURE(p_temp)		; store pt_impure base address
                  [007440]  4037  
                  [007440]  4038  ;
                  [007440]  4039  ; EV67 -- find out what chip we are, for i_stat differences.
                  [007440]  4040  ; Save in PT__I_STAT_MASK the mask for grabbing error bits:
                  [007440]  4041  ; a 3 for ev6, a 1 for ev67, shifted left by I_STAT__TPE__S.
                  [007440]  4042  ;
         47E07401 [007440]  4043  	bis	r31, #3, r1				; 1.51 3 for ev6
         47FF041F [007444]  4044  	bis	r31, r31, r31				; 1.51
         47FF041F [007448]  4045  	bis	r31, r31, r31				; 1.51
         647F1110 [00744C]  4046  	hw_mfpr r3, EV6__I_CTL				; 1.51 (4,0L) id
         48631683 [007450]  4047  	srl     r3, #EV6__I_CTL__CHIP_ID__S, r3		; 1.51 get id
         44631003 [007454]  4048          and     r3, #^x18, r3                           ; 1.62 check for ev67/8
         446034C1 [007458]  4049  	cmovne  r3, #1, r1				; 1.51 1 for ev67
         4823B721 [00745C]  4050  	sll	r1, #EV6__I_STAT__TPE__S, r1		; 1.51 shift
         7C351158 [007460]  4051  	hw_stq/p r1, PT__I_STAT_MASK(p_temp)		; 1.51 save it away
                  [007464]  4052  ;
                  [007464]  4053  ; Now store M_CTL.
                  [007464]  4054  ;
                  [007464]  4055  	GET_16CONS	r3, EV6__M_CTL__INIT, r31
File: ev6_pal_macros.mar
                  [007464]   244M 	ASSUME <<ev6__m_ctl__init>> le  <^x7FFF>
         207F0024 [007464]   245M 	lda	r3,<ev6__m_ctl__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         7C7510E8 [007468]  4056  	hw_stq/p r3, PT__M_CTL(p_temp)		; store m_ctl value
                  [00746C]  4057  ;
                  [00746C]  4058  ; For reference platform, store passed up parameters.
                  [00746C]  4059  ; For non-reference platform, store CNS__DC_CTL from an init value.
                  [00746C]  4060  ;	NOTE: WE DON'T WRITE DC_CTL!! This is just here so we have
                  [00746C]  4061  ;	a sane dc_ctl value.
                  [00746C]  4062  ;
                  [00746C]  4063  ; Current state for reference platform:
                  [00746C]  4064  ;	r27	dc_ctl
                  [00746C]  4065  ;		write_many chain in <51:16>
                  [00746C]  4066  ;	r28	proc_mask
                  [00746C]  4067  ;	r29	sysctx
                  [00746C]  4068  ;
                  [00746C]  4069  ;	r6	CPU impure region pointer
                  [00746C]  4070  ;
         4B621681 [00746C]  4071  	srl	r27, #16, r1			; get write-many chain
         7C2613A8 [007470]  4072  	hw_stq/p r1, CNS__WRITE_MANY(r6)	; store it
         477FF01B [007474]  4073  	and	r27, #^xFF, r27			; clean dc_ctl
         7F661398 [007478]  4074  	hw_stq/p r27, CNS__DC_CTL(r6)		; store dc_ctl value
                  [00747C]  4075  
         7DE61270 [00747C]  4076  	hw_stq/p r15, CNS__SROM_REV(r6)		; encoded srom.s RCS revision
         7E061278 [007480]  4077  	hw_stq/p r16, CNS__PROC_ID(r6)		; processor identification
                  [007484]  4078  						; 	(a la SRM)
         7E261280 [007484]  4079  	hw_stq/p r17, CNS__MEM_SIZE(r6)		; size of contiguous,
                  [007488]  4080  						;	good memory in bytes
         7E461288 [007488]  4081  	hw_stq/p r18, CNS__CYCLE_CNT(r6)	; cycle count in picoseconds
         7E661290 [00748C]  4082  	hw_stq/p r19, CNS__SIGNATURE(r6)	; signature (0xDECB) in <31:16>
                  [007490]  4083  						;	and sys rev ID in <15:0>
         47FF0413 [007490]  4084  	bis	r31, r31, r19			; zap the signature
         7F861298 [007494]  4085  	hw_stq/p r28, CNS__PROC_MASK(r6)	; active processor mask
         7FA612A0 [007498]  4086  	hw_stq/p r29, CNS__SYSCTX(r6)		; system context value
                  [00749C]  4087  ;
                  [00749C]  4088  ; API Extension: The autobaud and behavioural code (SROM versions 16 and higher)
                  [00749C]  4089  ; SROM version is kept in r15, major rev is lowest byte
                  [00749C]  4090  ;
         48441722 [00749C]  4091  	sll     r2, #32, r2			; necessary manipulation of baud
         20420100 [0074A0]  4092  	lda     r2, ^x100(r2)			; shift up and add a magic flag
                  [0074A4]  4093  
         49E03627 [0074A4]  4094  	zapnot  r15, #1, r7			; obtain major revision byte
         40E05527 [0074A8]  4095  	subq    r7, #^x02, r7			; versions 2.0 and higher
         F8E00002 [0074AC]  4096  	bge     r7, srom2_data
                  [0074B0]  4097  
         205F0000 [0074B0]  4098  	lda     r2, 0( r31 )			; clear autobaud if invalid
         209F0000 [0074B4]  4099  	lda     r4, 0( r31 )			; same for behavioural code
                  [0074B8]  4100  
                  [0074B8]  4101  srom2_data:
         7C4613B0 [0074B8]  4102  	hw_stq/p r2, CNS__AUTOBAUD_CALIB(r6)	; store autobaud calibration
         7C8613B8 [0074BC]  4103  	hw_stq/p r4, CNS__BEHAV_DATA(r6)	; store behav. data code
                  [0074C0]  4104  
                  [0074C0]  4105  	; the SROM UART is now online (assuming API SROM 2 or greater)
                  [0074C0]  4106  
                  [0074C0]  4107  .if ne srom_debug_io*debug_init
                  [0074C0]  4108  	GET_32CONS	r16, ^x49414D41, r31	; "IAMALIVE"
                  [0074C0]  4109  	sll		r16, #32, r16
                  [0074C0]  4110  	GET_32CONS	r16, ^x4C495645, r16	;
                  [0074C0]  4111  	bsr		p7, Sys_Cserve_Srom_Putstr
                  [0074C0]  4112  .endc
                  [0074C0]  4113  
                  [0074C0]  4114  
                  [0074C0]  4115  ;
                  [0074C0]  4116  ; For pass1, store CNS__FPE_STATE = 1.
                  [0074C0]  4117  ;
                  [0074C0]  4118    .if ne ev6_p1
                  [0074C0]  4119  	bis	r31, #1, r1			; get a 1
                  [0074C0]  4120  	hw_stq/p r1, CNS__FPE_STATE(r2)		; start with fpe state = 1
                  [0074C0]  4121  	hw_stq/p r31, CNS__R31_EMUL(r2)		; zap r31
                  [0074C0]  4122  	hw_stq/p r31, CNS__F31_EMUL(r2)		; zap f31
                  [0074C0]  4123  	hw_stq/p r31, CNS__FPCR(r2)		; zap fpcr
                  [0074C0]  4124      .if ne fp_count
                  [0074C0]  4125  	hw_stq/p r31, PT__RSV_FOR_PAL(p_temp)	; clear counter
                  [0074C0]  4126      .endc
                  [0074C0]  4127    .endc
                  [0074C0]  4128  
                  [0074C0]  4129  ;
                  [0074C0]  4130  ; Write ps into a shadow register IPL=7,CM=0.
                  [0074C0]  4131  ; Write mces to pal temp area, with dpc set if required.
                  [0074C0]  4132  ;	
         47E0F416 [0074C0]  4133  	bis	r31, #7, p_misc				; ipl=7, cm=0
                  [0074C4]  4134  
                  [0074C4]  4135  ;
                  [0074C4]  4136  ; No CRDs reported to OS if DPC bit is set
                  [0074C4]  4137  ;
                  [0074C4]  4138  
                  [0074C4]  4139  .if eq crd_en						; ie, CRDs disabled
                  [0074C4]  4140  	lda	r1, 1(r31)				; mces:dpc follows crd_en
                  [0074C4]  4141  	sll	r1, #OSF_P_MISC__MCES__DPC__S, r1	; move into position
                  [0074C4]  4142  	bis	p_misc, r1, p_misc			; or new mces in
                  [0074C4]  4143  .endc
                  [0074C4]  4144  
                  [0074C4]  4145  ;
                  [0074C4]  4146  ; Store lower portion in PT__VA_CTL in pal temps area.
                  [0074C4]  4147  ; Store VPTB in PT__VPTB in pal temps area.
                  [0074C4]  4148  ; Store DTB_ALT_MODE in pal temps area.
                  [0074C4]  4149  ;
                  [0074C4]  4150  	GET_16CONS	r1, EV6__VA_CTL__INIT, r31
File: ev6_pal_macros.mar
                  [0074C4]   244M 	ASSUME <<ev6__va_ctl__init>> le  <^x7FFF>
         203F0000 [0074C4]   245M 	lda	r1,<ev6__va_ctl__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         7C3510E0 [0074C8]  4151  	hw_stq/p r1, PT__VA_CTL(p_temp)		; store control part
         7FF51000 [0074CC]  4152  	hw_stq/p r31, PT__VPTB(p_temp)		; store vptb base part
         7FF51138 [0074D0]  4153  	hw_stq/p r31, PT__DTB_ALT_MODE(p_temp)	; clear alt_mode temp
                  [0074D4]  4154  ;
                  [0074D4]  4155  ; Miscellaneous pal temps
                  [0074D4]  4156  ;
         7FF510D8 [0074D4]  4157  	hw_stq/p r31, PT__SCC(p_temp)		; clear SCC
         7FF51148 [0074D8]  4158  	hw_stq/p r31, PT__SCBB(p_temp)		; clear scb
         7FF51008 [0074DC]  4159  	hw_stq/p r31, PT__PTBR(p_temp)		; clear ptbr
                  [0074E0]  4160  
                  [0074E0]  4161    .if ne separate_page_tables			; 1.55
                  [0074E0]  4162  	subq	r31, #1, r1			; 1.55 get a -1
                  [0074E0]  4163  	hw_stq/p r1, PT__VIRBND(p_temp)		; 1.55 init to -1
                  [0074E0]  4164  	hw_stq/p r31, PT__SYSPTBR(p_temp)	; 1.55 clear sysptbr
                  [0074E0]  4165    .endc						; 1.55
                  [0074E0]  4166  ;
                  [0074E0]  4167  ; Set up PT__PCBB to point to kludge PCB.
                  [0074E0]  4168  ;
         643F1010 [0074E0]  4169  	hw_mfpr	r1, EV6__PAL_BASE		; (4,0L) get pal base back
                  [0074E4]  4170  	GET_16ADDR 	r2, <INITIAL_PCBB - TRAP__START>, r1
File: ev6_pal_macros.mar
                  [0074E4]   225M 	ASSUME <<INITIAL_PCBB - TRAP__START>> le  <^x7FFF>
         20410C00 [0074E4]   226M 	lda	r2,<INITIAL_PCBB - TRAP__START>(r1) ; r1+xxx<15:0>
File: ev6_osf_system_pal.mar
         7C551010 [0074E8]  4171  	hw_stq/p r2, PT__PCBB(p_temp)		; write pcbb
                  [0074EC]  4172  ;
                  [0074EC]  4173  ; Now we need to clear the lock flag, which must be done with a LDQ.
                  [0074EC]  4174  ; So we need to set up the DTB, do the write, and re-clear the DTB.
                  [0074EC]  4175  ;
                  [0074EC]  4176  ; Currently r1=pal base That's good enough to use for our translation.
                  [0074EC]  4177  ; Write the dtb, do the reference, clear the dtb and synch up.
                  [0074EC]  4178  ;
                  [0074EC]  4179  
         48227722 [0074EC]  4180  	sll	r1, #<32-13>, r2		; shift into position
         207F1101 [0074F0]  4181  	lda	r3, ^x1101(r31)			; set KWE, KRE
         44430402 [0074F4]  4182  	or	r2, r3, r2			; produce pte
                  [0074F8]  4183  
                  [0074F8]  4184  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
47FF041F 47FF041F [0074F8]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [007500]  4185  
                  [007500]  4186  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [007500]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E12044 [007500]  4187  	hw_mtpr	r1, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E1A022 [007504]  4188  	hw_mtpr r1, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77E22155 [007508]  4189  	hw_mtpr	r2, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77E2A1AA [00750C]  4190  	hw_mtpr	r2, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [007510]  4191  ;
                  [007510]  4192  ; Do the unlock. Then clear the dtb.
                  [007510]  4193  ;
                  [007510]  4194  	ALIGN_FETCH_BLOCK <^x47FF041F>		; align with NOPs
File: ev6_pal_macros.mar
                  [007510]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
         63FF4000 [007510]  4195  	mb					; pvc restriction 28
         A7E10018 [007514]  4196  	ldq	r31, <trap__lock_cell - trap__pal_base>(r1)
         47FF041F [007518]  4197  	bis	r31, r31, r31
                  [00751C]  4198  
         77FFA380 [00751C]  4199  	hw_mtpr	r31, EV6__DTB_IA		; (7,0L)
         47FF041F [007520]  4200  	bis	r31, r31, r31
         47FF041F [007524]  4201  	bis	r31, r31, r31
         47FF041F [007528]  4202  	bis	r31, r31, r31
                  [00752C]  4203  
         77FF2780 [00752C]  4204  	hw_mtpr	r31, <EV6__MM_STAT ! ^x80>	; 1.41 (7,0L) wait for dtb_ia
         47FF041F [007530]  4205  	bis	r31, r31, r31			; 1.41
         47FF041F [007534]  4206  	bis	r31, r31, r31			; 1.41
         47FF041F [007538]  4207  	bis	r31, r31, r31			; 1.41
                  [00753C]  4208  
                  [00753C]  4209  ;
                  [00753C]  4210  ; Clear out the cbox error read chain
                  [00753C]  4211  ; 1.41 Move here from above
                  [00753C]  4212  ;
                  [00753C]  4213  ; Register use:
                  [00753C]  4214  ;	p4-p7	trashed
                  [00753C]  4215  ;	p20	trashed
                  [00753C]  4216  ;
                  [00753C]  4217      .if eq force_path			; 1.41
                  [00753C]  4218  	PVC_JSR cbox, bsr=1
                  [00753C]  4219  	bsr	p5, sys__cbox
                  [00753C]  4220      .iff
                  [00753C]  4221  	PVC_VIOLATE <1008>		; 1.42 tell pvc to skip routine
                  [00753C]  4222  	br	p5, sys__cbox
                  [00753C]  4223      .endc				; 1.41
                  [00753C]  4218I 	PVC_JSR cbox, bsr=1
File: ev6_pal_macros.mar
                  [00753C]   526i  pvc_lbl \pcv_index, \pcv_jsr_cbox0, osf
File: ev6_osf_system_pal.mar
         D0BFFEAC [00753C]  4219I 	bsr	p5, sys__cbox
                  [007540]  4224      ;
                  [007540]  4225  ; Set up for the console
                  [007540]  4226  ;
                  [007540]  4227  
                  [007540]  4228  ;
                  [007540]  4229  ; 1.41 Write EV6__IER to the platform dependent IPL31
                  [007540]  4230  ;
         47E3F401 [007540]  4231  	bis     r31, #^x1f, r1			; IPL = 31
         649F1010 [007544]  4232  	hw_mfpr p4, EV6__PAL_BASE		; (4,0L) get pal base
         40240644 [007548]  4233  	s8addq  r1, p4, p4			; pal base + index
         20840D00 [00754C]  4234  	lda     p4, ipl_offset(p4)		; pal base + table base + index
         6C841000 [007550]  4235  	hw_ldq/p p4, (p4)			; get new ier
         77E40A10 [007554]  4236  	hw_mtpr p4, EV6__IER			; (4,0L) write new ier
         47FF041F [007558]  4237  	bis	r31, r31, r31
         47FF041F [00755C]  4238  	bis	r31, r31, r31
         47FF041F [007560]  4239  	bis	r31, r31, r31
         77FF2710 [007564]  4240  	hw_mtpr r31, <EV6__MM_STAT ! ^x10>	; wait for it
                  [007568]  4241  
         47FF0414 [007568]  4242  	bis	r31, r31, p20			; halt code in p20
         47FF041F [00756C]  4243  	bis	r31, r31, r31
         47FF041F [007570]  4244  	bis	r31, r31, r31
         7FF510F0 [007574]  4245  	hw_stq/p r31, PT__HALT_CODE(p_temp)	; store halt code
                  [007578]  4246  
         C3FFFF01 [007578]  4247  	br	r31, sys__enter_console		; enter console
                  [00757C]  4248  
                  [00757C]  4249  
                  [00757C]  4250  ;------------------------------------------------------------------------
                  [00757C]  4251  ;+
                  [00757C]  4252  ; The signature was not valid, so we DID NOT COME FROM THE SROM. So
                  [00757C]  4253  ; check for swap or jump through zero.
                  [00757C]  4254  ;-
                  [00757C]  4255  
                  [00757C]  4256  sys__reset_check_switch:
         4AC7D681 [00757C]  4257  	srl	p_misc, #OSF_P_MISC__SWITCH__S, r1	; check the switch bit
         E020007A [007580]  4258  	blbc	r1, sys__reset_noswitch			; jumped through 0
                  [007584]  4259  ;
                  [007584]  4260  ; Looks like a swppal. Do initialization, relying on fetch blocks for
                  [007584]  4261  ; scoreboard bit separation.
                  [007584]  4262  ;
                  [007584]  4263  
                  [007584]  4264  	ALIGN_FETCH_BLOCK <^x47FF041F>			; pad with NOPs
File: ev6_pal_macros.mar
47FF041F 47FF041F [007584]   260i 	.align 4, <^x47FF041F>
         47FF041F [00758C]
File: ev6_osf_system_pal.mar
                  [007590]  4265  
                  [007590]  4266  	ASSUME_FETCH_BLOCK
                  [007590]  4267  
                  [007590]  4268  sys__switch_base:
         C0200000 [007590]  4269  	br	r1, sys__switch_get_pal_base
                  [007594]  4270  sys__switch_get_pal_base:
                  [007594]  4271  	GET_32ADDR r1, <trap__pal_base - sys__switch_get_pal_base>, r1
File: ev6_pal_macros.mar
                  [007594]   215M 	ASSUME <trap__pal_base - sys__switch_get_pal_base> le  <^x7FFFFFFF>
         24210000 [007594]   216M 	ldah	r1,<<trap__pal_base - sys__switch_get_pal_base>+32768>@-16(r1); + xxx<31:16>
         20218A6C [007598]   217M 	lda	r1,<<trap__pal_base - sys__switch_get_pal_base> & ^xFFFF>(r1) ; r1+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E11010 [00759C]  4272  	hw_mtpr	r1, EV6__PAL_BASE			; (4,0L) pal base
                  [0075A0]  4273  
         77FF0310 [0075A0]  4274  	hw_mtpr	r31, EV6__ITB_IA			; (4,0L)
         77FFA380 [0075A4]  4275  	hw_mtpr	r31, EV6__DTB_IA			; (7,0L) flush DTB
                  [0075A8]  4276  	GET_32CONS 	r1, EV6__I_STAT__W1C, r31	; get i_stat clr value
File: ev6_pal_macros.mar
                  [0075A8]   234i  ASSUME <ev6__i_stat__w1c> le  <^x7FFFFFFF>
         243F6000 [0075A8]   235M 	ldah	r1,<<ev6__i_stat__w1c>+32768>@-16(r31); + xxx<31:16>
         20210000 [0075AC]   236M 	lda	r1,<<ev6__i_stat__w1c> & ^XFFFF>(r1) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [0075B0]  4277  
                  [0075B0]  4278  	GET_16CONS	R3, EV6__DC_STAT__W1C, R31	; get dc_stat clr value
File: ev6_pal_macros.mar
                  [0075B0]   244M 	ASSUME <<ev6__dc_stat__w1c>> le  <^x7FFF>
         207F001F [0075B0]   245M 	lda	r3,<ev6__dc_stat__w1c>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E11610 [0075B4]  4279  	hw_mtpr	r1, EV6__I_STAT				; (4,0L) w1c I_STAT
         77E32A40 [0075B8]  4280  	hw_mtpr r3, EV6__DC_STAT			; (6,0L) w1c DC_STAT
         63FFE000 [0075BC]  4281  	rc	r31					; clear intr_flag
                  [0075C0]  4282  
                  [0075C0]  4283  	GET_32CONS	r1, EV6__IER__INIT, r31 
File: ev6_pal_macros.mar
                  [0075C0]   234i  ASSUME <ev6__ier__init> le  <^x7FFFFFFF>
         243F0000 [0075C0]   235M 	ldah	r1,<<ev6__ier__init>+32768>@-16(r31); + xxx<31:16>
         20210000 [0075C4]   236M 	lda	r1,<<ev6__ier__init> & ^XFFFF>(r1) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E10B10 [0075C8]  4284  	hw_mtpr	r1, EV6__IER_CM				; (4,0L) clear ier_cm
         77FF2640 [0075CC]  4285  	hw_mtpr	r31, EV6__DTB_ALT_MODE			; (6,0L) clear alt_mode
                  [0075D0]  4286  
                  [0075D0]  4287  ; API modification: stores relative to p_temp now put after new p_temp init
                  [0075D0]  4288  ; API modification: initialisation of p_misc moved after init of I_CTL
                  [0075D0]  4289  
         77FF0C10 [0075D0]  4290  	hw_mtpr	r31, EV6__SIRR				; (4,0L) Clear int req
                  [0075D4]  4291  	
                  [0075D4]  4292  	GET_16CONS	r1, EV6__HW_INT_CLR__INIT, r31
File: ev6_pal_macros.mar
                  [0075D4]   244M 	ASSUME <<ev6__hw_int_clr__init>> le  <^x7FFF>
         203F001F [0075D4]   245M 	lda	r1,<ev6__hw_int_clr__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         48239721 [0075D8]  4293  	sll	r1, #EV6__HW_INT_CLR__MCHK_D__S, r1	; move into position
                  [0075DC]  4294  	PVC_VIOLATE <35>
File: ev6_pal_macros.mar
                  [0075DC]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E10E10 [0075DC]  4295  	hw_mtpr	r1, EV6__HW_INT_CLR			; (4,0L) Clear int req
                  [0075E0]  4296  	NOP						; pad fetch block
File: ev6_pal_macros.mar
         47FF041F [0075E0]   278M 	bis	r31, r31, r31
File: ev6_osf_system_pal.mar
                  [0075E4]  4297  ;
                  [0075E4]  4298  ; API modification: initialisation of I_CTL, VA_CTL, M_CTL moved forwards in
                  [0075E4]  4299  ; initialisation because they contain many other useful pieces of state that we
                  [0075E4]  4300  ; depend on (and some are configured differently in the AlphaBIOS NT PALcode)
                  [0075E4]  4301  
                  [0075E4]  4302  ; Get VPTB and write it to VA_CTL and I_CTL. At the same time, initialize
                  [0075E4]  4303  ; VA_CTL, M_CTL, and I_CTL.
                  [0075E4]  4304  ;
                  [0075E4]  4305  ; Store lower portion in PT__VA_CTL in pal temps area.
                  [0075E4]  4306  ; Store VPTB in PT__VPTB in pal temps area.
                  [0075E4]  4307  ;
                  [0075E4]  4308  ; Initialize M_CTL  a write-only register, and save it away.
                  [0075E4]  4309  ;
                  [0075E4]  4310  ; Initialize I_CTL.
                  [0075E4]  4311  ; Write I_CTL twice (pvc #31).
                  [0075E4]  4312  ;
                  [0075E4]  4313  
                  [0075E4]  4314  	GET_16CONS	r1, EV6__VA_CTL__INIT, r31
File: ev6_pal_macros.mar
                  [0075E4]   244M 	ASSUME <<ev6__va_ctl__init>> le  <^x7FFF>
         203F0000 [0075E4]   245M 	lda	r1,<ev6__va_ctl__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         44330401 [0075E8]  4315  	bis	r1, r19, r1			; or in vptb part
         77E1C420 [0075EC]  4316  	hw_mtpr	r1, EV6__VA_CTL			; (5,1L) write VA_CTL
                  [0075F0]  4317  
                  [0075F0]  4318  	GET_16CONS	r1, EV6__M_CTL__INIT, r31
File: ev6_pal_macros.mar
                  [0075F0]   244M 	ASSUME <<ev6__m_ctl__init>> le  <^x7FFF>
         203F0024 [0075F0]   245M 	lda	r1,<ev6__m_ctl__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         77E12840 [0075F4]  4319  	hw_mtpr r1, EV6__M_CTL			; (6,0L) write M_CTL
                  [0075F8]  4320  
                  [0075F8]  4321  	GET_32CONS 	r1, EV6__I_CTL__INIT, r31
File: ev6_pal_macros.mar
                  [0075F8]   234i  ASSUME <ev6__i_ctl__init> le  <^x7FFFFFFF>
         243F0030 [0075F8]   235M 	ldah	r1,<<ev6__i_ctl__init>+32768>@-16(r31); + xxx<31:16>
         20210396 [0075FC]   236M 	lda	r1,<<ev6__i_ctl__init> & ^XFFFF>(r1) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         44330401 [007600]  4322  	bis	r1, r19, r1			; or in vptb
                  [007604]  4323  
                  [007604]  4324  ;
                  [007604]  4325  ; Note: a major difference may be the usage of shadow registers, governed by
                  [007604]  4326  ; I_CTL[SDE].  The PALcode violation guide states a change of SDE must be
                  [007604]  4327  ; followed by 3 fetch blocks of non-nops that don't reference pal-shadow regs.
                  [007604]  4328  ;
                  [007604]  4329  
                  [007604]  4330  	ALIGN_FETCH_BLOCK <^x47FF041F>			; pad with NOPs
File: ev6_pal_macros.mar
47FF041F 47FF041F [007604]   260i 	.align 4, <^x47FF041F>
         47FF041F [00760C]
File: ev6_osf_system_pal.mar
                  [007610]  4331  
         77E11110 [007610]  4332  	hw_mtpr	r1, EV6__I_CTL				; (4,0L) write I_CTL
         47FF041F [007614]  4333  	bis	r31, r31, r31
         47FF041F [007618]  4334  	bis	r31, r31, r31
         47FF041F [00761C]  4335  	bis	r31, r31, r31
                  [007620]  4336  
         77E11110 [007620]  4337  	hw_mtpr	r1, EV6__I_CTL				; (4,0L) write I_CTL
         43E00400 [007624]  4338  	addq	r31, r0, r0				; fetch block 1...
         43E10401 [007628]  4339  	addq	r31, r1, r1
         43E20402 [00762C]  4340  	addq	r31, r2, r2
                  [007630]  4341  
         43E30403 [007630]  4342  	addq	r31, r3, r3				; fetch block 2...
         43E00400 [007634]  4343  	addq	r31, r0, r0
         43E10401 [007638]  4344  	addq	r31, r1, r1
         43E20402 [00763C]  4345  	addq	r31, r2, r2
                  [007640]  4346  
         43E30403 [007640]  4347  	addq	r31, r3, r3				; fetch block 3...
         43E00400 [007644]  4348  	addq	r31, r0, r0
         43E10401 [007648]  4349  	addq	r31, r1, r1
         43E20402 [00764C]  4350  	addq	r31, r2, r2
                  [007650]  4351  
                  [007650]  4352  
                  [007650]  4353  ; API modification: Windows NT PALcode uses p_misc register differently, we 
                  [007650]  4354  ; can't assume that p_misc[MCES] contains anything interesting so it is no
                  [007650]  4355  ; longer preserved here.
                  [007650]  4356  ; was:
                  [007650]  4357  ;	zapnot	p_misc, #4, p_misc			; zap all but mces
                  [007650]  4358  ;	bis	p_misc, #7, p_misc			; cm=0,ipl=7
                  [007650]  4359  ; now:
         47E0F416 [007650]  4360  	bis	r31, #7, p_misc				; cm=0,ipl=7
                  [007654]  4361  
                  [007654]  4362  ;+
                  [007654]  4363  ; API Extension: when swapping from alien PALcode (eg, from AlphaBIOS),
                  [007654]  4364  ; we want to change over our temps and impure pointers to ones we prefer.
                  [007654]  4365  ;
                  [007654]  4366  ; This requires WHAMI.
                  [007654]  4367  ;
                  [007654]  4368  .if ne smp_platform				; smp_platform - SMP systems
                  [007654]  4369  
                  [007654]  4370      .if ne swordfish_platform			; swordfish_platform
                  [007654]  4371  
                  [007654]  4372      ; Read the Tsunami MISC<CPUID> bit for this cpu.
                  [007654]  4373      ; The MISC CSR is at 801.A000.0080.
                  [007654]  4374      ; This defines the value for PT__WHAMI.
                  [007654]  4375      ;
                  [007654]  4376  	lda	r1, ^x801A(r31)			; generate 801.A000.0000
                  [007654]  4377  	zap	r1, #^xFC, r1			; zap extension
                  [007654]  4378  	sll	r1, #28, r1			; move into place
                  [007654]  4379  	hw_ldq/p r0, ^x80(r1)			; Read CPUID from 801.A000.0080
                  [007654]  4380  	and	r0, #^xF, r0			; Zap other bits.
                  [007654]  4381  
                  [007654]  4382      .endc					; if ne swordfish_platform
                  [007654]  4383  
                  [007654]  4384      .if ne tinosa_platform			; tinosa_platform
                  [007654]  4385  
                  [007654]  4386  	; Read the Goby WHAMI CSR (register 0x80 in PCI config space)
                  [007654]  4387  	; The WHAMI CSR byte 0 contains the processor ID
                  [007654]  4388  
                  [007654]  4389  	GET_32CONS      r1, ^x801FE, r31	; S2K PCI CSR address range
                  [007654]  4390  	sll	r1, #24, r1			; move into place
                  [007654]  4391  	hw_ldl/p r0, ^x80(r1)			; Read CPUID from 801.FE00.0080
                  [007654]  4392  	zapnot	r0, #1, r0			; Zap other bits.
                  [007654]  4393  
                  [007654]  4394      .endc					; tinosa_platform
                  [007654]  4395  
                  [007654]  4396  .iff						; smp_platform - Uniproc systems
                  [007654]  4397  
                  [007654]  4398  	lda	r0, 0(r31)			; uniprocessor whami = 0 
                  [007654]  4399  
                  [007654]  4400  .endc						; smp_platform
                  [007654]  4369I 
                  [007654]  4370I     .if ne swordfish_platform			; swordfish_platform
                  [007654]  4371I 
                  [007654]  4372I     ; Read the Tsunami MISC<CPUID> bit for this cpu.
                  [007654]  4373I     ; The MISC CSR is at 801.A000.0080.
                  [007654]  4374I     ; This defines the value for PT__WHAMI.
                  [007654]  4375I     ;
                  [007654]  4376I 	lda	r1, ^x801A(r31)			; generate 801.A000.0000
                  [007654]  4377I 	zap	r1, #^xFC, r1			; zap extension
                  [007654]  4378I 	sll	r1, #28, r1			; move into place
                  [007654]  4379I 	hw_ldq/p r0, ^x80(r1)			; Read CPUID from 801.A000.0080
                  [007654]  4380I 	and	r0, #^xF, r0			; Zap other bits.
                  [007654]  4381I 
                  [007654]  4382I     .endc					; if ne swordfish_platform
                  [007654]  4371I 
                  [007654]  4372I     ; Read the Tsunami MISC<CPUID> bit for this cpu.
                  [007654]  4373I     ; The MISC CSR is at 801.A000.0080.
                  [007654]  4374I     ; This defines the value for PT__WHAMI.
                  [007654]  4375I     ;
         203F801A [007654]  4376I 	lda	r1, ^x801A(r31)			; generate 801.A000.0000
         483F9601 [007658]  4377I 	zap	r1, #^xFC, r1			; zap extension
         48239721 [00765C]  4378I 	sll	r1, #28, r1			; move into place
         6C011080 [007660]  4379I 	hw_ldq/p r0, ^x80(r1)			; Read CPUID from 801.A000.0080
         4401F000 [007664]  4380I 	and	r0, #^xF, r0			; Zap other bits.
                  [007668]  4381I 
                  [007668]  4383I     
                  [007668]  4384I     .if ne tinosa_platform			; tinosa_platform
                  [007668]  4385I 
                  [007668]  4386I 	; Read the Goby WHAMI CSR (register 0x80 in PCI config space)
                  [007668]  4387I 	; The WHAMI CSR byte 0 contains the processor ID
                  [007668]  4388I 
                  [007668]  4389I 	GET_32CONS      r1, ^x801FE, r31	; S2K PCI CSR address range
                  [007668]  4390I 	sll	r1, #24, r1			; move into place
                  [007668]  4391I 	hw_ldl/p r0, ^x80(r1)			; Read CPUID from 801.FE00.0080
                  [007668]  4392I 	zapnot	r0, #1, r0			; Zap other bits.
                  [007668]  4393I 
                  [007668]  4394I     .endc					; tinosa_platform
                  [007668]  4395I 
                  [007668]  4401  
                  [007668]  4402  ; Initialize p_temp to base of specific pal temp area.
                  [007668]  4403  ; Store whami in pal temp area.
                  [007668]  4404  ; Compute base of specific impure area and store in pal temp area.
                  [007668]  4405  ;
                  [007668]  4406  	GET_32CONS      p_temp, PAL__TEMPS_BASE, r31		; pal_temps base
File: ev6_pal_macros.mar
                  [007668]   234i  ASSUME <pal__temps_base> le  <^x7FFFFFFF>
         26BF0000 [007668]   235M 	ldah	p_temp,<<pal__temps_base>+32768>@-16(r31); + xxx<31:16>
         22B51C00 [00766C]   236M 	lda	p_temp,<<pal__temps_base> & ^XFFFF>(p_temp) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007670]  4407  	GET_16CONS      r1, PAL__TEMPS_SPECIFIC_SIZE, r31	; specific size
File: ev6_pal_macros.mar
                  [007670]   244M 	ASSUME <<pal__temps_specific_size>> le  <^x7FFF>
         203F0200 [007670]   245M 	lda	r1,<pal__temps_specific_size>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         4C010401 [007674]  4408  	mulq    r0, r1, r1					; whami * size
         42A10415 [007678]  4409  	addq    p_temp, r1, p_temp				; p_temp calculated
                  [00767C]  4410  
                  [00767C]  4411  	GET_32CONS r6, PAL__IMPURE_BASE, r31		; impure area base
File: ev6_pal_macros.mar
                  [00767C]   234i  ASSUME <pal__impure_base> le  <^x7FFFFFFF>
         24DF0000 [00767C]   235M 	ldah	r6,<<pal__impure_base>+32768>@-16(r31); + xxx<31:16>
         20C61000 [007680]   236M 	lda	r6,<<pal__impure_base> & ^XFFFF>(r6) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007684]  4412  	GET_16CONS r1, PAL__IMPURE_SPECIFIC_SIZE, r31	; specific size
File: ev6_pal_macros.mar
                  [007684]   244M 	ASSUME <<pal__impure_specific_size>> le  <^x7FFF>
         203F0400 [007684]   245M 	lda	r1,<pal__impure_specific_size>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007688]  4413  
         4C010401 [007688]  4414  	mulq    r0, r1, r1			; whami * specific
         40C10406 [00768C]  4415  	addq    r6, r1, r6			; add to impure base
                  [007690]  4416  
         7CD510C0 [007690]  4417  	hw_stq/p r6, PT__IMPURE(p_temp)		; store pt_impure base address
         7C1510D0 [007694]  4418  	hw_stq/p r0, PT__WHAMI(p_temp)		; store whami temp value
         7FF51138 [007698]  4419  	hw_stq/p r31, PT__DTB_ALT_MODE(p_temp)	; clear alt_mode temp
                  [00769C]  4420  
                  [00769C]  4421  
                  [00769C]  4422  	; These IPR values were written above but not saved because p_temp	
                  [00769C]  4423  	; was inaccessible.
                  [00769C]  4424  
                  [00769C]  4425  	GET_16CONS	r1, EV6__VA_CTL__INIT, r31
File: ev6_pal_macros.mar
                  [00769C]   244M 	ASSUME <<ev6__va_ctl__init>> le  <^x7FFF>
         203F0000 [00769C]   245M 	lda	r1,<ev6__va_ctl__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         44330401 [0076A0]  4426  	bis	r1, r19, r1			; or in vptb part
         7C3510E0 [0076A4]  4427  	hw_stq/p r1, PT__VA_CTL(p_temp)		; store control part
         7E751000 [0076A8]  4428  	hw_stq/p r19, PT__VPTB(p_temp)		; store vptb base part
                  [0076AC]  4429  
                  [0076AC]  4430  	GET_16CONS	r1, EV6__M_CTL__INIT, r31
File: ev6_pal_macros.mar
                  [0076AC]   244M 	ASSUME <<ev6__m_ctl__init>> le  <^x7FFF>
         203F0024 [0076AC]   245M 	lda	r1,<ev6__m_ctl__init>(r31) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         7C3510E8 [0076B0]  4431  	hw_stq/p r1, PT__M_CTL(p_temp)		; save it away
                  [0076B4]  4432  
                  [0076B4]  4433  ;
                  [0076B4]  4434  ; End of API extension
                  [0076B4]  4435  ;
                  [0076B4]  4436  
                  [0076B4]  4437  ;
                  [0076B4]  4438  ; Current state:
                  [0076B4]  4439  ;	r17 (a1)	new PC
                  [0076B4]  4440  ;	r18 (a2)	new PCBB
                  [0076B4]  4441  ;	r19 (a3)	new VPTB
                  [0076B4]  4442  ;
         6C921028 [0076B4]  4443  	hw_ldq/p p4, OSF_PCB__FEN(r18)		; get new fen/pme
         6CB20018 [0076B8]  4444  	hw_ldl/p p5, OSF_PCB__CPC(r18)		; get charged cycle counter
         6CD2001C [0076BC]  4445  	hw_ldl/p p6, OSF_PCB__ASN(r18)		; get new asn
         6CF21010 [0076C0]  4446  	hw_ldq/p p7, OSF_PCB__PTBR(r18)		; get new ptbr
                  [0076C4]  4447  
         48E1B727 [0076C4]  4448  	sll	p7, #page_offset_size_bits, p7	; convert pfn to pa
         7CF51008 [0076C8]  4449  	hw_stq/p p7, PT__PTBR(p_temp)		; store PTBR
         7E551010 [0076CC]  4450  	hw_stq/p r18, PT__PCBB(p_temp)		; store PCBB
         46207117 [0076D0]  4451  	bic	r17, #3, p23			; clean PC to p23
                  [0076D4]  4452  
                  [0076D4]  4453    .if ne separate_page_tables			; 1.55
                  [0076D4]  4454  	subq	r31, #1, p7			; 1.55 get a -1
                  [0076D4]  4455  	hw_stq/p p7, PT__VIRBND(p_temp)		; 1.55 init to -1
                  [0076D4]  4456  	hw_stq/p r31, PT__SYSPTBR(p_temp)	; 1.55 clear sysptbr
                  [0076D4]  4457    .endc						; 1.55
                  [0076D4]  4458  ;
                  [0076D4]  4459  ; Do USP and KSP
                  [0076D4]  4460  ;
         6FD21008 [0076D4]  4461  	hw_ldq/p r30, OSF_PCB__USP(r18)		; get new USP
         7FD51020 [0076D8]  4462  	hw_stq/p r30, PT__USP(p_temp)		; save it away
         6FD21000 [0076DC]  4463  	hw_ldq/p r30, OSF_PCB__KSP(r18)		; get KSP
                  [0076E0]  4464  ;
                  [0076E0]  4465  ; Now do DTB_ASNx.
                  [0076E0]  4466  ;
                  [0076E0]  4467  ; There must be a scoreboard bit -> register dependency chain to prevent
                  [0076E0]  4468  ; hw_mtpr DTB_ASx from issuing while ANY of scoreboard bits <7:4> are set.
                  [0076E0]  4469  ;
                  [0076E0]  4470  ; Current state:
                  [0076E0]  4471  ;	p4	fen/pme quadword
                  [0076E0]  4472  ;	p5	CPC from PCB
                  [0076E0]  4473  ;	p6	ASN
                  [0076E0]  4474  ;
                  [0076E0]  4475  ASSUME OSF_PCB__ASN__M eq ^xFF
                  [0076E0]  4476  
         44DFF006 [0076E0]  4477  	and	p6, #OSF_PCB__ASN__M, p6	; clean ASN quadword
         48C71734 [0076E4]  4478  	sll	p6, #EV6__DTB_ASN0__ASN__S, p20	; ASN into mbox spot
                  [0076E8]  4479  
         64FF10F0 [0076E8]  4480  	hw_mfpr	p7, <EV6__PAL_BASE ! ^xF0>	; (4-7, 0L)
         44E70807 [0076EC]  4481  	xor	p7, p7, p7			; zap p7
         44F40414 [0076F0]  4482  	bis	p7, p20, p20			; force register dependency
         47FF041F [0076F4]  4483  	bis	r31, r31, r31
         77F42510 [0076F8]  4484  	hw_mtpr	p20, EV6__DTB_ASN0		; (4,0L)
         77F4A580 [0076FC]  4485  	hw_mtpr	p20, EV6__DTB_ASN1		; (7,1L)
                  [007700]  4486  
                  [007700]  4487  ;
                  [007700]  4488  ; Create Ibox Process Context IPR.
                  [007700]  4489  ; Fill in ASN, FPE, clearing ASTEN, ASTRR, PPCE.
                  [007700]  4490  ;
                  [007700]  4491  ; Current state:
                  [007700]  4492  ;	p4	fen/pme quadword
                  [007700]  4493  ;	p5	CPC from PCB
                  [007700]  4494  ;	p6	asn
                  [007700]  4495  ;
         48C4F726 [007700]  4496  	sll	p6, #EV6__PROCESS_CONTEXT__ASN__S, p6	; shift asn into place
         44803004 [007704]  4497  	and	p4, #1, p4				; get just the fen bit
         48805727 [007708]  4498  	sll	p4, #EV6__PROCESS_CONTEXT__FPE__S, p7	; shift fpe into place
         44E60407 [00770C]  4499  	bis	p7, p6, p7				; or together
         77E75F10 [007710]  4500  	hw_mtpr	p7, EV6__PROCESS_CONTEXT		; (4,0L) write them
                  [007714]  4501  
                  [007714]  4502    .if ne ev6_p1
                  [007714]  4503  	hw_ldq/p p7, PT__IMPURE(p_temp)			; get impure pointer
                  [007714]  4504  	hw_stq/p p7, CNS__FPE_STATE(p7)			; write FPE_STATE
                  [007714]  4505      .if ne fp_count
                  [007714]  4506  	hw_stq/p r31, PT__RSV_FOR_PAL(p_temp)		; clear counter
                  [007714]  4507      .endc
                  [007714]  4508    .endc
                  [007714]  4509  
                  [007714]  4510  ;
                  [007714]  4511  ; Do the cycle counter.
                  [007714]  4512  ; Not sure we need this, but ensure 4-7 clear before any dtb writes.
                  [007714]  4513  ; Current state:
                  [007714]  4514  ;
                  [007714]  4515  ;	p5		CPC from PCB
                  [007714]  4516  
         603FC000 [007714]  4517  	rpcc	r1				; get cycle counter
         40A10121 [007718]  4518  	subl	p5, r1, r1			; gen new offset
         48209561 [00771C]  4519  	insll	r1, #4, r1			; shift left 32
         77E1C0F0 [007720]  4520  	hw_mtpr r1, <EV6__CC ! ^xF0>		; (4-7,1L) write it
         47FF041F [007724]  4521  	bis	r31, r31, r31
         47FF041F [007728]  4522  	bis	r31, r31, r31
         47FF041F [00772C]  4523  	bis	r31, r31, r31
                  [007730]  4524  ;
                  [007730]  4525  ; Now we need to clear the lock flag, which must be done with a LDQ.
                  [007730]  4526  ; So we need to set up the DTB, do the write, and re-clear the DTB.
                  [007730]  4527  ;
         643F1010 [007730]  4528  	hw_mfpr	r1, EV6__PAL_BASE		; (4,0L) get pal base back
         48227722 [007734]  4529  	sll	r1, #<32-13>, r2		; shift into position
         207F1101 [007738]  4530  	lda	r3, ^x1101(r31)			; set KWE, KRE
         44430402 [00773C]  4531  	or	r2, r3, r2			; produce pte
                  [007740]  4532  
                  [007740]  4533  	ALIGN_FETCH_BLOCK <^x47FF041F>		; Edit 1.36
File: ev6_pal_macros.mar
                  [007740]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [007740]  4534  
                  [007740]  4535  	PVC_VIOLATE <2>				; ignore scoreboard violation
File: ev6_pal_macros.mar
                  [007740]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E12044 [007740]  4536  	hw_mtpr	r1, EV6__DTB_TAG0		; (2&6,0L) write tag0
         77E1A022 [007744]  4537  	hw_mtpr r1, EV6__DTB_TAG1		; (1&5,1L) write tag1
         77E22155 [007748]  4538  	hw_mtpr	r2, <EV6__DTB_PTE0 ! ^x44>	; (0,4,2,6) (0L) write pte0
         77E2A1AA [00774C]  4539  	hw_mtpr	r2, <EV6__DTB_PTE1 ! ^x22>	; (3,7,1,5) (1L) write pte1
                  [007750]  4540  ;
                  [007750]  4541  ; Do the unlock.
                  [007750]  4542  ;
                  [007750]  4543  	ALIGN_FETCH_BLOCK <^x47FF041F>
File: ev6_pal_macros.mar
                  [007750]   260i 	.align 4, <^x47FF041F>
File: ev6_osf_system_pal.mar
         A7E10018 [007750]  4544  	ldq	r31, <trap__lock_cell - trap__pal_base>(r1)
                  [007754]  4545  ;
                  [007754]  4546  ; Now clear the dtb again.
                  [007754]  4547  ;
         77FFA380 [007754]  4548  	hw_mtpr	r31, EV6__DTB_IA		; (7,0L)
                  [007758]  4549  
                  [007758]  4550  ; API Modification: the linux kernel expects the procedure variable (r27) to
                  [007758]  4551  ; be correctly setup by PALcode on entry by secondary processors.
                  [007758]  4552  ; Is there anywhere that states that this is a documented requirement?
                  [007758]  4553  ; As flexible people we fix that up here...
                  [007758]  4554  
         46FF041B [007758]  4555  	bis	p23, r31, r27
                  [00775C]  4556  
                  [00775C]  4557  ;
                  [00775C]  4558  ; Mark success, and hw_ret_stall to pc.
                  [00775C]  4559  ;
                  [00775C]  4560  .if ne debug_swap
                  [00775C]  4561      .if ne pci_debug_io				; pci_debug_io
                  [00775C]  4562          DBGREG_PCI LED__SWITCH0,p23
                  [00775C]  4563          hw_mfpr r10, EV6__I_CTL
                  [00775C]  4564          DBGREG_PCI LED__SWITCH0,r10
                  [00775C]  4565  	hw_ldq/p r10, PT__VA_CTL(p_temp)
                  [00775C]  4566          DBGREG_PCI LED__SWITCH0,r10
                  [00775C]  4567  	hw_ldq/p r10, PT__VPTB(p_temp)
                  [00775C]  4568          DBGREG_PCI LED__SWITCH0,r10
                  [00775C]  4569          DBGREG_PCI LED__SWITCH0,p_misc
                  [00775C]  4570      .endc					; pci_debug_io
                  [00775C]  4571  
                  [00775C]  4572      .if ne srom_debug_io			; srom_debug_io
                  [00775C]  4573  	GET_32CONS	r16, ^x50414C53, r31		; "PALSWTCH"
                  [00775C]  4574  	sll		r16, #32, r16
                  [00775C]  4575  	GET_32CONS	r16, ^x57544348, r16		;
                  [00775C]  4576  	bsr		p7, Sys_Cserve_Srom_Putstr
                  [00775C]  4577  
                  [00775C]  4578  	bis p23, r31, r16				; dump entry point
                  [00775C]  4579  	bsr		p7, Sys_Cserve_Srom_Putnum
                  [00775C]  4580  
                  [00775C]  4581          hw_mfpr r16, EV6__I_CTL
                  [00775C]  4582  	bsr		p7, Sys_Cserve_Srom_Putnum	; dump I_CTL
                  [00775C]  4583  
                  [00775C]  4584  	hw_ldq/p r16, PT__VA_CTL(p_temp)
                  [00775C]  4585  	bsr		p7, Sys_Cserve_Srom_Putnum	; dump VA_CTL
                  [00775C]  4586  
                  [00775C]  4587  	hw_ldq/p r16, PT__VPTB(p_temp)
                  [00775C]  4588  	bsr		p7, Sys_Cserve_Srom_Putnum	; dump VPTB
                  [00775C]  4589  
                  [00775C]  4590  	bis	p_misc, r31, r16
                  [00775C]  4591  	bsr		p7, Sys_Cserve_Srom_Putnum	; dump p_misc
                  [00775C]  4592      .endc					; srom_debug_io
                  [00775C]  4593  .endc
                  [00775C]  4594  
         47FF0400 [00775C]  4595  	or	r31, r31, r0			; success
         77FF1310 [007760]  4596  	hw_mtpr	r31, EV6__IC_FLUSH		; flush icache
         F7E00000 [007764]  4597  	bne	r31, .				; pvc #24
         7BF7A000 [007768]  4598  	hw_ret_stall (p23)			; switch complete
                  [00776C]  4599  
                  [00776C]  4600  ;------------------------------------------------------------------------
                  [00776C]  4601  ;+
                  [00776C]  4602  ; We must have jumped through 0. What should we do here?
                  [00776C]  4603  ; Hey, how about doing an enter_console?
                  [00776C]  4604  ;-
                  [00776C]  4605  sys__reset_noswitch:
         229F0040 [00776C]  4606  	lda	p20, HALT__JUMP0(r31)		; halt code of jump0
         7E9510F0 [007770]  4607  	hw_stq/p p20, PT__HALT_CODE(p_temp)	; store halt code
         C3FFFE82 [007774]  4608  	br	r31, sys__enter_console		; enter console
                  [007778]  4609  
                  [007778]  4610  
                  [007778]  4611  ;========================================================================
                  [007778]  4612  ;+
                  [007778]  4613  ; sys__wakeup
                  [007778]  4614  ;
                  [007778]  4615  ; Entry:
                  [007778]  4616  ;	A continuation of the wakeup code.
                  [007778]  4617  ;
                  [007778]  4618  ; Current state:
                  [007778]  4619  ;	Retirator initialized.
                  [007778]  4620  ;	Registers mapped.
                  [007778]  4621  ;	shadow registers mapped.
                  [007778]  4622  ;	EV6__I_CTL = <<3@EV6__I_CTL__IC_EN__S> ! -
                  [007778]  4623  ;			<2@EV6__I_CTL__SDE__S> ! -
                  [007778]  4624  ;			<1@EV6__I_CTL__CALL_PAL_R23__S>>
                  [007778]  4625  ;	EV6__SIRR<28:14>	cpu number
                  [007778]  4626  ;	EV6__PAL_BASE		PAL base
                  [007778]  4627  ;-
                  [007778]  4628  	ALIGN_CACHE_BLOCK <^x43FF0400>		; pad with addq r31, r31, r0
File: ev6_pal_macros.mar
43FF0400 43FF0400 [007778]   268i 	.align 6, <^x43FF0400>
File: ev6_osf_system_pal.mar
                  [007780]  4629  
                  [007780]  4630  sys__wakeup:
                  [007780]  4631  
                  [007780]  4632  ;+
                  [007780]  4633  ; Now write the correct write-many chain, enabling the bcache.
                  [007780]  4634  ; First pull the code into the icache.
                  [007780]  4635  ;
                  [007780]  4636  ; Current state:
                  [007780]  4637  ;	SBE	off
                  [007780]  4638  ;	Bcache	off
                  [007780]  4639  ;-
                  [007780]  4640  
                  [007780]  4641  sys__wakeup_write_many_chain:
         64BF0C10 [007780]  4642  	hw_mfpr	p5, EV6__SIRR			; (4,0L) get cpu number
         48A1D685 [007784]  4643  	srl 	p5, #EV6__SIRR__SIR__S, p5	; shift down
                  [007788]  4644  
                  [007788]  4645  	GET_32CONS	p_temp, PAL__TEMPS_BASE, r31		; pal_temps base
File: ev6_pal_macros.mar
                  [007788]   234i  ASSUME <pal__temps_base> le  <^x7FFFFFFF>
         26BF0000 [007788]   235M 	ldah	p_temp,<<pal__temps_base>+32768>@-16(r31); + xxx<31:16>
         22B51C00 [00778C]   236M 	lda	p_temp,<<pal__temps_base> & ^XFFFF>(p_temp) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
                  [007790]  4646  	GET_32CONS	p4, PAL__TEMPS_SPECIFIC_SIZE, r31	; specific size
File: ev6_pal_macros.mar
                  [007790]   234i  ASSUME <pal__temps_specific_size> le  <^x7FFFFFFF>
         249F0000 [007790]   235M 	ldah	p4,<<pal__temps_specific_size>+32768>@-16(r31); + xxx<31:16>
         20840200 [007794]   236M 	lda	p4,<<pal__temps_specific_size> & ^XFFFF>(p4) ; r31+xxx<15:0>
File: ev6_osf_system_pal.mar
         4CA40404 [007798]  4647  	mulq	p5, p4, p4					; whami * size
         42A40415 [00779C]  4648  	addq	p_temp, p4, p_temp				; cpu base
                  [0077A0]  4649  
         6CD510C0 [0077A0]  4650  	hw_ldq/p p6, PT__IMPURE(p_temp)		; get base of impure area
         6C4613A8 [0077A4]  4651  	hw_ldq/p r2, CNS__WRITE_MANY(p6)	; get write-many chain value
                  [0077A8]  4652  
                  [0077A8]  4653  	ALIGN_CACHE_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
47FF041F 47FF041F [0077A8]   268i 	.align 6, <^x47FF041F>
47FF041F 47FF041F [0077B0]
47FF041F 47FF041F [0077B8]
File: ev6_osf_system_pal.mar
                  [0077C0]  4654  
                  [0077C0]  4655  sys__wakeup_touch1:
         63FF4000 [0077C0]  4656  	mb					; (1)
         C3E0000E [0077C4]  4657  	br	r31, sys__wakeup_touch2		; (2)
         47FF041F [0077C8]  4658  	bis	r31, r31, r31			; (3)
         47FF041F [0077CC]  4659  	bis	r31, r31, r31			; (4)				
                  [0077D0]  4660  
                  [0077D0]  4661  sys__wakeup_bc_on:
         47FF041F [0077D0]  4662  	bis	r31, r31, r31			; (4)				
         43E0D400 [0077D4]  4663  	addq	r31, #6, r0			; (6) shift in 6x 6-bits
                  [0077D8]  4664  sys__wakeup_bc_on_loop::
                  [0077D8]  4665  	PVC_VIOLATE<30>				;
File: ev6_pal_macros.mar
                  [0077D8]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         77E22B40 [0077D8]  4666  	hw_mtpr	r2, EV6__DATA			; (7) (6,0L) shift in 6 bits
         40003520 [0077DC]  4667  	subq	r0, #1, r0			; (8) decrement R0
                  [0077E0]  4668  
         E4000002 [0077E0]  4669  	beq	r0, sys__wakeup_bc_on_done	; (9) done if R0 is zero
         4840D682 [0077E4]  4670  	srl	r2, #6, r2			; (10) align next 6 bits
         C3FFFFFB [0077E8]  4671  	br	r31, sys__wakeup_bc_on_loop	; (11) continue shifting
                  [0077EC]  4672  sys__wakeup_bc_on_done:
         77FF2740 [0077EC]  4673  	hw_mtpr	r31, <EV6__MM_STAT ! ^x40>	; (12) IPR write - sets SCBD 6
                  [0077F0]  4674  
         77FF2740 [0077F0]  4675  	hw_mtpr	r31, <EV6__MM_STAT ! ^x40>	; (13) stalls until write retires
         E7E00004 [0077F4]  4676  	beq	r31, sys__wakeup_probe		; (14) predicts fall thru
                  [0077F8]  4677  	PVC_VIOLATE <1006>
File: ev6_pal_macros.mar
                  [0077F8]   543i  pvc_lbl \pcv_index, \pcv_rule, osf
File: ev6_osf_system_pal.mar
         C3FFFFFF [0077F8]  4678  	br	r31, .-4			; (15) predict infinite loop
         43FF0402 [0077FC]  4679  	addq	r31, r31, r2			; (16) nop
                  [007800]  4680  
                  [007800]  4681  	ALIGN_CACHE_BLOCK <^x47FF041F>		; align with nops
File: ev6_pal_macros.mar
                  [007800]   268i 	.align 6, <^x47FF041F>
File: ev6_osf_system_pal.mar
                  [007800]  4682  ;+
                  [007800]  4683  ; Now write the Cchip PRBEN, to renable probes.
                  [007800]  4684  ;-
                  [007800]  4685  sys__wakeup_touch2:
         63FF4000 [007800]  4686  	mb
         C3FFFFF2 [007804]  4687  	br	r31, sys__wakeup_bc_on
                  [007808]  4688  
                  [007808]  4689  sys__wakeup_probe:
         209F801A [007808]  4690  	lda	p4, ^x801A(r31)			; start to generate csr addr
         48807624 [00780C]  4691  	zapnot	p4, #3, p4			; zap extension
         48839724 [007810]  4692  	sll	p4, #28, p4			; now have 801.A000.0000
         7FE41340 [007814]  4693  	hw_stq/p r31, ^x340(p4)			; write to PRBEN
                  [007818]  4694  ;+
                  [007818]  4695  ; Get the proper IICx register.
                  [007818]  4696  ; 
                  [007818]  4697  ; Current state:
                  [007818]  4698  ;	p5	cpu number
                  [007818]  4699  ;-
                  [007818]  4700  
                  [007818]  4701  sys__wakeup_get_ticks:
                  [007818]  4702  
                  [007818]  4703  ;
                  [007818]  4704  ; Get address of IICx register.
                  [007818]  4705  ;
                  [007818]  4706  ; IICx	cpu 0	380	00 => 0011 1000 0000
                  [007818]  4707  ;	cpu 1	3c0	01 => 0011 1100 0000
                  [007818]  4708  ;	cpu 2	700	10 => 0111 0000 0000
                  [007818]  4709  ;	cpu 3	740	11 => 0111 0100 0000
                  [007818]  4710  ;
                  [007818]  4711  ;So we start with ^b0011 0000 0000
                  [007818]  4712  ;Then OR the whami into <10:9>
                  [007818]  4713  ;Then we XOR whami with ^b10 and OR it into <7:6>
                  [007818]  4714  ;
         209F801A [007818]  4715  	lda	p4, ^x801A(r31)			; start to generate csr addr
         48807624 [00781C]  4716  	zapnot	p4, #3, p4			; zap extension
         48839724 [007820]  4717  	sll	p4, #28, p4			; now have 801.A000.0000
         20840300 [007824]  4718  	lda	p4, ^x300(p4)			; now have 801.A000.0300
                  [007828]  4719  
         48A13726 [007828]  4720  	sll	p5, #9, p6			; move whami to <10:9>
         44A05807 [00782C]  4721  	xor	p5, #^b10, p7			; xor
         48E0D727 [007830]  4722  	sll	p7, #6, p7			; move to <7:6>
                  [007834]  4723  
         44860404 [007834]  4724  	bis	p4, p6, p4			; OR into <10:9>
         44870404 [007838]  4725  	bis	p4, p7, p4			; OR into <7:6> to get IICx
                  [00783C]  4726  
         6E841000 [00783C]  4727  	hw_ldq/p  p20, (p4)			; get remaining ticks
                  [007840]  4728  
                  [007840]  4729  ;+
                  [007840]  4730  ; Now restore state.
                  [007840]  4731  ;
                  [007840]  4732  ; Current state:
                  [007840]  4733  ;	p20<24>		overflow bit
                  [007840]  4734  ;	p20<23:0>	remaining ticks
                  [007840]  4735  ;	p_temp		valid
                  [007840]  4736  ;
                  [007840]  4737  ;	PT__IMPURE	valid
                  [007840]  4738  ;-
                  [007840]  4739  
                  [007840]  4740  	PVC_JSR	restore_state, bsr=1
File: ev6_pal_macros.mar
                  [007840]   526i  pvc_lbl \pcv_index, \pcv_jsr_restore_state0, osf
File: ev6_osf_system_pal.mar
         D0FFF4FC [007840]  4741  	bsr	p7, pal__restore_state		; restore state
                  [007844]  4742  
                  [007844]  4743  ;+
                  [007844]  4744  ; Now calculate ticks skipped. The counter keeps decrementing. Should the return
                  [007844]  4745  ; count max out at requested ticks? Or should be add in any additional? Right
                  [007844]  4746  ; now we max out at requested ticks.
                  [007844]  4747  ;
                  [007844]  4748  ; Current state:
                  [007844]  4749  ;	p20<24>		overflow bit
                  [007844]  4750  ;	p20<23:0>	remaining ticks
                  [007844]  4751  ;	p23		return address
                  [007844]  4752  ;
                  [007844]  4753  ;	r16	number of ticks to skip
                  [007844]  4754  ;-
                  [007844]  4755  
         4A831684 [007844]  4756  	srl	p20, #24, p4			; overflow bit
         4A80F634 [007848]  4757  	zapnot	p20, #7, p20			; ticks remaining
                  [00784C]  4758  
         4A00F625 [00784C]  4759  	zapnot	r16, #7, p5			; clean original number of ticks
         40B40520 [007850]  4760  	subq	p5, p20, r0			; get ticks skipped
         44850280 [007854]  4761  	cmovlbs	p4, p5, r0			; if overflow => all
                  [007858]  4762  
                  [007858]  4763  ;+
                  [007858]  4764  ; Now we are done!
                  [007858]  4765  ;-
         7BF78000 [007858]  4766  	hw_ret (p23)				; we are done!
                  [00785C]  4767  
                  [00785C]  4768  
                  [00785C]  4769  ;------------------------------------------------------------------------
                  [00785C]  4770  ;+
                  [00785C]  4771  ; Routines for non-srm console on reference platform to do
                  [00785C]  4772  ; i/o on the serial port.
                  [00785C]  4773  ;-
                  [00785C]  4774  
                  [00785C]  4775  .if ne srom_serial_io
                  [00785C]  4776  
                  [00785C]  4777  	SROM_CSERVES
                  [00785C]  4778  
                  [00785C]  4779  	SROM_IO_FUNCTIONS
                  [00785C]  4780  
                  [00785C]  4781  .endc
                  [00785C]  4782  
                  [00785C]  4783  	END_FREE_CODE
                  [00785C]  4784  


			SYMBOL TABLE
			------------
_new_code_space                = [00000000 0000785C]  
_pal_func_cont                 = [00000000 00000001]  
_pal_func_in_prog              = [00000000 00000000]  
_pal_vec_cont                  = [00000000 00000000]  
_start_of_last_pal_func        = [00000000 00003B80]  
_start_of_last_vec             = [00000000 00000780]  
add_extra_ret                  = [00000000 00000001]  
arith_cm_offset                = [00000000 00000010]  
arith_fpcr_offset              = [00000000 00000010]  
asn_shift                      = [00000000 00000011]  
baud_9600                      = [00000000 0000000C]  
bcache_size                    = [00000000 00000017]  
beh_model                      = [00000000 00000000]  
bpt_cm_offset                  = [00000000 00000010]  
c_addr_shift                   = [00000000 00000029]  
call_pal__bpt                  = [00000000 00003000]  
call_pal__bpt_cont_extra       = [00000000 00005CC0]  Branch Displacement at 0000301C in PSECT 0000
call_pal__bpt_post_if          = [00000000 00005CCC]  Branch Displacement at 00005CC8 in PSECT 0000
                                                      Branch Displacement at 00005D48 in PSECT 0000
                                                      Branch Displacement at 00005EA4 in PSECT 0000
                                                      Branch Displacement at 00005F48 in PSECT 0000
call_pal__bugchk               = [00000000 00003040]  
call_pal__bugchk_cont_extra    = [00000000 00005D40]  Branch Displacement at 0000305C in PSECT 0000
call_pal__callsys              = [00000000 000030C0]  
call_pal__callsys_cont         = [00000000 00005DB0]  Branch Displacement at 00005DAC in PSECT 0000
call_pal__callsys_cont_extra   = [00000000 00005D80]  Branch Displacement at 000030DC in PSECT 0000
call_pal__cflush               = [00000000 00002040]  
call_pal__cflush_cont_extra    = [00000000 00005000]  Branch Displacement at 0000205C in PSECT 0000
call_pal__clrfen               = [00000000 00003B80]  
call_pal__clrfen_cont          = [00000000 00005FC0]  Branch Displacement at 00005FBC in PSECT 0000
call_pal__clrfen_cont_extra    = [00000000 00005F80]  Branch Displacement at 00003B9C in PSECT 0000
call_pal__cserve               = [00000000 00002240]  
call_pal__cserve_cont_extra    = [00000000 00005080]  Branch Displacement at 0000225C in PSECT 0000
call_pal__draina               = [00000000 00002080]  
call_pal__draina_cont_extra    = [00000000 00005040]  Branch Displacement at 0000209C in PSECT 0000
call_pal__gentrap              = [00000000 00003A80]  
call_pal__gentrap_cont_extra   = [00000000 00005F40]  Branch Displacement at 00003A9C in PSECT 0000
call_pal__halt                 = [00000000 00002000]  
call_pal__halt_cont_extra      = [00000000 00004FC0]  Branch Displacement at 0000201C in PSECT 0000
call_pal__imb                  = [00000000 00003180]  
call_pal__imb_cont_extra       = [00000000 00005E00]  Branch Displacement at 0000319C in PSECT 0000
call_pal__perfmon_dis          = [00000000 00005840]  Branch Displacement at 0000580C in PSECT 0000
call_pal__perfmon_en           = [00000000 000058C0]  Branch Displacement at 000057E4 in PSECT 0000
call_pal__perfmon_en_wr        = [00000000 00005A40]  Branch Displacement at 00005804 in PSECT 0000
call_pal__perfmon_mux          = [00000000 00005900]  Branch Displacement at 000057EC in PSECT 0000
call_pal__perfmon_opt          = [00000000 00005940]  Branch Displacement at 000057F4 in PSECT 0000
call_pal__perfmon_rd           = [00000000 00005980]  Branch Displacement at 000057C4 in PSECT 0000
call_pal__perfmon_rd_istat     = [00000000 00005A80]  Branch Displacement at 000057D4 in PSECT 0000
call_pal__perfmon_rd_pmpc      = [00000000 00005A98]  Branch Displacement at 000057DC in PSECT 0000
call_pal__perfmon_unknown      = [00000000 00005AA4]  Branch Displacement at 00005808 in PSECT 0000
call_pal__perfmon_wr           = [00000000 000059C0]  Branch Displacement at 000057CC in PSECT 0000
                                                      Branch Displacement at 00005A54 in PSECT 0000
call_pal__perfmon_wr_1         = [00000000 000059E0]  Branch Displacement at 000059CC in PSECT 0000
call_pal__perfmon_wr_ipr       = [00000000 000059F8]  Branch Displacement at 000059E4 in PSECT 0000
call_pal__perfmon_zap          = [00000000 000058A4]  Branch Displacement at 00005898 in PSECT 0000
call_pal__rdmces               = [00000000 00002400]  
call_pal__rdmces_cont_extra    = [00000000 00005180]  Branch Displacement at 0000241C in PSECT 0000
call_pal__rdps                 = [00000000 00002D80]  
call_pal__rdps_cont_extra      = [00000000 00005700]  Branch Displacement at 00002D9C in PSECT 0000
call_pal__rdunique             = [00000000 00003780]  
call_pal__rdunique_cont_extra  = [00000000 00005EC0]  Branch Displacement at 0000379C in PSECT 0000
call_pal__rdusp                = [00000000 00002E80]  
call_pal__rdusp_cont_extra     = [00000000 00005AC0]  Branch Displacement at 00002E9C in PSECT 0000
call_pal__rdval                = [00000000 00002C80]  
call_pal__rdval_cont_extra     = [00000000 00005400]  Branch Displacement at 00002C9C in PSECT 0000
call_pal__retsys               = [00000000 00002F40]  
call_pal__retsys_cont          = [00000000 00005B70]  Branch Displacement at 00005B6C in PSECT 0000
call_pal__retsys_cont_extra    = [00000000 00005B40]  Branch Displacement at 00002F5C in PSECT 0000
call_pal__rti                  = [00000000 00002FC0]  
call_pal__rti_cont             = [00000000 00005C30]  Branch Displacement at 00005C2C in PSECT 0000
call_pal__rti_cont_extra       = [00000000 00005C00]  Branch Displacement at 00002FDC in PSECT 0000
call_pal__rti_to_kern          = [00000000 00005C78]  Branch Displacement at 00005C28 in PSECT 0000
call_pal__start                = [00000000 00002000]  
call_pal__swpctx               = [00000000 00002C00]  
call_pal__swpctx_cont          = [00000000 00005300]  Branch Displacement at 000052F8 in PSECT 0000
call_pal__swpctx_cont_extra    = [00000000 000052C0]  Branch Displacement at 00002C1C in PSECT 0000
call_pal__swpipl               = [00000000 00002D40]  
call_pal__swpipl_cont_extra    = [00000000 000056C0]  Branch Displacement at 00002D5C in PSECT 0000
call_pal__swppal               = [00000000 00002280]  
call_pal__swppal_addr          = [00000000 00005124]  Branch Displacement at 000050CC in PSECT 0000
call_pal__swppal_cont          = [00000000 00005100]  Branch Displacement at 000050FC in PSECT 0000
                                                      Branch Displacement at 00005134 in PSECT 0000
call_pal__swppal_cont_extra    = [00000000 000050C0]  Branch Displacement at 0000229C in PSECT 0000
call_pal__swppal_fail          = [00000000 00005138]  Branch Displacement at 000050D4 in PSECT 0000
                                                      Branch Displacement at 000050F0 in PSECT 0000
                                                      Branch Displacement at 00005104 in PSECT 0000
                                                      Branch Displacement at 00005130 in PSECT 0000
call_pal__swppal_osf           = [00000000 000050E8]  Branch Displacement at 000050DC in PSECT 0000
call_pal__tbi                  = [00000000 00002CC0]  
call_pal__tbi_addr             = [00000000 00005448]  Branch Displacement at 00005444 in PSECT 0000
call_pal__tbi_cont_extra       = [00000000 00005440]  Branch Displacement at 00002CDC in PSECT 0000
call_pal__tbi_out              = [00000000 00005468]  Branch Displacement at 00005454 in PSECT 0000
call_pal__urti                 = [00000000 00003480]  
call_pal__urti_cont            = [00000000 00005E70]  Branch Displacement at 00005E6C in PSECT 0000
call_pal__urti_cont_extra      = [00000000 00005E40]  Branch Displacement at 0000349C in PSECT 0000
call_pal__urti_illop           = [00000000 00005E94]  Branch Displacement at 00005E58 in PSECT 0000
                                                      Branch Displacement at 00005E68 in PSECT 0000
call_pal__urti_ldq             = [00000000 00005E5C]  
call_pal__whami                = [00000000 00002F00]  
call_pal__whami_cont_extra     = [00000000 00005B00]  Branch Displacement at 00002F1C in PSECT 0000
call_pal__wrent                = [00000000 00002D00]  
call_pal__wrent_addr           = [00000000 00005604]  Branch Displacement at 00005600 in PSECT 0000
call_pal__wrent_cont_extra     = [00000000 00005600]  Branch Displacement at 00002D1C in PSECT 0000
call_pal__wrent_out            = [00000000 00005628]  Branch Displacement at 00005610 in PSECT 0000
call_pal__wrfen                = [00000000 00002AC0]  
call_pal__wrfen_cont           = [00000000 00005240]  Branch Displacement at 0000523C in PSECT 0000
call_pal__wrfen_cont_extra     = [00000000 00005200]  Branch Displacement at 00002ADC in PSECT 0000
call_pal__wripir               = [00000000 00002340]  
call_pal__wripir_cont_extra    = [00000000 00005140]  Branch Displacement at 0000235C in PSECT 0000
call_pal__wrkgp                = [00000000 00002DC0]  
call_pal__wrkgp_cont_extra     = [00000000 00005740]  Branch Displacement at 00002DDC in PSECT 0000
call_pal__wrmces               = [00000000 00002440]  
call_pal__wrmces_cont_extra    = [00000000 000051C0]  Branch Displacement at 0000245C in PSECT 0000
call_pal__wrperfmon            = [00000000 00002E40]  
call_pal__wrperfmon_cont       = [00000000 00005800]  Branch Displacement at 000057F8 in PSECT 0000
call_pal__wrperfmon_cont_extra = [00000000 000057C0]  Branch Displacement at 00002E5C in PSECT 0000
call_pal__wrunique             = [00000000 000037C0]  
call_pal__wrunique_cont_extra  = [00000000 00005F00]  Branch Displacement at 000037DC in PSECT 0000
call_pal__wrusp                = [00000000 00002E00]  
call_pal__wrusp_cont_extra     = [00000000 00005780]  Branch Displacement at 00002E1C in PSECT 0000
call_pal__wrval                = [00000000 00002C40]  
call_pal__wrval_cont_extra     = [00000000 000053C0]  Branch Displacement at 00002C5C in PSECT 0000
call_pal__wrvptptr             = [00000000 00002B40]  
call_pal__wrvptptr_cont_extra  = [00000000 00005280]  Branch Displacement at 00002B5C in PSECT 0000
call_pal__wtint                = [00000000 00002F80]  
call_pal__wtint_cont_extra     = [00000000 00005BC0]  Branch Displacement at 00002F9C in PSECT 0000
callsys_cm_offset              = [00000000 00000010]  
cfw__jtopal                    = [00000000 00007100]  Branch Displacement at 000070DC in PSECT 0000
cfw__rd_impure                 = [00000000 00007150]  Branch Displacement at 000070E4 in PSECT 0000
cfw__start                     = [00000000 000070F4]  Branch Displacement at 000070EC in PSECT 0000
chain__dc0__s                  = [00000000 0000002C]  
chain__dc0__v                  = [00000000 00000008]  
chain__dc1__s                  = [00000000 00000034]  
chain__dc1__v                  = [00000000 00000008]  
chain__stat__s                 = [00000000 00000027]  
chain__stat__v                 = [00000000 00000005]  
chain__sts__s                  = [00000000 00000023]  
chain__sts__v                  = [00000000 00000004]  
char_8bit                      = [00000000 00000003]  
check_ebox_iprs                = [00000000 00000000]  
check_interrupt_pending        = [00000000 00000001]  
clrmap                         = [00000000 00000000]  
cns__autobaud_calib            = [00000000 000003B0]  
cns__behav_data                = [00000000 000003B8]  
cns__cchip_dirx                = [00000000 000003C0]  
cns__cchip_misc                = [00000000 000003C8]  
cns__cycle_cnt                 = [00000000 00000288]  
cns__dc_ctl                    = [00000000 00000398]  
cns__dc_stat                   = [00000000 000003A0]  
cns__dtb_alt_mode              = [00000000 00000380]  
cns__exc_addr                  = [00000000 00000330]  
cns__exc_sum                   = [00000000 00000350]  
cns__f0                        = [00000000 00000110]  
cns__f1                        = [00000000 00000118]  
cns__f10                       = [00000000 00000160]  
cns__f11                       = [00000000 00000168]  
cns__f12                       = [00000000 00000170]  
cns__f13                       = [00000000 00000178]  
cns__f14                       = [00000000 00000180]  
cns__f15                       = [00000000 00000188]  
cns__f16                       = [00000000 00000190]  
cns__f17                       = [00000000 00000198]  
cns__f18                       = [00000000 000001A0]  
cns__f19                       = [00000000 000001A8]  
cns__f2                        = [00000000 00000120]  
cns__f20                       = [00000000 000001B0]  
cns__f21                       = [00000000 000001B8]  
cns__f22                       = [00000000 000001C0]  
cns__f23                       = [00000000 000001C8]  
cns__f24                       = [00000000 000001D0]  
cns__f25                       = [00000000 000001D8]  
cns__f26                       = [00000000 000001E0]  
cns__f27                       = [00000000 000001E8]  
cns__f28                       = [00000000 000001F0]  
cns__f29                       = [00000000 000001F8]  
cns__f3                        = [00000000 00000128]  
cns__f30                       = [00000000 00000200]  
cns__f31                       = [00000000 00000208]  
cns__f4                        = [00000000 00000130]  
cns__f5                        = [00000000 00000138]  
cns__f6                        = [00000000 00000140]  
cns__f7                        = [00000000 00000148]  
cns__f8                        = [00000000 00000150]  
cns__f9                        = [00000000 00000158]  
cns__flag                      = [00000000 00000000]  
cns__fpcr                      = [00000000 00000318]  
cns__halt                      = [00000000 00000008]  
cns__halt_code                 = [00000000 00000248]  
cns__i_ctl                     = [00000000 00000360]  
cns__i_stat                    = [00000000 00000378]  
cns__ier_cm                    = [00000000 00000338]  
cns__impure                    = [00000000 00000218]  
cns__isum                      = [00000000 00000348]  
cns__ksp                       = [00000000 00000250]  
cns__m_ctl                     = [00000000 00000390]  
cns__mchkflag                  = [00000000 00000210]  
cns__mem_size                  = [00000000 00000280]  
cns__mm_stat                   = [00000000 00000388]  
cns__p20                       = [00000000 000002F8]  
cns__p23                       = [00000000 00000310]  
cns__p4                        = [00000000 000002D8]  
cns__p5                        = [00000000 000002E0]  
cns__p6                        = [00000000 000002E8]  
cns__p7                        = [00000000 000002F0]  
cns__p_misc                    = [00000000 00000308]  
cns__p_temp                    = [00000000 00000300]  
cns__pal_base                  = [00000000 00000358]  
cns__pcbb                      = [00000000 00000260]  
cns__pchip0_err                = [00000000 000003D0]  
cns__pchip1_err                = [00000000 000003D8]  
cns__pctr_ctl                  = [00000000 00000368]  
cns__place_holder18            = [00000000 000002A8]  
cns__place_holder19            = [00000000 000002B0]  
cns__place_holder20            = [00000000 000002B8]  
cns__place_holder21            = [00000000 000002C0]  
cns__place_holder22            = [00000000 000002C8]  
cns__place_holder23            = [00000000 000002D0]  
cns__prbr                      = [00000000 00000230]  
cns__proc_id                   = [00000000 00000278]  
cns__proc_mask                 = [00000000 00000298]  
cns__process_context           = [00000000 00000370]  
cns__ptbr                      = [00000000 00000238]  
cns__r0                        = [00000000 00000010]  
cns__r1                        = [00000000 00000018]  
cns__r10                       = [00000000 00000060]  
cns__r11                       = [00000000 00000068]  
cns__r12                       = [00000000 00000070]  
cns__r13                       = [00000000 00000078]  
cns__r14                       = [00000000 00000080]  
cns__r15                       = [00000000 00000088]  
cns__r16                       = [00000000 00000090]  
cns__r17                       = [00000000 00000098]  
cns__r18                       = [00000000 000000A0]  
cns__r19                       = [00000000 000000A8]  
cns__r2                        = [00000000 00000020]  
cns__r20                       = [00000000 000000B0]  
cns__r21                       = [00000000 000000B8]  
cns__r22                       = [00000000 000000C0]  
cns__r23                       = [00000000 000000C8]  
cns__r24                       = [00000000 000000D0]  
cns__r25                       = [00000000 000000D8]  
cns__r26                       = [00000000 000000E0]  
cns__r27                       = [00000000 000000E8]  
cns__r28                       = [00000000 000000F0]  
cns__r29                       = [00000000 000000F8]  
cns__r3                        = [00000000 00000028]  
cns__r30                       = [00000000 00000100]  
cns__r31                       = [00000000 00000108]  
cns__r4                        = [00000000 00000030]  
cns__r5                        = [00000000 00000038]  
cns__r6                        = [00000000 00000040]  
cns__r7                        = [00000000 00000048]  
cns__r8                        = [00000000 00000050]  
cns__r9                        = [00000000 00000058]  
cns__scbb                      = [00000000 00000258]  
cns__scc                       = [00000000 00000228]  
cns__signature                 = [00000000 00000290]  
cns__sirr                      = [00000000 00000340]  
cns__size                      = [00000000 000003E0]  
cns__srom_rev                  = [00000000 00000270]  
cns__sysctx                    = [00000000 000002A0]  
cns__trap                      = [00000000 00000240]  
cns__va                        = [00000000 00000320]  
cns__va_ctl                    = [00000000 00000328]  
cns__vptb                      = [00000000 00000268]  
cns__whami                     = [00000000 00000220]  
cns__write_many                = [00000000 000003A8]  
com1                           = [00000000 000003F8]  
com2                           = [00000000 000002F8]  
crd_en                         = [00000000 00000001]  
cserve__callback               = [00000000 00000002]  
cserve__jtopal                 = [00000000 00000009]  
cserve__rd_impure              = [00000000 0000000B]  
cserve__start                  = [00000000 00000001]  
cserve_k_srom_getc             = [00000000 00000020]  
cserve_k_srom_init             = [00000000 00000018]  
cserve_k_srom_putc             = [00000000 00000019]  
cserve_k_srom_putnum           = [00000000 00000031]  
cserve_k_srom_putstr           = [00000000 00000030]  
dcache_set_en                  = [00000000 00000003]  
dcdat_err_en                   = [00000000 00000001]  
dctag_par_en                   = [00000000 00000001]  
debug_dmiss                    = [00000000 00000000]  
debug_err                      = [00000000 00000000]  
debug_imiss                    = [00000000 00000000]  
debug_init                     = [00000000 00000000]  
debug_ints                     = [00000000 00000000]  
debug_ipi                      = [00000000 00000000]  
debug_ipl                      = [00000000 00000000]  
debug_mchk                     = [00000000 00000000]  
debug_swap                     = [00000000 00000000]  
dfault_cm_offset               = [00000000 00000010]  
dll                            = [00000000 00000000]  
dlm                            = [00000000 00000001]  
dpte_cm_offset                 = [00000000 00000010]  
dstream_dc_err                 = [00000000 00000005]  
e_bpt                          = [00000000 00003014]  
e_bugchk                       = [00000000 00003054]  
e_callsys                      = [00000000 000030D4]  
e_cflush                       = [00000000 00002054]  
e_clrfen                       = [00000000 00003B94]  
e_cserve                       = [00000000 00002254]  
e_draina                       = [00000000 00002094]  
e_gentrap                      = [00000000 00003A94]  
e_halt                         = [00000000 00002014]  
e_imb                          = [00000000 00003194]  
e_rdmces                       = [00000000 00002414]  
e_rdps                         = [00000000 00002D94]  
e_rdunique                     = [00000000 00003794]  
e_rdusp                        = [00000000 00002E94]  
e_rdval                        = [00000000 00002C94]  
e_retsys                       = [00000000 00002F54]  
e_rti                          = [00000000 00002FD4]  
e_swpctx                       = [00000000 00002C14]  
e_swpipl                       = [00000000 00002D54]  
e_swppal                       = [00000000 00002294]  
e_tbi                          = [00000000 00002CD4]  
e_urti                         = [00000000 00003494]  
e_whami                        = [00000000 00002F14]  
e_wrent                        = [00000000 00002D14]  
e_wrfen                        = [00000000 00002AD4]  
e_wripir                       = [00000000 00002354]  
e_wrkgp                        = [00000000 00002DD4]  
e_wrmces                       = [00000000 00002454]  
e_wrperfmon                    = [00000000 00002E54]  
e_wrunique                     = [00000000 000037D4]  
e_wrusp                        = [00000000 00002E14]  
e_wrval                        = [00000000 00002C54]  
e_wrvptptr                     = [00000000 00002B54]  
e_wtint                        = [00000000 00002F94]  
egore                          = [00000000 00000000]  
ev6__arith_entry               = [00000000 00000600]  
ev6__asn                       = [00000000 00004110]  
ev6__asn__asn__m               = [00000000 000000FF]  
ev6__asn__asn__s               = [00000000 00000027]  
ev6__asn__asn__v               = [00000000 00000008]  
ev6__asn__aster__m             = [00000000 0000000F]  
ev6__asn__aster__s             = [00000000 00000005]  
ev6__asn__aster__v             = [00000000 00000004]  
ev6__asn__astrr__m             = [00000000 0000000F]  
ev6__asn__astrr__s             = [00000000 00000009]  
ev6__asn__astrr__v             = [00000000 00000004]  
ev6__asn__fpe__m               = [00000000 00000001]  
ev6__asn__fpe__s               = [00000000 00000002]  
ev6__asn__fpe__v               = [00000000 00000001]  
ev6__asn__ppce__m              = [00000000 00000001]  
ev6__asn__ppce__s              = [00000000 00000001]  
ev6__asn__ppce__v              = [00000000 00000001]  
ev6__asn__rsv0__m              = [00000000 00000001]  
ev6__asn__rsv0__s              = [00000000 00000000]  
ev6__asn__rsv0__v              = [00000000 00000001]  
ev6__asn__rsv1__m              = [00000000 00000003]  
ev6__asn__rsv1__s              = [00000000 00000003]  
ev6__asn__rsv1__v              = [00000000 00000002]  
ev6__asn__rsv2__m              = [00000000 03FFFFFF]  
ev6__asn__rsv2__s              = [00000000 0000000D]  
ev6__asn__rsv2__v              = [00000000 0000001A]  
ev6__asn__rsv3__m              = [00000000 0001FFFF]  
ev6__asn__rsv3__s              = [00000000 0000002F]  
ev6__asn__rsv3__v              = [00000000 00000011]  
ev6__asn_aster                 = [00000000 00004310]  
ev6__asn_aster__asn__m         = [00000000 000000FF]  
ev6__asn_aster__asn__s         = [00000000 00000027]  
ev6__asn_aster__asn__v         = [00000000 00000008]  
ev6__asn_aster__aster__m       = [00000000 0000000F]  
ev6__asn_aster__aster__s       = [00000000 00000005]  
ev6__asn_aster__aster__v       = [00000000 00000004]  
ev6__asn_aster__astrr__m       = [00000000 0000000F]  
ev6__asn_aster__astrr__s       = [00000000 00000009]  
ev6__asn_aster__astrr__v       = [00000000 00000004]  
ev6__asn_aster__fpe__m         = [00000000 00000001]  
ev6__asn_aster__fpe__s         = [00000000 00000002]  
ev6__asn_aster__fpe__v         = [00000000 00000001]  
ev6__asn_aster__ppce__m        = [00000000 00000001]  
ev6__asn_aster__ppce__s        = [00000000 00000001]  
ev6__asn_aster__ppce__v        = [00000000 00000001]  
ev6__asn_aster__rsv0__m        = [00000000 00000001]  
ev6__asn_aster__rsv0__s        = [00000000 00000000]  
ev6__asn_aster__rsv0__v        = [00000000 00000001]  
ev6__asn_aster__rsv1__m        = [00000000 00000003]  
ev6__asn_aster__rsv1__s        = [00000000 00000003]  
ev6__asn_aster__rsv1__v        = [00000000 00000002]  
ev6__asn_aster__rsv2__m        = [00000000 03FFFFFF]  
ev6__asn_aster__rsv2__s        = [00000000 0000000D]  
ev6__asn_aster__rsv2__v        = [00000000 0000001A]  
ev6__asn_aster__rsv3__m        = [00000000 0001FFFF]  
ev6__asn_aster__rsv3__s        = [00000000 0000002F]  
ev6__asn_aster__rsv3__v        = [00000000 00000011]  
ev6__asn_aster_astrr           = [00000000 00004710]  
ev6__asn_aster_astrr__asn__m   = [00000000 000000FF]  
ev6__asn_aster_astrr__asn__s   = [00000000 00000027]  
ev6__asn_aster_astrr__asn__v   = [00000000 00000008]  
ev6__asn_aster_astrr__aster__m = [00000000 0000000F]  
ev6__asn_aster_astrr__aster__s = [00000000 00000005]  
ev6__asn_aster_astrr__aster__v = [00000000 00000004]  
ev6__asn_aster_astrr__astrr__m = [00000000 0000000F]  
ev6__asn_aster_astrr__astrr__s = [00000000 00000009]  
ev6__asn_aster_astrr__astrr__v = [00000000 00000004]  
ev6__asn_aster_astrr__fpe__m   = [00000000 00000001]  
ev6__asn_aster_astrr__fpe__s   = [00000000 00000002]  
ev6__asn_aster_astrr__fpe__v   = [00000000 00000001]  
ev6__asn_aster_astrr__ppce__m  = [00000000 00000001]  
ev6__asn_aster_astrr__ppce__s  = [00000000 00000001]  
ev6__asn_aster_astrr__ppce__v  = [00000000 00000001]  
ev6__asn_aster_astrr__rsv0__m  = [00000000 00000001]  
ev6__asn_aster_astrr__rsv0__s  = [00000000 00000000]  
ev6__asn_aster_astrr__rsv0__v  = [00000000 00000001]  
ev6__asn_aster_astrr__rsv1__m  = [00000000 00000003]  
ev6__asn_aster_astrr__rsv1__s  = [00000000 00000003]  
ev6__asn_aster_astrr__rsv1__v  = [00000000 00000002]  
ev6__asn_aster_astrr__rsv2__m  = [00000000 03FFFFFF]  
ev6__asn_aster_astrr__rsv2__s  = [00000000 0000000D]  
ev6__asn_aster_astrr__rsv2__v  = [00000000 0000001A]  
ev6__asn_aster_astrr__rsv3__m  = [00000000 0001FFFF]  
ev6__asn_aster_astrr__rsv3__s  = [00000000 0000002F]  
ev6__asn_aster_astrr__rsv3__v  = [00000000 00000011]  
ev6__asn_aster_astrr_fpe       = [00000000 00005710]  
ev6__asn_aster_astrr_fpe__asn__m = [00000000 000000FF]  
ev6__asn_aster_astrr_fpe__asn__s = [00000000 00000027]  
ev6__asn_aster_astrr_fpe__asn__v = [00000000 00000008]  
ev6__asn_aster_astrr_fpe__aster__m = [00000000 0000000F]  
ev6__asn_aster_astrr_fpe__aster__s = [00000000 00000005]  
ev6__asn_aster_astrr_fpe__aster__v = [00000000 00000004]  
ev6__asn_aster_astrr_fpe__astrr__m = [00000000 0000000F]  
ev6__asn_aster_astrr_fpe__astrr__s = [00000000 00000009]  
ev6__asn_aster_astrr_fpe__astrr__v = [00000000 00000004]  
ev6__asn_aster_astrr_fpe__fpe__m = [00000000 00000001]  
ev6__asn_aster_astrr_fpe__fpe__s = [00000000 00000002]  
ev6__asn_aster_astrr_fpe__fpe__v = [00000000 00000001]  
ev6__asn_aster_astrr_fpe__ppce__m = [00000000 00000001]  
ev6__asn_aster_astrr_fpe__ppce__s = [00000000 00000001]  
ev6__asn_aster_astrr_fpe__ppce__v = [00000000 00000001]  
ev6__asn_aster_astrr_fpe__rsv0__m = [00000000 00000001]  
ev6__asn_aster_astrr_fpe__rsv0__s = [00000000 00000000]  
ev6__asn_aster_astrr_fpe__rsv0__v = [00000000 00000001]  
ev6__asn_aster_astrr_fpe__rsv1__m = [00000000 00000003]  
ev6__asn_aster_astrr_fpe__rsv1__s = [00000000 00000003]  
ev6__asn_aster_astrr_fpe__rsv1__v = [00000000 00000002]  
ev6__asn_aster_astrr_fpe__rsv2__m = [00000000 03FFFFFF]  
ev6__asn_aster_astrr_fpe__rsv2__s = [00000000 0000000D]  
ev6__asn_aster_astrr_fpe__rsv2__v = [00000000 0000001A]  
ev6__asn_aster_astrr_fpe__rsv3__m = [00000000 0001FFFF]  
ev6__asn_aster_astrr_fpe__rsv3__s = [00000000 0000002F]  
ev6__asn_aster_astrr_fpe__rsv3__v = [00000000 00000011]  
ev6__asn_aster_astrr_ppce      = [00000000 00004F10]  
ev6__asn_aster_astrr_ppce__asn__m = [00000000 000000FF]  
ev6__asn_aster_astrr_ppce__asn__s = [00000000 00000027]  
ev6__asn_aster_astrr_ppce__asn__v = [00000000 00000008]  
ev6__asn_aster_astrr_ppce__aster__m = [00000000 0000000F]  
ev6__asn_aster_astrr_ppce__aster__s = [00000000 00000005]  
ev6__asn_aster_astrr_ppce__aster__v = [00000000 00000004]  
ev6__asn_aster_astrr_ppce__astrr__m = [00000000 0000000F]  
ev6__asn_aster_astrr_ppce__astrr__s = [00000000 00000009]  
ev6__asn_aster_astrr_ppce__astrr__v = [00000000 00000004]  
ev6__asn_aster_astrr_ppce__fpe__m = [00000000 00000001]  
ev6__asn_aster_astrr_ppce__fpe__s = [00000000 00000002]  
ev6__asn_aster_astrr_ppce__fpe__v = [00000000 00000001]  
ev6__asn_aster_astrr_ppce__ppce__m = [00000000 00000001]  
ev6__asn_aster_astrr_ppce__ppce__s = [00000000 00000001]  
ev6__asn_aster_astrr_ppce__ppce__v = [00000000 00000001]  
ev6__asn_aster_astrr_ppce__rsv0__m = [00000000 00000001]  
ev6__asn_aster_astrr_ppce__rsv0__s = [00000000 00000000]  
ev6__asn_aster_astrr_ppce__rsv0__v = [00000000 00000001]  
ev6__asn_aster_astrr_ppce__rsv1__m = [00000000 00000003]  
ev6__asn_aster_astrr_ppce__rsv1__s = [00000000 00000003]  
ev6__asn_aster_astrr_ppce__rsv1__v = [00000000 00000002]  
ev6__asn_aster_astrr_ppce__rsv2__m = [00000000 03FFFFFF]  
ev6__asn_aster_astrr_ppce__rsv2__s = [00000000 0000000D]  
ev6__asn_aster_astrr_ppce__rsv2__v = [00000000 0000001A]  
ev6__asn_aster_astrr_ppce__rsv3__m = [00000000 0001FFFF]  
ev6__asn_aster_astrr_ppce__rsv3__s = [00000000 0000002F]  
ev6__asn_aster_astrr_ppce__rsv3__v = [00000000 00000011]  
ev6__asn_aster_fpe             = [00000000 00005310]  
ev6__asn_aster_fpe__asn__m     = [00000000 000000FF]  
ev6__asn_aster_fpe__asn__s     = [00000000 00000027]  
ev6__asn_aster_fpe__asn__v     = [00000000 00000008]  
ev6__asn_aster_fpe__aster__m   = [00000000 0000000F]  
ev6__asn_aster_fpe__aster__s   = [00000000 00000005]  
ev6__asn_aster_fpe__aster__v   = [00000000 00000004]  
ev6__asn_aster_fpe__astrr__m   = [00000000 0000000F]  
ev6__asn_aster_fpe__astrr__s   = [00000000 00000009]  
ev6__asn_aster_fpe__astrr__v   = [00000000 00000004]  
ev6__asn_aster_fpe__fpe__m     = [00000000 00000001]  
ev6__asn_aster_fpe__fpe__s     = [00000000 00000002]  
ev6__asn_aster_fpe__fpe__v     = [00000000 00000001]  
ev6__asn_aster_fpe__ppce__m    = [00000000 00000001]  
ev6__asn_aster_fpe__ppce__s    = [00000000 00000001]  
ev6__asn_aster_fpe__ppce__v    = [00000000 00000001]  
ev6__asn_aster_fpe__rsv0__m    = [00000000 00000001]  
ev6__asn_aster_fpe__rsv0__s    = [00000000 00000000]  
ev6__asn_aster_fpe__rsv0__v    = [00000000 00000001]  
ev6__asn_aster_fpe__rsv1__m    = [00000000 00000003]  
ev6__asn_aster_fpe__rsv1__s    = [00000000 00000003]  
ev6__asn_aster_fpe__rsv1__v    = [00000000 00000002]  
ev6__asn_aster_fpe__rsv2__m    = [00000000 03FFFFFF]  
ev6__asn_aster_fpe__rsv2__s    = [00000000 0000000D]  
ev6__asn_aster_fpe__rsv2__v    = [00000000 0000001A]  
ev6__asn_aster_fpe__rsv3__m    = [00000000 0001FFFF]  
ev6__asn_aster_fpe__rsv3__s    = [00000000 0000002F]  
ev6__asn_aster_fpe__rsv3__v    = [00000000 00000011]  
ev6__asn_aster_ppce            = [00000000 00004B10]  
ev6__asn_aster_ppce__asn__m    = [00000000 000000FF]  
ev6__asn_aster_ppce__asn__s    = [00000000 00000027]  
ev6__asn_aster_ppce__asn__v    = [00000000 00000008]  
ev6__asn_aster_ppce__aster__m  = [00000000 0000000F]  
ev6__asn_aster_ppce__aster__s  = [00000000 00000005]  
ev6__asn_aster_ppce__aster__v  = [00000000 00000004]  
ev6__asn_aster_ppce__astrr__m  = [00000000 0000000F]  
ev6__asn_aster_ppce__astrr__s  = [00000000 00000009]  
ev6__asn_aster_ppce__astrr__v  = [00000000 00000004]  
ev6__asn_aster_ppce__fpe__m    = [00000000 00000001]  
ev6__asn_aster_ppce__fpe__s    = [00000000 00000002]  
ev6__asn_aster_ppce__fpe__v    = [00000000 00000001]  
ev6__asn_aster_ppce__ppce__m   = [00000000 00000001]  
ev6__asn_aster_ppce__ppce__s   = [00000000 00000001]  
ev6__asn_aster_ppce__ppce__v   = [00000000 00000001]  
ev6__asn_aster_ppce__rsv0__m   = [00000000 00000001]  
ev6__asn_aster_ppce__rsv0__s   = [00000000 00000000]  
ev6__asn_aster_ppce__rsv0__v   = [00000000 00000001]  
ev6__asn_aster_ppce__rsv1__m   = [00000000 00000003]  
ev6__asn_aster_ppce__rsv1__s   = [00000000 00000003]  
ev6__asn_aster_ppce__rsv1__v   = [00000000 00000002]  
ev6__asn_aster_ppce__rsv2__m   = [00000000 03FFFFFF]  
ev6__asn_aster_ppce__rsv2__s   = [00000000 0000000D]  
ev6__asn_aster_ppce__rsv2__v   = [00000000 0000001A]  
ev6__asn_aster_ppce__rsv3__m   = [00000000 0001FFFF]  
ev6__asn_aster_ppce__rsv3__s   = [00000000 0000002F]  
ev6__asn_aster_ppce__rsv3__v   = [00000000 00000011]  
ev6__asn_aster_ppce_fpe        = [00000000 00005B10]  
ev6__asn_aster_ppce_fpe__asn__m = [00000000 000000FF]  
ev6__asn_aster_ppce_fpe__asn__s = [00000000 00000027]  
ev6__asn_aster_ppce_fpe__asn__v = [00000000 00000008]  
ev6__asn_aster_ppce_fpe__aster__m = [00000000 0000000F]  
ev6__asn_aster_ppce_fpe__aster__s = [00000000 00000005]  
ev6__asn_aster_ppce_fpe__aster__v = [00000000 00000004]  
ev6__asn_aster_ppce_fpe__astrr__m = [00000000 0000000F]  
ev6__asn_aster_ppce_fpe__astrr__s = [00000000 00000009]  
ev6__asn_aster_ppce_fpe__astrr__v = [00000000 00000004]  
ev6__asn_aster_ppce_fpe__fpe__m = [00000000 00000001]  
ev6__asn_aster_ppce_fpe__fpe__s = [00000000 00000002]  
ev6__asn_aster_ppce_fpe__fpe__v = [00000000 00000001]  
ev6__asn_aster_ppce_fpe__ppce__m = [00000000 00000001]  
ev6__asn_aster_ppce_fpe__ppce__s = [00000000 00000001]  
ev6__asn_aster_ppce_fpe__ppce__v = [00000000 00000001]  
ev6__asn_aster_ppce_fpe__rsv0__m = [00000000 00000001]  
ev6__asn_aster_ppce_fpe__rsv0__s = [00000000 00000000]  
ev6__asn_aster_ppce_fpe__rsv0__v = [00000000 00000001]  
ev6__asn_aster_ppce_fpe__rsv1__m = [00000000 00000003]  
ev6__asn_aster_ppce_fpe__rsv1__s = [00000000 00000003]  
ev6__asn_aster_ppce_fpe__rsv1__v = [00000000 00000002]  
ev6__asn_aster_ppce_fpe__rsv2__m = [00000000 03FFFFFF]  
ev6__asn_aster_ppce_fpe__rsv2__s = [00000000 0000000D]  
ev6__asn_aster_ppce_fpe__rsv2__v = [00000000 0000001A]  
ev6__asn_aster_ppce_fpe__rsv3__m = [00000000 0001FFFF]  
ev6__asn_aster_ppce_fpe__rsv3__s = [00000000 0000002F]  
ev6__asn_aster_ppce_fpe__rsv3__v = [00000000 00000011]  
ev6__asn_astrr                 = [00000000 00004510]  
ev6__asn_astrr__asn__m         = [00000000 000000FF]  
ev6__asn_astrr__asn__s         = [00000000 00000027]  
ev6__asn_astrr__asn__v         = [00000000 00000008]  
ev6__asn_astrr__aster__m       = [00000000 0000000F]  
ev6__asn_astrr__aster__s       = [00000000 00000005]  
ev6__asn_astrr__aster__v       = [00000000 00000004]  
ev6__asn_astrr__astrr__m       = [00000000 0000000F]  
ev6__asn_astrr__astrr__s       = [00000000 00000009]  
ev6__asn_astrr__astrr__v       = [00000000 00000004]  
ev6__asn_astrr__fpe__m         = [00000000 00000001]  
ev6__asn_astrr__fpe__s         = [00000000 00000002]  
ev6__asn_astrr__fpe__v         = [00000000 00000001]  
ev6__asn_astrr__ppce__m        = [00000000 00000001]  
ev6__asn_astrr__ppce__s        = [00000000 00000001]  
ev6__asn_astrr__ppce__v        = [00000000 00000001]  
ev6__asn_astrr__rsv0__m        = [00000000 00000001]  
ev6__asn_astrr__rsv0__s        = [00000000 00000000]  
ev6__asn_astrr__rsv0__v        = [00000000 00000001]  
ev6__asn_astrr__rsv1__m        = [00000000 00000003]  
ev6__asn_astrr__rsv1__s        = [00000000 00000003]  
ev6__asn_astrr__rsv1__v        = [00000000 00000002]  
ev6__asn_astrr__rsv2__m        = [00000000 03FFFFFF]  
ev6__asn_astrr__rsv2__s        = [00000000 0000000D]  
ev6__asn_astrr__rsv2__v        = [00000000 0000001A]  
ev6__asn_astrr__rsv3__m        = [00000000 0001FFFF]  
ev6__asn_astrr__rsv3__s        = [00000000 0000002F]  
ev6__asn_astrr__rsv3__v        = [00000000 00000011]  
ev6__asn_astrr_fpe             = [00000000 00005510]  
ev6__asn_astrr_fpe__asn__m     = [00000000 000000FF]  
ev6__asn_astrr_fpe__asn__s     = [00000000 00000027]  
ev6__asn_astrr_fpe__asn__v     = [00000000 00000008]  
ev6__asn_astrr_fpe__aster__m   = [00000000 0000000F]  
ev6__asn_astrr_fpe__aster__s   = [00000000 00000005]  
ev6__asn_astrr_fpe__aster__v   = [00000000 00000004]  
ev6__asn_astrr_fpe__astrr__m   = [00000000 0000000F]  
ev6__asn_astrr_fpe__astrr__s   = [00000000 00000009]  
ev6__asn_astrr_fpe__astrr__v   = [00000000 00000004]  
ev6__asn_astrr_fpe__fpe__m     = [00000000 00000001]  
ev6__asn_astrr_fpe__fpe__s     = [00000000 00000002]  
ev6__asn_astrr_fpe__fpe__v     = [00000000 00000001]  
ev6__asn_astrr_fpe__ppce__m    = [00000000 00000001]  
ev6__asn_astrr_fpe__ppce__s    = [00000000 00000001]  
ev6__asn_astrr_fpe__ppce__v    = [00000000 00000001]  
ev6__asn_astrr_fpe__rsv0__m    = [00000000 00000001]  
ev6__asn_astrr_fpe__rsv0__s    = [00000000 00000000]  
ev6__asn_astrr_fpe__rsv0__v    = [00000000 00000001]  
ev6__asn_astrr_fpe__rsv1__m    = [00000000 00000003]  
ev6__asn_astrr_fpe__rsv1__s    = [00000000 00000003]  
ev6__asn_astrr_fpe__rsv1__v    = [00000000 00000002]  
ev6__asn_astrr_fpe__rsv2__m    = [00000000 03FFFFFF]  
ev6__asn_astrr_fpe__rsv2__s    = [00000000 0000000D]  
ev6__asn_astrr_fpe__rsv2__v    = [00000000 0000001A]  
ev6__asn_astrr_fpe__rsv3__m    = [00000000 0001FFFF]  
ev6__asn_astrr_fpe__rsv3__s    = [00000000 0000002F]  
ev6__asn_astrr_fpe__rsv3__v    = [00000000 00000011]  
ev6__asn_astrr_ppce            = [00000000 00004D10]  
ev6__asn_astrr_ppce__asn__m    = [00000000 000000FF]  
ev6__asn_astrr_ppce__asn__s    = [00000000 00000027]  
ev6__asn_astrr_ppce__asn__v    = [00000000 00000008]  
ev6__asn_astrr_ppce__aster__m  = [00000000 0000000F]  
ev6__asn_astrr_ppce__aster__s  = [00000000 00000005]  
ev6__asn_astrr_ppce__aster__v  = [00000000 00000004]  
ev6__asn_astrr_ppce__astrr__m  = [00000000 0000000F]  
ev6__asn_astrr_ppce__astrr__s  = [00000000 00000009]  
ev6__asn_astrr_ppce__astrr__v  = [00000000 00000004]  
ev6__asn_astrr_ppce__fpe__m    = [00000000 00000001]  
ev6__asn_astrr_ppce__fpe__s    = [00000000 00000002]  
ev6__asn_astrr_ppce__fpe__v    = [00000000 00000001]  
ev6__asn_astrr_ppce__ppce__m   = [00000000 00000001]  
ev6__asn_astrr_ppce__ppce__s   = [00000000 00000001]  
ev6__asn_astrr_ppce__ppce__v   = [00000000 00000001]  
ev6__asn_astrr_ppce__rsv0__m   = [00000000 00000001]  
ev6__asn_astrr_ppce__rsv0__s   = [00000000 00000000]  
ev6__asn_astrr_ppce__rsv0__v   = [00000000 00000001]  
ev6__asn_astrr_ppce__rsv1__m   = [00000000 00000003]  
ev6__asn_astrr_ppce__rsv1__s   = [00000000 00000003]  
ev6__asn_astrr_ppce__rsv1__v   = [00000000 00000002]  
ev6__asn_astrr_ppce__rsv2__m   = [00000000 03FFFFFF]  
ev6__asn_astrr_ppce__rsv2__s   = [00000000 0000000D]  
ev6__asn_astrr_ppce__rsv2__v   = [00000000 0000001A]  
ev6__asn_astrr_ppce__rsv3__m   = [00000000 0001FFFF]  
ev6__asn_astrr_ppce__rsv3__s   = [00000000 0000002F]  
ev6__asn_astrr_ppce__rsv3__v   = [00000000 00000011]  
ev6__asn_astrr_ppce_fpe        = [00000000 00005D10]  
ev6__asn_astrr_ppce_fpe__asn__m = [00000000 000000FF]  
ev6__asn_astrr_ppce_fpe__asn__s = [00000000 00000027]  
ev6__asn_astrr_ppce_fpe__asn__v = [00000000 00000008]  
ev6__asn_astrr_ppce_fpe__aster__m = [00000000 0000000F]  
ev6__asn_astrr_ppce_fpe__aster__s = [00000000 00000005]  
ev6__asn_astrr_ppce_fpe__aster__v = [00000000 00000004]  
ev6__asn_astrr_ppce_fpe__astrr__m = [00000000 0000000F]  
ev6__asn_astrr_ppce_fpe__astrr__s = [00000000 00000009]  
ev6__asn_astrr_ppce_fpe__astrr__v = [00000000 00000004]  
ev6__asn_astrr_ppce_fpe__fpe__m = [00000000 00000001]  
ev6__asn_astrr_ppce_fpe__fpe__s = [00000000 00000002]  
ev6__asn_astrr_ppce_fpe__fpe__v = [00000000 00000001]  
ev6__asn_astrr_ppce_fpe__ppce__m = [00000000 00000001]  
ev6__asn_astrr_ppce_fpe__ppce__s = [00000000 00000001]  
ev6__asn_astrr_ppce_fpe__ppce__v = [00000000 00000001]  
ev6__asn_astrr_ppce_fpe__rsv0__m = [00000000 00000001]  
ev6__asn_astrr_ppce_fpe__rsv0__s = [00000000 00000000]  
ev6__asn_astrr_ppce_fpe__rsv0__v = [00000000 00000001]  
ev6__asn_astrr_ppce_fpe__rsv1__m = [00000000 00000003]  
ev6__asn_astrr_ppce_fpe__rsv1__s = [00000000 00000003]  
ev6__asn_astrr_ppce_fpe__rsv1__v = [00000000 00000002]  
ev6__asn_astrr_ppce_fpe__rsv2__m = [00000000 03FFFFFF]  
ev6__asn_astrr_ppce_fpe__rsv2__s = [00000000 0000000D]  
ev6__asn_astrr_ppce_fpe__rsv2__v = [00000000 0000001A]  
ev6__asn_astrr_ppce_fpe__rsv3__m = [00000000 0001FFFF]  
ev6__asn_astrr_ppce_fpe__rsv3__s = [00000000 0000002F]  
ev6__asn_astrr_ppce_fpe__rsv3__v = [00000000 00000011]  
ev6__asn_fpe                   = [00000000 00005110]  
ev6__asn_fpe__asn__m           = [00000000 000000FF]  
ev6__asn_fpe__asn__s           = [00000000 00000027]  
ev6__asn_fpe__asn__v           = [00000000 00000008]  
ev6__asn_fpe__aster__m         = [00000000 0000000F]  
ev6__asn_fpe__aster__s         = [00000000 00000005]  
ev6__asn_fpe__aster__v         = [00000000 00000004]  
ev6__asn_fpe__astrr__m         = [00000000 0000000F]  
ev6__asn_fpe__astrr__s         = [00000000 00000009]  
ev6__asn_fpe__astrr__v         = [00000000 00000004]  
ev6__asn_fpe__fpe__m           = [00000000 00000001]  
ev6__asn_fpe__fpe__s           = [00000000 00000002]  
ev6__asn_fpe__fpe__v           = [00000000 00000001]  
ev6__asn_fpe__ppce__m          = [00000000 00000001]  
ev6__asn_fpe__ppce__s          = [00000000 00000001]  
ev6__asn_fpe__ppce__v          = [00000000 00000001]  
ev6__asn_fpe__rsv0__m          = [00000000 00000001]  
ev6__asn_fpe__rsv0__s          = [00000000 00000000]  
ev6__asn_fpe__rsv0__v          = [00000000 00000001]  
ev6__asn_fpe__rsv1__m          = [00000000 00000003]  
ev6__asn_fpe__rsv1__s          = [00000000 00000003]  
ev6__asn_fpe__rsv1__v          = [00000000 00000002]  
ev6__asn_fpe__rsv2__m          = [00000000 03FFFFFF]  
ev6__asn_fpe__rsv2__s          = [00000000 0000000D]  
ev6__asn_fpe__rsv2__v          = [00000000 0000001A]  
ev6__asn_fpe__rsv3__m          = [00000000 0001FFFF]  
ev6__asn_fpe__rsv3__s          = [00000000 0000002F]  
ev6__asn_fpe__rsv3__v          = [00000000 00000011]  
ev6__asn_ppce                  = [00000000 00004910]  
ev6__asn_ppce__asn__m          = [00000000 000000FF]  
ev6__asn_ppce__asn__s          = [00000000 00000027]  
ev6__asn_ppce__asn__v          = [00000000 00000008]  
ev6__asn_ppce__aster__m        = [00000000 0000000F]  
ev6__asn_ppce__aster__s        = [00000000 00000005]  
ev6__asn_ppce__aster__v        = [00000000 00000004]  
ev6__asn_ppce__astrr__m        = [00000000 0000000F]  
ev6__asn_ppce__astrr__s        = [00000000 00000009]  
ev6__asn_ppce__astrr__v        = [00000000 00000004]  
ev6__asn_ppce__fpe__m          = [00000000 00000001]  
ev6__asn_ppce__fpe__s          = [00000000 00000002]  
ev6__asn_ppce__fpe__v          = [00000000 00000001]  
ev6__asn_ppce__ppce__m         = [00000000 00000001]  
ev6__asn_ppce__ppce__s         = [00000000 00000001]  
ev6__asn_ppce__ppce__v         = [00000000 00000001]  
ev6__asn_ppce__rsv0__m         = [00000000 00000001]  
ev6__asn_ppce__rsv0__s         = [00000000 00000000]  
ev6__asn_ppce__rsv0__v         = [00000000 00000001]  
ev6__asn_ppce__rsv1__m         = [00000000 00000003]  
ev6__asn_ppce__rsv1__s         = [00000000 00000003]  
ev6__asn_ppce__rsv1__v         = [00000000 00000002]  
ev6__asn_ppce__rsv2__m         = [00000000 03FFFFFF]  
ev6__asn_ppce__rsv2__s         = [00000000 0000000D]  
ev6__asn_ppce__rsv2__v         = [00000000 0000001A]  
ev6__asn_ppce__rsv3__m         = [00000000 0001FFFF]  
ev6__asn_ppce__rsv3__s         = [00000000 0000002F]  
ev6__asn_ppce__rsv3__v         = [00000000 00000011]  
ev6__asn_ppce_fpe              = [00000000 00005910]  
ev6__asn_ppce_fpe__asn__m      = [00000000 000000FF]  
ev6__asn_ppce_fpe__asn__s      = [00000000 00000027]  
ev6__asn_ppce_fpe__asn__v      = [00000000 00000008]  
ev6__asn_ppce_fpe__aster__m    = [00000000 0000000F]  
ev6__asn_ppce_fpe__aster__s    = [00000000 00000005]  
ev6__asn_ppce_fpe__aster__v    = [00000000 00000004]  
ev6__asn_ppce_fpe__astrr__m    = [00000000 0000000F]  
ev6__asn_ppce_fpe__astrr__s    = [00000000 00000009]  
ev6__asn_ppce_fpe__astrr__v    = [00000000 00000004]  
ev6__asn_ppce_fpe__fpe__m      = [00000000 00000001]  
ev6__asn_ppce_fpe__fpe__s      = [00000000 00000002]  
ev6__asn_ppce_fpe__fpe__v      = [00000000 00000001]  
ev6__asn_ppce_fpe__ppce__m     = [00000000 00000001]  
ev6__asn_ppce_fpe__ppce__s     = [00000000 00000001]  
ev6__asn_ppce_fpe__ppce__v     = [00000000 00000001]  
ev6__asn_ppce_fpe__rsv0__m     = [00000000 00000001]  
ev6__asn_ppce_fpe__rsv0__s     = [00000000 00000000]  
ev6__asn_ppce_fpe__rsv0__v     = [00000000 00000001]  
ev6__asn_ppce_fpe__rsv1__m     = [00000000 00000003]  
ev6__asn_ppce_fpe__rsv1__s     = [00000000 00000003]  
ev6__asn_ppce_fpe__rsv1__v     = [00000000 00000002]  
ev6__asn_ppce_fpe__rsv2__m     = [00000000 03FFFFFF]  
ev6__asn_ppce_fpe__rsv2__s     = [00000000 0000000D]  
ev6__asn_ppce_fpe__rsv2__v     = [00000000 0000001A]  
ev6__asn_ppce_fpe__rsv3__m     = [00000000 0001FFFF]  
ev6__asn_ppce_fpe__rsv3__s     = [00000000 0000002F]  
ev6__asn_ppce_fpe__rsv3__v     = [00000000 00000011]  
ev6__aster                     = [00000000 00004210]  
ev6__aster__asn__m             = [00000000 000000FF]  
ev6__aster__asn__s             = [00000000 00000027]  
ev6__aster__asn__v             = [00000000 00000008]  
ev6__aster__aster__m           = [00000000 0000000F]  
ev6__aster__aster__s           = [00000000 00000005]  
ev6__aster__aster__v           = [00000000 00000004]  
ev6__aster__astrr__m           = [00000000 0000000F]  
ev6__aster__astrr__s           = [00000000 00000009]  
ev6__aster__astrr__v           = [00000000 00000004]  
ev6__aster__fpe__m             = [00000000 00000001]  
ev6__aster__fpe__s             = [00000000 00000002]  
ev6__aster__fpe__v             = [00000000 00000001]  
ev6__aster__ppce__m            = [00000000 00000001]  
ev6__aster__ppce__s            = [00000000 00000001]  
ev6__aster__ppce__v            = [00000000 00000001]  
ev6__aster__rsv0__m            = [00000000 00000001]  
ev6__aster__rsv0__s            = [00000000 00000000]  
ev6__aster__rsv0__v            = [00000000 00000001]  
ev6__aster__rsv1__m            = [00000000 00000003]  
ev6__aster__rsv1__s            = [00000000 00000003]  
ev6__aster__rsv1__v            = [00000000 00000002]  
ev6__aster__rsv2__m            = [00000000 03FFFFFF]  
ev6__aster__rsv2__s            = [00000000 0000000D]  
ev6__aster__rsv2__v            = [00000000 0000001A]  
ev6__aster__rsv3__m            = [00000000 0001FFFF]  
ev6__aster__rsv3__s            = [00000000 0000002F]  
ev6__aster__rsv3__v            = [00000000 00000011]  
ev6__aster_astrr               = [00000000 00004610]  
ev6__aster_astrr__asn__m       = [00000000 000000FF]  
ev6__aster_astrr__asn__s       = [00000000 00000027]  
ev6__aster_astrr__asn__v       = [00000000 00000008]  
ev6__aster_astrr__aster__m     = [00000000 0000000F]  
ev6__aster_astrr__aster__s     = [00000000 00000005]  
ev6__aster_astrr__aster__v     = [00000000 00000004]  
ev6__aster_astrr__astrr__m     = [00000000 0000000F]  
ev6__aster_astrr__astrr__s     = [00000000 00000009]  
ev6__aster_astrr__astrr__v     = [00000000 00000004]  
ev6__aster_astrr__fpe__m       = [00000000 00000001]  
ev6__aster_astrr__fpe__s       = [00000000 00000002]  
ev6__aster_astrr__fpe__v       = [00000000 00000001]  
ev6__aster_astrr__ppce__m      = [00000000 00000001]  
ev6__aster_astrr__ppce__s      = [00000000 00000001]  
ev6__aster_astrr__ppce__v      = [00000000 00000001]  
ev6__aster_astrr__rsv0__m      = [00000000 00000001]  
ev6__aster_astrr__rsv0__s      = [00000000 00000000]  
ev6__aster_astrr__rsv0__v      = [00000000 00000001]  
ev6__aster_astrr__rsv1__m      = [00000000 00000003]  
ev6__aster_astrr__rsv1__s      = [00000000 00000003]  
ev6__aster_astrr__rsv1__v      = [00000000 00000002]  
ev6__aster_astrr__rsv2__m      = [00000000 03FFFFFF]  
ev6__aster_astrr__rsv2__s      = [00000000 0000000D]  
ev6__aster_astrr__rsv2__v      = [00000000 0000001A]  
ev6__aster_astrr__rsv3__m      = [00000000 0001FFFF]  
ev6__aster_astrr__rsv3__s      = [00000000 0000002F]  
ev6__aster_astrr__rsv3__v      = [00000000 00000011]  
ev6__aster_astrr_fpe           = [00000000 00005610]  
ev6__aster_astrr_fpe__asn__m   = [00000000 000000FF]  
ev6__aster_astrr_fpe__asn__s   = [00000000 00000027]  
ev6__aster_astrr_fpe__asn__v   = [00000000 00000008]  
ev6__aster_astrr_fpe__aster__m = [00000000 0000000F]  
ev6__aster_astrr_fpe__aster__s = [00000000 00000005]  
ev6__aster_astrr_fpe__aster__v = [00000000 00000004]  
ev6__aster_astrr_fpe__astrr__m = [00000000 0000000F]  
ev6__aster_astrr_fpe__astrr__s = [00000000 00000009]  
ev6__aster_astrr_fpe__astrr__v = [00000000 00000004]  
ev6__aster_astrr_fpe__fpe__m   = [00000000 00000001]  
ev6__aster_astrr_fpe__fpe__s   = [00000000 00000002]  
ev6__aster_astrr_fpe__fpe__v   = [00000000 00000001]  
ev6__aster_astrr_fpe__ppce__m  = [00000000 00000001]  
ev6__aster_astrr_fpe__ppce__s  = [00000000 00000001]  
ev6__aster_astrr_fpe__ppce__v  = [00000000 00000001]  
ev6__aster_astrr_fpe__rsv0__m  = [00000000 00000001]  
ev6__aster_astrr_fpe__rsv0__s  = [00000000 00000000]  
ev6__aster_astrr_fpe__rsv0__v  = [00000000 00000001]  
ev6__aster_astrr_fpe__rsv1__m  = [00000000 00000003]  
ev6__aster_astrr_fpe__rsv1__s  = [00000000 00000003]  
ev6__aster_astrr_fpe__rsv1__v  = [00000000 00000002]  
ev6__aster_astrr_fpe__rsv2__m  = [00000000 03FFFFFF]  
ev6__aster_astrr_fpe__rsv2__s  = [00000000 0000000D]  
ev6__aster_astrr_fpe__rsv2__v  = [00000000 0000001A]  
ev6__aster_astrr_fpe__rsv3__m  = [00000000 0001FFFF]  
ev6__aster_astrr_fpe__rsv3__s  = [00000000 0000002F]  
ev6__aster_astrr_fpe__rsv3__v  = [00000000 00000011]  
ev6__aster_astrr_ppce          = [00000000 00004E10]  
ev6__aster_astrr_ppce__asn__m  = [00000000 000000FF]  
ev6__aster_astrr_ppce__asn__s  = [00000000 00000027]  
ev6__aster_astrr_ppce__asn__v  = [00000000 00000008]  
ev6__aster_astrr_ppce__aster__m = [00000000 0000000F]  
ev6__aster_astrr_ppce__aster__s = [00000000 00000005]  
ev6__aster_astrr_ppce__aster__v = [00000000 00000004]  
ev6__aster_astrr_ppce__astrr__m = [00000000 0000000F]  
ev6__aster_astrr_ppce__astrr__s = [00000000 00000009]  
ev6__aster_astrr_ppce__astrr__v = [00000000 00000004]  
ev6__aster_astrr_ppce__fpe__m  = [00000000 00000001]  
ev6__aster_astrr_ppce__fpe__s  = [00000000 00000002]  
ev6__aster_astrr_ppce__fpe__v  = [00000000 00000001]  
ev6__aster_astrr_ppce__ppce__m = [00000000 00000001]  
ev6__aster_astrr_ppce__ppce__s = [00000000 00000001]  
ev6__aster_astrr_ppce__ppce__v = [00000000 00000001]  
ev6__aster_astrr_ppce__rsv0__m = [00000000 00000001]  
ev6__aster_astrr_ppce__rsv0__s = [00000000 00000000]  
ev6__aster_astrr_ppce__rsv0__v = [00000000 00000001]  
ev6__aster_astrr_ppce__rsv1__m = [00000000 00000003]  
ev6__aster_astrr_ppce__rsv1__s = [00000000 00000003]  
ev6__aster_astrr_ppce__rsv1__v = [00000000 00000002]  
ev6__aster_astrr_ppce__rsv2__m = [00000000 03FFFFFF]  
ev6__aster_astrr_ppce__rsv2__s = [00000000 0000000D]  
ev6__aster_astrr_ppce__rsv2__v = [00000000 0000001A]  
ev6__aster_astrr_ppce__rsv3__m = [00000000 0001FFFF]  
ev6__aster_astrr_ppce__rsv3__s = [00000000 0000002F]  
ev6__aster_astrr_ppce__rsv3__v = [00000000 00000011]  
ev6__aster_astrr_ppce_fpe      = [00000000 00005E10]  
ev6__aster_astrr_ppce_fpe__asn__m = [00000000 000000FF]  
ev6__aster_astrr_ppce_fpe__asn__s = [00000000 00000027]  
ev6__aster_astrr_ppce_fpe__asn__v = [00000000 00000008]  
ev6__aster_astrr_ppce_fpe__aster__m = [00000000 0000000F]  
ev6__aster_astrr_ppce_fpe__aster__s = [00000000 00000005]  
ev6__aster_astrr_ppce_fpe__aster__v = [00000000 00000004]  
ev6__aster_astrr_ppce_fpe__astrr__m = [00000000 0000000F]  
ev6__aster_astrr_ppce_fpe__astrr__s = [00000000 00000009]  
ev6__aster_astrr_ppce_fpe__astrr__v = [00000000 00000004]  
ev6__aster_astrr_ppce_fpe__fpe__m = [00000000 00000001]  
ev6__aster_astrr_ppce_fpe__fpe__s = [00000000 00000002]  
ev6__aster_astrr_ppce_fpe__fpe__v = [00000000 00000001]  
ev6__aster_astrr_ppce_fpe__ppce__m = [00000000 00000001]  
ev6__aster_astrr_ppce_fpe__ppce__s = [00000000 00000001]  
ev6__aster_astrr_ppce_fpe__ppce__v = [00000000 00000001]  
ev6__aster_astrr_ppce_fpe__rsv0__m = [00000000 00000001]  
ev6__aster_astrr_ppce_fpe__rsv0__s = [00000000 00000000]  
ev6__aster_astrr_ppce_fpe__rsv0__v = [00000000 00000001]  
ev6__aster_astrr_ppce_fpe__rsv1__m = [00000000 00000003]  
ev6__aster_astrr_ppce_fpe__rsv1__s = [00000000 00000003]  
ev6__aster_astrr_ppce_fpe__rsv1__v = [00000000 00000002]  
ev6__aster_astrr_ppce_fpe__rsv2__m = [00000000 03FFFFFF]  
ev6__aster_astrr_ppce_fpe__rsv2__s = [00000000 0000000D]  
ev6__aster_astrr_ppce_fpe__rsv2__v = [00000000 0000001A]  
ev6__aster_astrr_ppce_fpe__rsv3__m = [00000000 0001FFFF]  
ev6__aster_astrr_ppce_fpe__rsv3__s = [00000000 0000002F]  
ev6__aster_astrr_ppce_fpe__rsv3__v = [00000000 00000011]  
ev6__aster_fpe                 = [00000000 00005210]  
ev6__aster_fpe__asn__m         = [00000000 000000FF]  
ev6__aster_fpe__asn__s         = [00000000 00000027]  
ev6__aster_fpe__asn__v         = [00000000 00000008]  
ev6__aster_fpe__aster__m       = [00000000 0000000F]  
ev6__aster_fpe__aster__s       = [00000000 00000005]  
ev6__aster_fpe__aster__v       = [00000000 00000004]  
ev6__aster_fpe__astrr__m       = [00000000 0000000F]  
ev6__aster_fpe__astrr__s       = [00000000 00000009]  
ev6__aster_fpe__astrr__v       = [00000000 00000004]  
ev6__aster_fpe__fpe__m         = [00000000 00000001]  
ev6__aster_fpe__fpe__s         = [00000000 00000002]  
ev6__aster_fpe__fpe__v         = [00000000 00000001]  
ev6__aster_fpe__ppce__m        = [00000000 00000001]  
ev6__aster_fpe__ppce__s        = [00000000 00000001]  
ev6__aster_fpe__ppce__v        = [00000000 00000001]  
ev6__aster_fpe__rsv0__m        = [00000000 00000001]  
ev6__aster_fpe__rsv0__s        = [00000000 00000000]  
ev6__aster_fpe__rsv0__v        = [00000000 00000001]  
ev6__aster_fpe__rsv1__m        = [00000000 00000003]  
ev6__aster_fpe__rsv1__s        = [00000000 00000003]  
ev6__aster_fpe__rsv1__v        = [00000000 00000002]  
ev6__aster_fpe__rsv2__m        = [00000000 03FFFFFF]  
ev6__aster_fpe__rsv2__s        = [00000000 0000000D]  
ev6__aster_fpe__rsv2__v        = [00000000 0000001A]  
ev6__aster_fpe__rsv3__m        = [00000000 0001FFFF]  
ev6__aster_fpe__rsv3__s        = [00000000 0000002F]  
ev6__aster_fpe__rsv3__v        = [00000000 00000011]  
ev6__aster_ppce                = [00000000 00004A10]  
ev6__aster_ppce__asn__m        = [00000000 000000FF]  
ev6__aster_ppce__asn__s        = [00000000 00000027]  
ev6__aster_ppce__asn__v        = [00000000 00000008]  
ev6__aster_ppce__aster__m      = [00000000 0000000F]  
ev6__aster_ppce__aster__s      = [00000000 00000005]  
ev6__aster_ppce__aster__v      = [00000000 00000004]  
ev6__aster_ppce__astrr__m      = [00000000 0000000F]  
ev6__aster_ppce__astrr__s      = [00000000 00000009]  
ev6__aster_ppce__astrr__v      = [00000000 00000004]  
ev6__aster_ppce__fpe__m        = [00000000 00000001]  
ev6__aster_ppce__fpe__s        = [00000000 00000002]  
ev6__aster_ppce__fpe__v        = [00000000 00000001]  
ev6__aster_ppce__ppce__m       = [00000000 00000001]  
ev6__aster_ppce__ppce__s       = [00000000 00000001]  
ev6__aster_ppce__ppce__v       = [00000000 00000001]  
ev6__aster_ppce__rsv0__m       = [00000000 00000001]  
ev6__aster_ppce__rsv0__s       = [00000000 00000000]  
ev6__aster_ppce__rsv0__v       = [00000000 00000001]  
ev6__aster_ppce__rsv1__m       = [00000000 00000003]  
ev6__aster_ppce__rsv1__s       = [00000000 00000003]  
ev6__aster_ppce__rsv1__v       = [00000000 00000002]  
ev6__aster_ppce__rsv2__m       = [00000000 03FFFFFF]  
ev6__aster_ppce__rsv2__s       = [00000000 0000000D]  
ev6__aster_ppce__rsv2__v       = [00000000 0000001A]  
ev6__aster_ppce__rsv3__m       = [00000000 0001FFFF]  
ev6__aster_ppce__rsv3__s       = [00000000 0000002F]  
ev6__aster_ppce__rsv3__v       = [00000000 00000011]  
ev6__aster_ppce_fpe            = [00000000 00005A10]  
ev6__aster_ppce_fpe__asn__m    = [00000000 000000FF]  
ev6__aster_ppce_fpe__asn__s    = [00000000 00000027]  
ev6__aster_ppce_fpe__asn__v    = [00000000 00000008]  
ev6__aster_ppce_fpe__aster__m  = [00000000 0000000F]  
ev6__aster_ppce_fpe__aster__s  = [00000000 00000005]  
ev6__aster_ppce_fpe__aster__v  = [00000000 00000004]  
ev6__aster_ppce_fpe__astrr__m  = [00000000 0000000F]  
ev6__aster_ppce_fpe__astrr__s  = [00000000 00000009]  
ev6__aster_ppce_fpe__astrr__v  = [00000000 00000004]  
ev6__aster_ppce_fpe__fpe__m    = [00000000 00000001]  
ev6__aster_ppce_fpe__fpe__s    = [00000000 00000002]  
ev6__aster_ppce_fpe__fpe__v    = [00000000 00000001]  
ev6__aster_ppce_fpe__ppce__m   = [00000000 00000001]  
ev6__aster_ppce_fpe__ppce__s   = [00000000 00000001]  
ev6__aster_ppce_fpe__ppce__v   = [00000000 00000001]  
ev6__aster_ppce_fpe__rsv0__m   = [00000000 00000001]  
ev6__aster_ppce_fpe__rsv0__s   = [00000000 00000000]  
ev6__aster_ppce_fpe__rsv0__v   = [00000000 00000001]  
ev6__aster_ppce_fpe__rsv1__m   = [00000000 00000003]  
ev6__aster_ppce_fpe__rsv1__s   = [00000000 00000003]  
ev6__aster_ppce_fpe__rsv1__v   = [00000000 00000002]  
ev6__aster_ppce_fpe__rsv2__m   = [00000000 03FFFFFF]  
ev6__aster_ppce_fpe__rsv2__s   = [00000000 0000000D]  
ev6__aster_ppce_fpe__rsv2__v   = [00000000 0000001A]  
ev6__aster_ppce_fpe__rsv3__m   = [00000000 0001FFFF]  
ev6__aster_ppce_fpe__rsv3__s   = [00000000 0000002F]  
ev6__aster_ppce_fpe__rsv3__v   = [00000000 00000011]  
ev6__astrr                     = [00000000 00004410]  
ev6__astrr__asn__m             = [00000000 000000FF]  
ev6__astrr__asn__s             = [00000000 00000027]  
ev6__astrr__asn__v             = [00000000 00000008]  
ev6__astrr__aster__m           = [00000000 0000000F]  
ev6__astrr__aster__s           = [00000000 00000005]  
ev6__astrr__aster__v           = [00000000 00000004]  
ev6__astrr__astrr__m           = [00000000 0000000F]  
ev6__astrr__astrr__s           = [00000000 00000009]  
ev6__astrr__astrr__v           = [00000000 00000004]  
ev6__astrr__fpe__m             = [00000000 00000001]  
ev6__astrr__fpe__s             = [00000000 00000002]  
ev6__astrr__fpe__v             = [00000000 00000001]  
ev6__astrr__ppce__m            = [00000000 00000001]  
ev6__astrr__ppce__s            = [00000000 00000001]  
ev6__astrr__ppce__v            = [00000000 00000001]  
ev6__astrr__rsv0__m            = [00000000 00000001]  
ev6__astrr__rsv0__s            = [00000000 00000000]  
ev6__astrr__rsv0__v            = [00000000 00000001]  
ev6__astrr__rsv1__m            = [00000000 00000003]  
ev6__astrr__rsv1__s            = [00000000 00000003]  
ev6__astrr__rsv1__v            = [00000000 00000002]  
ev6__astrr__rsv2__m            = [00000000 03FFFFFF]  
ev6__astrr__rsv2__s            = [00000000 0000000D]  
ev6__astrr__rsv2__v            = [00000000 0000001A]  
ev6__astrr__rsv3__m            = [00000000 0001FFFF]  
ev6__astrr__rsv3__s            = [00000000 0000002F]  
ev6__astrr__rsv3__v            = [00000000 00000011]  
ev6__astrr_fpe                 = [00000000 00005410]  
ev6__astrr_fpe__asn__m         = [00000000 000000FF]  
ev6__astrr_fpe__asn__s         = [00000000 00000027]  
ev6__astrr_fpe__asn__v         = [00000000 00000008]  
ev6__astrr_fpe__aster__m       = [00000000 0000000F]  
ev6__astrr_fpe__aster__s       = [00000000 00000005]  
ev6__astrr_fpe__aster__v       = [00000000 00000004]  
ev6__astrr_fpe__astrr__m       = [00000000 0000000F]  
ev6__astrr_fpe__astrr__s       = [00000000 00000009]  
ev6__astrr_fpe__astrr__v       = [00000000 00000004]  
ev6__astrr_fpe__fpe__m         = [00000000 00000001]  
ev6__astrr_fpe__fpe__s         = [00000000 00000002]  
ev6__astrr_fpe__fpe__v         = [00000000 00000001]  
ev6__astrr_fpe__ppce__m        = [00000000 00000001]  
ev6__astrr_fpe__ppce__s        = [00000000 00000001]  
ev6__astrr_fpe__ppce__v        = [00000000 00000001]  
ev6__astrr_fpe__rsv0__m        = [00000000 00000001]  
ev6__astrr_fpe__rsv0__s        = [00000000 00000000]  
ev6__astrr_fpe__rsv0__v        = [00000000 00000001]  
ev6__astrr_fpe__rsv1__m        = [00000000 00000003]  
ev6__astrr_fpe__rsv1__s        = [00000000 00000003]  
ev6__astrr_fpe__rsv1__v        = [00000000 00000002]  
ev6__astrr_fpe__rsv2__m        = [00000000 03FFFFFF]  
ev6__astrr_fpe__rsv2__s        = [00000000 0000000D]  
ev6__astrr_fpe__rsv2__v        = [00000000 0000001A]  
ev6__astrr_fpe__rsv3__m        = [00000000 0001FFFF]  
ev6__astrr_fpe__rsv3__s        = [00000000 0000002F]  
ev6__astrr_fpe__rsv3__v        = [00000000 00000011]  
ev6__astrr_ppce                = [00000000 00004C10]  
ev6__astrr_ppce__asn__m        = [00000000 000000FF]  
ev6__astrr_ppce__asn__s        = [00000000 00000027]  
ev6__astrr_ppce__asn__v        = [00000000 00000008]  
ev6__astrr_ppce__aster__m      = [00000000 0000000F]  
ev6__astrr_ppce__aster__s      = [00000000 00000005]  
ev6__astrr_ppce__aster__v      = [00000000 00000004]  
ev6__astrr_ppce__astrr__m      = [00000000 0000000F]  
ev6__astrr_ppce__astrr__s      = [00000000 00000009]  
ev6__astrr_ppce__astrr__v      = [00000000 00000004]  
ev6__astrr_ppce__fpe__m        = [00000000 00000001]  
ev6__astrr_ppce__fpe__s        = [00000000 00000002]  
ev6__astrr_ppce__fpe__v        = [00000000 00000001]  
ev6__astrr_ppce__ppce__m       = [00000000 00000001]  
ev6__astrr_ppce__ppce__s       = [00000000 00000001]  
ev6__astrr_ppce__ppce__v       = [00000000 00000001]  
ev6__astrr_ppce__rsv0__m       = [00000000 00000001]  
ev6__astrr_ppce__rsv0__s       = [00000000 00000000]  
ev6__astrr_ppce__rsv0__v       = [00000000 00000001]  
ev6__astrr_ppce__rsv1__m       = [00000000 00000003]  
ev6__astrr_ppce__rsv1__s       = [00000000 00000003]  
ev6__astrr_ppce__rsv1__v       = [00000000 00000002]  
ev6__astrr_ppce__rsv2__m       = [00000000 03FFFFFF]  
ev6__astrr_ppce__rsv2__s       = [00000000 0000000D]  
ev6__astrr_ppce__rsv2__v       = [00000000 0000001A]  
ev6__astrr_ppce__rsv3__m       = [00000000 0001FFFF]  
ev6__astrr_ppce__rsv3__s       = [00000000 0000002F]  
ev6__astrr_ppce__rsv3__v       = [00000000 00000011]  
ev6__astrr_ppce_fpe            = [00000000 00005C10]  
ev6__astrr_ppce_fpe__asn__m    = [00000000 000000FF]  
ev6__astrr_ppce_fpe__asn__s    = [00000000 00000027]  
ev6__astrr_ppce_fpe__asn__v    = [00000000 00000008]  
ev6__astrr_ppce_fpe__aster__m  = [00000000 0000000F]  
ev6__astrr_ppce_fpe__aster__s  = [00000000 00000005]  
ev6__astrr_ppce_fpe__aster__v  = [00000000 00000004]  
ev6__astrr_ppce_fpe__astrr__m  = [00000000 0000000F]  
ev6__astrr_ppce_fpe__astrr__s  = [00000000 00000009]  
ev6__astrr_ppce_fpe__astrr__v  = [00000000 00000004]  
ev6__astrr_ppce_fpe__fpe__m    = [00000000 00000001]  
ev6__astrr_ppce_fpe__fpe__s    = [00000000 00000002]  
ev6__astrr_ppce_fpe__fpe__v    = [00000000 00000001]  
ev6__astrr_ppce_fpe__ppce__m   = [00000000 00000001]  
ev6__astrr_ppce_fpe__ppce__s   = [00000000 00000001]  
ev6__astrr_ppce_fpe__ppce__v   = [00000000 00000001]  
ev6__astrr_ppce_fpe__rsv0__m   = [00000000 00000001]  
ev6__astrr_ppce_fpe__rsv0__s   = [00000000 00000000]  
ev6__astrr_ppce_fpe__rsv0__v   = [00000000 00000001]  
ev6__astrr_ppce_fpe__rsv1__m   = [00000000 00000003]  
ev6__astrr_ppce_fpe__rsv1__s   = [00000000 00000003]  
ev6__astrr_ppce_fpe__rsv1__v   = [00000000 00000002]  
ev6__astrr_ppce_fpe__rsv2__m   = [00000000 03FFFFFF]  
ev6__astrr_ppce_fpe__rsv2__s   = [00000000 0000000D]  
ev6__astrr_ppce_fpe__rsv2__v   = [00000000 0000001A]  
ev6__astrr_ppce_fpe__rsv3__m   = [00000000 0001FFFF]  
ev6__astrr_ppce_fpe__rsv3__s   = [00000000 0000002F]  
ev6__astrr_ppce_fpe__rsv3__v   = [00000000 00000011]  
ev6__c_stat__double__m         = [00000000 00000001]  
ev6__c_stat__double__s         = [00000000 00000004]  
ev6__c_stat__istream__m        = [00000000 00000001]  
ev6__c_stat__istream__s        = [00000000 00000003]  
ev6__c_stat__type__m           = [00000000 00000007]  
ev6__c_stat__type__s           = [00000000 00000000]  
ev6__call_pal_00_entry         = [00000000 00002000]  
ev6__call_pal_01_entry         = [00000000 00002040]  
ev6__call_pal_02_entry         = [00000000 00002080]  
ev6__call_pal_03_entry         = [00000000 000020C0]  
ev6__call_pal_04_entry         = [00000000 00002100]  
ev6__call_pal_05_entry         = [00000000 00002140]  
ev6__call_pal_06_entry         = [00000000 00002180]  
ev6__call_pal_07_entry         = [00000000 000021C0]  
ev6__call_pal_08_entry         = [00000000 00002200]  
ev6__call_pal_09_entry         = [00000000 00002240]  
ev6__call_pal_0a_entry         = [00000000 00002280]  
ev6__call_pal_0b_entry         = [00000000 000022C0]  
ev6__call_pal_0c_entry         = [00000000 00002300]  
ev6__call_pal_0d_entry         = [00000000 00002340]  
ev6__call_pal_0e_entry         = [00000000 00002380]  
ev6__call_pal_0f_entry         = [00000000 000023C0]  
ev6__call_pal_10_entry         = [00000000 00002400]  
ev6__call_pal_11_entry         = [00000000 00002440]  
ev6__call_pal_12_entry         = [00000000 00002480]  
ev6__call_pal_13_entry         = [00000000 000024C0]  
ev6__call_pal_14_entry         = [00000000 00002500]  
ev6__call_pal_15_entry         = [00000000 00002540]  
ev6__call_pal_16_entry         = [00000000 00002580]  
ev6__call_pal_17_entry         = [00000000 000025C0]  
ev6__call_pal_18_entry         = [00000000 00002600]  
ev6__call_pal_19_entry         = [00000000 00002640]  
ev6__call_pal_1a_entry         = [00000000 00002680]  
ev6__call_pal_1b_entry         = [00000000 000026C0]  
ev6__call_pal_1c_entry         = [00000000 00002700]  
ev6__call_pal_1d_entry         = [00000000 00002740]  
ev6__call_pal_1e_entry         = [00000000 00002780]  
ev6__call_pal_1f_entry         = [00000000 000027C0]  
ev6__call_pal_20_entry         = [00000000 00002800]  
ev6__call_pal_21_entry         = [00000000 00002840]  
ev6__call_pal_22_entry         = [00000000 00002880]  
ev6__call_pal_23_entry         = [00000000 000028C0]  
ev6__call_pal_24_entry         = [00000000 00002900]  
ev6__call_pal_25_entry         = [00000000 00002940]  
ev6__call_pal_26_entry         = [00000000 00002980]  
ev6__call_pal_27_entry         = [00000000 000029C0]  
ev6__call_pal_28_entry         = [00000000 00002A00]  
ev6__call_pal_29_entry         = [00000000 00002A40]  
ev6__call_pal_2a_entry         = [00000000 00002A80]  
ev6__call_pal_2b_entry         = [00000000 00002AC0]  
ev6__call_pal_2c_entry         = [00000000 00002B00]  
ev6__call_pal_2d_entry         = [00000000 00002B40]  
ev6__call_pal_2e_entry         = [00000000 00002B80]  
ev6__call_pal_2f_entry         = [00000000 00002BC0]  
ev6__call_pal_30_entry         = [00000000 00002C00]  
ev6__call_pal_31_entry         = [00000000 00002C40]  
ev6__call_pal_32_entry         = [00000000 00002C80]  
ev6__call_pal_33_entry         = [00000000 00002CC0]  
ev6__call_pal_34_entry         = [00000000 00002D00]  
ev6__call_pal_35_entry         = [00000000 00002D40]  
ev6__call_pal_36_entry         = [00000000 00002D80]  
ev6__call_pal_37_entry         = [00000000 00002DC0]  
ev6__call_pal_38_entry         = [00000000 00002E00]  
ev6__call_pal_39_entry         = [00000000 00002E40]  
ev6__call_pal_3a_entry         = [00000000 00002E80]  
ev6__call_pal_3b_entry         = [00000000 00002EC0]  
ev6__call_pal_3c_entry         = [00000000 00002F00]  
ev6__call_pal_3d_entry         = [00000000 00002F40]  
ev6__call_pal_3e_entry         = [00000000 00002F80]  
ev6__call_pal_3f_entry         = [00000000 00002FC0]  
ev6__call_pal_80_entry         = [00000000 00003000]  
ev6__call_pal_81_entry         = [00000000 00003040]  
ev6__call_pal_82_entry         = [00000000 00003080]  
ev6__call_pal_83_entry         = [00000000 000030C0]  
ev6__call_pal_84_entry         = [00000000 00003100]  
ev6__call_pal_85_entry         = [00000000 00003140]  
ev6__call_pal_86_entry         = [00000000 00003180]  
ev6__call_pal_87_entry         = [00000000 000031C0]  
ev6__call_pal_88_entry         = [00000000 00003200]  
ev6__call_pal_89_entry         = [00000000 00003240]  
ev6__call_pal_8a_entry         = [00000000 00003280]  
ev6__call_pal_8b_entry         = [00000000 000032C0]  
ev6__call_pal_8c_entry         = [00000000 00003300]  
ev6__call_pal_8d_entry         = [00000000 00003340]  
ev6__call_pal_8e_entry         = [00000000 00003380]  
ev6__call_pal_8f_entry         = [00000000 000033C0]  
ev6__call_pal_90_entry         = [00000000 00003400]  
ev6__call_pal_91_entry         = [00000000 00003440]  
ev6__call_pal_92_entry         = [00000000 00003480]  
ev6__call_pal_93_entry         = [00000000 000034C0]  
ev6__call_pal_94_entry         = [00000000 00003500]  
ev6__call_pal_95_entry         = [00000000 00003540]  
ev6__call_pal_96_entry         = [00000000 00003580]  
ev6__call_pal_97_entry         = [00000000 000035C0]  
ev6__call_pal_98_entry         = [00000000 00003600]  
ev6__call_pal_99_entry         = [00000000 00003640]  
ev6__call_pal_9a_entry         = [00000000 00003680]  
ev6__call_pal_9b_entry         = [00000000 000036C0]  
ev6__call_pal_9c_entry         = [00000000 00003700]  
ev6__call_pal_9d_entry         = [00000000 00003740]  
ev6__call_pal_9e_entry         = [00000000 00003780]  
ev6__call_pal_9f_entry         = [00000000 000037C0]  
ev6__call_pal_a0_entry         = [00000000 00003800]  
ev6__call_pal_a1_entry         = [00000000 00003840]  
ev6__call_pal_a2_entry         = [00000000 00003880]  
ev6__call_pal_a3_entry         = [00000000 000038C0]  
ev6__call_pal_a4_entry         = [00000000 00003900]  
ev6__call_pal_a5_entry         = [00000000 00003940]  
ev6__call_pal_a6_entry         = [00000000 00003980]  
ev6__call_pal_a7_entry         = [00000000 000039C0]  
ev6__call_pal_a8_entry         = [00000000 00003A00]  
ev6__call_pal_a9_entry         = [00000000 00003A40]  
ev6__call_pal_aa_entry         = [00000000 00003A80]  
ev6__call_pal_ab_entry         = [00000000 00003AC0]  
ev6__call_pal_ac_entry         = [00000000 00003B00]  
ev6__call_pal_ad_entry         = [00000000 00003B40]  
ev6__call_pal_ae_entry         = [00000000 00003B80]  
ev6__call_pal_af_entry         = [00000000 00003BC0]  
ev6__call_pal_b0_entry         = [00000000 00003C00]  
ev6__call_pal_b1_entry         = [00000000 00003C40]  
ev6__call_pal_b2_entry         = [00000000 00003C80]  
ev6__call_pal_b3_entry         = [00000000 00003CC0]  
ev6__call_pal_b4_entry         = [00000000 00003D00]  
ev6__call_pal_b5_entry         = [00000000 00003D40]  
ev6__call_pal_b6_entry         = [00000000 00003D80]  
ev6__call_pal_b7_entry         = [00000000 00003DC0]  
ev6__call_pal_b8_entry         = [00000000 00003E00]  
ev6__call_pal_b9_entry         = [00000000 00003E40]  
ev6__call_pal_ba_entry         = [00000000 00003E80]  
ev6__call_pal_bb_entry         = [00000000 00003EC0]  
ev6__call_pal_bc_entry         = [00000000 00003F00]  
ev6__call_pal_bd_entry         = [00000000 00003F40]  
ev6__call_pal_be_entry         = [00000000 00003F80]  
ev6__call_pal_bf_entry         = [00000000 00003FC0]  
ev6__cc                        = [00000000 0000C020]  
ev6__cc__counter__m            = [00000000 0FFFFFFF]  
ev6__cc__counter__s            = [00000000 00000004]  
ev6__cc__counter__v            = [00000000 0000001C]  
ev6__cc__counter_bot__m        = [00000000 0000000F]  
ev6__cc__counter_bot__s        = [00000000 00000000]  
ev6__cc__counter_bot__v        = [00000000 00000004]  
ev6__cc__offset__m             = [00000000 FFFFFFFF]  
ev6__cc__offset__s             = [00000000 00000020]  
ev6__cc__offset__v             = [00000000 00000020]  
ev6__cc_ctl                    = [00000000 0000C120]  
ev6__cc_ctl__cc_ena__m         = [00000000 00000001]  
ev6__cc_ctl__cc_ena__s         = [00000000 00000020]  
ev6__cc_ctl__cc_ena__v         = [00000000 00000001]  
ev6__cc_ctl__counter__m        = [00000000 0FFFFFFF]  
ev6__cc_ctl__counter__s        = [00000000 00000004]  
ev6__cc_ctl__counter__v        = [00000000 0000001C]  
ev6__cc_ctl__rsv1__m           = [00000000 0000000F]  
ev6__cc_ctl__rsv1__s           = [00000000 00000000]  
ev6__cc_ctl__rsv1__v           = [00000000 00000004]  
ev6__cc_ctl__rsv2__m           = [00000000 7FFFFFFF]  
ev6__cc_ctl__rsv2__s           = [00000000 00000021]  
ev6__cc_ctl__rsv2__v           = [00000000 0000001F]  
ev6__chip_id_ev67_pass1        = [00000000 00000008]  
ev6__chip_id_ev68_pass1        = [00000000 00000010]  
ev6__chip_id_ev6_pass1         = [00000000 00000000]  
ev6__chip_id_ev6_pass2         = [00000000 00000001]  
ev6__chip_id_ev6_pass2_2       = [00000000 00000002]  
ev6__chip_id_ev6_pass2_3       = [00000000 00000003]  
ev6__chip_id_ev6_pass3         = [00000000 00000004]  
ev6__chip_id_ev7_pass1         = [00000000 00000018]  
ev6__clr_map                   = [00000000 000015F0]  
ev6__clr_map__rsv__m           = [FFFFFFFF FFFFFFFF]  
ev6__clr_map__rsv__s           = [00000000 00000000]  
ev6__clr_map__rsv__v           = [00000000 00000040]  
ev6__data                      = [00000000 00002B40]  
ev6__data__c_data__m           = [00000000 0000003F]  
ev6__data__c_data__s           = [00000000 00000000]  
ev6__data__c_data__v           = [00000000 00000006]  
ev6__data__rsv1__m             = [03FFFFFF FFFFFFFF]  
ev6__data__rsv1__s             = [00000000 00000006]  
ev6__data__rsv1__v             = [00000000 0000003A]  
ev6__dc_ctl                    = [00000000 00002940]  
ev6__dc_ctl__dcdat_err_en__m   = [00000000 00000001]  
ev6__dc_ctl__dcdat_err_en__s   = [00000000 00000007]  
ev6__dc_ctl__dcdat_err_en__v   = [00000000 00000001]  
ev6__dc_ctl__dctag_par_en__m   = [00000000 00000001]  
ev6__dc_ctl__dctag_par_en__s   = [00000000 00000006]  
ev6__dc_ctl__dctag_par_en__v   = [00000000 00000001]  
ev6__dc_ctl__f_bad_decc__m     = [00000000 00000001]  
ev6__dc_ctl__f_bad_decc__s     = [00000000 00000005]  
ev6__dc_ctl__f_bad_decc__v     = [00000000 00000001]  
ev6__dc_ctl__f_bad_tpar__m     = [00000000 00000001]  
ev6__dc_ctl__f_bad_tpar__s     = [00000000 00000004]  
ev6__dc_ctl__f_bad_tpar__v     = [00000000 00000001]  
ev6__dc_ctl__f_hit__m          = [00000000 00000001]  
ev6__dc_ctl__f_hit__s          = [00000000 00000002]  
ev6__dc_ctl__f_hit__v          = [00000000 00000001]  
ev6__dc_ctl__flush__m          = [00000000 00000001]  
ev6__dc_ctl__flush__s          = [00000000 00000003]  
ev6__dc_ctl__flush__v          = [00000000 00000001]  
ev6__dc_ctl__rsv1__m           = [00FFFFFF FFFFFFFF]  
ev6__dc_ctl__rsv1__s           = [00000000 00000008]  
ev6__dc_ctl__rsv1__v           = [00000000 00000038]  
ev6__dc_ctl__set_en__m         = [00000000 00000003]  
ev6__dc_ctl__set_en__s         = [00000000 00000000]  
ev6__dc_ctl__set_en__v         = [00000000 00000002]  
ev6__dc_stat                   = [00000000 00002A40]  
ev6__dc_stat__ecc_err_ld__m    = [00000000 00000001]  
ev6__dc_stat__ecc_err_ld__s    = [00000000 00000003]  
ev6__dc_stat__ecc_err_ld__v    = [00000000 00000001]  
ev6__dc_stat__ecc_err_st__m    = [00000000 00000001]  
ev6__dc_stat__ecc_err_st__s    = [00000000 00000002]  
ev6__dc_stat__ecc_err_st__v    = [00000000 00000001]  
ev6__dc_stat__rsv1__m          = [07FFFFFF FFFFFFFF]  
ev6__dc_stat__rsv1__s          = [00000000 00000005]  
ev6__dc_stat__rsv1__v          = [00000000 0000003B]  
ev6__dc_stat__seo__m           = [00000000 00000001]  
ev6__dc_stat__seo__s           = [00000000 00000004]  
ev6__dc_stat__seo__v           = [00000000 00000001]  
ev6__dc_stat__tperr_p0__m      = [00000000 00000001]  
ev6__dc_stat__tperr_p0__s      = [00000000 00000000]  
ev6__dc_stat__tperr_p0__v      = [00000000 00000001]  
ev6__dc_stat__tperr_p1__m      = [00000000 00000001]  
ev6__dc_stat__tperr_p1__s      = [00000000 00000001]  
ev6__dc_stat__tperr_p1__v      = [00000000 00000001]  
ev6__dc_stat__w1c              = [00000000 0000001F]  
ev6__dc_stat__w1c_crd          = [00000000 0000000C]  
ev6__dfault_entry              = [00000000 00000380]  
ev6__dtb_alt_mode              = [00000000 00002640]  
ev6__dtb_alt_mode__mode__m     = [00000000 00000003]  
ev6__dtb_alt_mode__mode__s     = [00000000 00000000]  
ev6__dtb_alt_mode__mode__v     = [00000000 00000002]  
ev6__dtb_alt_mode__rsv1__m     = [3FFFFFFF FFFFFFFF]  
ev6__dtb_alt_mode__rsv1__s     = [00000000 00000002]  
ev6__dtb_alt_mode__rsv1__v     = [00000000 0000003E]  
ev6__dtb_asn0                  = [00000000 00002510]  
ev6__dtb_asn0__asn__m          = [00000000 000000FF]  
ev6__dtb_asn0__asn__s          = [00000000 00000038]  
ev6__dtb_asn0__asn__v          = [00000000 00000008]  
ev6__dtb_asn0__rsv__m          = [00FFFFFF FFFFFFFF]  
ev6__dtb_asn0__rsv__s          = [00000000 00000000]  
ev6__dtb_asn0__rsv__v          = [00000000 00000038]  
ev6__dtb_asn1                  = [00000000 0000A580]  
ev6__dtb_asn1__asn__m          = [00000000 000000FF]  
ev6__dtb_asn1__asn__s          = [00000000 00000038]  
ev6__dtb_asn1__asn__v          = [00000000 00000008]  
ev6__dtb_asn1__rsv__m          = [00FFFFFF FFFFFFFF]  
ev6__dtb_asn1__rsv__s          = [00000000 00000000]  
ev6__dtb_asn1__rsv__v          = [00000000 00000038]  
ev6__dtb_ia                    = [00000000 0000A380]  
ev6__dtb_ia__rsv__m            = [FFFFFFFF FFFFFFFF]  
ev6__dtb_ia__rsv__s            = [00000000 00000000]  
ev6__dtb_ia__rsv__v            = [00000000 00000040]  
ev6__dtb_iap                   = [00000000 0000A280]  
ev6__dtb_iap__rsv__m           = [FFFFFFFF FFFFFFFF]  
ev6__dtb_iap__rsv__s           = [00000000 00000000]  
ev6__dtb_iap__rsv__v           = [00000000 00000040]  
ev6__dtb_is0                   = [00000000 00002440]  
ev6__dtb_is0__rsv1__m          = [00000000 00001FFF]  
ev6__dtb_is0__rsv1__s          = [00000000 00000000]  
ev6__dtb_is0__rsv1__v          = [00000000 0000000D]  
ev6__dtb_is0__rsv2__m          = [00000000 0000FFFF]  
ev6__dtb_is0__rsv2__s          = [00000000 00000030]  
ev6__dtb_is0__rsv2__v          = [00000000 00000010]  
ev6__dtb_is0__va__m            = [00000007 FFFFFFFF]  
ev6__dtb_is0__va__s            = [00000000 0000000D]  
ev6__dtb_is0__va__v            = [00000000 00000023]  
ev6__dtb_is1                   = [00000000 0000A480]  
ev6__dtb_is1__rsv1__m          = [00000000 00001FFF]  
ev6__dtb_is1__rsv1__s          = [00000000 00000000]  
ev6__dtb_is1__rsv1__v          = [00000000 0000000D]  
ev6__dtb_is1__rsv2__m          = [00000000 0000FFFF]  
ev6__dtb_is1__rsv2__s          = [00000000 00000030]  
ev6__dtb_is1__rsv2__v          = [00000000 00000010]  
ev6__dtb_is1__va__m            = [00000007 FFFFFFFF]  
ev6__dtb_is1__va__s            = [00000000 0000000D]  
ev6__dtb_is1__va__v            = [00000000 00000023]  
ev6__dtb_pte0                  = [00000000 00002111]  
ev6__dtb_pte0__asm__m          = [00000000 00000001]  
ev6__dtb_pte0__asm__s          = [00000000 00000004]  
ev6__dtb_pte0__asm__v          = [00000000 00000001]  
ev6__dtb_pte0__ere__m          = [00000000 00000001]  
ev6__dtb_pte0__ere__s          = [00000000 00000009]  
ev6__dtb_pte0__ere__v          = [00000000 00000001]  
ev6__dtb_pte0__ewe__m          = [00000000 00000001]  
ev6__dtb_pte0__ewe__s          = [00000000 0000000D]  
ev6__dtb_pte0__ewe__v          = [00000000 00000001]  
ev6__dtb_pte0__for__m          = [00000000 00000001]  
ev6__dtb_pte0__for__s          = [00000000 00000001]  
ev6__dtb_pte0__for__v          = [00000000 00000001]  
ev6__dtb_pte0__fow__m          = [00000000 00000001]  
ev6__dtb_pte0__fow__s          = [00000000 00000002]  
ev6__dtb_pte0__fow__v          = [00000000 00000001]  
ev6__dtb_pte0__gh__m           = [00000000 00000003]  
ev6__dtb_pte0__gh__s           = [00000000 00000005]  
ev6__dtb_pte0__gh__v           = [00000000 00000002]  
ev6__dtb_pte0__kre__m          = [00000000 00000001]  
ev6__dtb_pte0__kre__s          = [00000000 00000008]  
ev6__dtb_pte0__kre__v          = [00000000 00000001]  
ev6__dtb_pte0__kwe__m          = [00000000 00000001]  
ev6__dtb_pte0__kwe__s          = [00000000 0000000C]  
ev6__dtb_pte0__kwe__v          = [00000000 00000001]  
ev6__dtb_pte0__pfn__m          = [00000000 7FFFFFFF]  
ev6__dtb_pte0__pfn__s          = [00000000 00000020]  
ev6__dtb_pte0__pfn__v          = [00000000 0000001F]  
ev6__dtb_pte0__rsv1__m         = [00000000 00000001]  
ev6__dtb_pte0__rsv1__s         = [00000000 00000000]  
ev6__dtb_pte0__rsv1__v         = [00000000 00000001]  
ev6__dtb_pte0__rsv2__m         = [00000000 00000001]  
ev6__dtb_pte0__rsv2__s         = [00000000 00000003]  
ev6__dtb_pte0__rsv2__v         = [00000000 00000001]  
ev6__dtb_pte0__rsv3__m         = [00000000 00000001]  
ev6__dtb_pte0__rsv3__s         = [00000000 00000007]  
ev6__dtb_pte0__rsv3__v         = [00000000 00000001]  
ev6__dtb_pte0__rsv4__m         = [00000000 0000FFFF]  
ev6__dtb_pte0__rsv4__s         = [00000000 00000010]  
ev6__dtb_pte0__rsv4__v         = [00000000 00000010]  
ev6__dtb_pte0__rsv5__m         = [00000000 00000001]  
ev6__dtb_pte0__rsv5__s         = [00000000 0000003F]  
ev6__dtb_pte0__rsv5__v         = [00000000 00000001]  
ev6__dtb_pte0__sre__m          = [00000000 00000001]  
ev6__dtb_pte0__sre__s          = [00000000 0000000A]  
ev6__dtb_pte0__sre__v          = [00000000 00000001]  
ev6__dtb_pte0__swe__m          = [00000000 00000001]  
ev6__dtb_pte0__swe__s          = [00000000 0000000E]  
ev6__dtb_pte0__swe__v          = [00000000 00000001]  
ev6__dtb_pte0__ure__m          = [00000000 00000001]  
ev6__dtb_pte0__ure__s          = [00000000 0000000B]  
ev6__dtb_pte0__ure__v          = [00000000 00000001]  
ev6__dtb_pte0__uwe__m          = [00000000 00000001]  
ev6__dtb_pte0__uwe__s          = [00000000 0000000F]  
ev6__dtb_pte0__uwe__v          = [00000000 00000001]  
ev6__dtb_pte1                  = [00000000 0000A188]  
ev6__dtb_pte1__asm__m          = [00000000 00000001]  
ev6__dtb_pte1__asm__s          = [00000000 00000004]  
ev6__dtb_pte1__asm__v          = [00000000 00000001]  
ev6__dtb_pte1__ere__m          = [00000000 00000001]  
ev6__dtb_pte1__ere__s          = [00000000 00000009]  
ev6__dtb_pte1__ere__v          = [00000000 00000001]  
ev6__dtb_pte1__ewe__m          = [00000000 00000001]  
ev6__dtb_pte1__ewe__s          = [00000000 0000000D]  
ev6__dtb_pte1__ewe__v          = [00000000 00000001]  
ev6__dtb_pte1__for__m          = [00000000 00000001]  
ev6__dtb_pte1__for__s          = [00000000 00000001]  
ev6__dtb_pte1__for__v          = [00000000 00000001]  
ev6__dtb_pte1__fow__m          = [00000000 00000001]  
ev6__dtb_pte1__fow__s          = [00000000 00000002]  
ev6__dtb_pte1__fow__v          = [00000000 00000001]  
ev6__dtb_pte1__gh__m           = [00000000 00000003]  
ev6__dtb_pte1__gh__s           = [00000000 00000005]  
ev6__dtb_pte1__gh__v           = [00000000 00000002]  
ev6__dtb_pte1__kre__m          = [00000000 00000001]  
ev6__dtb_pte1__kre__s          = [00000000 00000008]  
ev6__dtb_pte1__kre__v          = [00000000 00000001]  
ev6__dtb_pte1__kwe__m          = [00000000 00000001]  
ev6__dtb_pte1__kwe__s          = [00000000 0000000C]  
ev6__dtb_pte1__kwe__v          = [00000000 00000001]  
ev6__dtb_pte1__pfn__m          = [00000000 7FFFFFFF]  
ev6__dtb_pte1__pfn__s          = [00000000 00000020]  
ev6__dtb_pte1__pfn__v          = [00000000 0000001F]  
ev6__dtb_pte1__rsv1__m         = [00000000 00000001]  
ev6__dtb_pte1__rsv1__s         = [00000000 00000000]  
ev6__dtb_pte1__rsv1__v         = [00000000 00000001]  
ev6__dtb_pte1__rsv2__m         = [00000000 00000001]  
ev6__dtb_pte1__rsv2__s         = [00000000 00000003]  
ev6__dtb_pte1__rsv2__v         = [00000000 00000001]  
ev6__dtb_pte1__rsv3__m         = [00000000 00000001]  
ev6__dtb_pte1__rsv3__s         = [00000000 00000007]  
ev6__dtb_pte1__rsv3__v         = [00000000 00000001]  
ev6__dtb_pte1__rsv4__m         = [00000000 0000FFFF]  
ev6__dtb_pte1__rsv4__s         = [00000000 00000010]  
ev6__dtb_pte1__rsv4__v         = [00000000 00000010]  
ev6__dtb_pte1__rsv5__m         = [00000000 00000001]  
ev6__dtb_pte1__rsv5__s         = [00000000 0000003F]  
ev6__dtb_pte1__rsv5__v         = [00000000 00000001]  
ev6__dtb_pte1__sre__m          = [00000000 00000001]  
ev6__dtb_pte1__sre__s          = [00000000 0000000A]  
ev6__dtb_pte1__sre__v          = [00000000 00000001]  
ev6__dtb_pte1__swe__m          = [00000000 00000001]  
ev6__dtb_pte1__swe__s          = [00000000 0000000E]  
ev6__dtb_pte1__swe__v          = [00000000 00000001]  
ev6__dtb_pte1__ure__m          = [00000000 00000001]  
ev6__dtb_pte1__ure__s          = [00000000 0000000B]  
ev6__dtb_pte1__ure__v          = [00000000 00000001]  
ev6__dtb_pte1__uwe__m          = [00000000 00000001]  
ev6__dtb_pte1__uwe__s          = [00000000 0000000F]  
ev6__dtb_pte1__uwe__v          = [00000000 00000001]  
ev6__dtb_tag0                  = [00000000 00002044]  
ev6__dtb_tag0__rsv1__m         = [00000000 00001FFF]  
ev6__dtb_tag0__rsv1__s         = [00000000 00000000]  
ev6__dtb_tag0__rsv1__v         = [00000000 0000000D]  
ev6__dtb_tag0__rsv2__m         = [00000000 0000FFFF]  
ev6__dtb_tag0__rsv2__s         = [00000000 00000030]  
ev6__dtb_tag0__rsv2__v         = [00000000 00000010]  
ev6__dtb_tag0__va__m           = [00000007 FFFFFFFF]  
ev6__dtb_tag0__va__s           = [00000000 0000000D]  
ev6__dtb_tag0__va__v           = [00000000 00000023]  
ev6__dtb_tag1                  = [00000000 0000A022]  
ev6__dtb_tag1__rsv1__m         = [00000000 00001FFF]  
ev6__dtb_tag1__rsv1__s         = [00000000 00000000]  
ev6__dtb_tag1__rsv1__v         = [00000000 0000000D]  
ev6__dtb_tag1__rsv2__m         = [00000000 0000FFFF]  
ev6__dtb_tag1__rsv2__s         = [00000000 00000030]  
ev6__dtb_tag1__rsv2__v         = [00000000 00000010]  
ev6__dtb_tag1__va__m           = [00000007 FFFFFFFF]  
ev6__dtb_tag1__va__s           = [00000000 0000000D]  
ev6__dtb_tag1__va__v           = [00000000 00000023]  
ev6__dtbm_double_3_entry       = [00000000 00000100]  
ev6__dtbm_double_4_entry       = [00000000 00000180]  
ev6__dtbm_single_entry         = [00000000 00000300]  
ev6__exc_addr                  = [00000000 00000600]  
ev6__exc_addr__pal__m          = [00000000 00000001]  
ev6__exc_addr__pal__s          = [00000000 00000000]  
ev6__exc_addr__pal__v          = [00000000 00000001]  
ev6__exc_addr__pc__m           = [00003FFF FFFFFFFF]  
ev6__exc_addr__pc__s           = [00000000 00000002]  
ev6__exc_addr__pc__v           = [00000000 0000002E]  
ev6__exc_addr__pc_sext0__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext0__s     = [00000000 00000030]  
ev6__exc_addr__pc_sext0__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext10__m    = [00000000 00000001]  
ev6__exc_addr__pc_sext10__s    = [00000000 0000003A]  
ev6__exc_addr__pc_sext10__v    = [00000000 00000001]  
ev6__exc_addr__pc_sext11__m    = [00000000 00000001]  
ev6__exc_addr__pc_sext11__s    = [00000000 0000003B]  
ev6__exc_addr__pc_sext11__v    = [00000000 00000001]  
ev6__exc_addr__pc_sext12__m    = [00000000 00000001]  
ev6__exc_addr__pc_sext12__s    = [00000000 0000003C]  
ev6__exc_addr__pc_sext12__v    = [00000000 00000001]  
ev6__exc_addr__pc_sext13__m    = [00000000 00000001]  
ev6__exc_addr__pc_sext13__s    = [00000000 0000003D]  
ev6__exc_addr__pc_sext13__v    = [00000000 00000001]  
ev6__exc_addr__pc_sext14__m    = [00000000 00000001]  
ev6__exc_addr__pc_sext14__s    = [00000000 0000003E]  
ev6__exc_addr__pc_sext14__v    = [00000000 00000001]  
ev6__exc_addr__pc_sext15__m    = [00000000 00000001]  
ev6__exc_addr__pc_sext15__s    = [00000000 0000003F]  
ev6__exc_addr__pc_sext15__v    = [00000000 00000001]  
ev6__exc_addr__pc_sext1__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext1__s     = [00000000 00000031]  
ev6__exc_addr__pc_sext1__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext2__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext2__s     = [00000000 00000032]  
ev6__exc_addr__pc_sext2__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext3__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext3__s     = [00000000 00000033]  
ev6__exc_addr__pc_sext3__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext4__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext4__s     = [00000000 00000034]  
ev6__exc_addr__pc_sext4__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext5__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext5__s     = [00000000 00000035]  
ev6__exc_addr__pc_sext5__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext6__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext6__s     = [00000000 00000036]  
ev6__exc_addr__pc_sext6__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext7__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext7__s     = [00000000 00000037]  
ev6__exc_addr__pc_sext7__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext8__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext8__s     = [00000000 00000038]  
ev6__exc_addr__pc_sext8__v     = [00000000 00000001]  
ev6__exc_addr__pc_sext9__m     = [00000000 00000001]  
ev6__exc_addr__pc_sext9__s     = [00000000 00000039]  
ev6__exc_addr__pc_sext9__v     = [00000000 00000001]  
ev6__exc_addr__rsv__m          = [00000000 00000001]  
ev6__exc_addr__rsv__s          = [00000000 00000001]  
ev6__exc_addr__rsv__v          = [00000000 00000001]  
ev6__exc_sum                   = [00000000 00000F00]  
ev6__exc_sum__bad_iva__m       = [00000000 00000001]  
ev6__exc_sum__bad_iva__s       = [00000000 0000000D]  
ev6__exc_sum__bad_iva__v       = [00000000 00000001]  
ev6__exc_sum__dze__m           = [00000000 00000001]  
ev6__exc_sum__dze__s           = [00000000 00000002]  
ev6__exc_sum__dze__v           = [00000000 00000001]  
ev6__exc_sum__fov__m           = [00000000 00000001]  
ev6__exc_sum__fov__s           = [00000000 00000003]  
ev6__exc_sum__fov__v           = [00000000 00000001]  
ev6__exc_sum__ine__m           = [00000000 00000001]  
ev6__exc_sum__ine__s           = [00000000 00000005]  
ev6__exc_sum__ine__v           = [00000000 00000001]  
ev6__exc_sum__int__m           = [00000000 00000001]  
ev6__exc_sum__int__s           = [00000000 00000007]  
ev6__exc_sum__int__v           = [00000000 00000001]  
ev6__exc_sum__inv__m           = [00000000 00000001]  
ev6__exc_sum__inv__s           = [00000000 00000001]  
ev6__exc_sum__inv__v           = [00000000 00000001]  
ev6__exc_sum__iov__m           = [00000000 00000001]  
ev6__exc_sum__iov__s           = [00000000 00000006]  
ev6__exc_sum__iov__v           = [00000000 00000001]  
ev6__exc_sum__pc_ovfl__m       = [00000000 00000001]  
ev6__exc_sum__pc_ovfl__s       = [00000000 00000029]  
ev6__exc_sum__pc_ovfl__v       = [00000000 00000001]  
ev6__exc_sum__reg__m           = [00000000 0000001F]  
ev6__exc_sum__reg__s           = [00000000 00000008]  
ev6__exc_sum__reg__v           = [00000000 00000005]  
ev6__exc_sum__rsv1__m          = [00000000 07FFFFFF]  
ev6__exc_sum__rsv1__s          = [00000000 0000000E]  
ev6__exc_sum__rsv1__v          = [00000000 0000001B]  
ev6__exc_sum__set_dze__m       = [00000000 00000001]  
ev6__exc_sum__set_dze__s       = [00000000 0000002B]  
ev6__exc_sum__set_dze__v       = [00000000 00000001]  
ev6__exc_sum__set_fov__m       = [00000000 00000001]  
ev6__exc_sum__set_fov__s       = [00000000 0000002C]  
ev6__exc_sum__set_fov__v       = [00000000 00000001]  
ev6__exc_sum__set_ine__m       = [00000000 00000001]  
ev6__exc_sum__set_ine__s       = [00000000 0000002E]  
ev6__exc_sum__set_ine__v       = [00000000 00000001]  
ev6__exc_sum__set_inv__m       = [00000000 00000001]  
ev6__exc_sum__set_inv__s       = [00000000 0000002A]  
ev6__exc_sum__set_inv__v       = [00000000 00000001]  
ev6__exc_sum__set_iov__m       = [00000000 00000001]  
ev6__exc_sum__set_iov__s       = [00000000 0000002F]  
ev6__exc_sum__set_iov__v       = [00000000 00000001]  
ev6__exc_sum__set_unf__m       = [00000000 00000001]  
ev6__exc_sum__set_unf__s       = [00000000 0000002D]  
ev6__exc_sum__set_unf__v       = [00000000 00000001]  
ev6__exc_sum__sext0__m         = [00000000 00000001]  
ev6__exc_sum__sext0__s         = [00000000 00000030]  
ev6__exc_sum__sext0__v         = [00000000 00000001]  
ev6__exc_sum__sext10__m        = [00000000 00000001]  
ev6__exc_sum__sext10__s        = [00000000 0000003A]  
ev6__exc_sum__sext10__v        = [00000000 00000001]  
ev6__exc_sum__sext11__m        = [00000000 00000001]  
ev6__exc_sum__sext11__s        = [00000000 0000003B]  
ev6__exc_sum__sext11__v        = [00000000 00000001]  
ev6__exc_sum__sext12__m        = [00000000 00000001]  
ev6__exc_sum__sext12__s        = [00000000 0000003C]  
ev6__exc_sum__sext12__v        = [00000000 00000001]  
ev6__exc_sum__sext13__m        = [00000000 00000001]  
ev6__exc_sum__sext13__s        = [00000000 0000003D]  
ev6__exc_sum__sext13__v        = [00000000 00000001]  
ev6__exc_sum__sext14__m        = [00000000 00000001]  
ev6__exc_sum__sext14__s        = [00000000 0000003E]  
ev6__exc_sum__sext14__v        = [00000000 00000001]  
ev6__exc_sum__sext15__m        = [00000000 00000001]  
ev6__exc_sum__sext15__s        = [00000000 0000003F]  
ev6__exc_sum__sext15__v        = [00000000 00000001]  
ev6__exc_sum__sext1__m         = [00000000 00000001]  
ev6__exc_sum__sext1__s         = [00000000 00000031]  
ev6__exc_sum__sext1__v         = [00000000 00000001]  
ev6__exc_sum__sext2__m         = [00000000 00000001]  
ev6__exc_sum__sext2__s         = [00000000 00000032]  
ev6__exc_sum__sext2__v         = [00000000 00000001]  
ev6__exc_sum__sext3__m         = [00000000 00000001]  
ev6__exc_sum__sext3__s         = [00000000 00000033]  
ev6__exc_sum__sext3__v         = [00000000 00000001]  
ev6__exc_sum__sext4__m         = [00000000 00000001]  
ev6__exc_sum__sext4__s         = [00000000 00000034]  
ev6__exc_sum__sext4__v         = [00000000 00000001]  
ev6__exc_sum__sext5__m         = [00000000 00000001]  
ev6__exc_sum__sext5__s         = [00000000 00000035]  
ev6__exc_sum__sext5__v         = [00000000 00000001]  
ev6__exc_sum__sext6__m         = [00000000 00000001]  
ev6__exc_sum__sext6__s         = [00000000 00000036]  
ev6__exc_sum__sext6__v         = [00000000 00000001]  
ev6__exc_sum__sext7__m         = [00000000 00000001]  
ev6__exc_sum__sext7__s         = [00000000 00000037]  
ev6__exc_sum__sext7__v         = [00000000 00000001]  
ev6__exc_sum__sext8__m         = [00000000 00000001]  
ev6__exc_sum__sext8__s         = [00000000 00000038]  
ev6__exc_sum__sext8__v         = [00000000 00000001]  
ev6__exc_sum__sext9__m         = [00000000 00000001]  
ev6__exc_sum__sext9__s         = [00000000 00000039]  
ev6__exc_sum__sext9__v         = [00000000 00000001]  
ev6__exc_sum__swc__m           = [00000000 00000001]  
ev6__exc_sum__swc__s           = [00000000 00000000]  
ev6__exc_sum__swc__v           = [00000000 00000001]  
ev6__exc_sum__unf__m           = [00000000 00000001]  
ev6__exc_sum__unf__s           = [00000000 00000004]  
ev6__exc_sum__unf__v           = [00000000 00000001]  
ev6__fen                       = [00000000 00010000]  
ev6__fen__fen__m               = [00000000 00000001]  
ev6__fen__fen__s               = [00000000 00000000]  
ev6__fen__fen__v               = [00000000 00000001]  
ev6__fen__rsv2__m              = [7FFFFFFF FFFFFFFF]  
ev6__fen__rsv2__s              = [00000000 00000001]  
ev6__fen__rsv2__v              = [00000000 0000003F]  
ev6__fen_entry                 = [00000000 00000200]  
ev6__fpcr                      = [00000000 00010001]  
ev6__fpcr__dnz__m              = [00000000 00000001]  
ev6__fpcr__dnz__s              = [00000000 00000030]  
ev6__fpcr__dnz__v              = [00000000 00000001]  
ev6__fpcr__dyn__m              = [00000000 00000003]  
ev6__fpcr__dyn__s              = [00000000 0000003A]  
ev6__fpcr__dyn__v              = [00000000 00000002]  
ev6__fpcr__dze__m              = [00000000 00000001]  
ev6__fpcr__dze__s              = [00000000 00000035]  
ev6__fpcr__dze__v              = [00000000 00000001]  
ev6__fpcr__dzed__m             = [00000000 00000001]  
ev6__fpcr__dzed__s             = [00000000 00000032]  
ev6__fpcr__dzed__v             = [00000000 00000001]  
ev6__fpcr__ine__m              = [00000000 00000001]  
ev6__fpcr__ine__s              = [00000000 00000038]  
ev6__fpcr__ine__v              = [00000000 00000001]  
ev6__fpcr__ined__m             = [00000000 00000001]  
ev6__fpcr__ined__s             = [00000000 0000003E]  
ev6__fpcr__ined__v             = [00000000 00000001]  
ev6__fpcr__inv__m              = [00000000 00000001]  
ev6__fpcr__inv__s              = [00000000 00000034]  
ev6__fpcr__inv__v              = [00000000 00000001]  
ev6__fpcr__invd__m             = [00000000 00000001]  
ev6__fpcr__invd__s             = [00000000 00000031]  
ev6__fpcr__invd__v             = [00000000 00000001]  
ev6__fpcr__iov__m              = [00000000 00000001]  
ev6__fpcr__iov__s              = [00000000 00000039]  
ev6__fpcr__iov__v              = [00000000 00000001]  
ev6__fpcr__ovf__m              = [00000000 00000001]  
ev6__fpcr__ovf__s              = [00000000 00000036]  
ev6__fpcr__ovf__v              = [00000000 00000001]  
ev6__fpcr__ovfd__m             = [00000000 00000001]  
ev6__fpcr__ovfd__s             = [00000000 00000033]  
ev6__fpcr__ovfd__v             = [00000000 00000001]  
ev6__fpcr__rsv1__m             = [0000FFFF FFFFFFFF]  
ev6__fpcr__rsv1__s             = [00000000 00000000]  
ev6__fpcr__rsv1__v             = [00000000 00000030]  
ev6__fpcr__sum__m              = [00000000 00000001]  
ev6__fpcr__sum__s              = [00000000 0000003F]  
ev6__fpcr__sum__v              = [00000000 00000001]  
ev6__fpcr__undz__m             = [00000000 00000001]  
ev6__fpcr__undz__s             = [00000000 0000003C]  
ev6__fpcr__undz__v             = [00000000 00000001]  
ev6__fpcr__unf__m              = [00000000 00000001]  
ev6__fpcr__unf__s              = [00000000 00000037]  
ev6__fpcr__unf__v              = [00000000 00000001]  
ev6__fpcr__unfd__m             = [00000000 00000001]  
ev6__fpcr__unfd__s             = [00000000 0000003D]  
ev6__fpcr__unfd__v             = [00000000 00000001]  
ev6__fpe                       = [00000000 00005010]  
ev6__fpe__asn__m               = [00000000 000000FF]  
ev6__fpe__asn__s               = [00000000 00000027]  
ev6__fpe__asn__v               = [00000000 00000008]  
ev6__fpe__aster__m             = [00000000 0000000F]  
ev6__fpe__aster__s             = [00000000 00000005]  
ev6__fpe__aster__v             = [00000000 00000004]  
ev6__fpe__astrr__m             = [00000000 0000000F]  
ev6__fpe__astrr__s             = [00000000 00000009]  
ev6__fpe__astrr__v             = [00000000 00000004]  
ev6__fpe__fpe__m               = [00000000 00000001]  
ev6__fpe__fpe__s               = [00000000 00000002]  
ev6__fpe__fpe__v               = [00000000 00000001]  
ev6__fpe__ppce__m              = [00000000 00000001]  
ev6__fpe__ppce__s              = [00000000 00000001]  
ev6__fpe__ppce__v              = [00000000 00000001]  
ev6__fpe__rsv0__m              = [00000000 00000001]  
ev6__fpe__rsv0__s              = [00000000 00000000]  
ev6__fpe__rsv0__v              = [00000000 00000001]  
ev6__fpe__rsv1__m              = [00000000 00000003]  
ev6__fpe__rsv1__s              = [00000000 00000003]  
ev6__fpe__rsv1__v              = [00000000 00000002]  
ev6__fpe__rsv2__m              = [00000000 03FFFFFF]  
ev6__fpe__rsv2__s              = [00000000 0000000D]  
ev6__fpe__rsv2__v              = [00000000 0000001A]  
ev6__fpe__rsv3__m              = [00000000 0001FFFF]  
ev6__fpe__rsv3__s              = [00000000 0000002F]  
ev6__fpe__rsv3__v              = [00000000 00000011]  
ev6__halt_entry                = [00000000 00002000]  
ev6__hw_int_clr                = [00000000 00000E10]  
ev6__hw_int_clr__cr__m         = [00000000 00000001]  
ev6__hw_int_clr__cr__s         = [00000000 0000001F]  
ev6__hw_int_clr__cr__v         = [00000000 00000001]  
ev6__hw_int_clr__fbdp__m       = [00000000 00000001]  
ev6__hw_int_clr__fbdp__s       = [00000000 0000001B]  
ev6__hw_int_clr__fbdp__v       = [00000000 00000001]  
ev6__hw_int_clr__fbtp__m       = [00000000 00000001]  
ev6__hw_int_clr__fbtp__s       = [00000000 0000001A]  
ev6__hw_int_clr__fbtp__v       = [00000000 00000001]  
ev6__hw_int_clr__init          = [00000000 0000001F]  
ev6__hw_int_clr__mchk_d__m     = [00000000 00000001]  
ev6__hw_int_clr__mchk_d__s     = [00000000 0000001C]  
ev6__hw_int_clr__mchk_d__v     = [00000000 00000001]  
ev6__hw_int_clr__pc__m         = [00000000 00000003]  
ev6__hw_int_clr__pc__s         = [00000000 0000001D]  
ev6__hw_int_clr__pc__v         = [00000000 00000002]  
ev6__hw_int_clr__rsv1__m       = [00000000 03FFFFFF]  
ev6__hw_int_clr__rsv1__s       = [00000000 00000000]  
ev6__hw_int_clr__rsv1__v       = [00000000 0000001A]  
ev6__hw_int_clr__rsv2__m       = [00000000 7FFFFFFF]  
ev6__hw_int_clr__rsv2__s       = [00000000 00000021]  
ev6__hw_int_clr__rsv2__v       = [00000000 0000001F]  
ev6__hw_int_clr__sl__m         = [00000000 00000001]  
ev6__hw_int_clr__sl__s         = [00000000 00000020]  
ev6__hw_int_clr__sl__v         = [00000000 00000001]  
ev6__hw_int_reg                = [00000000 0001000E]  
ev6__hw_int_reg__cr__m         = [00000000 00000001]  
ev6__hw_int_reg__cr__s         = [00000000 0000001F]  
ev6__hw_int_reg__cr__v         = [00000000 00000001]  
ev6__hw_int_reg__fbdp__m       = [00000000 00000001]  
ev6__hw_int_reg__fbdp__s       = [00000000 0000001B]  
ev6__hw_int_reg__fbdp__v       = [00000000 00000001]  
ev6__hw_int_reg__fbtp__m       = [00000000 00000001]  
ev6__hw_int_reg__fbtp__s       = [00000000 0000001A]  
ev6__hw_int_reg__fbtp__v       = [00000000 00000001]  
ev6__hw_int_reg__mchk_d__m     = [00000000 00000001]  
ev6__hw_int_reg__mchk_d__s     = [00000000 0000001C]  
ev6__hw_int_reg__mchk_d__v     = [00000000 00000001]  
ev6__hw_int_reg__pc__m         = [00000000 00000003]  
ev6__hw_int_reg__pc__s         = [00000000 0000001D]  
ev6__hw_int_reg__pc__v         = [00000000 00000002]  
ev6__hw_int_reg__rsv1__m       = [00000000 03FFFFFF]  
ev6__hw_int_reg__rsv1__s       = [00000000 00000000]  
ev6__hw_int_reg__rsv1__v       = [00000000 0000001A]  
ev6__hw_int_reg__rsv2__m       = [00000000 7FFFFFFF]  
ev6__hw_int_reg__rsv2__s       = [00000000 00000021]  
ev6__hw_int_reg__rsv2__v       = [00000000 0000001F]  
ev6__hw_int_reg__sl__m         = [00000000 00000001]  
ev6__hw_int_reg__sl__s         = [00000000 00000020]  
ev6__hw_int_reg__sl__v         = [00000000 00000001]  
ev6__i_ctl                     = [00000000 00001110]  
ev6__i_ctl__bist_fail__m       = [00000000 00000001]  
ev6__i_ctl__bist_fail__s       = [00000000 00000017]  
ev6__i_ctl__bist_fail__v       = [00000000 00000001]  
ev6__i_ctl__bp_mode__m         = [00000000 00000003]  
ev6__i_ctl__bp_mode__s         = [00000000 0000000A]  
ev6__i_ctl__bp_mode__v         = [00000000 00000002]  
ev6__i_ctl__call_pal_r23__m    = [00000000 00000001]  
ev6__i_ctl__call_pal_r23__s    = [00000000 00000014]  
ev6__i_ctl__call_pal_r23__v    = [00000000 00000001]  
ev6__i_ctl__chip_id__m         = [00000000 0000003F]  
ev6__i_ctl__chip_id__s         = [00000000 00000018]  
ev6__i_ctl__chip_id__v         = [00000000 00000006]  
ev6__i_ctl__hwe__m             = [00000000 00000001]  
ev6__i_ctl__hwe__s             = [00000000 0000000C]  
ev6__i_ctl__hwe__v             = [00000000 00000001]  
ev6__i_ctl__ic_en__m           = [00000000 00000003]  
ev6__i_ctl__ic_en__s           = [00000000 00000001]  
ev6__i_ctl__ic_en__v           = [00000000 00000002]  
ev6__i_ctl__init               = [00000000 00300396]  
ev6__i_ctl__mchk_en__m         = [00000000 00000001]  
ev6__i_ctl__mchk_en__s         = [00000000 00000015]  
ev6__i_ctl__mchk_en__v         = [00000000 00000001]  
ev6__i_ctl__pct0_en__m         = [00000000 00000001]  
ev6__i_ctl__pct0_en__s         = [00000000 00000012]  
ev6__i_ctl__pct0_en__v         = [00000000 00000001]  
ev6__i_ctl__pct1_en__m         = [00000000 00000001]  
ev6__i_ctl__pct1_en__s         = [00000000 00000013]  
ev6__i_ctl__pct1_en__v         = [00000000 00000001]  
ev6__i_ctl__sbe__m             = [00000000 00000003]  
ev6__i_ctl__sbe__s             = [00000000 00000008]  
ev6__i_ctl__sbe__v             = [00000000 00000002]  
ev6__i_ctl__sde7__s            = [00000000 00000007]  
ev6__i_ctl__sde__m             = [00000000 00000003]  
ev6__i_ctl__sde__s             = [00000000 00000006]  
ev6__i_ctl__sde__v             = [00000000 00000002]  
ev6__i_ctl__single_issue__m    = [00000000 00000001]  
ev6__i_ctl__single_issue__s    = [00000000 00000011]  
ev6__i_ctl__single_issue__v    = [00000000 00000001]  
ev6__i_ctl__sl_rcv__m          = [00000000 00000001]  
ev6__i_ctl__sl_rcv__s          = [00000000 0000000E]  
ev6__i_ctl__sl_rcv__v          = [00000000 00000001]  
ev6__i_ctl__sl_xmit__m         = [00000000 00000001]  
ev6__i_ctl__sl_xmit__s         = [00000000 0000000D]  
ev6__i_ctl__sl_xmit__v         = [00000000 00000001]  
ev6__i_ctl__spce__m            = [00000000 00000001]  
ev6__i_ctl__spce__s            = [00000000 00000000]  
ev6__i_ctl__spce__v            = [00000000 00000001]  
ev6__i_ctl__spe__m             = [00000000 00000007]  
ev6__i_ctl__spe__s             = [00000000 00000003]  
ev6__i_ctl__spe__v             = [00000000 00000003]  
ev6__i_ctl__tb_mb_en__m        = [00000000 00000001]  
ev6__i_ctl__tb_mb_en__s        = [00000000 00000016]  
ev6__i_ctl__tb_mb_en__v        = [00000000 00000001]  
ev6__i_ctl__va_48__m           = [00000000 00000001]  
ev6__i_ctl__va_48__s           = [00000000 0000000F]  
ev6__i_ctl__va_48__v           = [00000000 00000001]  
ev6__i_ctl__va_form_32__m      = [00000000 00000001]  
ev6__i_ctl__va_form_32__s      = [00000000 00000010]  
ev6__i_ctl__va_form_32__v      = [00000000 00000001]  
ev6__i_ctl__vptb__m            = [00000000 0003FFFF]  
ev6__i_ctl__vptb__s            = [00000000 0000001E]  
ev6__i_ctl__vptb__v            = [00000000 00000012]  
ev6__i_ctl__vptb_sext0__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext0__s      = [00000000 00000030]  
ev6__i_ctl__vptb_sext0__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext10__m     = [00000000 00000001]  
ev6__i_ctl__vptb_sext10__s     = [00000000 0000003A]  
ev6__i_ctl__vptb_sext10__v     = [00000000 00000001]  
ev6__i_ctl__vptb_sext11__m     = [00000000 00000001]  
ev6__i_ctl__vptb_sext11__s     = [00000000 0000003B]  
ev6__i_ctl__vptb_sext11__v     = [00000000 00000001]  
ev6__i_ctl__vptb_sext12__m     = [00000000 00000001]  
ev6__i_ctl__vptb_sext12__s     = [00000000 0000003C]  
ev6__i_ctl__vptb_sext12__v     = [00000000 00000001]  
ev6__i_ctl__vptb_sext13__m     = [00000000 00000001]  
ev6__i_ctl__vptb_sext13__s     = [00000000 0000003D]  
ev6__i_ctl__vptb_sext13__v     = [00000000 00000001]  
ev6__i_ctl__vptb_sext14__m     = [00000000 00000001]  
ev6__i_ctl__vptb_sext14__s     = [00000000 0000003E]  
ev6__i_ctl__vptb_sext14__v     = [00000000 00000001]  
ev6__i_ctl__vptb_sext15__m     = [00000000 00000001]  
ev6__i_ctl__vptb_sext15__s     = [00000000 0000003F]  
ev6__i_ctl__vptb_sext15__v     = [00000000 00000001]  
ev6__i_ctl__vptb_sext1__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext1__s      = [00000000 00000031]  
ev6__i_ctl__vptb_sext1__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext2__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext2__s      = [00000000 00000032]  
ev6__i_ctl__vptb_sext2__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext3__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext3__s      = [00000000 00000033]  
ev6__i_ctl__vptb_sext3__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext4__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext4__s      = [00000000 00000034]  
ev6__i_ctl__vptb_sext4__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext5__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext5__s      = [00000000 00000035]  
ev6__i_ctl__vptb_sext5__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext6__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext6__s      = [00000000 00000036]  
ev6__i_ctl__vptb_sext6__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext7__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext7__s      = [00000000 00000037]  
ev6__i_ctl__vptb_sext7__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext8__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext8__s      = [00000000 00000038]  
ev6__i_ctl__vptb_sext8__v      = [00000000 00000001]  
ev6__i_ctl__vptb_sext9__m      = [00000000 00000001]  
ev6__i_ctl__vptb_sext9__s      = [00000000 00000039]  
ev6__i_ctl__vptb_sext9__v      = [00000000 00000001]  
ev6__i_stat                    = [00000000 00001610]  
ev6__i_stat__dpe__s            = [00000000 0000001E]  
ev6__i_stat__icm__m            = [00000000 00000001]  
ev6__i_stat__icm__s            = [00000000 00000021]  
ev6__i_stat__icm__v            = [00000000 00000001]  
ev6__i_stat__ls0__m            = [00000000 00000001]  
ev6__i_stat__ls0__s            = [00000000 00000026]  
ev6__i_stat__ls0__v            = [00000000 00000001]  
ev6__i_stat__mis__m            = [00000000 00000001]  
ev6__i_stat__mis__s            = [00000000 00000028]  
ev6__i_stat__mis__v            = [00000000 00000001]  
ev6__i_stat__ovr__m            = [00000000 00000007]  
ev6__i_stat__ovr__s            = [00000000 0000001E]  
ev6__i_stat__ovr__v            = [00000000 00000003]  
ev6__i_stat__par__m            = [00000000 00000001]  
ev6__i_stat__par__s            = [00000000 0000001D]  
ev6__i_stat__par__v            = [00000000 00000001]  
ev6__i_stat__prfme__m          = [00000000 000007FF]  
ev6__i_stat__prfme__s          = [00000000 0000001E]  
ev6__i_stat__prfme__v          = [00000000 0000000B]  
ev6__i_stat__rsv1__m           = [00000000 1FFFFFFF]  
ev6__i_stat__rsv1__s           = [00000000 00000000]  
ev6__i_stat__rsv1__v           = [00000000 0000001D]  
ev6__i_stat__rsv2__m           = [00000000 007FFFFF]  
ev6__i_stat__rsv2__s           = [00000000 00000029]  
ev6__i_stat__rsv2__v           = [00000000 00000017]  
ev6__i_stat__tpe__s            = [00000000 0000001D]  
ev6__i_stat__trap_type__m      = [00000000 0000000F]  
ev6__i_stat__trap_type__s      = [00000000 00000022]  
ev6__i_stat__trap_type__v      = [00000000 00000004]  
ev6__i_stat__trp__m            = [00000000 00000001]  
ev6__i_stat__trp__s            = [00000000 00000027]  
ev6__i_stat__trp__v            = [00000000 00000001]  
ev6__i_stat__w1c               = [00000000 60000000]  
ev6__iacv_entry                = [00000000 00000480]  
ev6__ic_flush                  = [00000000 00001310]  
ev6__ic_flush__rsv__m          = [FFFFFFFF FFFFFFFF]  
ev6__ic_flush__rsv__s          = [00000000 00000000]  
ev6__ic_flush__rsv__v          = [00000000 00000040]  
ev6__ic_flush_asm              = [00000000 00001210]  
ev6__ic_flush_asm__rsv__m      = [FFFFFFFF FFFFFFFF]  
ev6__ic_flush_asm__rsv__s      = [00000000 00000000]  
ev6__ic_flush_asm__rsv__v      = [00000000 00000040]  
ev6__ier                       = [00000000 00000A10]  
ev6__ier__asten__m             = [00000000 00000001]  
ev6__ier__asten__s             = [00000000 0000000D]  
ev6__ier__asten__v             = [00000000 00000001]  
ev6__ier__cm__m                = [00000000 00000003]  
ev6__ier__cm__s                = [00000000 00000003]  
ev6__ier__cm__v                = [00000000 00000002]  
ev6__ier__cren__m              = [00000000 00000001]  
ev6__ier__cren__s              = [00000000 0000001F]  
ev6__ier__cren__v              = [00000000 00000001]  
ev6__ier__eien__m              = [00000000 0000003F]  
ev6__ier__eien__s              = [00000000 00000021]  
ev6__ier__eien__v              = [00000000 00000006]  
ev6__ier__init                 = [00000000 00000000]  
ev6__ier__pcen__m              = [00000000 00000003]  
ev6__ier__pcen__s              = [00000000 0000001D]  
ev6__ier__pcen__v              = [00000000 00000002]  
ev6__ier__rsv0__m              = [00000000 00000007]  
ev6__ier__rsv0__s              = [00000000 00000000]  
ev6__ier__rsv0__v              = [00000000 00000003]  
ev6__ier__rsv1__m              = [00000000 000000FF]  
ev6__ier__rsv1__s              = [00000000 00000005]  
ev6__ier__rsv1__v              = [00000000 00000008]  
ev6__ier__rsv2__m              = [00000000 01FFFFFF]  
ev6__ier__rsv2__s              = [00000000 00000027]  
ev6__ier__rsv2__v              = [00000000 00000019]  
ev6__ier__sien__m              = [00000000 00007FFF]  
ev6__ier__sien__s              = [00000000 0000000E]  
ev6__ier__sien__v              = [00000000 0000000F]  
ev6__ier__slen__m              = [00000000 00000001]  
ev6__ier__slen__s              = [00000000 00000020]  
ev6__ier__slen__v              = [00000000 00000001]  
ev6__ier_cm                    = [00000000 00000B10]  
ev6__ier_cm__asten__m          = [00000000 00000001]  
ev6__ier_cm__asten__s          = [00000000 0000000D]  
ev6__ier_cm__asten__v          = [00000000 00000001]  
ev6__ier_cm__cm__m             = [00000000 00000003]  
ev6__ier_cm__cm__s             = [00000000 00000003]  
ev6__ier_cm__cm__v             = [00000000 00000002]  
ev6__ier_cm__cren__m           = [00000000 00000001]  
ev6__ier_cm__cren__s           = [00000000 0000001F]  
ev6__ier_cm__cren__v           = [00000000 00000001]  
ev6__ier_cm__eien__m           = [00000000 0000003F]  
ev6__ier_cm__eien__s           = [00000000 00000021]  
ev6__ier_cm__eien__v           = [00000000 00000006]  
ev6__ier_cm__pcen__m           = [00000000 00000003]  
ev6__ier_cm__pcen__s           = [00000000 0000001D]  
ev6__ier_cm__pcen__v           = [00000000 00000002]  
ev6__ier_cm__rsv0__m           = [00000000 00000007]  
ev6__ier_cm__rsv0__s           = [00000000 00000000]  
ev6__ier_cm__rsv0__v           = [00000000 00000003]  
ev6__ier_cm__rsv1__m           = [00000000 000000FF]  
ev6__ier_cm__rsv1__s           = [00000000 00000005]  
ev6__ier_cm__rsv1__v           = [00000000 00000008]  
ev6__ier_cm__rsv2__m           = [00000000 01FFFFFF]  
ev6__ier_cm__rsv2__s           = [00000000 00000027]  
ev6__ier_cm__rsv2__v           = [00000000 00000019]  
ev6__ier_cm__sien__m           = [00000000 00007FFF]  
ev6__ier_cm__sien__s           = [00000000 0000000E]  
ev6__ier_cm__sien__v           = [00000000 0000000F]  
ev6__ier_cm__slen__m           = [00000000 00000001]  
ev6__ier_cm__slen__s           = [00000000 00000020]  
ev6__ier_cm__slen__v           = [00000000 00000001]  
ev6__interrupt_entry           = [00000000 00000680]  
ev6__isum                      = [00000000 00000D00]  
ev6__isum__aste__m             = [00000000 00000001]  
ev6__isum__aste__s             = [00000000 00000004]  
ev6__isum__aste__v             = [00000000 00000001]  
ev6__isum__astk__m             = [00000000 00000001]  
ev6__isum__astk__s             = [00000000 00000003]  
ev6__isum__astk__v             = [00000000 00000001]  
ev6__isum__asts__m             = [00000000 00000001]  
ev6__isum__asts__s             = [00000000 00000009]  
ev6__isum__asts__v             = [00000000 00000001]  
ev6__isum__astu__m             = [00000000 00000001]  
ev6__isum__astu__s             = [00000000 0000000A]  
ev6__isum__astu__v             = [00000000 00000001]  
ev6__isum__cr__m               = [00000000 00000001]  
ev6__isum__cr__s               = [00000000 0000001F]  
ev6__isum__cr__v               = [00000000 00000001]  
ev6__isum__ei__m               = [00000000 0000003F]  
ev6__isum__ei__s               = [00000000 00000021]  
ev6__isum__ei__v               = [00000000 00000006]  
ev6__isum__pc__m               = [00000000 00000003]  
ev6__isum__pc__s               = [00000000 0000001D]  
ev6__isum__pc__v               = [00000000 00000002]  
ev6__isum__rsv0__m             = [00000000 00000007]  
ev6__isum__rsv0__s             = [00000000 00000000]  
ev6__isum__rsv0__v             = [00000000 00000003]  
ev6__isum__rsv1__m             = [00000000 0000000F]  
ev6__isum__rsv1__s             = [00000000 00000005]  
ev6__isum__rsv1__v             = [00000000 00000004]  
ev6__isum__rsv2__m             = [00000000 00000007]  
ev6__isum__rsv2__s             = [00000000 0000000B]  
ev6__isum__rsv2__v             = [00000000 00000003]  
ev6__isum__rsv3__m             = [00000000 01FFFFFF]  
ev6__isum__rsv3__s             = [00000000 00000027]  
ev6__isum__rsv3__v             = [00000000 00000019]  
ev6__isum__si__m               = [00000000 00007FFF]  
ev6__isum__si__s               = [00000000 0000000E]  
ev6__isum__si__v               = [00000000 0000000F]  
ev6__isum__sl__m               = [00000000 00000001]  
ev6__isum__sl__s               = [00000000 00000020]  
ev6__isum__sl__v               = [00000000 00000001]  
ev6__itb_ia                    = [00000000 00000310]  
ev6__itb_ia__rsv__m            = [FFFFFFFF FFFFFFFF]  
ev6__itb_ia__rsv__s            = [00000000 00000000]  
ev6__itb_ia__rsv__v            = [00000000 00000040]  
ev6__itb_iap                   = [00000000 00000210]  
ev6__itb_iap__rsv__m           = [FFFFFFFF FFFFFFFF]  
ev6__itb_iap__rsv__s           = [00000000 00000000]  
ev6__itb_iap__rsv__v           = [00000000 00000040]  
ev6__itb_is                    = [00000000 00000450]  
ev6__itb_is__rsv1__m           = [00000000 00001FFF]  
ev6__itb_is__rsv1__s           = [00000000 00000000]  
ev6__itb_is__rsv1__v           = [00000000 0000000D]  
ev6__itb_is__rsv2__m           = [00000000 0000FFFF]  
ev6__itb_is__rsv2__s           = [00000000 00000030]  
ev6__itb_is__rsv2__v           = [00000000 00000010]  
ev6__itb_is__va__m             = [00000007 FFFFFFFF]  
ev6__itb_is__va__s             = [00000000 0000000D]  
ev6__itb_is__va__v             = [00000000 00000023]  
ev6__itb_miss_entry            = [00000000 00000580]  
ev6__itb_pte                   = [00000000 00000111]  
ev6__itb_pte__asm__m           = [00000000 00000001]  
ev6__itb_pte__asm__s           = [00000000 00000004]  
ev6__itb_pte__asm__v           = [00000000 00000001]  
ev6__itb_pte__ere__m           = [00000000 00000001]  
ev6__itb_pte__ere__s           = [00000000 00000009]  
ev6__itb_pte__ere__v           = [00000000 00000001]  
ev6__itb_pte__gh__m            = [00000000 00000003]  
ev6__itb_pte__gh__s            = [00000000 00000005]  
ev6__itb_pte__gh__v            = [00000000 00000002]  
ev6__itb_pte__kre__m           = [00000000 00000001]  
ev6__itb_pte__kre__s           = [00000000 00000008]  
ev6__itb_pte__kre__v           = [00000000 00000001]  
ev6__itb_pte__pfn__m           = [00000000 7FFFFFFF]  
ev6__itb_pte__pfn__s           = [00000000 0000000D]  
ev6__itb_pte__pfn__v           = [00000000 0000001F]  
ev6__itb_pte__rsv1__m          = [00000000 0000000F]  
ev6__itb_pte__rsv1__s          = [00000000 00000000]  
ev6__itb_pte__rsv1__v          = [00000000 00000004]  
ev6__itb_pte__rsv2__m          = [00000000 00000001]  
ev6__itb_pte__rsv2__s          = [00000000 00000007]  
ev6__itb_pte__rsv2__v          = [00000000 00000001]  
ev6__itb_pte__rsv3__m          = [00000000 00000001]  
ev6__itb_pte__rsv3__s          = [00000000 0000000C]  
ev6__itb_pte__rsv3__v          = [00000000 00000001]  
ev6__itb_pte__rsv4__m          = [00000000 000FFFFF]  
ev6__itb_pte__rsv4__s          = [00000000 0000002C]  
ev6__itb_pte__rsv4__v          = [00000000 00000014]  
ev6__itb_pte__sre__m           = [00000000 00000001]  
ev6__itb_pte__sre__s           = [00000000 0000000A]  
ev6__itb_pte__sre__v           = [00000000 00000001]  
ev6__itb_pte__ure__m           = [00000000 00000001]  
ev6__itb_pte__ure__s           = [00000000 0000000B]  
ev6__itb_pte__ure__v           = [00000000 00000001]  
ev6__itb_tag                   = [00000000 00000040]  
ev6__itb_tag__rsv1__m          = [00000000 00001FFF]  
ev6__itb_tag__rsv1__s          = [00000000 00000000]  
ev6__itb_tag__rsv1__v          = [00000000 0000000D]  
ev6__itb_tag__rsv2__m          = [00000000 0000FFFF]  
ev6__itb_tag__rsv2__s          = [00000000 00000030]  
ev6__itb_tag__rsv2__v          = [00000000 00000010]  
ev6__itb_tag__va__m            = [00000007 FFFFFFFF]  
ev6__itb_tag__va__s            = [00000000 0000000D]  
ev6__itb_tag__va__v            = [00000000 00000023]  
ev6__iva_form                  = [00000000 00000710]  
ev6__iva_form_32               = [00000000 00071010]  
ev6__iva_form_32__rsv1__m      = [00000000 00000007]  
ev6__iva_form_32__rsv1__s      = [00000000 00000000]  
ev6__iva_form_32__rsv1__v      = [00000000 00000003]  
ev6__iva_form_32__rsv2__m      = [00000000 000000FF]  
ev6__iva_form_32__rsv2__s      = [00000000 00000016]  
ev6__iva_form_32__rsv2__v      = [00000000 00000008]  
ev6__iva_form_32__va__m        = [00000000 0007FFFF]  
ev6__iva_form_32__va__s        = [00000000 00000003]  
ev6__iva_form_32__va__v        = [00000000 00000013]  
ev6__iva_form_32__vptb__m      = [00000003 FFFFFFFF]  
ev6__iva_form_32__vptb__s      = [00000000 0000001E]  
ev6__iva_form_32__vptb__v      = [00000000 00000022]  
ev6__iva_form_48               = [00000000 00071010]  
ev6__iva_form_48__rsv1__m      = [00000000 00000007]  
ev6__iva_form_48__rsv1__s      = [00000000 00000000]  
ev6__iva_form_48__rsv1__v      = [00000000 00000003]  
ev6__iva_form_48__va__m        = [00000007 FFFFFFFF]  
ev6__iva_form_48__va__s        = [00000000 00000003]  
ev6__iva_form_48__va__v        = [00000000 00000023]  
ev6__iva_form_48__va_sext0__m  = [00000000 00000001]  
ev6__iva_form_48__va_sext0__s  = [00000000 00000026]  
ev6__iva_form_48__va_sext0__v  = [00000000 00000001]  
ev6__iva_form_48__va_sext1__m  = [00000000 00000001]  
ev6__iva_form_48__va_sext1__s  = [00000000 00000027]  
ev6__iva_form_48__va_sext1__v  = [00000000 00000001]  
ev6__iva_form_48__va_sext2__m  = [00000000 00000001]  
ev6__iva_form_48__va_sext2__s  = [00000000 00000028]  
ev6__iva_form_48__va_sext2__v  = [00000000 00000001]  
ev6__iva_form_48__va_sext3__m  = [00000000 00000001]  
ev6__iva_form_48__va_sext3__s  = [00000000 00000029]  
ev6__iva_form_48__va_sext3__v  = [00000000 00000001]  
ev6__iva_form_48__va_sext4__m  = [00000000 00000001]  
ev6__iva_form_48__va_sext4__s  = [00000000 0000002A]  
ev6__iva_form_48__va_sext4__v  = [00000000 00000001]  
ev6__iva_form_48__vptb__m      = [00000000 001FFFFF]  
ev6__iva_form_48__vptb__s      = [00000000 0000002B]  
ev6__iva_form_48__vptb__v      = [00000000 00000015]  
ev6__iva_form__rsv1__m         = [00000000 00000007]  
ev6__iva_form__rsv1__s         = [00000000 00000000]  
ev6__iva_form__rsv1__v         = [00000000 00000003]  
ev6__iva_form__va__m           = [00000000 3FFFFFFF]  
ev6__iva_form__va__s           = [00000000 00000003]  
ev6__iva_form__va__v           = [00000000 0000001E]  
ev6__iva_form__vptb__m         = [00000000 7FFFFFFF]  
ev6__iva_form__vptb__s         = [00000000 00000021]  
ev6__iva_form__vptb__v         = [00000000 0000001F]  
ev6__m_ctl                     = [00000000 00002840]  
ev6__m_ctl__init               = [00000000 00000024]  
ev6__m_ctl__rsv1__m            = [00000000 00000001]  
ev6__m_ctl__rsv1__s            = [00000000 00000000]  
ev6__m_ctl__rsv1__v            = [00000000 00000001]  
ev6__m_ctl__rsv2__m            = [03FFFFFF FFFFFFFF]  
ev6__m_ctl__rsv2__s            = [00000000 00000006]  
ev6__m_ctl__rsv2__v            = [00000000 0000003A]  
ev6__m_ctl__spe2__s            = [00000000 00000003]  
ev6__m_ctl__spe__m             = [00000000 00000007]  
ev6__m_ctl__spe__s             = [00000000 00000001]  
ev6__m_ctl__spe__v             = [00000000 00000003]  
ev6__m_ctl__spec_st_cons__m    = [00000000 00000003]  
ev6__m_ctl__spec_st_cons__s    = [00000000 00000004]  
ev6__m_ctl__spec_st_cons__v    = [00000000 00000002]  
ev6__mchk_entry                = [00000000 00000500]  
ev6__mm_stat                   = [00000000 00002700]  
ev6__mm_stat__acv__m           = [00000000 00000001]  
ev6__mm_stat__acv__s           = [00000000 00000001]  
ev6__mm_stat__acv__v           = [00000000 00000001]  
ev6__mm_stat__dc_tag_perr__m   = [00000000 00000001]  
ev6__mm_stat__dc_tag_perr__s   = [00000000 0000000A]  
ev6__mm_stat__dc_tag_perr__v   = [00000000 00000001]  
ev6__mm_stat__for__m           = [00000000 00000001]  
ev6__mm_stat__for__s           = [00000000 00000002]  
ev6__mm_stat__for__v           = [00000000 00000001]  
ev6__mm_stat__fow__m           = [00000000 00000001]  
ev6__mm_stat__fow__s           = [00000000 00000003]  
ev6__mm_stat__fow__v           = [00000000 00000001]  
ev6__mm_stat__opcode__m        = [00000000 0000003F]  
ev6__mm_stat__opcode__s        = [00000000 00000004]  
ev6__mm_stat__opcode__v        = [00000000 00000006]  
ev6__mm_stat__rsv1__m          = [001FFFFF FFFFFFFF]  
ev6__mm_stat__rsv1__s          = [00000000 0000000B]  
ev6__mm_stat__rsv1__v          = [00000000 00000035]  
ev6__mm_stat__wr__m            = [00000000 00000001]  
ev6__mm_stat__wr__s            = [00000000 00000000]  
ev6__mm_stat__wr__v            = [00000000 00000001]  
ev6__mt_fpcr_entry             = [00000000 00000700]  
ev6__opcdec_entry              = [00000000 00000400]  
ev6__pal_base                  = [00000000 00001010]  
ev6__pal_base__pal_base__m     = [00000000 1FFFFFFF]  
ev6__pal_base__pal_base__s     = [00000000 0000000F]  
ev6__pal_base__pal_base__v     = [00000000 0000001D]  
ev6__pal_base__rsv1__m         = [00000000 00007FFF]  
ev6__pal_base__rsv1__s         = [00000000 00000000]  
ev6__pal_base__rsv1__v         = [00000000 0000000F]  
ev6__pal_base__rsv2__m         = [00000000 000FFFFF]  
ev6__pal_base__rsv2__s         = [00000000 0000002C]  
ev6__pal_base__rsv2__v         = [00000000 00000014]  
ev6__pctr_ctl                  = [00000000 00001410]  
ev6__pctr_ctl__pctr0__m        = [00000000 000FFFFF]  
ev6__pctr_ctl__pctr0__s        = [00000000 0000001C]  
ev6__pctr_ctl__pctr0__v        = [00000000 00000014]  
ev6__pctr_ctl__pctr1__m        = [00000000 000FFFFF]  
ev6__pctr_ctl__pctr1__s        = [00000000 00000006]  
ev6__pctr_ctl__pctr1__v        = [00000000 00000014]  
ev6__pctr_ctl__rsv1__m         = [00000000 00000001]  
ev6__pctr_ctl__rsv1__s         = [00000000 00000005]  
ev6__pctr_ctl__rsv1__v         = [00000000 00000001]  
ev6__pctr_ctl__rsv2__m         = [00000000 00000003]  
ev6__pctr_ctl__rsv2__s         = [00000000 0000001A]  
ev6__pctr_ctl__rsv2__v         = [00000000 00000002]  
ev6__pctr_ctl__rsv3__m         = [00000000 0000FFFF]  
ev6__pctr_ctl__rsv3__s         = [00000000 00000030]  
ev6__pctr_ctl__rsv3__v         = [00000000 00000010]  
ev6__pctr_ctl__sl0__m          = [00000000 00000001]  
ev6__pctr_ctl__sl0__s          = [00000000 00000004]  
ev6__pctr_ctl__sl0__v          = [00000000 00000001]  
ev6__pctr_ctl__sl1__m          = [00000000 00000003]  
ev6__pctr_ctl__sl1__s          = [00000000 00000002]  
ev6__pctr_ctl__sl1__v          = [00000000 00000002]  
ev6__pctr_ctl__tak__m          = [00000000 00000001]  
ev6__pctr_ctl__tak__s          = [00000000 00000000]  
ev6__pctr_ctl__tak__v          = [00000000 00000001]  
ev6__pctr_ctl__val__m          = [00000000 00000001]  
ev6__pctr_ctl__val__s          = [00000000 00000001]  
ev6__pctr_ctl__val__v          = [00000000 00000001]  
ev6__pctx__init                = [00000000 00000004]  
ev6__pmpc                      = [00000000 00000510]  
ev6__pmpc__pal__m              = [00000000 00000001]  
ev6__pmpc__pal__s              = [00000000 00000000]  
ev6__pmpc__pal__v              = [00000000 00000001]  
ev6__pmpc__pc__m               = [3FFFFFFF FFFFFFFF]  
ev6__pmpc__pc__s               = [00000000 00000002]  
ev6__pmpc__pc__v               = [00000000 0000003E]  
ev6__pmpc__rsv__m              = [00000000 00000001]  
ev6__pmpc__rsv__s              = [00000000 00000001]  
ev6__pmpc__rsv__v              = [00000000 00000001]  
ev6__powerup_entry             = [00000000 00000000]  
ev6__ppce                      = [00000000 00004810]  
ev6__ppce__asn__m              = [00000000 000000FF]  
ev6__ppce__asn__s              = [00000000 00000027]  
ev6__ppce__asn__v              = [00000000 00000008]  
ev6__ppce__aster__m            = [00000000 0000000F]  
ev6__ppce__aster__s            = [00000000 00000005]  
ev6__ppce__aster__v            = [00000000 00000004]  
ev6__ppce__astrr__m            = [00000000 0000000F]  
ev6__ppce__astrr__s            = [00000000 00000009]  
ev6__ppce__astrr__v            = [00000000 00000004]  
ev6__ppce__fpe__m              = [00000000 00000001]  
ev6__ppce__fpe__s              = [00000000 00000002]  
ev6__ppce__fpe__v              = [00000000 00000001]  
ev6__ppce__ppce__m             = [00000000 00000001]  
ev6__ppce__ppce__s             = [00000000 00000001]  
ev6__ppce__ppce__v             = [00000000 00000001]  
ev6__ppce__rsv0__m             = [00000000 00000001]  
ev6__ppce__rsv0__s             = [00000000 00000000]  
ev6__ppce__rsv0__v             = [00000000 00000001]  
ev6__ppce__rsv1__m             = [00000000 00000003]  
ev6__ppce__rsv1__s             = [00000000 00000003]  
ev6__ppce__rsv1__v             = [00000000 00000002]  
ev6__ppce__rsv2__m             = [00000000 03FFFFFF]  
ev6__ppce__rsv2__s             = [00000000 0000000D]  
ev6__ppce__rsv2__v             = [00000000 0000001A]  
ev6__ppce__rsv3__m             = [00000000 0001FFFF]  
ev6__ppce__rsv3__s             = [00000000 0000002F]  
ev6__ppce__rsv3__v             = [00000000 00000011]  
ev6__ppce_fpe                  = [00000000 00005810]  
ev6__ppce_fpe__asn__m          = [00000000 000000FF]  
ev6__ppce_fpe__asn__s          = [00000000 00000027]  
ev6__ppce_fpe__asn__v          = [00000000 00000008]  
ev6__ppce_fpe__aster__m        = [00000000 0000000F]  
ev6__ppce_fpe__aster__s        = [00000000 00000005]  
ev6__ppce_fpe__aster__v        = [00000000 00000004]  
ev6__ppce_fpe__astrr__m        = [00000000 0000000F]  
ev6__ppce_fpe__astrr__s        = [00000000 00000009]  
ev6__ppce_fpe__astrr__v        = [00000000 00000004]  
ev6__ppce_fpe__fpe__m          = [00000000 00000001]  
ev6__ppce_fpe__fpe__s          = [00000000 00000002]  
ev6__ppce_fpe__fpe__v          = [00000000 00000001]  
ev6__ppce_fpe__ppce__m         = [00000000 00000001]  
ev6__ppce_fpe__ppce__s         = [00000000 00000001]  
ev6__ppce_fpe__ppce__v         = [00000000 00000001]  
ev6__ppce_fpe__rsv0__m         = [00000000 00000001]  
ev6__ppce_fpe__rsv0__s         = [00000000 00000000]  
ev6__ppce_fpe__rsv0__v         = [00000000 00000001]  
ev6__ppce_fpe__rsv1__m         = [00000000 00000003]  
ev6__ppce_fpe__rsv1__s         = [00000000 00000003]  
ev6__ppce_fpe__rsv1__v         = [00000000 00000002]  
ev6__ppce_fpe__rsv2__m         = [00000000 03FFFFFF]  
ev6__ppce_fpe__rsv2__s         = [00000000 0000000D]  
ev6__ppce_fpe__rsv2__v         = [00000000 0000001A]  
ev6__ppce_fpe__rsv3__m         = [00000000 0001FFFF]  
ev6__ppce_fpe__rsv3__s         = [00000000 0000002F]  
ev6__ppce_fpe__rsv3__v         = [00000000 00000011]  
ev6__process_context           = [00000000 00005F10]  
ev6__process_context__asn__m   = [00000000 000000FF]  
ev6__process_context__asn__s   = [00000000 00000027]  
ev6__process_context__asn__v   = [00000000 00000008]  
ev6__process_context__aster__m = [00000000 0000000F]  
ev6__process_context__aster__s = [00000000 00000005]  
ev6__process_context__aster__v = [00000000 00000004]  
ev6__process_context__astrr__m = [00000000 0000000F]  
ev6__process_context__astrr__s = [00000000 00000009]  
ev6__process_context__astrr__v = [00000000 00000004]  
ev6__process_context__fpe__m   = [00000000 00000001]  
ev6__process_context__fpe__s   = [00000000 00000002]  
ev6__process_context__fpe__v   = [00000000 00000001]  
ev6__process_context__ppce__m  = [00000000 00000001]  
ev6__process_context__ppce__s  = [00000000 00000001]  
ev6__process_context__ppce__v  = [00000000 00000001]  
ev6__process_context__rsv0__m  = [00000000 00000001]  
ev6__process_context__rsv0__s  = [00000000 00000000]  
ev6__process_context__rsv0__v  = [00000000 00000001]  
ev6__process_context__rsv1__m  = [00000000 00000003]  
ev6__process_context__rsv1__s  = [00000000 00000003]  
ev6__process_context__rsv1__v  = [00000000 00000002]  
ev6__process_context__rsv2__m  = [00000000 03FFFFFF]  
ev6__process_context__rsv2__s  = [00000000 0000000D]  
ev6__process_context__rsv2__v  = [00000000 0000001A]  
ev6__process_context__rsv3__m  = [00000000 0001FFFF]  
ev6__process_context__rsv3__s  = [00000000 0000002F]  
ev6__process_context__rsv3__v  = [00000000 00000011]  
ev6__ps                        = [00000000 00000910]  
ev6__ps__asten__m              = [00000000 00000001]  
ev6__ps__asten__s              = [00000000 0000000D]  
ev6__ps__asten__v              = [00000000 00000001]  
ev6__ps__cm__m                 = [00000000 00000003]  
ev6__ps__cm__s                 = [00000000 00000003]  
ev6__ps__cm__v                 = [00000000 00000002]  
ev6__ps__cren__m               = [00000000 00000001]  
ev6__ps__cren__s               = [00000000 0000001F]  
ev6__ps__cren__v               = [00000000 00000001]  
ev6__ps__eien__m               = [00000000 0000003F]  
ev6__ps__eien__s               = [00000000 00000021]  
ev6__ps__eien__v               = [00000000 00000006]  
ev6__ps__pcen__m               = [00000000 00000003]  
ev6__ps__pcen__s               = [00000000 0000001D]  
ev6__ps__pcen__v               = [00000000 00000002]  
ev6__ps__rsv0__m               = [00000000 00000007]  
ev6__ps__rsv0__s               = [00000000 00000000]  
ev6__ps__rsv0__v               = [00000000 00000003]  
ev6__ps__rsv1__m               = [00000000 000000FF]  
ev6__ps__rsv1__s               = [00000000 00000005]  
ev6__ps__rsv1__v               = [00000000 00000008]  
ev6__ps__rsv2__m               = [00000000 01FFFFFF]  
ev6__ps__rsv2__s               = [00000000 00000027]  
ev6__ps__rsv2__v               = [00000000 00000019]  
ev6__ps__sien__m               = [00000000 00007FFF]  
ev6__ps__sien__s               = [00000000 0000000E]  
ev6__ps__sien__v               = [00000000 0000000F]  
ev6__ps__slen__m               = [00000000 00000001]  
ev6__ps__slen__s               = [00000000 00000020]  
ev6__ps__slen__v               = [00000000 00000001]  
ev6__reset_entry               = [00000000 00000780]  
ev6__shift_control             = [00000000 00002C40]  
ev6__shift_control__c_shift__m = [00000000 00000001]  
ev6__shift_control__c_shift__s = [00000000 00000000]  
ev6__shift_control__c_shift__v = [00000000 00000001]  
ev6__shift_control__rsv1__m    = [7FFFFFFF FFFFFFFF]  
ev6__shift_control__rsv1__s    = [00000000 00000001]  
ev6__shift_control__rsv1__v    = [00000000 0000003F]  
ev6__sirr                      = [00000000 00000C10]  
ev6__sirr__rsv1__m             = [00000000 00003FFF]  
ev6__sirr__rsv1__s             = [00000000 00000000]  
ev6__sirr__rsv1__v             = [00000000 0000000E]  
ev6__sirr__rsv2__m             = [00000007 FFFFFFFF]  
ev6__sirr__rsv2__s             = [00000000 0000001D]  
ev6__sirr__rsv2__v             = [00000000 00000023]  
ev6__sirr__sir__m              = [00000000 00007FFF]  
ev6__sirr__sir__s              = [00000000 0000000E]  
ev6__sirr__sir__v              = [00000000 0000000F]  
ev6__sleep                     = [00000000 000017F0]  
ev6__sleep__rsv__m             = [FFFFFFFF FFFFFFFF]  
ev6__sleep__rsv__s             = [00000000 00000000]  
ev6__sleep__rsv__v             = [00000000 00000040]  
ev6__unalign_entry             = [00000000 00000280]  
ev6__va                        = [00000000 0000C2F0]  
ev6__va__addr__m               = [FFFFFFFF FFFFFFFF]  
ev6__va__addr__s               = [00000000 00000000]  
ev6__va__addr__v               = [00000000 00000040]  
ev6__va_ctl                    = [00000000 0000C420]  
ev6__va_ctl__b_endian__m       = [00000000 00000001]  
ev6__va_ctl__b_endian__s       = [00000000 00000000]  
ev6__va_ctl__b_endian__v       = [00000000 00000001]  
ev6__va_ctl__init              = [00000000 00000000]  
ev6__va_ctl__rsv1__m           = [00000000 07FFFFFF]  
ev6__va_ctl__rsv1__s           = [00000000 00000003]  
ev6__va_ctl__rsv1__v           = [00000000 0000001B]  
ev6__va_ctl__va_48__m          = [00000000 00000001]  
ev6__va_ctl__va_48__s          = [00000000 00000001]  
ev6__va_ctl__va_48__v          = [00000000 00000001]  
ev6__va_ctl__va_form_32__m     = [00000000 00000001]  
ev6__va_ctl__va_form_32__s     = [00000000 00000002]  
ev6__va_ctl__va_form_32__v     = [00000000 00000001]  
ev6__va_ctl__vptb__m           = [00000003 FFFFFFFF]  
ev6__va_ctl__vptb__s           = [00000000 0000001E]  
ev6__va_ctl__vptb__v           = [00000000 00000022]  
ev6__va_form                   = [00000000 0000C3F0]  
ev6__va_form_32                = [00000000 00C3F0F0]  
ev6__va_form_32__rsv1__m       = [00000000 00000007]  
ev6__va_form_32__rsv1__s       = [00000000 00000000]  
ev6__va_form_32__rsv1__v       = [00000000 00000003]  
ev6__va_form_32__rsv2__m       = [00000000 000000FF]  
ev6__va_form_32__rsv2__s       = [00000000 00000016]  
ev6__va_form_32__rsv2__v       = [00000000 00000008]  
ev6__va_form_32__va__m         = [00000000 0007FFFF]  
ev6__va_form_32__va__s         = [00000000 00000003]  
ev6__va_form_32__va__v         = [00000000 00000013]  
ev6__va_form_32__vptb__m       = [00000003 FFFFFFFF]  
ev6__va_form_32__vptb__s       = [00000000 0000001E]  
ev6__va_form_32__vptb__v       = [00000000 00000022]  
ev6__va_form_48                = [00000000 00C3F0F0]  
ev6__va_form_48__rsv1__m       = [00000000 00000007]  
ev6__va_form_48__rsv1__s       = [00000000 00000000]  
ev6__va_form_48__rsv1__v       = [00000000 00000003]  
ev6__va_form_48__va__m         = [00000007 FFFFFFFF]  
ev6__va_form_48__va__s         = [00000000 00000003]  
ev6__va_form_48__va__v         = [00000000 00000023]  
ev6__va_form_48__va_sext0__m   = [00000000 00000001]  
ev6__va_form_48__va_sext0__s   = [00000000 00000026]  
ev6__va_form_48__va_sext0__v   = [00000000 00000001]  
ev6__va_form_48__va_sext1__m   = [00000000 00000001]  
ev6__va_form_48__va_sext1__s   = [00000000 00000027]  
ev6__va_form_48__va_sext1__v   = [00000000 00000001]  
ev6__va_form_48__va_sext2__m   = [00000000 00000001]  
ev6__va_form_48__va_sext2__s   = [00000000 00000028]  
ev6__va_form_48__va_sext2__v   = [00000000 00000001]  
ev6__va_form_48__va_sext3__m   = [00000000 00000001]  
ev6__va_form_48__va_sext3__s   = [00000000 00000029]  
ev6__va_form_48__va_sext3__v   = [00000000 00000001]  
ev6__va_form_48__va_sext4__m   = [00000000 00000001]  
ev6__va_form_48__va_sext4__s   = [00000000 0000002A]  
ev6__va_form_48__va_sext4__v   = [00000000 00000001]  
ev6__va_form_48__vptb__m       = [00000000 001FFFFF]  
ev6__va_form_48__vptb__s       = [00000000 0000002B]  
ev6__va_form_48__vptb__v       = [00000000 00000015]  
ev6__va_form__rsv1__m          = [00000000 00000007]  
ev6__va_form__rsv1__s          = [00000000 00000000]  
ev6__va_form__rsv1__v          = [00000000 00000003]  
ev6__va_form__va__m            = [00000000 3FFFFFFF]  
ev6__va_form__va__s            = [00000000 00000003]  
ev6__va_form__va__v            = [00000000 0000001E]  
ev6__va_form__vptb__m          = [00000000 7FFFFFFF]  
ev6__va_form__vptb__s          = [00000000 00000021]  
ev6__va_form__vptb__v          = [00000000 0000001F]  
ev6__wakeup_entry              = [00000000 00000780]  
ev6_p1                         = [00000000 00000000]  
ev6_p2                         = [00000000 00000001]  
ev6_scb__asn                   = [00000000 00000010]  
ev6_scb__aster                 = [00000000 00000010]  
ev6_scb__astrr                 = [00000000 00000010]  
ev6_scb__cc                    = [00000000 00000020]  
ev6_scb__cc_ctl                = [00000000 00000020]  
ev6_scb__clr_map               = [00000000 000000F0]  
ev6_scb__data                  = [00000000 00000040]  
ev6_scb__dc_ctl                = [00000000 00000040]  
ev6_scb__dc_stat               = [00000000 00000040]  
ev6_scb__dtb_alt_mode          = [00000000 00000040]  
ev6_scb__dtb_asn0              = [00000000 00000010]  
ev6_scb__dtb_asn1              = [00000000 00000080]  
ev6_scb__dtb_ia                = [00000000 00000080]  
ev6_scb__dtb_iap               = [00000000 00000080]  
ev6_scb__dtb_is0               = [00000000 00000040]  
ev6_scb__dtb_is1               = [00000000 00000080]  
ev6_scb__dtb_pte0              = [00000000 00000011]  
ev6_scb__dtb_pte1              = [00000000 00000088]  
ev6_scb__dtb_tag0              = [00000000 00000044]  
ev6_scb__dtb_tag1              = [00000000 00000022]  
ev6_scb__exc_addr              = [00000000 00000000]  
ev6_scb__exc_sum               = [00000000 00000000]  
ev6_scb__fpe                   = [00000000 00000010]  
ev6_scb__hw_int_clr            = [00000000 00000010]  
ev6_scb__i_ctl                 = [00000000 00000010]  
ev6_scb__i_stat                = [00000000 00000010]  
ev6_scb__ic_flush              = [00000000 00000010]  
ev6_scb__ic_flush_asm          = [00000000 00000010]  
ev6_scb__ier                   = [00000000 00000010]  
ev6_scb__ier_cm                = [00000000 00000010]  
ev6_scb__isum                  = [00000000 00000000]  
ev6_scb__itb_ia                = [00000000 00000010]  
ev6_scb__itb_iap               = [00000000 00000010]  
ev6_scb__itb_is                = [00000000 00000050]  
ev6_scb__itb_pte               = [00000000 00000011]  
ev6_scb__itb_tag               = [00000000 00000040]  
ev6_scb__iva_form              = [00000000 00000010]  
ev6_scb__m_ctl                 = [00000000 00000040]  
ev6_scb__mm_stat               = [00000000 00000000]  
ev6_scb__pal_base              = [00000000 00000010]  
ev6_scb__pctr_ctl              = [00000000 00000010]  
ev6_scb__pmpc                  = [00000000 00000010]  
ev6_scb__ppce                  = [00000000 00000010]  
ev6_scb__process_context       = [00000000 00000010]  
ev6_scb__ps                    = [00000000 00000010]  
ev6_scb__shift_control         = [00000000 00000040]  
ev6_scb__sirr                  = [00000000 00000010]  
ev6_scb__sleep                 = [00000000 000000F0]  
ev6_scb__va                    = [00000000 000000F0]  
ev6_scb__va_ctl                = [00000000 00000020]  
ev6_scb__va_form               = [00000000 000000F0]  
fcr                            = [00000000 00000002]  
fcr$m_fe                       = [00000000 00000001]  
fcr$m_rfr                      = [00000000 00000002]  
fcr$m_tfr                      = [00000000 00000004]  
fen_cm_offset                  = [00000000 00000010]  
focus                          = [00000000 00000000]  
force_ecc                      = [00000000 00000000]  
force_multi_issue              = [00000000 00000000]  
force_path                     = [00000000 00000000]  
force_path2                    = [00000000 00000001]  
fp_cmov_cmp                    = [00000000 5C000500]  
fp_cmov_mask                   = [00000000 FC00FF00]  
fp_count                       = [00000000 00000000]  
fpe_shift                      = [00000000 00000002]  
halt__callback                 = [00000000 00000021]  
halt__dbl_mchk                 = [00000000 00000006]  
halt__dc_tag_perr_from_pal     = [00000000 00000008]  
halt__hw_halt                  = [00000000 00000001]  
halt__jump0                    = [00000000 00000040]  
halt__ksp_inval                = [00000000 00000002]  
halt__lfu_start                = [00000000 00000023]  
halt__mchk_from_pal            = [00000000 00000007]  
halt__mpstart                  = [00000000 00000022]  
halt__ptbr_inval               = [00000000 00000004]  
halt__reset                    = [00000000 00000000]  
halt__scbb_inval               = [00000000 00000003]  
halt__start                    = [00000000 00000020]  
halt__sw_halt                  = [00000000 00000005]  
i_ctl__sbe                     = [00000000 00000003]  
i_ctl__sglissue                = [00000000 00000000]  
iacv_cm_offset                 = [00000000 00000010]  
ier                            = [00000000 00000001]  
iir                            = [00000000 00000002]  
initial_pcbb                   = [00000000 00000C00]  
int_cmov_cmp                   = [00000000 44000080]  
int_cmov_mask                  = [00000000 FC0001A0]  
intercept_change_ipl           = [00000000 00000000]  
intercept_interrupt_return     = [00000000 00000000]  
ipl0                           = [00000000 0000001F]  
ipl1                           = [00000000 0000001F]  
ipl2                           = [00000000 0000001F]  
ipl3                           = [00000000 0000001F]  
ipl4                           = [00000000 0000001D]  
ipl5                           = [00000000 00000011]  
ipl6                           = [00000000 00000011]  
ipl7                           = [00000000 00000000]  
ipl_offset                     = [00000000 00000D00]  
ipl_table                      = [00000000 00000D00]  
ipte_cm_offset                 = [00000000 00000010]  
irq_clk                        = [00000000 00000004]  
irq_dev                        = [00000000 00000002]  
irq_dev__m                     = [00000000 00000002]  
irq_err                        = [00000000 00000001]  
irq_hlt                        = [00000000 00000010]  
irq_ip                         = [00000000 00000008]  
irq_mask                       = [00000000 0000001F]  
irq_noclk                      = [00000000 0000000B]  
is_hal                         = [00000000 00000001]  
kseg_hack                      = [00000000 00000000]  
lcr                            = [00000000 00000003]  
lcr$m_dla                      = [00000000 00000080]  
lcr$m_sbs                      = [00000000 00000004]  
led__dbg_ipl                   = [00000000 00006700]  
led__dbg_swppal                = [00000000 00006800]  
led__dmiss                     = [00000000 00006500]  
led__dmiss1to1                 = [00000000 00006508]  
led__dmiss_dbl                 = [00000000 00006528]  
led__dmiss_post                = [00000000 00006520]  
led__dmisspc                   = [00000000 00006510]  
led__err_cons                  = [00000000 00006230]  
led__err_dflt                  = [00000000 00006208]  
led__err_foe                   = [00000000 00006218]  
led__err_hlt                   = [00000000 00006228]  
led__err_iacv                  = [00000000 00006210]  
led__err_ipte                  = [00000000 00006610]  
led__err_ksp                   = [00000000 00006200]  
led__err_opcdec                = [00000000 00006238]  
led__err_una                   = [00000000 00006240]  
led__err_upah                  = [00000000 00006220]  
led__imiss1                    = [00000000 00006600]  
led__imiss1to1                 = [00000000 00006608]  
led__imiss_foe                 = [00000000 00006618]  
led__init0                     = [00000000 00006000]  
led__init1                     = [00000000 00006008]  
led__init2                     = [00000000 00006010]  
led__int                       = [00000000 00006400]  
led__int_clk                   = [00000000 00006420]  
led__int_clk_usr               = [00000000 00006428]  
led__int_hlt                   = [00000000 00006410]  
led__int_post                  = [00000000 00006480]  
led__int_sl                    = [00000000 00006408]  
led__mchk                      = [00000000 00006300]  
led__mchk_crd                  = [00000000 00006308]  
led__mchk_dbl                  = [00000000 00006310]  
led__mchk_nmi                  = [00000000 00006318]  
led__mchk_post                 = [00000000 00006380]  
led__switch0                   = [00000000 00006100]  
led__switch1                   = [00000000 00006108]  
led__switch2                   = [00000000 00006110]  
led__switch_err                = [00000000 00006118]  
led__swpctx                    = [00000000 00006900]  
level_bits                     = [00000000 0000000A]  
lsr                            = [00000000 00000005]  
lsr$v_dr                       = [00000000 00000000]  
lsr$v_thre                     = [00000000 00000005]  
max_cpuid                      = [00000000 00000002]  
mc_m_echo                      = [00000000 00000100]  
mces__dpc__s                   = [00000000 00000003]  
mces__dsc__s                   = [00000000 00000004]  
mces__mchk__s                  = [00000000 00000000]  
mces__pce__s                   = [00000000 00000002]  
mces__sce__s                   = [00000000 00000001]  
mces_clear                     = [00000000 00000007]  
mces_dis                       = [00000000 00000018]  
mchk__base                     = [00000000 00000100]  
mchk__bugcheck                 = [00000000 0000008E]  
mchk__c_addr                   = [00000000 00000028]  
mchk__c_stat                   = [00000000 00000040]  
mchk__c_sts                    = [00000000 00000048]  
mchk__cchip_dir                = [00000000 000000A8]  
mchk__cchip_misc               = [00000000 000000B0]  
mchk__corr_ecc                 = [00000000 00000086]  
mchk__cpu_base                 = [00000000 00000018]  
mchk__dc0_syndrome             = [00000000 00000038]  
mchk__dc1_syndrome             = [00000000 00000030]  
mchk__dc_stat                  = [00000000 00000020]  
mchk__dc_tag_perr              = [00000000 0000009E]  
mchk__exc_addr                 = [00000000 00000058]  
mchk__flag_frame               = [00000000 00000000]  
mchk__i_ctl                    = [00000000 00000080]  
mchk__i_stat                   = [00000000 00000018]  
mchk__ier_cm                   = [00000000 00000060]  
mchk__istream_cmov             = [00000000 000000A0]  
mchk__istream_cmov_fault       = [00000000 000000A2]  
mchk__isum                     = [00000000 00000068]  
mchk__mchk_code                = [00000000 00000010]  
mchk__mm_stat                  = [00000000 00000050]  
mchk__offsets                  = [00000000 00000008]  
mchk__os_bugcheck              = [00000000 00000090]  
mchk__os_flags                 = [00000000 000000A0]  
mchk__pal_base                 = [00000000 00000078]  
mchk__pchip0_err               = [00000000 000000B8]  
mchk__pchip1_err               = [00000000 000000C0]  
mchk__proc_hrd_err             = [00000000 00000098]  
mchk__process_context          = [00000000 00000088]  
mchk__reserved_0               = [00000000 00000070]  
mchk__reserved_1               = [00000000 00000090]  
mchk__reserved_2               = [00000000 00000098]  
mchk__rev                      = [00000000 00000001]  
mchk__size                     = [00000000 000000C8]  
mchk__sys_corr_ecc             = [00000000 00000204]  
mchk__sys_event                = [00000000 00000206]  
mchk__sys_hrd_err              = [00000000 00000202]  
mchk__system_base              = [00000000 000000A0]  
mchk__unknown                  = [00000000 0000008A]  
mchk_crd__base                 = [00000000 00000000]  
mchk_crd__c_addr               = [00000000 00000028]  
mchk_crd__c_stat               = [00000000 00000040]  
mchk_crd__c_sts                = [00000000 00000048]  
mchk_crd__cchip_dir            = [00000000 00000060]  
mchk_crd__cchip_misc           = [00000000 00000068]  
mchk_crd__cpu_base             = [00000000 00000018]  
mchk_crd__dc0_syndrome         = [00000000 00000038]  
mchk_crd__dc1_syndrome         = [00000000 00000030]  
mchk_crd__dc_stat              = [00000000 00000020]  
mchk_crd__flag_frame           = [00000000 00000000]  
mchk_crd__i_stat               = [00000000 00000018]  
mchk_crd__mchk_code            = [00000000 00000010]  
mchk_crd__mm_stat              = [00000000 00000050]  
mchk_crd__offsets              = [00000000 00000008]  
mchk_crd__os_flags             = [00000000 00000058]  
mchk_crd__pchip0_err           = [00000000 00000070]  
mchk_crd__pchip1_err           = [00000000 00000078]  
mchk_crd__rev                  = [00000000 00000001]  
mchk_crd__size                 = [00000000 00000080]  
mchk_crd__system_base          = [00000000 00000058]  
mchk_en                        = [00000000 00000001]  
mchk_on_wakeup                 = [00000000 00000000]  
mcr                            = [00000000 00000004]  
mcr$m_dtr                      = [00000000 00000001]  
mcr$m_out1                     = [00000000 00000004]  
mcr$m_out2                     = [00000000 00000008]  
mcr$m_rts                      = [00000000 00000002]  
msr                            = [00000000 00000006]  
nautilus_platform              = [00000000 00000000]  
new_func_code                  = [00000000 0000006E]  
no_dctag_par_en                = [00000000 00000003]  
nonzero_console_base           = [00000000 00000000]  
opcdec_cm_offset               = [00000000 00000010]  
opcdec_offset                  = [00000000 00000418]  
opcode__hw_ld                  = [00000000 00000003]  
opcode__hw_st                  = [00000000 00000007]  
osf_a0__bpt                    = [00000000 00000000]  
osf_a0__bugchk                 = [00000000 00000001]  
osf_a0__fen                    = [00000000 00000003]  
osf_a0__gentrap                = [00000000 00000002]  
osf_a0__illop                  = [00000000 00000005]  
osf_a0__opdec                  = [00000000 00000004]  
osf_a0_int__clk                = [00000000 00000001]  
osf_a0_int__crd                = [00000000 00000002]  
osf_a0_int__dev                = [00000000 00000003]  
osf_a0_int__ip                 = [00000000 00000000]  
osf_a0_int__mchk               = [00000000 00000002]  
osf_a0_int__perfmon            = [00000000 00000004]  
osf_a0_int__sl                 = [00000000 00000005]  
osf_frm__a0                    = [00000000 00000018]  
osf_frm__a1                    = [00000000 00000020]  
osf_frm__a2                    = [00000000 00000028]  
osf_frm__gp                    = [00000000 00000010]  
osf_frm__pc                    = [00000000 00000008]  
osf_frm__ps                    = [00000000 00000000]  
osf_frm__r16                   = [00000000 00000018]  
osf_frm__r17                   = [00000000 00000020]  
osf_frm__r18                   = [00000000 00000028]  
osf_frm__size                  = [00000000 00000030]  
osf_ipl__clk                   = [00000000 00000005]  
osf_ipl__dev3                  = [00000000 00000003]  
osf_ipl__dev4                  = [00000000 00000004]  
osf_ipl__dev5                  = [00000000 00000005]  
osf_ipl__dev6                  = [00000000 00000006]  
osf_ipl__ip                    = [00000000 00000005]  
osf_ipl__mchk                  = [00000000 00000007]  
osf_ipl__mchk_crd              = [00000000 00000007]  
osf_ipl__perfmon               = [00000000 00000006]  
osf_mmcsr__acv                 = [00000000 00000001]  
osf_mmcsr__foe                 = [00000000 00000003]  
osf_mmcsr__for                 = [00000000 00000002]  
osf_mmcsr__fow                 = [00000000 00000004]  
osf_mmcsr__tnv                 = [00000000 00000000]  
osf_p_misc__cm__m              = [00000000 00000001]  
osf_p_misc__cm__s              = [00000000 00000003]  
osf_p_misc__ipl__m             = [00000000 00000007]  
osf_p_misc__ipl__s             = [00000000 00000000]  
osf_p_misc__mces__dpc__s       = [00000000 00000013]  
osf_p_misc__mces__dsc__s       = [00000000 00000014]  
osf_p_misc__mces__mchk__s      = [00000000 00000010]  
osf_p_misc__mces__pce__s       = [00000000 00000012]  
osf_p_misc__mces__rsv__m       = [00000000 00000007]  
osf_p_misc__mces__rsv__s       = [00000000 00000015]  
osf_p_misc__mces__sce__s       = [00000000 00000011]  
osf_p_misc__mchk_code__m       = [00000000 0000FFFF]  
osf_p_misc__mchk_code__s       = [00000000 00000028]  
osf_p_misc__phys__s            = [00000000 0000003F]  
osf_p_misc__ps__m              = [00000000 0000000F]  
osf_p_misc__ps__s              = [00000000 00000000]  
osf_p_misc__rsv__m             = [00000000 00000FFF]  
osf_p_misc__rsv__s             = [00000000 00000004]  
osf_p_misc__scbv__m            = [00000000 0000FFFF]  
osf_p_misc__scbv__s            = [00000000 00000018]  
osf_p_misc__switch__s          = [00000000 0000003E]  
osf_pal                        = [00000000 00000002]  
osf_pcb__asn                   = [00000000 0000001C]  
osf_pcb__asn__m                = [00000000 000000FF]  
osf_pcb__asn__s                = [00000000 00000020]  
osf_pcb__cpc                   = [00000000 00000018]  
osf_pcb__fen                   = [00000000 00000028]  
osf_pcb__fen__m                = [00000000 00000001]  
osf_pcb__fen__s                = [00000000 00000000]  
osf_pcb__ksp                   = [00000000 00000000]  
osf_pcb__pme__m                = [00000000 00000001]  
osf_pcb__pme__s                = [00000000 0000003E]  
osf_pcb__ptbr                  = [00000000 00000010]  
osf_pcb__rsv                   = [00000000 00000030]  
osf_pcb__stacks                = [00000000 00000000]  
osf_pcb__unq                   = [00000000 00000020]  
osf_pcb__usp                   = [00000000 00000008]  
osf_ps__cm__m                  = [00000000 00000001]  
osf_ps__cm__s                  = [00000000 00000003]  
osf_ps__ipl__m                 = [00000000 00000007]  
osf_ps__ipl__s                 = [00000000 00000000]  
osf_pte__asm__m                = [00000000 00000001]  
osf_pte__asm__s                = [00000000 00000004]  
osf_pte__foe__m                = [00000000 00000001]  
osf_pte__foe__s                = [00000000 00000003]  
osf_pte__for__m                = [00000000 00000001]  
osf_pte__for__s                = [00000000 00000001]  
osf_pte__fow__m                = [00000000 00000001]  
osf_pte__fow__s                = [00000000 00000002]  
osf_pte__gh__m                 = [00000000 00000003]  
osf_pte__gh__s                 = [00000000 00000005]  
osf_pte__kre__m                = [00000000 00000001]  
osf_pte__kre__s                = [00000000 00000008]  
osf_pte__kwe__m                = [00000000 00000001]  
osf_pte__kwe__s                = [00000000 0000000C]  
osf_pte__pfn__m                = [00000000 FFFFFFFF]  
osf_pte__pfn__s                = [00000000 00000020]  
osf_pte__prot__m               = [00000000 00003300]  
osf_pte__soft__m               = [00000000 0000FFFF]  
osf_pte__soft__s               = [00000000 00000010]  
osf_pte__ure__m                = [00000000 00000001]  
osf_pte__ure__s                = [00000000 00000009]  
osf_pte__uwe__m                = [00000000 00000001]  
osf_pte__uwe__s                = [00000000 0000000D]  
osf_pte__v__m                  = [00000000 00000001]  
osf_pte__v__s                  = [00000000 00000000]  
osf_svmin                      = [00000000 00000000]  
osfpal                         = [00000000 00000001]  
osfpal_func__bpt               = [00000000 00000080]  
osfpal_func__bugchk            = [00000000 00000081]  
osfpal_func__callsys           = [00000000 00000083]  
osfpal_func__cflush            = [00000000 00000001]  
osfpal_func__clrfen            = [00000000 000000AE]  
osfpal_func__cserve            = [00000000 00000009]  
osfpal_func__draina            = [00000000 00000002]  
osfpal_func__gentrap           = [00000000 000000AA]  
osfpal_func__halt              = [00000000 00000000]  
osfpal_func__imb               = [00000000 00000086]  
osfpal_func__rdmces            = [00000000 00000010]  
osfpal_func__rdps              = [00000000 00000036]  
osfpal_func__rdunique          = [00000000 0000009E]  
osfpal_func__rdusp             = [00000000 0000003A]  
osfpal_func__rdval             = [00000000 00000032]  
osfpal_func__retsys            = [00000000 0000003D]  
osfpal_func__rti               = [00000000 0000003F]  
osfpal_func__swpctx            = [00000000 00000030]  
osfpal_func__swpipl            = [00000000 00000035]  
osfpal_func__swppal            = [00000000 0000000A]  
osfpal_func__tbi               = [00000000 00000033]  
osfpal_func__urti              = [00000000 00000092]  
osfpal_func__whami             = [00000000 0000003C]  
osfpal_func__wrent             = [00000000 00000034]  
osfpal_func__wrfen             = [00000000 0000002B]  
osfpal_func__wripir            = [00000000 0000000D]  
osfpal_func__wrkgp             = [00000000 00000037]  
osfpal_func__wrmces            = [00000000 00000011]  
osfpal_func__wrperfmon         = [00000000 00000039]  
osfpal_func__wrunique          = [00000000 0000009F]  
osfpal_func__wrusp             = [00000000 00000038]  
osfpal_func__wrval             = [00000000 00000031]  
osfpal_func__wrvptptr          = [00000000 0000002D]  
osfpal_func__wtint             = [00000000 0000003E]  
osfpal_version_h               = [00000000 00020000]  
osfpal_version_l               = [00000000 000201A2]  
p20                            = [00000000 00000014]  
p21                            = [00000000 00000015]  
p22                            = [00000000 00000016]  
p23                            = [00000000 00000017]  
p4                             = [00000000 00000004]  
p5                             = [00000000 00000005]  
p6                             = [00000000 00000006]  
p7                             = [00000000 00000007]  
p_misc                         = [00000000 00000016]  
p_temp                         = [00000000 00000015]  
pa_bits                        = [00000000 0000002C]  
page_offset_size_bits          = [00000000 0000000D]  
page_size_bytes                = [00000000 00002000]  
pal__console_base              = [00000000 00010000]  
pal__emul_base                 = [00000000 000E0000]  
pal__enter_osf                 = [00000000 00310000]  
pal__impure_base               = [00000000 00001000]  
pal__impure_specific_size      = [00000000 00000400]  
pal__logout_base               = [00000000 00001800]  
pal__logout_specific_size      = [00000000 00000200]  
pal__osfpal_base               = [00000000 00200000]  
pal__pal_base                  = [00000000 00200000]  
pal__restore_fpcr              = [00000000 00004C8C]  Branch Displacement at 00004C88 in PSECT 0000
pal__restore_fpcr_done         = [00000000 00004C9C]  
pal__restore_state             = [00000000 00004C34]  Branch Displacement at 00006300 in PSECT 0000
                                                      Branch Displacement at 00007280 in PSECT 0000
                                                      Branch Displacement at 00007840 in PSECT 0000
pal__restore_state_smc_ok      = [00000000 00004DE0]  Branch Displacement at 00004DD4 in PSECT 0000
pal__save_shadow               = [00000000 000049B0]  
pal__save_state                = [00000000 000048B0]  Branch Displacement at 000060F8 in PSECT 0000
                                                      Branch Displacement at 00007180 in PSECT 0000
pal__temps_base                = [00000000 00001C00]  
pal__temps_specific_size       = [00000000 00000200]  
pal_type                       = [00000000 00000002]  
pc264_system_debug             = [00000000 00000000]  
pci_debug_io                   = [00000000 00000000]  
pcv_index                      = [00000000 00000125]  
pcv_jsr_arith_cm0              = [00000000 00000C2C]  
pcv_jsr_arith_cm0_inst         = [00000000 00000002]  
pcv_jsr_arith_fpcr0            = [00000000 00000C2A]  
pcv_jsr_arith_fpcr0_inst       = [00000000 00000002]  
pcv_jsr_bpt_cm0                = [00000000 00000C79]  
pcv_jsr_bpt_cm0_inst           = [00000000 00000002]  
pcv_jsr_callsys_cm0            = [00000000 00000C7F]  
pcv_jsr_callsys_cm0_inst       = [00000000 00000002]  
pcv_jsr_cbox0                  = [00000000 00001461]  
pcv_jsr_cbox0_inst             = [00000000 00000002]  
pcv_jsr_dfault_cm0             = [00000000 00000C22]  
pcv_jsr_dfault_cm0_inst        = [00000000 00000002]  
pcv_jsr_dpte_cm0               = [00000000 00000C20]  
pcv_jsr_dpte_cm0_inst          = [00000000 00000002]  
pcv_jsr_fen_cm0                = [00000000 00000C1C]  
pcv_jsr_fen_cm0_inst           = [00000000 00000002]  
pcv_jsr_iacv_cm0               = [00000000 00000C26]  
pcv_jsr_iacv_cm0_inst          = [00000000 00000002]  
pcv_jsr_index                  = [00000000 00000C9F]  
pcv_jsr_ipte_cm0               = [00000000 00000C28]  
pcv_jsr_ipte_cm0_inst          = [00000000 00000002]  
pcv_jsr_opcdec_cm0             = [00000000 00000C24]  
pcv_jsr_opcdec_cm0_inst        = [00000000 00000002]  
pcv_jsr_p_bpt0                 = [00000000 00000C77]  
pcv_jsr_p_bpt0_inst            = [00000000 00000002]  
pcv_jsr_p_bugchk0              = [00000000 00000C7B]  
pcv_jsr_p_bugchk0_inst         = [00000000 00000002]  
pcv_jsr_p_callsys0             = [00000000 00000C7D]  
pcv_jsr_p_callsys0_inst        = [00000000 00000002]  
pcv_jsr_p_cflush0              = [00000000 00000C34]  
pcv_jsr_p_cflush0_inst         = [00000000 00000002]  
pcv_jsr_p_clrfen0              = [00000000 00000C8B]  
pcv_jsr_p_clrfen0_inst         = [00000000 00000002]  
pcv_jsr_p_cserve0              = [00000000 00000C38]  
pcv_jsr_p_cserve0_inst         = [00000000 00000002]  
pcv_jsr_p_draina0              = [00000000 00000C36]  
pcv_jsr_p_draina0_inst         = [00000000 00000002]  
pcv_jsr_p_gentrap0             = [00000000 00000C89]  
pcv_jsr_p_gentrap0_inst        = [00000000 00000002]  
pcv_jsr_p_halt0                = [00000000 00000C32]  
pcv_jsr_p_halt0_inst           = [00000000 00000002]  
pcv_jsr_p_imb0                 = [00000000 00000C81]  
pcv_jsr_p_imb0_inst            = [00000000 00000002]  
pcv_jsr_p_rdmces0              = [00000000 00000C3E]  
pcv_jsr_p_rdmces0_inst         = [00000000 00000002]  
pcv_jsr_p_rdps0                = [00000000 00000C65]  
pcv_jsr_p_rdps0_inst           = [00000000 00000002]  
pcv_jsr_p_rdunique0            = [00000000 00000C85]  
pcv_jsr_p_rdunique0_inst       = [00000000 00000002]  
pcv_jsr_p_rdusp0               = [00000000 00000C6D]  
pcv_jsr_p_rdusp0_inst          = [00000000 00000002]  
pcv_jsr_p_rdval0               = [00000000 00000C4A]  
pcv_jsr_p_rdval0_inst          = [00000000 00000002]  
pcv_jsr_p_retsys0              = [00000000 00000C71]  
pcv_jsr_p_retsys0_inst         = [00000000 00000002]  
pcv_jsr_p_rti0                 = [00000000 00000C75]  
pcv_jsr_p_rti0_inst            = [00000000 00000002]  
pcv_jsr_p_swpctx0              = [00000000 00000C46]  
pcv_jsr_p_swpctx0_inst         = [00000000 00000002]  
pcv_jsr_p_swpipl0              = [00000000 00000C63]  
pcv_jsr_p_swpipl0_inst         = [00000000 00000002]  
pcv_jsr_p_swppal0              = [00000000 00000C3A]  
pcv_jsr_p_swppal0_inst         = [00000000 00000002]  
pcv_jsr_p_tbi0                 = [00000000 00000C4C]  
pcv_jsr_p_tbi0_inst            = [00000000 00000002]  
pcv_jsr_p_urti0                = [00000000 00000C83]  
pcv_jsr_p_urti0_inst           = [00000000 00000002]  
pcv_jsr_p_whami0               = [00000000 00000C6F]  
pcv_jsr_p_whami0_inst          = [00000000 00000002]  
pcv_jsr_p_wrent0               = [00000000 00000C55]  
pcv_jsr_p_wrent0_inst          = [00000000 00000002]  
pcv_jsr_p_wrfen0               = [00000000 00000C42]  
pcv_jsr_p_wrfen0_inst          = [00000000 00000002]  
pcv_jsr_p_wripir0              = [00000000 00000C3C]  
pcv_jsr_p_wripir0_inst         = [00000000 00000002]  
pcv_jsr_p_wrkgp0               = [00000000 00000C67]  
pcv_jsr_p_wrkgp0_inst          = [00000000 00000002]  
pcv_jsr_p_wrmces0              = [00000000 00000C40]  
pcv_jsr_p_wrmces0_inst         = [00000000 00000002]  
pcv_jsr_p_wrperfmon0           = [00000000 00000C6B]  
pcv_jsr_p_wrperfmon0_inst      = [00000000 00000002]  
pcv_jsr_p_wrunique0            = [00000000 00000C87]  
pcv_jsr_p_wrunique0_inst       = [00000000 00000002]  
pcv_jsr_p_wrusp0               = [00000000 00000C69]  
pcv_jsr_p_wrusp0_inst          = [00000000 00000002]  
pcv_jsr_p_wrval0               = [00000000 00000C48]  
pcv_jsr_p_wrval0_inst          = [00000000 00000002]  
pcv_jsr_p_wrvptptr0            = [00000000 00000C44]  
pcv_jsr_p_wrvptptr0_inst       = [00000000 00000002]  
pcv_jsr_p_wtint0               = [00000000 00000C73]  
pcv_jsr_p_wtint0_inst          = [00000000 00000002]  
pcv_jsr_post_cm0               = [00000000 00000C8F]  
pcv_jsr_post_cm0_inst          = [00000000 00000002]  
pcv_jsr_restore_fpcr0          = [00000000 00000C2F]  
pcv_jsr_restore_fpcr0_inst     = [00000000 00000002]  
pcv_jsr_restore_state0         = [00000000 00001401]  
pcv_jsr_restore_state0_inst    = [00000000 00000002]  
pcv_jsr_save_state0            = [00000000 000013FE]  
pcv_jsr_save_state0_inst       = [00000000 00000002]  
pcv_jsr_sbe_off0               = [00000000 00000C98]  
pcv_jsr_sbe_off0_inst          = [00000000 00000002]  
pcv_jsr_scrub0                 = [00000000 00001462]  
pcv_jsr_scrub0_inst            = [00000000 00000002]  
pcv_jsr_tbi0                   = [00000000 00000C4E]  
pcv_jsr_tbi0_inst              = [00000000 00000007]  
pcv_jsr_unalign_cm0            = [00000000 00000C1E]  
pcv_jsr_unalign_cm0_inst       = [00000000 00000002]  
pcv_jsr_wrent0                 = [00000000 00000C57]  
pcv_jsr_wrent0_inst            = [00000000 0000000C]  
pcv_rule                       = [00000000 000003EE]  
pic1                           = [00000000 00000020]  
pic2                           = [00000000 000000A0]  
post_cm_offset                 = [00000000 00000010]  
ppce_shift                     = [00000000 0000003D]  
pt__dbg0                       = [00000000 00000160]  
pt__dbg1                       = [00000000 00000168]  
pt__dbg2                       = [00000000 00000170]  
pt__dbg3                       = [00000000 00000178]  
pt__dbg4                       = [00000000 00000180]  
pt__dbg5                       = [00000000 00000188]  
pt__dbg6                       = [00000000 00000190]  
pt__dbg7                       = [00000000 00000198]  
pt__dtb_alt_mode               = [00000000 00000138]  
pt__ent_arith                  = [00000000 00000040]  
pt__ent_if                     = [00000000 00000048]  
pt__ent_int                    = [00000000 00000068]  
pt__ent_mm                     = [00000000 00000050]  
pt__ent_sys                    = [00000000 00000058]  
pt__ent_una                    = [00000000 00000060]  
pt__entint_dev                 = [00000000 00000070]  
pt__entint_ipi                 = [00000000 00000080]  
pt__entint_mchk                = [00000000 00000088]  
pt__entint_perf                = [00000000 00000090]  
pt__entint_rtc                 = [00000000 00000078]  
pt__fault_pc                   = [00000000 00000140]  
pt__halt_code                  = [00000000 000000F0]  
pt__i_stat_mask                = [00000000 00000158]  
pt__impure                     = [00000000 000000C0]  
pt__kgp                        = [00000000 00000028]  
pt__ksp                        = [00000000 00000018]  
pt__m_ctl                      = [00000000 000000E8]  
pt__new_a0                     = [00000000 000000A0]  
pt__new_a1                     = [00000000 000000A8]  
pt__new_a2                     = [00000000 000000B0]  
pt__p_misc                     = [00000000 000000C8]  
pt__pcbb                       = [00000000 00000010]  
pt__prbr                       = [00000000 00000030]  
pt__ptbr                       = [00000000 00000008]  
pt__r0                         = [00000000 000000F8]  
pt__r1                         = [00000000 00000100]  
pt__r2                         = [00000000 00000108]  
pt__r25                        = [00000000 00000128]  
pt__r26                        = [00000000 00000130]  
pt__r3                         = [00000000 00000110]  
pt__r8                         = [00000000 00000118]  
pt__r9                         = [00000000 00000120]  
pt__rsv_for_pal                = [00000000 00000150]  
pt__scbb                       = [00000000 00000148]  
pt__scc                        = [00000000 000000D8]  
pt__stack_pc                   = [00000000 00000098]  
pt__sysval                     = [00000000 000000B8]  
pt__trap                       = [00000000 00000038]  
pt__usp                        = [00000000 00000020]  
pt__va_ctl                     = [00000000 000000E0]  
pt__vptb                       = [00000000 00000000]  
pt__whami                      = [00000000 000000D0]  
pte_eco                        = [00000000 00000001]  
pvc$osf0$2                     = [00000000 00000160]  
pvc$osf1$2                     = [00000000 00004080]  
pvc$osf10$3106                 = [00000000 00004358]  
pvc$osf100$1007                = [00000000 000031D0]  
pvc$osf101$1007                = [00000000 00003210]  
pvc$osf102$1007                = [00000000 00003250]  
pvc$osf103$1007                = [00000000 00003290]  
pvc$osf104$1007                = [00000000 000032D0]  
pvc$osf105$1007                = [00000000 00003310]  
pvc$osf106$1007                = [00000000 00003350]  
pvc$osf107$1007                = [00000000 00003390]  
pvc$osf108$1007                = [00000000 000033D0]  
pvc$osf109$1007                = [00000000 00003410]  
pvc$osf11$3106.1               = [00000000 0000435C]  
pvc$osf110$1007                = [00000000 00003450]  
pvc$osf111$1007                = [00000000 00003490]  
pvc$osf112$1007                = [00000000 000034D0]  
pvc$osf113$1007                = [00000000 00003510]  
pvc$osf114$1007                = [00000000 00003550]  
pvc$osf115$1007                = [00000000 00003590]  
pvc$osf116$1007                = [00000000 000035D0]  
pvc$osf117$1007                = [00000000 00003610]  
pvc$osf118$1007                = [00000000 00003650]  
pvc$osf119$1007                = [00000000 00003690]  
pvc$osf12$3108                 = [00000000 00000440]  
pvc$osf120$1007                = [00000000 000036D0]  
pvc$osf121$1007                = [00000000 00003710]  
pvc$osf122$1007                = [00000000 00003750]  
pvc$osf123$1007                = [00000000 00003790]  
pvc$osf124$1007                = [00000000 000037D0]  
pvc$osf125$1007                = [00000000 00003810]  
pvc$osf126$1007                = [00000000 00003850]  
pvc$osf127$1007                = [00000000 00003890]  
pvc$osf128$1007                = [00000000 000038D0]  
pvc$osf129$1007                = [00000000 00003910]  
pvc$osf13$3108.1               = [00000000 00000444]  
pvc$osf130$1007                = [00000000 00003950]  
pvc$osf131$1007                = [00000000 00003990]  
pvc$osf132$1007                = [00000000 000039D0]  
pvc$osf133$1007                = [00000000 00003A10]  
pvc$osf134$1007                = [00000000 00003A50]  
pvc$osf135$1007                = [00000000 00003A90]  
pvc$osf136$1007                = [00000000 00003AD0]  
pvc$osf137$1007                = [00000000 00003B10]  
pvc$osf138$1007                = [00000000 00003B50]  
pvc$osf139$1007                = [00000000 00003B90]  
pvc$osf14$3110                 = [00000000 00004528]  
pvc$osf140$1007                = [00000000 00003BD0]  
pvc$osf141$1007                = [00000000 00003C10]  
pvc$osf142$1007                = [00000000 00003C50]  
pvc$osf143$1007                = [00000000 00003C90]  
pvc$osf144$1007                = [00000000 00003CD0]  
pvc$osf145$1007                = [00000000 00003D10]  
pvc$osf146$1007                = [00000000 00003D50]  
pvc$osf147$1007                = [00000000 00003D90]  
pvc$osf148$1007                = [00000000 00003DD0]  
pvc$osf149$1007                = [00000000 00003E10]  
pvc$osf15$3110.1               = [00000000 0000452C]  
pvc$osf150$1007                = [00000000 00003E50]  
pvc$osf151$1007                = [00000000 00003E90]  
pvc$osf152$1007                = [00000000 00003ED0]  
pvc$osf153$1007                = [00000000 00003F10]  
pvc$osf154$1007                = [00000000 00003F50]  
pvc$osf155$1007                = [00000000 00003F90]  
pvc$osf156$1007                = [00000000 00003FD0]  
pvc$osf157$3122                = [00000000 00002010]  
pvc$osf158$3122.1              = [00000000 00002014]  
pvc$osf159$3124                = [00000000 00002050]  
pvc$osf16$2                    = [00000000 000005C0]  
pvc$osf160$3124.1              = [00000000 00002054]  
pvc$osf161$3126                = [00000000 00002090]  
pvc$osf162$3126.1              = [00000000 00002094]  
pvc$osf163$3128                = [00000000 00002250]  
pvc$osf164$3128.1              = [00000000 00002254]  
pvc$osf165$3130                = [00000000 00002290]  
pvc$osf166$3130.1              = [00000000 00002294]  
pvc$osf167$1007                = [00000000 00005120]  
pvc$osf168$3132                = [00000000 00002350]  
pvc$osf169$3132.1              = [00000000 00002354]  
pvc$osf17$2                    = [00000000 00004650]  
pvc$osf170$3134                = [00000000 00002410]  
pvc$osf171$3134.1              = [00000000 00002414]  
pvc$osf172$3136                = [00000000 00002450]  
pvc$osf173$3136.1              = [00000000 00002454]  
pvc$osf174$3138                = [00000000 00002AD0]  
pvc$osf175$3138.1              = [00000000 00002AD4]  
pvc$osf176$3140                = [00000000 00002B50]  
pvc$osf177$3140.1              = [00000000 00002B54]  
pvc$osf178$3142                = [00000000 00002C10]  
pvc$osf179$3142.1              = [00000000 00002C14]  
pvc$osf18$3112                 = [00000000 00004694]  
pvc$osf180$3144                = [00000000 00002C50]  
pvc$osf181$3144.1              = [00000000 00002C54]  
pvc$osf182$3146                = [00000000 00002C90]  
pvc$osf183$3146.1              = [00000000 00002C94]  
pvc$osf184$3148                = [00000000 00002CD0]  
pvc$osf185$3148.1              = [00000000 00002CD4]  
pvc$osf186$3150                = [00000000 00005464]  
pvc$osf187$3150.1              = [00000000 00005480]  
pvc$osf188$3150.2              = [00000000 000054C0]  
pvc$osf189$3150.3              = [00000000 00005500]  
pvc$osf19$3112.1               = [00000000 00004698]  
pvc$osf190$3150.4              = [00000000 00005540]  
pvc$osf191$3150.5              = [00000000 00005580]  
pvc$osf192$3150.6              = [00000000 000055C0]  
pvc$osf193$3157                = [00000000 00002D10]  
pvc$osf194$3157.1              = [00000000 00002D14]  
pvc$osf195$3159                = [00000000 00005624]  
pvc$osf196$3159.1              = [00000000 00005640]  
pvc$osf197$3159.2              = [00000000 00005648]  
pvc$osf198$3159.3              = [00000000 00005650]  
pvc$osf199$3159.4              = [00000000 00005658]  
pvc$osf2$3100                  = [00000000 0000023C]  
pvc$osf20$3114                 = [00000000 00004728]  
pvc$osf200$3159.5              = [00000000 00005660]  
pvc$osf201$3159.6              = [00000000 00005668]  
pvc$osf202$3159.7              = [00000000 00005670]  
pvc$osf203$3159.8              = [00000000 00005678]  
pvc$osf204$3159.9              = [00000000 00005680]  
pvc$osf205$3159.10             = [00000000 00005688]  
pvc$osf206$3159.11             = [00000000 00005690]  
pvc$osf207$3171                = [00000000 00002D50]  
pvc$osf208$3171.1              = [00000000 00002D54]  
pvc$osf209$3173                = [00000000 00002D90]  
pvc$osf21$3114.1               = [00000000 0000472C]  
pvc$osf210$3173.1              = [00000000 00002D94]  
pvc$osf211$3175                = [00000000 00002DD0]  
pvc$osf212$3175.1              = [00000000 00002DD4]  
pvc$osf213$3177                = [00000000 00002E10]  
pvc$osf214$3177.1              = [00000000 00002E14]  
pvc$osf215$3179                = [00000000 00002E50]  
pvc$osf216$3179.1              = [00000000 00002E54]  
pvc$osf217$3181                = [00000000 00002E90]  
pvc$osf218$3181.1              = [00000000 00002E94]  
pvc$osf219$3183                = [00000000 00002F10]  
pvc$osf22$3116                 = [00000000 0000476C]  
pvc$osf220$3183.1              = [00000000 00002F14]  
pvc$osf221$3185                = [00000000 00002F50]  
pvc$osf222$3185.1              = [00000000 00002F54]  
pvc$osf223$3187                = [00000000 00002F90]  
pvc$osf224$3187.1              = [00000000 00002F94]  
pvc$osf225$3189                = [00000000 00002FD0]  
pvc$osf226$3189.1              = [00000000 00002FD4]  
pvc$osf227$3191                = [00000000 00003010]  
pvc$osf228$3191.1              = [00000000 00003014]  
pvc$osf229$3193                = [00000000 00005CF4]  
pvc$osf23$3116.1               = [00000000 00004770]  
pvc$osf230$3193.1              = [00000000 00005CF8]  
pvc$osf231$3195                = [00000000 00003050]  
pvc$osf232$3195.1              = [00000000 00003054]  
pvc$osf233$3197                = [00000000 000030D0]  
pvc$osf234$3197.1              = [00000000 000030D4]  
pvc$osf235$3199                = [00000000 00005DA8]  
pvc$osf236$3199.1              = [00000000 00005DAC]  
pvc$osf237$3201                = [00000000 00003190]  
pvc$osf238$3201.1              = [00000000 00003194]  
pvc$osf239$3203                = [00000000 00003490]  
pvc$osf24$1003                 = [00000000 00000780]  
pvc$osf240$3203.1              = [00000000 00003494]  
pvc$osf241$3205                = [00000000 00003790]  
pvc$osf242$3205.1              = [00000000 00003794]  
pvc$osf243$3207                = [00000000 000037D0]  
pvc$osf244$3207.1              = [00000000 000037D4]  
pvc$osf245$3209                = [00000000 00003A90]  
pvc$osf246$3209.1              = [00000000 00003A94]  
pvc$osf247$3211                = [00000000 00003B90]  
pvc$osf248$3211.1              = [00000000 00003B94]  
pvc$osf249$5118                = [00000000 000060F8]  
pvc$osf25$5118.1               = [00000000 00004C30]  
pvc$osf250$1007                = [00000000 0000619C]  
pvc$osf251$30                  = [00000000 00006218]  
pvc$osf252$1006                = [00000000 00006238]  
pvc$osf253$1006                = [00000000 000062F4]  
pvc$osf254$5121                = [00000000 00006300]  
pvc$osf255$35                  = [00000000 00006544]  
pvc$osf256$3215                = [00000000 000065F0]  
pvc$osf257$3215.1              = [00000000 000065F4]  
pvc$osf258$5217                = [00000000 00006680]  
pvc$osf259$2                   = [00000000 000067E0]  
pvc$osf26$3119                 = [00000000 00004C98]  
pvc$osf260$5218                = [00000000 000067F8]  
pvc$osf261$1006                = [00000000 00006874]  
pvc$osf262$5217                = [00000000 00006880]  
pvc$osf263$5218.1              = [00000000 00006890]  
pvc$osf264$35                  = [00000000 0000689C]  
pvc$osf265$2                   = [00000000 00006A00]  
pvc$osf266$5218                = [00000000 00006A18]  
pvc$osf267$5217                = [00000000 00006B40]  
pvc$osf268$35                  = [00000000 00006C5C]  
pvc$osf269$2                   = [00000000 00006E80]  
pvc$osf27$3119.1               = [00000000 00004C9C]  
pvc$osf270$1006                = [00000000 00006EF4]  
pvc$osf271$5217                = [00000000 00006F10]  
pvc$osf272$35                  = [00000000 00006F20]  
pvc$osf273$3224                = [00000000 00007018]  
pvc$osf274$3224.1              = [00000000 0000701C]  
pvc$osf275$1006                = [00000000 000070B4]  
pvc$osf276$5217.1              = [00000000 000070D4]  
pvc$osf277$1007                = [00000000 00007144]  
pvc$osf278$5118                = [00000000 00007180]  
pvc$osf279$1007                = [00000000 00007244]  
pvc$osf28$5121.1               = [00000000 00004F9C]  
pvc$osf280$5121                = [00000000 00007280]  
pvc$osf281$2                   = [00000000 000072B0]  
pvc$osf282$1007                = [00000000 000072E0]  
pvc$osf283$35                  = [00000000 000073A8]  
pvc$osf284$21                  = [00000000 000073C0]  
pvc$osf285$35                  = [00000000 000073F8]  
pvc$osf286$2                   = [00000000 00007500]  
pvc$osf287$5217                = [00000000 0000753C]  
pvc$osf288$35                  = [00000000 000075DC]  
pvc$osf289$2                   = [00000000 00007740]  
pvc$osf29$1007                 = [00000000 00002010]  
pvc$osf290$30                  = [00000000 000077D8]  
pvc$osf291$1006                = [00000000 000077F8]  
pvc$osf292$5121                = [00000000 00007840]  
pvc$osf3$3100.1                = [00000000 00000240]  
pvc$osf30$1007                 = [00000000 00002050]  
pvc$osf31$1007                 = [00000000 00002090]  
pvc$osf32$1007                 = [00000000 000020D0]  
pvc$osf33$1007                 = [00000000 00002110]  
pvc$osf34$1007                 = [00000000 00002150]  
pvc$osf35$1007                 = [00000000 00002190]  
pvc$osf36$1007                 = [00000000 000021D0]  
pvc$osf37$1007                 = [00000000 00002210]  
pvc$osf38$1007                 = [00000000 00002250]  
pvc$osf39$1007                 = [00000000 00002290]  
pvc$osf4$3102                  = [00000000 000040EC]  
pvc$osf40$1007                 = [00000000 000022D0]  
pvc$osf41$1007                 = [00000000 00002310]  
pvc$osf42$1007                 = [00000000 00002350]  
pvc$osf43$1007                 = [00000000 00002390]  
pvc$osf44$1007                 = [00000000 000023D0]  
pvc$osf45$1007                 = [00000000 00002410]  
pvc$osf46$1007                 = [00000000 00002450]  
pvc$osf47$1007                 = [00000000 00002490]  
pvc$osf48$1007                 = [00000000 000024D0]  
pvc$osf49$1007                 = [00000000 00002510]  
pvc$osf5$3102.1                = [00000000 000040F0]  
pvc$osf50$1007                 = [00000000 00002550]  
pvc$osf51$1007                 = [00000000 00002590]  
pvc$osf52$1007                 = [00000000 000025D0]  
pvc$osf53$1007                 = [00000000 00002610]  
pvc$osf54$1007                 = [00000000 00002650]  
pvc$osf55$1007                 = [00000000 00002690]  
pvc$osf56$1007                 = [00000000 000026D0]  
pvc$osf57$1007                 = [00000000 00002710]  
pvc$osf58$1007                 = [00000000 00002750]  
pvc$osf59$1007                 = [00000000 00002790]  
pvc$osf6$2                     = [00000000 00000340]  
pvc$osf60$1007                 = [00000000 000027D0]  
pvc$osf61$1007                 = [00000000 00002810]  
pvc$osf62$1007                 = [00000000 00002850]  
pvc$osf63$1007                 = [00000000 00002890]  
pvc$osf64$1007                 = [00000000 000028D0]  
pvc$osf65$1007                 = [00000000 00002910]  
pvc$osf66$1007                 = [00000000 00002950]  
pvc$osf67$1007                 = [00000000 00002990]  
pvc$osf68$1007                 = [00000000 000029D0]  
pvc$osf69$1007                 = [00000000 00002A10]  
pvc$osf7$3104                  = [00000000 000041E8]  
pvc$osf70$1007                 = [00000000 00002A50]  
pvc$osf71$1007                 = [00000000 00002A90]  
pvc$osf72$1007                 = [00000000 00002AD0]  
pvc$osf73$1007                 = [00000000 00002B10]  
pvc$osf74$1007                 = [00000000 00002B50]  
pvc$osf75$1007                 = [00000000 00002B90]  
pvc$osf76$1007                 = [00000000 00002BD0]  
pvc$osf77$1007                 = [00000000 00002C10]  
pvc$osf78$1007                 = [00000000 00002C50]  
pvc$osf79$1007                 = [00000000 00002C90]  
pvc$osf8$3104.1                = [00000000 000041EC]  
pvc$osf80$1007                 = [00000000 00002CD0]  
pvc$osf81$1007                 = [00000000 00002D10]  
pvc$osf82$1007                 = [00000000 00002D50]  
pvc$osf83$1007                 = [00000000 00002D90]  
pvc$osf84$1007                 = [00000000 00002DD0]  
pvc$osf85$1007                 = [00000000 00002E10]  
pvc$osf86$1007                 = [00000000 00002E50]  
pvc$osf87$1007                 = [00000000 00002E90]  
pvc$osf88$1007                 = [00000000 00002ED0]  
pvc$osf89$1007                 = [00000000 00002F10]  
pvc$osf9$2                     = [00000000 000042D0]  
pvc$osf90$1007                 = [00000000 00002F50]  
pvc$osf91$1007                 = [00000000 00002F90]  
pvc$osf92$1007                 = [00000000 00002FD0]  
pvc$osf93$1007                 = [00000000 00003010]  
pvc$osf94$1007                 = [00000000 00003050]  
pvc$osf95$1007                 = [00000000 00003090]  
pvc$osf96$1007                 = [00000000 000030D0]  
pvc$osf97$1007                 = [00000000 00003110]  
pvc$osf98$1007                 = [00000000 00003150]  
pvc$osf99$1007                 = [00000000 00003190]  
rbr                            = [00000000 00000000]  
reset_pio_retry_counter        = [00000000 00000000]  
restore_fpcr_offset            = [00000000 00000010]  
rtcd                           = [00000000 00000071]  
rtco                           = [00000000 00000070]  
s_bpt                          = [00000000 0000300C]  Branch Displacement at 00003008 in PSECT 0000
s_bugchk                       = [00000000 0000304C]  Branch Displacement at 00003048 in PSECT 0000
s_callsys                      = [00000000 000030CC]  Branch Displacement at 000030C8 in PSECT 0000
s_cflush                       = [00000000 0000204C]  Branch Displacement at 00002048 in PSECT 0000
s_clrfen                       = [00000000 00003B8C]  Branch Displacement at 00003B88 in PSECT 0000
s_cserve                       = [00000000 0000224C]  Branch Displacement at 00002248 in PSECT 0000
s_draina                       = [00000000 0000208C]  Branch Displacement at 00002088 in PSECT 0000
s_gentrap                      = [00000000 00003A8C]  Branch Displacement at 00003A88 in PSECT 0000
s_halt                         = [00000000 0000200C]  Branch Displacement at 00002008 in PSECT 0000
s_imb                          = [00000000 0000318C]  Branch Displacement at 00003188 in PSECT 0000
s_rdmces                       = [00000000 0000240C]  Branch Displacement at 00002408 in PSECT 0000
s_rdps                         = [00000000 00002D8C]  Branch Displacement at 00002D88 in PSECT 0000
s_rdunique                     = [00000000 0000378C]  Branch Displacement at 00003788 in PSECT 0000
s_rdusp                        = [00000000 00002E8C]  Branch Displacement at 00002E88 in PSECT 0000
s_rdval                        = [00000000 00002C8C]  Branch Displacement at 00002C88 in PSECT 0000
s_retsys                       = [00000000 00002F4C]  Branch Displacement at 00002F48 in PSECT 0000
s_rti                          = [00000000 00002FCC]  Branch Displacement at 00002FC8 in PSECT 0000
s_swpctx                       = [00000000 00002C0C]  Branch Displacement at 00002C08 in PSECT 0000
s_swpipl                       = [00000000 00002D4C]  Branch Displacement at 00002D48 in PSECT 0000
s_swppal                       = [00000000 0000228C]  Branch Displacement at 00002288 in PSECT 0000
s_tbi                          = [00000000 00002CCC]  Branch Displacement at 00002CC8 in PSECT 0000
s_urti                         = [00000000 0000348C]  Branch Displacement at 00003488 in PSECT 0000
s_whami                        = [00000000 00002F0C]  Branch Displacement at 00002F08 in PSECT 0000
s_wrent                        = [00000000 00002D0C]  Branch Displacement at 00002D08 in PSECT 0000
s_wrfen                        = [00000000 00002ACC]  Branch Displacement at 00002AC8 in PSECT 0000
s_wripir                       = [00000000 0000234C]  Branch Displacement at 00002348 in PSECT 0000
s_wrkgp                        = [00000000 00002DCC]  Branch Displacement at 00002DC8 in PSECT 0000
s_wrmces                       = [00000000 0000244C]  Branch Displacement at 00002448 in PSECT 0000
s_wrperfmon                    = [00000000 00002E4C]  Branch Displacement at 00002E48 in PSECT 0000
s_wrunique                     = [00000000 000037CC]  Branch Displacement at 000037C8 in PSECT 0000
s_wrusp                        = [00000000 00002E0C]  Branch Displacement at 00002E08 in PSECT 0000
s_wrval                        = [00000000 00002C4C]  Branch Displacement at 00002C48 in PSECT 0000
s_wrvptptr                     = [00000000 00002B4C]  Branch Displacement at 00002B48 in PSECT 0000
s_wtint                        = [00000000 00002F8C]  Branch Displacement at 00002F88 in PSECT 0000
sbe_off_offset                 = [00000000 00000014]  
scb__passive__rel              = [00000000 000006F0]  
scb__perfmon                   = [00000000 00000650]  
scb__proc_corr_err             = [00000000 00000630]  
scb__procmchk                  = [00000000 00000670]  
scb__pwrfail                   = [00000000 00000640]  
scb__sys_corr_err              = [00000000 00000620]  
scb__sys_event                 = [00000000 00000680]  
scb__sysmchk                   = [00000000 00000660]  
scr                            = [00000000 00000007]  
separate_page_tables           = [00000000 00000000]  
serial_irq_debug_mchk          = [00000000 00000000]  
smi_platform                   = [00000000 00000000]  
smp_platform                   = [00000000 00000001]  
spec_st_cons                   = [00000000 00000002]  
spinlock_hack                  = [00000000 00000000]  
srm_console                    = [00000000 00000000]  
srom                           = [00000000 00000001]  
srom2_data                     = [00000000 000074B8]  Branch Displacement at 000074AC in PSECT 0000
srom_debug_io                  = [00000000 00000000]  
srom_serial_io                 = [00000000 00000000]  
srom_serial_irq                = [00000000 00000000]  
swordfish_platform             = [00000000 00000001]  
sys__cbox                      = [00000000 00006FF0]  Branch Displacement at 00006680 in PSECT 0000
                                                      Branch Displacement at 00006880 in PSECT 0000
                                                      Branch Displacement at 00006B40 in PSECT 0000
                                                      Branch Displacement at 00006F10 in PSECT 0000
                                                      Branch Displacement at 0000753C in PSECT 0000
sys__cbox_cbox_done            = [00000000 000070C0]  Branch Displacement at 000070B0 in PSECT 0000
sys__cbox_over1                = [00000000 00007040]  Branch Displacement at 000070BC in PSECT 0000
sys__cbox_over2                = [00000000 00007050]  Branch Displacement at 00007048 in PSECT 0000
                                                      Branch Displacement at 000070A8 in PSECT 0000
sys__cbox_over3                = [00000000 00007060]  Branch Displacement at 00007058 in PSECT 0000
sys__cbox_over4                = [00000000 00007070]  Branch Displacement at 00007068 in PSECT 0000
sys__cbox_over5                = [00000000 00007080]  Branch Displacement at 00007078 in PSECT 0000
sys__cbox_over6                = [00000000 00007090]  Branch Displacement at 00007088 in PSECT 0000
sys__cbox_over7                = [00000000 000070A0]  Branch Displacement at 00007098 in PSECT 0000
sys__cbox_over8                = [00000000 000070B0]  Branch Displacement at 00007090 in PSECT 0000
sys__cbox_sbe_off              = [00000000 00007008]  Branch Displacement at 00007004 in PSECT 0000
sys__cbox_sbe_off_done         = [00000000 0000701C]  
sys__cbox_touch1               = [00000000 0000704C]  Branch Displacement at 0000701C in PSECT 0000
sys__cbox_touch2               = [00000000 0000705C]  Branch Displacement at 0000704C in PSECT 0000
sys__cbox_touch3               = [00000000 0000706C]  Branch Displacement at 0000705C in PSECT 0000
sys__cbox_touch4               = [00000000 0000707C]  Branch Displacement at 0000706C in PSECT 0000
sys__cbox_touch5               = [00000000 0000708C]  Branch Displacement at 0000707C in PSECT 0000
sys__cbox_touch6               = [00000000 0000709C]  Branch Displacement at 0000708C in PSECT 0000
sys__cbox_touch7               = [00000000 000070AC]  Branch Displacement at 0000709C in PSECT 0000
sys__cbox_touch8               = [00000000 000070BC]  Branch Displacement at 000070AC in PSECT 0000
sys__cflush                    = [00000000 00006000]  Branch Displacement at 00005000 in PSECT 0000
sys__cflush_do_outer           = [00000000 00006090]  Branch Displacement at 00006088 in PSECT 0000
sys__cflush_done               = [00000000 000060A0]  Branch Displacement at 00006090 in PSECT 0000
sys__cflush_inner_loop         = [00000000 00006024]  Branch Displacement at 0000608C in PSECT 0000
sys__cflush_interrupt          = [00000000 000060A4]  Branch Displacement at 00006084 in PSECT 0000
sys__cflush_outer_loop         = [00000000 0000601C]  Branch Displacement at 0000609C in PSECT 0000
sys__crd                       = [00000000 00006680]  Branch Displacement at 000047CC in PSECT 0000
sys__crd_addr                  = [00000000 0000673C]  Branch Displacement at 00006754 in PSECT 0000
sys__crd_addr_done             = [00000000 00006758]  Branch Displacement at 00006748 in PSECT 0000
sys__crd_arrange_cbox          = [00000000 00006704]  
sys__crd_do_scrub              = [00000000 000067B4]  Branch Displacement at 0000679C in PSECT 0000
                                                      Branch Displacement at 000067AC in PSECT 0000
sys__crd_header                = [00000000 000068B8]  Branch Displacement at 00006B1C in PSECT 0000
                                                      Branch Displacement at 00006FC0 in PSECT 0000
sys__crd_merge                 = [00000000 00006894]  Branch Displacement at 00006794 in PSECT 0000
                                                      Branch Displacement at 000067A4 in PSECT 0000
                                                      Branch Displacement at 000067B0 in PSECT 0000
                                                      Branch Displacement at 00006810 in PSECT 0000
sys__crd_scrub                 = [00000000 00006840]  Branch Displacement at 000067F8 in PSECT 0000
                                                      Branch Displacement at 00006A18 in PSECT 0000
sys__crd_scrub_done            = [00000000 00006878]  Branch Displacement at 00006870 in PSECT 0000
sys__crd_second                = [00000000 00006958]  Branch Displacement at 00006700 in PSECT 0000
sys__crd_skip_c_stat_check     = [00000000 000066B4]  Branch Displacement at 00006690 in PSECT 0000
                                                      Branch Displacement at 0000669C in PSECT 0000
sys__crd_skip_frame            = [00000000 00006964]  
sys__crd_skip_frame_addr       = [00000000 000069AC]  Branch Displacement at 000069C4 in PSECT 0000
sys__crd_skip_frame_addr_done  = [00000000 000069C8]  Branch Displacement at 000069B8 in PSECT 0000
sys__crd_skip_frame_do_scrub   = [00000000 000069A4]  Branch Displacement at 0000698C in PSECT 0000
                                                      Branch Displacement at 0000699C in PSECT 0000
sys__crd_skip_frame_merge      = [00000000 00006A34]  Branch Displacement at 000066A8 in PSECT 0000
                                                      Branch Displacement at 00006984 in PSECT 0000
                                                      Branch Displacement at 00006994 in PSECT 0000
                                                      Branch Displacement at 000069A0 in PSECT 0000
                                                      Branch Displacement at 00006A30 in PSECT 0000
sys__cserve                    = [00000000 000070D8]  Branch Displacement at 00005080 in PSECT 0000
sys__dc_tag_perr_while_in_pal  = [00000000 00006FDC]  Branch Displacement at 00006A80 in PSECT 0000
sys__deassert_interrupt        = [00000000 00006340]  Branch Displacement at 00005C70 in PSECT 0000
                                                      Branch Displacement at 00005CB8 in PSECT 0000
sys__double_machine_check      = [00000000 00006FC4]  Branch Displacement at 00000554 in PSECT 0000
                                                      Branch Displacement at 000064AC in PSECT 0000
                                                      Branch Displacement at 00006B74 in PSECT 0000
sys__enter_console             = [00000000 00007180]  Branch Displacement at 000048AC in PSECT 0000
                                                      Branch Displacement at 00007160 in PSECT 0000
                                                      Branch Displacement at 00007578 in PSECT 0000
                                                      Branch Displacement at 00007774 in PSECT 0000
sys__enter_console_get_pal_base = [00000000 00007220]  Branch Displacement at 0000721C in PSECT 0000
sys__exit_console              = [00000000 00007280]  Branch Displacement at 000070F4 in PSECT 0000
sys__int_check_clk             = [00000000 0000636C]  
sys__int_check_dev             = [00000000 00006384]  Branch Displacement at 0000637C in PSECT 0000
sys__int_check_err             = [00000000 00006390]  Branch Displacement at 00006388 in PSECT 0000
sys__int_check_hlt             = [00000000 0000639C]  
sys__int_check_ip              = [00000000 00006378]  Branch Displacement at 00006370 in PSECT 0000
sys__int_clk                   = [00000000 000063B0]  Branch Displacement at 00006374 in PSECT 0000
sys__int_dev                   = [00000000 00006464]  Branch Displacement at 0000638C in PSECT 0000
sys__int_err                   = [00000000 00006480]  Branch Displacement at 00006398 in PSECT 0000
sys__int_ip                    = [00000000 00006424]  Branch Displacement at 00006380 in PSECT 0000
sys__int_pal_err               = [00000000 000063A8]  Branch Displacement at 000063A0 in PSECT 0000
sys__int_platform_specific     = [00000000 0000639C]  Branch Displacement at 00006394 in PSECT 0000
sys__int_post                  = [00000000 000065CC]  Branch Displacement at 00006420 in PSECT 0000
                                                      Branch Displacement at 00006460 in PSECT 0000
                                                      Branch Displacement at 0000647C in PSECT 0000
                                                      Branch Displacement at 0000654C in PSECT 0000
                                                      Branch Displacement at 00006DB0 in PSECT 0000
sys__int_post_cm               = [00000000 000065E4]  Branch Displacement at 000065E0 in PSECT 0000
sys__int_post_cm_done          = [00000000 000065F4]  Branch Displacement at 000065D4 in PSECT 0000
sys__int_up2k_hlt              = [00000000 00006550]  Branch Displacement at 000063A4 in PSECT 0000
sys__interrupt_ei              = [00000000 0000636C]  Branch Displacement at 000047E0 in PSECT 0000
sys__interrupt_pc              = [00000000 00006514]  Branch Displacement at 000047D0 in PSECT 0000
sys__interrupt_sl              = [00000000 00006510]  Branch Displacement at 000047EC in PSECT 0000
sys__machine_check_while_in_pal = [00000000 00006FD0]  Branch Displacement at 000064B0 in PSECT 0000
                                                      Branch Displacement at 00006B78 in PSECT 0000
sys__mchk                      = [00000000 00006B40]  Branch Displacement at 0000051C in PSECT 0000
sys__mchk__double_bit          = [00000000 00006B44]  Branch Displacement at 000066B0 in PSECT 0000
sys__mchk_addr                 = [00000000 00006BE0]  Branch Displacement at 00006BF8 in PSECT 0000
sys__mchk_addr_done            = [00000000 00006BFC]  Branch Displacement at 00006BEC in PSECT 0000
sys__mchk_arrange_cbox         = [00000000 00006BA8]  
sys__mchk_clear_crd            = [00000000 00006F0C]  
sys__mchk_dc_tag_perr          = [00000000 00006A80]  Branch Displacement at 000044C4 in PSECT 0000
sys__mchk_double               = [00000000 00006C50]  Branch Displacement at 00006C44 in PSECT 0000
sys__mchk_header               = [00000000 00006C60]  Branch Displacement at 00004620 in PSECT 0000
                                                      Branch Displacement at 00006500 in PSECT 0000
                                                      Branch Displacement at 000065C8 in PSECT 0000
                                                      Branch Displacement at 00006E24 in PSECT 0000
                                                      Branch Displacement at 00006E40 in PSECT 0000
sys__mchk_istream              = [00000000 00006DB4]  Branch Displacement at 00006C4C in PSECT 0000
sys__mchk_istream_check_cmov   = [00000000 00006DC0]  
sys__mchk_istream_cmov_err     = [00000000 00006E0C]  Branch Displacement at 00006E04 in PSECT 0000
sys__mchk_istream_cmov_fault   = [00000000 00006E28]  Branch Displacement at 000042A0 in PSECT 0000
                                                      Branch Displacement at 0000444C in PSECT 0000
sys__mchk_istream_not_cmov     = [00000000 00006E44]  Branch Displacement at 00006E08 in PSECT 0000
sys__mchk_post                 = [00000000 00006D78]  Branch Displacement at 00006954 in PSECT 0000
sys__mchk_registers            = [00000000 00006C80]  
sys__mchk_scrub                = [00000000 00006EC0]  Branch Displacement at 00006E94 in PSECT 0000
sys__mchk_scrub_done           = [00000000 00006EF8]  Branch Displacement at 00006EF0 in PSECT 0000
sys__mchk_to_crd               = [00000000 00006F3C]  
sys__perr_dis                  = [00000000 00006B30]  Branch Displacement at 00006A8C in PSECT 0000
sys__perr_second               = [00000000 00006B20]  Branch Displacement at 00006AE8 in PSECT 0000
                                                      Branch Displacement at 00006F78 in PSECT 0000
sys__perr_skip_frame           = [00000000 00006B2C]  Branch Displacement at 00006AA0 in PSECT 0000
sys__reset                     = [00000000 00007300]  Branch Displacement at 00000000 in PSECT 0000
sys__reset_check_switch        = [00000000 0000757C]  Branch Displacement at 00007314 in PSECT 0000
sys__reset_init                = [00000000 00007330]  Branch Displacement at 00007324 in PSECT 0000
sys__reset_noswitch            = [00000000 0000776C]  Branch Displacement at 00007580 in PSECT 0000
sys__switch_base               = [00000000 00007590]  
sys__switch_get_pal_base       = [00000000 00007594]  Branch Displacement at 00007590 in PSECT 0000
sys__switch_unknown            = [00000000 00007158]  
sys__wakeup                    = [00000000 00007780]  
sys__wakeup_bc_on              = [00000000 000077D0]  Branch Displacement at 00007804 in PSECT 0000
sys__wakeup_bc_on_done         = [00000000 000077EC]  Branch Displacement at 000077E0 in PSECT 0000
sys__wakeup_bc_on_loop         = [00000000 000077D8]  Branch Displacement at 000077E8 in PSECT 0000
sys__wakeup_get_ticks          = [00000000 00007818]  
sys__wakeup_probe              = [00000000 00007808]  Branch Displacement at 000077F4 in PSECT 0000
sys__wakeup_touch1             = [00000000 000077C0]  
sys__wakeup_touch2             = [00000000 00007800]  Branch Displacement at 000077C4 in PSECT 0000
sys__wakeup_write_many_chain   = [00000000 00007780]  
sys__wripir                    = [00000000 000060C0]  Branch Displacement at 00005140 in PSECT 0000
sys__wtint                     = [00000000 000060F4]  Branch Displacement at 00005BC0 in PSECT 0000
sys__wtint_addr                = [00000000 00006288]  Branch Displacement at 00006254 in PSECT 0000
sys__wtint_bc_off              = [00000000 00006210]  Branch Displacement at 000061F8 in PSECT 0000
sys__wtint_bc_off_done         = [00000000 0000622C]  Branch Displacement at 00006220 in PSECT 0000
sys__wtint_bc_off_loop         = [00000000 00006218]  Branch Displacement at 00006228 in PSECT 0000
sys__wtint_clocks              = [00000000 00006248]  Branch Displacement at 00006234 in PSECT 0000
sys__wtint_inner_loop          = [00000000 000061E4]  Branch Displacement at 000061E0 in PSECT 0000
                                                      Branch Displacement at 000061F4 in PSECT 0000
sys__wtint_loop_test           = [00000000 000061F8]  Branch Displacement at 000061F0 in PSECT 0000
sys__wtint_noticks             = [00000000 00006308]  Branch Displacement at 000060F4 in PSECT 0000
                                                      Branch Displacement at 00006304 in PSECT 0000
sys__wtint_outer_loop          = [00000000 000061D0]  Branch Displacement at 000061FC in PSECT 0000
sys__wtint_punt                = [00000000 00006300]  Branch Displacement at 000061DC in PSECT 0000
sys__wtint_sleep               = [00000000 000062C8]  Branch Displacement at 000062B4 in PSECT 0000
sys__wtint_start_flush         = [00000000 000061C8]  Branch Displacement at 000062C4 in PSECT 0000
sys__wtint_touch0              = [00000000 000061C0]  
sys__wtint_touch1              = [00000000 00006200]  Branch Displacement at 000061C4 in PSECT 0000
sys__wtint_touch2              = [00000000 00006240]  Branch Displacement at 00006204 in PSECT 0000
sys__wtint_touch3              = [00000000 00006280]  Branch Displacement at 00006244 in PSECT 0000
sys__wtint_touch4              = [00000000 000062C0]  Branch Displacement at 00006284 in PSECT 0000
t                              = [00000000 0000001F]  
tb_mb_en                       = [00000000 00000000]  
tbi_function_power             = [00000000 00000006]  
tbi_tbl                        = [00000000 00005480]  
thr                            = [00000000 00000000]  
tinosa_platform                = [00000000 00000000]  
tl6_ibox_timeout               = [00000000 00000000]  
tpcv_jsr_index                 = [00000000 00000C9E]  
trap__arith                    = [00000000 00000600]  
trap__arith_cm                 = [00000000 00004760]  Branch Displacement at 0000475C in PSECT 0000
trap__arith_cont               = [00000000 00004700]  Branch Displacement at 00000634 in PSECT 0000
trap__arith_finish             = [00000000 0000472C]  
trap__arith_fpcr               = [00000000 0000471C]  Branch Displacement at 00004718 in PSECT 0000
trap__arith_int                = [00000000 00000628]  Branch Displacement at 00000620 in PSECT 0000
trap__arith_post               = [00000000 0000473C]  Branch Displacement at 00000630 in PSECT 0000
                                                      Branch Displacement at 00004734 in PSECT 0000
trap__arith_stack              = [00000000 00004770]  Branch Displacement at 0000474C in PSECT 0000
trap__bpt_cm                   = [00000000 00005CE8]  Branch Displacement at 00005CE4 in PSECT 0000
trap__bpt_stack                = [00000000 00005CF8]  Branch Displacement at 00005CD4 in PSECT 0000
trap__callsys_cm               = [00000000 00005D9C]  Branch Displacement at 00005D98 in PSECT 0000
trap__callsys_cm_done          = [00000000 00005DAC]  
trap__conditional_flags        = [00000000 00000010]  
trap__d1to1                    = [00000000 000042BC]  Branch Displacement at 00000324 in PSECT 0000
trap__dc_tag_perr              = [00000000 00004470]  Branch Displacement at 00000390 in PSECT 0000
trap__dfault                   = [00000000 00000380]  
trap__dfault_check             = [00000000 00004318]  Branch Displacement at 00004300 in PSECT 0000
trap__dfault_cm                = [00000000 0000434C]  Branch Displacement at 00004348 in PSECT 0000
trap__dfault_cont              = [00000000 00004300]  Branch Displacement at 00000398 in PSECT 0000
trap__dfault_dismiss           = [00000000 000043B4]  Branch Displacement at 00004310 in PSECT 0000
                                                      Branch Displacement at 00004324 in PSECT 0000
trap__dfault_in_pal            = [00000000 000043BC]  Branch Displacement at 00000394 in PSECT 0000
trap__dfault_in_pal_istream_mchk = [00000000 00004444]  Branch Displacement at 00004418 in PSECT 0000
trap__dfault_in_pal_urti       = [00000000 00004430]  Branch Displacement at 0000440C in PSECT 0000
trap__dfault_no_dismiss        = [00000000 00004328]  Branch Displacement at 00004314 in PSECT 0000
                                                      Branch Displacement at 00004440 in PSECT 0000
trap__dfault_stack             = [00000000 0000435C]  Branch Displacement at 00004338 in PSECT 0000
trap__double3_1to1             = [00000000 0000403C]  Branch Displacement at 00000120 in PSECT 0000
                                                      Branch Displacement at 000001A0 in PSECT 0000
trap__double3_pte_inv          = [00000000 00004020]  Branch Displacement at 0000013C in PSECT 0000
                                                      Branch Displacement at 00000150 in PSECT 0000
                                                      Branch Displacement at 000001BC in PSECT 0000
                                                      Branch Displacement at 000001D8 in PSECT 0000
                                                      Branch Displacement at 000001EC in PSECT 0000
trap__dtbm_double_3            = [00000000 00000100]  
trap__dtbm_double_3_cont       = [00000000 00004000]  Branch Displacement at 00000178 in PSECT 0000
trap__dtbm_double_4            = [00000000 00000180]  
trap__dtbm_double_4_cont       = [00000000 00004080]  Branch Displacement at 000001F4 in PSECT 0000
trap__dtbm_single              = [00000000 00000300]  
trap__dtbm_single_cont         = [00000000 00004140]  Branch Displacement at 0000035C in PSECT 0000
trap__dtbm_single_gh_mb_io     = [00000000 00004140]  Branch Displacement at 00000350 in PSECT 0000
trap__dtbm_single_hack1        = [00000000 00000354]  
trap__dtbm_single_hack2        = [00000000 00004150]  
trap__dtbm_single_hack3        = [00000000 00004170]  
trap__dtbm_single_io           = [00000000 00004178]  Branch Displacement at 00004158 in PSECT 0000
trap__dtbm_single_mb_io        = [00000000 00004158]  Branch Displacement at 00004144 in PSECT 0000
trap__dtbm_single_vpte         = [00000000 00000320]  
trap__emul_fen                 = [00000000 00000210]  
trap__fen                      = [00000000 00000200]  
trap__fen_cm                   = [00000000 00000230]  Branch Displacement at 0000022C in PSECT 0000
trap__fen_stack                = [00000000 00000240]  Branch Displacement at 0000021C in PSECT 0000
trap__foe                      = [00000000 0000465C]  Branch Displacement at 000005AC in PSECT 0000
trap__halt_after_fix           = [00000000 00004840]  
trap__i1to1                    = [00000000 00004640]  Branch Displacement at 00000598 in PSECT 0000
trap__iacv                     = [00000000 00000480]  
trap__iacv_bad_iva             = [00000000 000004D8]  Branch Displacement at 00000498 in PSECT 0000
trap__iacv_cm                  = [00000000 0000451C]  Branch Displacement at 00004518 in PSECT 0000
trap__iacv_cont                = [00000000 00004500]  Branch Displacement at 000004E8 in PSECT 0000
trap__iacv_pal                 = [00000000 00004568]  Branch Displacement at 00000490 in PSECT 0000
trap__iacv_pc_ovfl             = [00000000 000004A8]  Branch Displacement at 000004A0 in PSECT 0000
trap__iacv_post                = [00000000 00004500]  Branch Displacement at 000004A4 in PSECT 0000
                                                      Branch Displacement at 000004B4 in PSECT 0000
                                                      Branch Displacement at 000004C4 in PSECT 0000
                                                      Branch Displacement at 000004D4 in PSECT 0000
                                                      Branch Displacement at 000004E4 in PSECT 0000
trap__iacv_stack               = [00000000 0000452C]  Branch Displacement at 00004508 in PSECT 0000
trap__iacv_under               = [00000000 000004C8]  Branch Displacement at 000004BC in PSECT 0000
trap__iacv_va_48               = [00000000 000004B8]  Branch Displacement at 000004B0 in PSECT 0000
trap__interrupt                = [00000000 00000680]  
trap__interrupt_cont           = [00000000 000047C0]  Branch Displacement at 00000698 in PSECT 0000
trap__interrupt_dismiss        = [00000000 000047F0]  Branch Displacement at 000047E8 in PSECT 0000
                                                      Branch Displacement at 00006B30 in PSECT 0000
trap__interrupt_passive        = [00000000 000047F0]  
trap__interrupt_sl             = [00000000 000047E4]  Branch Displacement at 000047DC in PSECT 0000
trap__invalid_dpte             = [00000000 00004180]  Branch Displacement at 00000328 in PSECT 0000
trap__invalid_dpte_check       = [00000000 000041A8]  Branch Displacement at 00004190 in PSECT 0000
trap__invalid_dpte_cm          = [00000000 000041DC]  Branch Displacement at 000041D8 in PSECT 0000
trap__invalid_dpte_dismiss     = [00000000 0000424C]  Branch Displacement at 000041A0 in PSECT 0000
                                                      Branch Displacement at 000041B4 in PSECT 0000
trap__invalid_dpte_get         = [00000000 00004188]  Branch Displacement at 00004180 in PSECT 0000
trap__invalid_dpte_have        = [00000000 0000418C]  Branch Displacement at 00004184 in PSECT 0000
trap__invalid_dpte_no_dismiss  = [00000000 000041B8]  Branch Displacement at 000041A4 in PSECT 0000
                                                      Branch Displacement at 00004294 in PSECT 0000
trap__invalid_dpte_stack       = [00000000 000041EC]  Branch Displacement at 000041C4 in PSECT 0000
trap__invalid_ipte             = [00000000 00004664]  Branch Displacement at 000005A8 in PSECT 0000
trap__invalid_ipte_cm          = [00000000 00004688]  Branch Displacement at 00004684 in PSECT 0000
trap__invalid_ipte_merge       = [00000000 00004668]  Branch Displacement at 00004660 in PSECT 0000
trap__invalid_ipte_stack       = [00000000 00004698]  Branch Displacement at 00004670 in PSECT 0000
trap__itb_miss                 = [00000000 00000580]  
trap__itb_miss_cont            = [00000000 00004640]  Branch Displacement at 000005D0 in PSECT 0000
trap__itb_miss_vpte            = [00000000 00000590]  
trap__ksp_invalid              = [00000000 000042A4]  Branch Displacement at 00004280 in PSECT 0000
                                                      Branch Displacement at 0000441C in PSECT 0000
trap__ldvpte_dfault            = [00000000 00004450]  Branch Displacement at 000043F8 in PSECT 0000
                                                      Branch Displacement at 00004400 in PSECT 0000
trap__lock_cell                = [00000000 00000018]  
trap__mchk                     = [00000000 00000500]  
trap__mchk_cont                = [00000000 000045C0]  Branch Displacement at 00000558 in PSECT 0000
trap__mchk_mb                  = [00000000 00000514]  Branch Displacement at 00000510 in PSECT 0000
trap__mt_fpcr                  = [00000000 00000700]  
trap__opcdec                   = [00000000 00000400]  
trap__opcdec_call_pal          = [00000000 00000418]  
trap__opcdec_cm                = [00000000 00000434]  Branch Displacement at 00000430 in PSECT 0000
trap__opcdec_stack             = [00000000 00000444]  Branch Displacement at 00000420 in PSECT 0000
trap__pal_base                 = [00000000 00000000]  
trap__pal_bugcheck             = [00000000 00000530]  Branch Displacement at 00000528 in PSECT 0000
                                                      Branch Displacement at 000063AC in PSECT 0000
trap__pal_exc_bugcheck         = [00000000 0000052C]  Branch Displacement at 00000210 in PSECT 0000
                                                      Branch Displacement at 00000290 in PSECT 0000
                                                      Branch Displacement at 00000410 in PSECT 0000
                                                      Branch Displacement at 00000614 in PSECT 0000
trap__pal_os_bugcheck          = [00000000 00000520]  Branch Displacement at 00005D88 in PSECT 0000
                                                      Branch Displacement at 00005E54 in PSECT 0000
trap__powerup                  = [00000000 00000000]  
trap__start                    = [00000000 00000000]  
trap__stc_hack                 = [00000000 00004420]  Branch Displacement at 000043D8 in PSECT 0000
                                                      Branch Displacement at 000043E4 in PSECT 0000
                                                      Branch Displacement at 000043F0 in PSECT 0000
trap__tnv_in_pal               = [00000000 00004254]  Branch Displacement at 0000418C in PSECT 0000
trap__tnv_in_pal_istream_mchk  = [00000000 00004298]  Branch Displacement at 0000427C in PSECT 0000
trap__tnv_in_pal_urti          = [00000000 00004284]  Branch Displacement at 00004270 in PSECT 0000
trap__unalign                  = [00000000 00000280]  
trap__unalign_cm               = [00000000 000040E0]  Branch Displacement at 000040DC in PSECT 0000
trap__unalign_cont             = [00000000 000040C0]  Branch Displacement at 000002B4 in PSECT 0000
trap__unalign_nodismiss        = [00000000 000040C0]  Branch Displacement at 000002A0 in PSECT 0000
                                                      Branch Displacement at 000002A8 in PSECT 0000
trap__unalign_stack            = [00000000 000040F0]  Branch Displacement at 000040CC in PSECT 0000
trap__update_pcb_and_halt      = [00000000 00004880]  Branch Displacement at 000042B8 in PSECT 0000
                                                      Branch Displacement at 00004460 in PSECT 0000
                                                      Branch Displacement at 00004580 in PSECT 0000
                                                      Branch Displacement at 00004874 in PSECT 0000
                                                      Branch Displacement at 00004FCC in PSECT 0000
                                                      Branch Displacement at 00006FCC in PSECT 0000
                                                      Branch Displacement at 00006FD8 in PSECT 0000
                                                      Branch Displacement at 00006FE4 in PSECT 0000
trap__update_pcb_and_halt_cpc  = [00000000 0000489C]  Branch Displacement at 00004890 in PSECT 0000
trap__update_pcb_from_user     = [00000000 00004894]  Branch Displacement at 00004888 in PSECT 0000
trap__wakeup                   = [00000000 00000780]  
unalign_cm_offset              = [00000000 00000010]  
va_48                          = [00000000 00000000]  
va_bits_3                      = [00000000 0000002B]  
va_bits_4                      = [00000000 00000030]  
vmaj                           = [00000000 00000001]  
vmin                           = [00000000 000000A2]  
vmod                           = [00000000 00000000]  
vms_pal                        = [00000000 00000001]  
vvar                           = [00000000 00000037]  
wrent_tbl                      = [00000000 00005640]  


PSECT name            Alignment  Bytes     Base address       
0000                  2             30812  [00000000 00000000]
